{"version":3,"file":"612.5f5efe45c362ef7fd524.js","mappings":"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","sources":["webpack://mytonwallet/./node_modules/@ledgerhq/devices/lib-es/hid-framing.js","webpack://mytonwallet/./node_modules/@ledgerhq/devices/lib-es/index.js","webpack://mytonwallet/./node_modules/@ledgerhq/errors/lib-es/helpers.js","webpack://mytonwallet/./node_modules/@ledgerhq/errors/lib-es/index.js","webpack://mytonwallet/./node_modules/@ledgerhq/hw-transport-webhid/lib-es/TransportWebHID.js","webpack://mytonwallet/./node_modules/@ledgerhq/hw-transport-webusb/lib-es/webusb.js","webpack://mytonwallet/./node_modules/@ledgerhq/hw-transport-webusb/lib-es/TransportWebUSB.js","webpack://mytonwallet/./node_modules/@ledgerhq/hw-transport/lib-es/Transport.js","webpack://mytonwallet/./node_modules/@ledgerhq/logs/lib-es/index.js","webpack://mytonwallet/./node_modules/@ton-community/ton-ledger/dist/TonTransport.js","webpack://mytonwallet/./node_modules/@ton-community/ton-ledger/dist/index.js","webpack://mytonwallet/./node_modules/@ton-community/ton-ledger/dist/utils/getInit.js","webpack://mytonwallet/./node_modules/@ton-community/ton-ledger/dist/utils/ledgerWriter.js","webpack://mytonwallet/./node_modules/@ton/core/dist/boc/BitReader.js","webpack://mytonwallet/./node_modules/@ton/core/dist/dict/Dictionary.js","webpack://mytonwallet/./node_modules/@ton/core/dist/types/SendMode.js","webpack://mytonwallet/./node_modules/@ton/crypto/dist/index.js","webpack://mytonwallet/./node_modules/semver/classes/comparator.js","webpack://mytonwallet/./node_modules/semver/classes/range.js","webpack://mytonwallet/./node_modules/semver/classes/semver.js","webpack://mytonwallet/./node_modules/semver/functions/clean.js","webpack://mytonwallet/./node_modules/semver/functions/cmp.js","webpack://mytonwallet/./node_modules/semver/functions/coerce.js","webpack://mytonwallet/./node_modules/semver/functions/compare-build.js","webpack://mytonwallet/./node_modules/semver/functions/compare-loose.js","webpack://mytonwallet/./node_modules/semver/functions/compare.js","webpack://mytonwallet/./node_modules/semver/functions/diff.js","webpack://mytonwallet/./node_modules/semver/functions/eq.js","webpack://mytonwallet/./node_modules/semver/functions/gt.js","webpack://mytonwallet/./node_modules/semver/functions/gte.js","webpack://mytonwallet/./node_modules/semver/functions/inc.js","webpack://mytonwallet/./node_modules/semver/functions/lt.js","webpack://mytonwallet/./node_modules/semver/functions/lte.js","webpack://mytonwallet/./node_modules/semver/functions/major.js","webpack://mytonwallet/./node_modules/semver/functions/minor.js","webpack://mytonwallet/./node_modules/semver/functions/neq.js","webpack://mytonwallet/./node_modules/semver/functions/parse.js","webpack://mytonwallet/./node_modules/semver/functions/patch.js","webpack://mytonwallet/./node_modules/semver/functions/prerelease.js","webpack://mytonwallet/./node_modules/semver/functions/rcompare.js","webpack://mytonwallet/./node_modules/semver/functions/rsort.js","webpack://mytonwallet/./node_modules/semver/functions/satisfies.js","webpack://mytonwallet/./node_modules/semver/functions/sort.js","webpack://mytonwallet/./node_modules/semver/functions/valid.js","webpack://mytonwallet/./node_modules/semver/index.js","webpack://mytonwallet/./node_modules/semver/internal/constants.js","webpack://mytonwallet/./node_modules/semver/internal/debug.js","webpack://mytonwallet/./node_modules/semver/internal/identifiers.js","webpack://mytonwallet/./node_modules/semver/internal/lrucache.js","webpack://mytonwallet/./node_modules/semver/internal/parse-options.js","webpack://mytonwallet/./node_modules/semver/internal/re.js","webpack://mytonwallet/./node_modules/semver/ranges/gtr.js","webpack://mytonwallet/./node_modules/semver/ranges/intersects.js","webpack://mytonwallet/./node_modules/semver/ranges/ltr.js","webpack://mytonwallet/./node_modules/semver/ranges/max-satisfying.js","webpack://mytonwallet/./node_modules/semver/ranges/min-satisfying.js","webpack://mytonwallet/./node_modules/semver/ranges/min-version.js","webpack://mytonwallet/./node_modules/semver/ranges/outside.js","webpack://mytonwallet/./node_modules/semver/ranges/simplify.js","webpack://mytonwallet/./node_modules/semver/ranges/subset.js","webpack://mytonwallet/./node_modules/semver/ranges/to-comparators.js","webpack://mytonwallet/./node_modules/semver/ranges/valid.js","webpack://mytonwallet/./node_modules/teslabot/dist/index.js","webpack://mytonwallet/./node_modules/teslabot/dist/iterator/createAsyncIterator.js","webpack://mytonwallet/./node_modules/teslabot/dist/sync/AsyncLock.js","webpack://mytonwallet/./node_modules/teslabot/dist/sync/ConcurrencyPool.js","webpack://mytonwallet/./node_modules/teslabot/dist/sync/InvalidateSync.js","webpack://mytonwallet/./node_modules/teslabot/dist/sync/Queue.js","webpack://mytonwallet/./node_modules/teslabot/dist/sync/SyncValue.js","webpack://mytonwallet/./node_modules/teslabot/dist/timer/asyncTimeout.js","webpack://mytonwallet/./node_modules/teslabot/dist/timer/backoff.js","webpack://mytonwallet/./node_modules/teslabot/dist/timer/delay.js","webpack://mytonwallet/./node_modules/tweetnacl/nacl-fast.js"],"sourcesContent":["import { TransportError } from \"@ledgerhq/errors\";\nconst Tag = 0x05;\nfunction asUInt16BE(value) {\n    const b = Buffer.alloc(2);\n    b.writeUInt16BE(value, 0);\n    return b;\n}\nconst initialAcc = {\n    data: Buffer.alloc(0),\n    dataLength: 0,\n    sequence: 0,\n};\n/**\n * Object to handle HID frames (encoding and decoding)\n *\n * @param channel\n * @param packetSize The HID protocol packet size in bytes (usually 64)\n */\nconst createHIDframing = (channel, packetSize) => {\n    return {\n        /**\n         * Frames/encodes an APDU message into HID USB packets/frames\n         *\n         * @param apdu The APDU message to send, in a Buffer containing [cla, ins, p1, p2, data length, data(if not empty)]\n         * @returns an array of HID USB frames ready to be sent\n         */\n        makeBlocks(apdu) {\n            // Encodes the APDU length in 2 bytes before the APDU itself.\n            // The length is measured as the number of bytes.\n            // As the size of the APDU `data` should have been added in 1 byte just before `data`,\n            // the minimum size of an APDU is 5 bytes.\n            let data = Buffer.concat([asUInt16BE(apdu.length), apdu]);\n            const blockSize = packetSize - 5;\n            const nbBlocks = Math.ceil(data.length / blockSize);\n            // Fills data with 0-padding\n            data = Buffer.concat([data, Buffer.alloc(nbBlocks * blockSize - data.length + 1).fill(0)]);\n            const blocks = [];\n            for (let i = 0; i < nbBlocks; i++) {\n                const head = Buffer.alloc(5);\n                head.writeUInt16BE(channel, 0);\n                head.writeUInt8(Tag, 2);\n                head.writeUInt16BE(i, 3);\n                // `slice` and not `subarray`: this might not be a Node Buffer, but probably only a Uint8Array\n                const chunk = data.slice(i * blockSize, (i + 1) * blockSize);\n                blocks.push(Buffer.concat([head, chunk]));\n            }\n            return blocks;\n        },\n        /**\n         * Reduces HID USB packets/frames to one response.\n         *\n         * @param acc The value resulting from (accumulating) the previous call of reduceResponse.\n         *   On first call initialized to `initialAcc`. The accumulator enables handling multi-frames messages.\n         * @param chunk Current chunk to reduce into accumulator\n         * @returns An accumulator value updated with the current chunk\n         */\n        reduceResponse(acc, chunk) {\n            let { data, dataLength, sequence } = acc || initialAcc;\n            if (chunk.readUInt16BE(0) !== channel) {\n                throw new TransportError(\"Invalid channel\", \"InvalidChannel\");\n            }\n            if (chunk.readUInt8(2) !== Tag) {\n                throw new TransportError(\"Invalid tag\", \"InvalidTag\");\n            }\n            if (chunk.readUInt16BE(3) !== sequence) {\n                throw new TransportError(\"Invalid sequence\", \"InvalidSequence\");\n            }\n            // Gets the total length of the response from the 1st frame\n            if (!acc) {\n                dataLength = chunk.readUInt16BE(5);\n            }\n            sequence++;\n            // The total length on the 1st frame takes 2 more bytes\n            const chunkData = chunk.slice(acc ? 5 : 7);\n            data = Buffer.concat([data, chunkData]);\n            // Removes any 0 padding\n            if (data.length > dataLength) {\n                data = data.slice(0, dataLength);\n            }\n            return {\n                data,\n                dataLength,\n                sequence,\n            };\n        },\n        /**\n         * Returns the response message that has been reduced from the HID USB frames\n         *\n         * @param acc The accumulator\n         * @returns A Buffer containing the cleaned response message, or null if no response message, or undefined if the\n         *   accumulator is incorrect (message length is not valid)\n         */\n        getReducedResult(acc) {\n            if (acc && acc.dataLength === acc.data.length) {\n                return acc.data;\n            }\n        },\n    };\n};\nexport default createHIDframing;\n//# sourceMappingURL=hid-framing.js.map","import semver from \"semver\";\n/**\n * The USB product IDs will be defined as MMII, encoding a model (MM) and an interface bitfield (II)\n *\n ** Model\n * Ledger Nano S : 0x10\n * Ledger Blue : 0x00\n * Ledger Nano X : 0x40\n *\n ** Interface support bitfield\n * Generic HID : 0x01\n * Keyboard HID : 0x02\n * U2F : 0x04\n * CCID : 0x08\n * WebUSB : 0x10\n */\nexport const IIGenericHID = 0x01;\nexport const IIKeyboardHID = 0x02;\nexport const IIU2F = 0x04;\nexport const IICCID = 0x08;\nexport const IIWebUSB = 0x10;\nexport var DeviceModelId;\n(function (DeviceModelId) {\n    /** Ledger Blue */\n    DeviceModelId[\"blue\"] = \"blue\";\n    /** Ledger Nano S */\n    DeviceModelId[\"nanoS\"] = \"nanoS\";\n    /** Ledger Nano S Plus */\n    DeviceModelId[\"nanoSP\"] = \"nanoSP\";\n    /** Ledger Nano X */\n    DeviceModelId[\"nanoX\"] = \"nanoX\";\n    /** Ledger Stax */\n    DeviceModelId[\"stax\"] = \"stax\";\n    /** Ledger Flex (\"europa\" is the internal name) */\n    DeviceModelId[\"europa\"] = \"europa\";\n})(DeviceModelId || (DeviceModelId = {}));\nconst devices = {\n    [DeviceModelId.blue]: {\n        id: DeviceModelId.blue,\n        productName: \"LedgerBlue\",\n        productIdMM: 0x00,\n        legacyUsbProductId: 0x0000,\n        usbOnly: true,\n        memorySize: 480 * 1024,\n        masks: [0x31000000, 0x31010000],\n        getBlockSize: (_firwareVersion) => 4 * 1024,\n    },\n    [DeviceModelId.nanoS]: {\n        id: DeviceModelId.nanoS,\n        productName: \"LedgerNanoS\",\n        productIdMM: 0x10,\n        legacyUsbProductId: 0x0001,\n        usbOnly: true,\n        memorySize: 320 * 1024,\n        masks: [0x31100000],\n        getBlockSize: (firmwareVersion) => { var _a; return semver.lt((_a = semver.coerce(firmwareVersion)) !== null && _a !== void 0 ? _a : \"\", \"2.0.0\") ? 4 * 1024 : 2 * 1024; },\n    },\n    [DeviceModelId.nanoX]: {\n        id: DeviceModelId.nanoX,\n        productName: \"LedgerNanoX\",\n        productIdMM: 0x40,\n        legacyUsbProductId: 0x0004,\n        usbOnly: false,\n        memorySize: 2 * 1024 * 1024,\n        masks: [0x33000000],\n        getBlockSize: (_firwareVersion) => 4 * 1024,\n        bluetoothSpec: [\n            {\n                serviceUuid: \"13d63400-2c97-0004-0000-4c6564676572\",\n                notifyUuid: \"13d63400-2c97-0004-0001-4c6564676572\",\n                writeUuid: \"13d63400-2c97-0004-0002-4c6564676572\",\n                writeCmdUuid: \"13d63400-2c97-0004-0003-4c6564676572\",\n            },\n        ],\n    },\n    [DeviceModelId.nanoSP]: {\n        id: DeviceModelId.nanoSP,\n        productName: \"Ledger Nano S Plus\",\n        productIdMM: 0x50,\n        legacyUsbProductId: 0x0005,\n        usbOnly: true,\n        memorySize: 1533 * 1024,\n        masks: [0x33100000],\n        getBlockSize: (_firmwareVersion) => 32,\n    },\n    [DeviceModelId.stax]: {\n        id: DeviceModelId.stax,\n        productName: \"LedgerStax\",\n        productIdMM: 0x60,\n        legacyUsbProductId: 0x0006,\n        usbOnly: false,\n        memorySize: 1533 * 1024,\n        masks: [0x33200000],\n        getBlockSize: (_firmwareVersion) => 32,\n        bluetoothSpec: [\n            {\n                serviceUuid: \"13d63400-2c97-6004-0000-4c6564676572\",\n                notifyUuid: \"13d63400-2c97-6004-0001-4c6564676572\",\n                writeUuid: \"13d63400-2c97-6004-0002-4c6564676572\",\n                writeCmdUuid: \"13d63400-2c97-6004-0003-4c6564676572\",\n            },\n        ],\n    },\n    [DeviceModelId.europa]: {\n        id: DeviceModelId.europa,\n        productName: \"LedgerFlex\",\n        productIdMM: 0x70,\n        legacyUsbProductId: 0x0007,\n        usbOnly: false,\n        memorySize: 1533 * 1024,\n        masks: [0x33300000],\n        getBlockSize: (_firmwareVersion) => 32,\n        bluetoothSpec: [\n            {\n                serviceUuid: \"13d63400-2c97-3004-0000-4c6564676572\",\n                notifyUuid: \"13d63400-2c97-3004-0001-4c6564676572\",\n                writeUuid: \"13d63400-2c97-3004-0002-4c6564676572\",\n                writeCmdUuid: \"13d63400-2c97-3004-0003-4c6564676572\",\n            },\n        ],\n    },\n};\nconst productMap = {\n    Blue: DeviceModelId.blue,\n    \"Nano S\": DeviceModelId.nanoS,\n    \"Nano S Plus\": DeviceModelId.nanoSP,\n    \"Nano X\": DeviceModelId.nanoX,\n    Stax: DeviceModelId.stax,\n    Europa: DeviceModelId.europa,\n};\nconst devicesList = Object.values(devices);\n/**\n *\n */\nexport const ledgerUSBVendorId = 0x2c97;\n/**\n *\n */\nexport const getDeviceModel = (id) => {\n    const info = devices[id];\n    if (!info)\n        throw new Error(\"device '\" + id + \"' does not exist\");\n    return info;\n};\n/**\n * Given a `targetId`, return the deviceModel associated to it,\n * based on the first two bytes.\n */\nexport const identifyTargetId = (targetId) => {\n    const deviceModel = devicesList.find(({ masks }) => masks.find(mask => (targetId & 0xffff0000) === mask));\n    return deviceModel;\n};\n/**\n * From a given USB product id, return the deviceModel associated to it.\n *\n * The mapping from the product id is only based on the 2 most significant bytes.\n * For example, Stax is defined with a product id of 0x60ii, a product id 0x6011 would be mapped to it.\n */\nexport const identifyUSBProductId = (usbProductId) => {\n    const legacy = devicesList.find(d => d.legacyUsbProductId === usbProductId);\n    if (legacy)\n        return legacy;\n    const mm = usbProductId >> 8;\n    const deviceModel = devicesList.find(d => d.productIdMM === mm);\n    return deviceModel;\n};\nexport const identifyProductName = (productName) => {\n    const deviceModel = devicesList.find(d => d.id === productMap[productName]);\n    return deviceModel;\n};\nconst bluetoothServices = [];\nconst serviceUuidToInfos = {};\nfor (const id in devices) {\n    const deviceModel = devices[id];\n    const { bluetoothSpec } = deviceModel;\n    if (bluetoothSpec) {\n        for (let i = 0; i < bluetoothSpec.length; i++) {\n            const spec = bluetoothSpec[i];\n            bluetoothServices.push(spec.serviceUuid);\n            serviceUuidToInfos[spec.serviceUuid] = serviceUuidToInfos[spec.serviceUuid.replace(/-/g, \"\")] = Object.assign({ deviceModel }, spec);\n        }\n    }\n}\n/**\n *\n */\nexport const getBluetoothServiceUuids = () => bluetoothServices;\n/**\n *\n */\nexport const getInfosForServiceUuid = (uuid) => serviceUuidToInfos[uuid.toLowerCase()];\n//# sourceMappingURL=index.js.map","/* eslint-disable no-continue */\n/* eslint-disable no-unused-vars */\n/* eslint-disable no-param-reassign */\n/* eslint-disable no-prototype-builtins */\nconst errorClasses = {};\nconst deserializers = {};\nexport const addCustomErrorDeserializer = (name, deserializer) => {\n    deserializers[name] = deserializer;\n};\nexport const createCustomErrorClass = (name) => {\n    class CustomErrorClass extends Error {\n        constructor(message, fields, options) {\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n            // @ts-ignore\n            super(message || name, options);\n            // Set the prototype explicitly. See https://github.com/Microsoft/TypeScript/wiki/Breaking-Changes#extending-built-ins-like-error-array-and-map-may-no-longer-work\n            Object.setPrototypeOf(this, CustomErrorClass.prototype);\n            this.name = name;\n            if (fields) {\n                for (const k in fields) {\n                    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n                    // @ts-ignore\n                    this[k] = fields[k];\n                }\n            }\n            if (options && isObject(options) && \"cause\" in options && !(\"cause\" in this)) {\n                // .cause was specified but the superconstructor\n                // did not create an instance property.\n                const cause = options.cause;\n                this.cause = cause;\n                if (\"stack\" in cause) {\n                    this.stack = this.stack + \"\\nCAUSE: \" + cause.stack;\n                }\n            }\n        }\n    }\n    errorClasses[name] = CustomErrorClass;\n    return CustomErrorClass;\n};\nfunction isObject(value) {\n    return typeof value === \"object\";\n}\n// inspired from https://github.com/programble/errio/blob/master/index.js\nexport const deserializeError = (object) => {\n    if (object && typeof object === \"object\") {\n        try {\n            if (typeof object.message === \"string\") {\n                const msg = JSON.parse(object.message);\n                if (msg.message && msg.name) {\n                    object = msg;\n                }\n            }\n        }\n        catch (e) {\n            // nothing\n        }\n        let error;\n        if (typeof object.name === \"string\") {\n            const { name } = object;\n            const des = deserializers[name];\n            if (des) {\n                error = des(object);\n            }\n            else {\n                let constructor = name === \"Error\" ? Error : errorClasses[name];\n                if (!constructor) {\n                    console.warn(\"deserializing an unknown class '\" + name + \"'\");\n                    constructor = createCustomErrorClass(name);\n                }\n                error = Object.create(constructor.prototype);\n                try {\n                    for (const prop in object) {\n                        if (object.hasOwnProperty(prop)) {\n                            error[prop] = object[prop];\n                        }\n                    }\n                }\n                catch (e) {\n                    // sometimes setting a property can fail (e.g. .name)\n                }\n            }\n        }\n        else {\n            if (typeof object.message === \"string\") {\n                error = new Error(object.message);\n            }\n        }\n        if (error && !error.stack && Error.captureStackTrace) {\n            Error.captureStackTrace(error, deserializeError);\n        }\n        return error;\n    }\n    return new Error(String(object));\n};\n// inspired from https://github.com/sindresorhus/serialize-error/blob/master/index.js\nexport const serializeError = (value) => {\n    if (!value)\n        return value;\n    if (typeof value === \"object\") {\n        return destroyCircular(value, []);\n    }\n    if (typeof value === \"function\") {\n        return `[Function: ${value.name || \"anonymous\"}]`;\n    }\n    return value;\n};\n// https://www.npmjs.com/package/destroy-circular\nfunction destroyCircular(from, seen) {\n    const to = {};\n    seen.push(from);\n    for (const key of Object.keys(from)) {\n        const value = from[key];\n        if (typeof value === \"function\") {\n            continue;\n        }\n        if (!value || typeof value !== \"object\") {\n            to[key] = value;\n            continue;\n        }\n        if (seen.indexOf(from[key]) === -1) {\n            to[key] = destroyCircular(from[key], seen.slice(0));\n            continue;\n        }\n        to[key] = \"[Circular]\";\n    }\n    if (typeof from.name === \"string\") {\n        to.name = from.name;\n    }\n    if (typeof from.message === \"string\") {\n        to.message = from.message;\n    }\n    if (typeof from.stack === \"string\") {\n        to.stack = from.stack;\n    }\n    return to;\n}\n//# sourceMappingURL=helpers.js.map","import { serializeError, deserializeError, createCustomErrorClass, addCustomErrorDeserializer, } from \"./helpers\";\nexport { serializeError, deserializeError, createCustomErrorClass, addCustomErrorDeserializer };\nexport const AccountNameRequiredError = createCustomErrorClass(\"AccountNameRequired\");\nexport const AccountNotSupported = createCustomErrorClass(\"AccountNotSupported\");\nexport const AccountAwaitingSendPendingOperations = createCustomErrorClass(\"AccountAwaitingSendPendingOperations\");\nexport const AmountRequired = createCustomErrorClass(\"AmountRequired\");\nexport const BluetoothRequired = createCustomErrorClass(\"BluetoothRequired\");\nexport const BtcUnmatchedApp = createCustomErrorClass(\"BtcUnmatchedApp\");\nexport const CantOpenDevice = createCustomErrorClass(\"CantOpenDevice\");\nexport const CashAddrNotSupported = createCustomErrorClass(\"CashAddrNotSupported\");\nexport const ClaimRewardsFeesWarning = createCustomErrorClass(\"ClaimRewardsFeesWarning\");\nexport const CurrencyNotSupported = createCustomErrorClass(\"CurrencyNotSupported\");\nexport const DeviceAppVerifyNotSupported = createCustomErrorClass(\"DeviceAppVerifyNotSupported\");\nexport const DeviceGenuineSocketEarlyClose = createCustomErrorClass(\"DeviceGenuineSocketEarlyClose\");\nexport const DeviceNotGenuineError = createCustomErrorClass(\"DeviceNotGenuine\");\nexport const DeviceOnDashboardExpected = createCustomErrorClass(\"DeviceOnDashboardExpected\");\nexport const DeviceOnDashboardUnexpected = createCustomErrorClass(\"DeviceOnDashboardUnexpected\");\nexport const DeviceInOSUExpected = createCustomErrorClass(\"DeviceInOSUExpected\");\nexport const DeviceHalted = createCustomErrorClass(\"DeviceHalted\");\nexport const DeviceNameInvalid = createCustomErrorClass(\"DeviceNameInvalid\");\nexport const DeviceSocketFail = createCustomErrorClass(\"DeviceSocketFail\");\nexport const DeviceSocketNoBulkStatus = createCustomErrorClass(\"DeviceSocketNoBulkStatus\");\nexport const DeviceNeedsRestart = createCustomErrorClass(\"DeviceSocketNoBulkStatus\");\nexport const UnresponsiveDeviceError = createCustomErrorClass(\"UnresponsiveDeviceError\");\nexport const DisconnectedDevice = createCustomErrorClass(\"DisconnectedDevice\");\nexport const DisconnectedDeviceDuringOperation = createCustomErrorClass(\"DisconnectedDeviceDuringOperation\");\nexport const DeviceExtractOnboardingStateError = createCustomErrorClass(\"DeviceExtractOnboardingStateError\");\nexport const DeviceOnboardingStatePollingError = createCustomErrorClass(\"DeviceOnboardingStatePollingError\");\nexport const EnpointConfigError = createCustomErrorClass(\"EnpointConfig\");\nexport const EthAppPleaseEnableContractData = createCustomErrorClass(\"EthAppPleaseEnableContractData\");\nexport const FeeEstimationFailed = createCustomErrorClass(\"FeeEstimationFailed\");\nexport const FirmwareNotRecognized = createCustomErrorClass(\"FirmwareNotRecognized\");\nexport const HardResetFail = createCustomErrorClass(\"HardResetFail\");\nexport const InvalidXRPTag = createCustomErrorClass(\"InvalidXRPTag\");\nexport const InvalidAddress = createCustomErrorClass(\"InvalidAddress\");\nexport const InvalidNonce = createCustomErrorClass(\"InvalidNonce\");\nexport const InvalidAddressBecauseDestinationIsAlsoSource = createCustomErrorClass(\"InvalidAddressBecauseDestinationIsAlsoSource\");\nexport const LatestMCUInstalledError = createCustomErrorClass(\"LatestMCUInstalledError\");\nexport const UnknownMCU = createCustomErrorClass(\"UnknownMCU\");\nexport const LedgerAPIError = createCustomErrorClass(\"LedgerAPIError\");\nexport const LedgerAPIErrorWithMessage = createCustomErrorClass(\"LedgerAPIErrorWithMessage\");\nexport const LedgerAPINotAvailable = createCustomErrorClass(\"LedgerAPINotAvailable\");\nexport const ManagerAppAlreadyInstalledError = createCustomErrorClass(\"ManagerAppAlreadyInstalled\");\nexport const ManagerAppRelyOnBTCError = createCustomErrorClass(\"ManagerAppRelyOnBTC\");\nexport const ManagerAppDepInstallRequired = createCustomErrorClass(\"ManagerAppDepInstallRequired\");\nexport const ManagerAppDepUninstallRequired = createCustomErrorClass(\"ManagerAppDepUninstallRequired\");\nexport const ManagerDeviceLockedError = createCustomErrorClass(\"ManagerDeviceLocked\");\nexport const ManagerFirmwareNotEnoughSpaceError = createCustomErrorClass(\"ManagerFirmwareNotEnoughSpace\");\nexport const ManagerNotEnoughSpaceError = createCustomErrorClass(\"ManagerNotEnoughSpace\");\nexport const ManagerUninstallBTCDep = createCustomErrorClass(\"ManagerUninstallBTCDep\");\nexport const NetworkDown = createCustomErrorClass(\"NetworkDown\");\nexport const NetworkError = createCustomErrorClass(\"NetworkError\");\nexport const NoAddressesFound = createCustomErrorClass(\"NoAddressesFound\");\nexport const NotEnoughBalance = createCustomErrorClass(\"NotEnoughBalance\");\nexport const NotEnoughBalanceSwap = createCustomErrorClass(\"NotEnoughBalanceSwap\");\nexport const NotEnoughBalanceToDelegate = createCustomErrorClass(\"NotEnoughBalanceToDelegate\");\nexport const NotEnoughBalanceInParentAccount = createCustomErrorClass(\"NotEnoughBalanceInParentAccount\");\nexport const NotEnoughSpendableBalance = createCustomErrorClass(\"NotEnoughSpendableBalance\");\nexport const NotEnoughBalanceBecauseDestinationNotCreated = createCustomErrorClass(\"NotEnoughBalanceBecauseDestinationNotCreated\");\nexport const NoAccessToCamera = createCustomErrorClass(\"NoAccessToCamera\");\nexport const NotEnoughGas = createCustomErrorClass(\"NotEnoughGas\");\n// Error message specifically for the PTX swap flow\nexport const NotEnoughGasSwap = createCustomErrorClass(\"NotEnoughGasSwap\");\nexport const TronEmptyAccount = createCustomErrorClass(\"TronEmptyAccount\");\nexport const MaybeKeepTronAccountAlive = createCustomErrorClass(\"MaybeKeepTronAccountAlive\");\nexport const NotSupportedLegacyAddress = createCustomErrorClass(\"NotSupportedLegacyAddress\");\nexport const GasLessThanEstimate = createCustomErrorClass(\"GasLessThanEstimate\");\nexport const PriorityFeeTooLow = createCustomErrorClass(\"PriorityFeeTooLow\");\nexport const PriorityFeeTooHigh = createCustomErrorClass(\"PriorityFeeTooHigh\");\nexport const PriorityFeeHigherThanMaxFee = createCustomErrorClass(\"PriorityFeeHigherThanMaxFee\");\nexport const MaxFeeTooLow = createCustomErrorClass(\"MaxFeeTooLow\");\nexport const PasswordsDontMatchError = createCustomErrorClass(\"PasswordsDontMatch\");\nexport const PasswordIncorrectError = createCustomErrorClass(\"PasswordIncorrect\");\nexport const RecommendSubAccountsToEmpty = createCustomErrorClass(\"RecommendSubAccountsToEmpty\");\nexport const RecommendUndelegation = createCustomErrorClass(\"RecommendUndelegation\");\nexport const TimeoutTagged = createCustomErrorClass(\"TimeoutTagged\");\nexport const UnexpectedBootloader = createCustomErrorClass(\"UnexpectedBootloader\");\nexport const MCUNotGenuineToDashboard = createCustomErrorClass(\"MCUNotGenuineToDashboard\");\nexport const RecipientRequired = createCustomErrorClass(\"RecipientRequired\");\nexport const UnavailableTezosOriginatedAccountReceive = createCustomErrorClass(\"UnavailableTezosOriginatedAccountReceive\");\nexport const UnavailableTezosOriginatedAccountSend = createCustomErrorClass(\"UnavailableTezosOriginatedAccountSend\");\nexport const UpdateFetchFileFail = createCustomErrorClass(\"UpdateFetchFileFail\");\nexport const UpdateIncorrectHash = createCustomErrorClass(\"UpdateIncorrectHash\");\nexport const UpdateIncorrectSig = createCustomErrorClass(\"UpdateIncorrectSig\");\nexport const UpdateYourApp = createCustomErrorClass(\"UpdateYourApp\");\nexport const UserRefusedDeviceNameChange = createCustomErrorClass(\"UserRefusedDeviceNameChange\");\nexport const UserRefusedAddress = createCustomErrorClass(\"UserRefusedAddress\");\nexport const UserRefusedFirmwareUpdate = createCustomErrorClass(\"UserRefusedFirmwareUpdate\");\nexport const UserRefusedAllowManager = createCustomErrorClass(\"UserRefusedAllowManager\");\nexport const UserRefusedOnDevice = createCustomErrorClass(\"UserRefusedOnDevice\"); // TODO rename because it's just for transaction refusal\nexport const PinNotSet = createCustomErrorClass(\"PinNotSet\");\nexport const ExpertModeRequired = createCustomErrorClass(\"ExpertModeRequired\");\nexport const TransportOpenUserCancelled = createCustomErrorClass(\"TransportOpenUserCancelled\");\nexport const TransportInterfaceNotAvailable = createCustomErrorClass(\"TransportInterfaceNotAvailable\");\nexport const TransportRaceCondition = createCustomErrorClass(\"TransportRaceCondition\");\nexport const TransportWebUSBGestureRequired = createCustomErrorClass(\"TransportWebUSBGestureRequired\");\nexport const TransactionHasBeenValidatedError = createCustomErrorClass(\"TransactionHasBeenValidatedError\");\nexport const TransportExchangeTimeoutError = createCustomErrorClass(\"TransportExchangeTimeoutError\");\nexport const DeviceShouldStayInApp = createCustomErrorClass(\"DeviceShouldStayInApp\");\nexport const WebsocketConnectionError = createCustomErrorClass(\"WebsocketConnectionError\");\nexport const WebsocketConnectionFailed = createCustomErrorClass(\"WebsocketConnectionFailed\");\nexport const WrongDeviceForAccount = createCustomErrorClass(\"WrongDeviceForAccount\");\nexport const WrongDeviceForAccountPayout = createCustomErrorClass(\"WrongDeviceForAccountPayout\");\nexport const WrongDeviceForAccountRefund = createCustomErrorClass(\"WrongDeviceForAccountRefund\");\nexport const WrongAppForCurrency = createCustomErrorClass(\"WrongAppForCurrency\");\nexport const ETHAddressNonEIP = createCustomErrorClass(\"ETHAddressNonEIP\");\nexport const CantScanQRCode = createCustomErrorClass(\"CantScanQRCode\");\nexport const FeeNotLoaded = createCustomErrorClass(\"FeeNotLoaded\");\nexport const FeeNotLoadedSwap = createCustomErrorClass(\"FeeNotLoadedSwap\");\nexport const FeeRequired = createCustomErrorClass(\"FeeRequired\");\nexport const FeeTooHigh = createCustomErrorClass(\"FeeTooHigh\");\nexport const PendingOperation = createCustomErrorClass(\"PendingOperation\");\nexport const SyncError = createCustomErrorClass(\"SyncError\");\nexport const PairingFailed = createCustomErrorClass(\"PairingFailed\");\nexport const PeerRemovedPairing = createCustomErrorClass(\"PeerRemovedPairing\");\nexport const GenuineCheckFailed = createCustomErrorClass(\"GenuineCheckFailed\");\nexport const LedgerAPI4xx = createCustomErrorClass(\"LedgerAPI4xx\");\nexport const LedgerAPI5xx = createCustomErrorClass(\"LedgerAPI5xx\");\nexport const FirmwareOrAppUpdateRequired = createCustomErrorClass(\"FirmwareOrAppUpdateRequired\");\n// SpeedUp / Cancel EVM tx\nexport const ReplacementTransactionUnderpriced = createCustomErrorClass(\"ReplacementTransactionUnderpriced\");\n// Bitcoin family\nexport const OpReturnDataSizeLimit = createCustomErrorClass(\"OpReturnSizeLimit\");\nexport const DustLimit = createCustomErrorClass(\"DustLimit\");\n// Language\nexport const LanguageNotFound = createCustomErrorClass(\"LanguageNotFound\");\n// db stuff, no need to translate\nexport const NoDBPathGiven = createCustomErrorClass(\"NoDBPathGiven\");\nexport const DBWrongPassword = createCustomErrorClass(\"DBWrongPassword\");\nexport const DBNotReset = createCustomErrorClass(\"DBNotReset\");\nexport const SequenceNumberError = createCustomErrorClass(\"SequenceNumberError\");\nexport const DisabledTransactionBroadcastError = createCustomErrorClass(\"DisabledTransactionBroadcastError\");\n/**\n * Type of a Transport error used to represent all equivalent errors coming from all possible implementation of Transport\n */\nexport var HwTransportErrorType;\n(function (HwTransportErrorType) {\n    HwTransportErrorType[\"Unknown\"] = \"Unknown\";\n    HwTransportErrorType[\"LocationServicesDisabled\"] = \"LocationServicesDisabled\";\n    HwTransportErrorType[\"LocationServicesUnauthorized\"] = \"LocationServicesUnauthorized\";\n    HwTransportErrorType[\"BluetoothScanStartFailed\"] = \"BluetoothScanStartFailed\";\n})(HwTransportErrorType || (HwTransportErrorType = {}));\n/**\n * Represents an error coming from the usage of any Transport implementation.\n *\n * Needed to map a specific implementation error into an error that\n * can be managed by any code unaware of the specific Transport implementation\n * that was used.\n */\nexport class HwTransportError extends Error {\n    constructor(type, message) {\n        super(message);\n        this.name = \"HwTransportError\";\n        this.type = type;\n        // Needed as long as we target < ES6\n        Object.setPrototypeOf(this, HwTransportError.prototype);\n    }\n}\n/**\n * TransportError is used for any generic transport errors.\n * e.g. Error thrown when data received by exchanges are incorrect or if exchanged failed to communicate with the device for various reason.\n */\nexport class TransportError extends Error {\n    constructor(message, id) {\n        const name = \"TransportError\";\n        super(message || name);\n        this.name = name;\n        this.message = message;\n        this.stack = new Error(message).stack;\n        this.id = id;\n    }\n}\naddCustomErrorDeserializer(\"TransportError\", e => new TransportError(e.message, e.id));\nexport const StatusCodes = {\n    ACCESS_CONDITION_NOT_FULFILLED: 0x9804,\n    ALGORITHM_NOT_SUPPORTED: 0x9484,\n    CLA_NOT_SUPPORTED: 0x6e00,\n    CODE_BLOCKED: 0x9840,\n    CODE_NOT_INITIALIZED: 0x9802,\n    COMMAND_INCOMPATIBLE_FILE_STRUCTURE: 0x6981,\n    CONDITIONS_OF_USE_NOT_SATISFIED: 0x6985,\n    CONTRADICTION_INVALIDATION: 0x9810,\n    CONTRADICTION_SECRET_CODE_STATUS: 0x9808,\n    DEVICE_IN_RECOVERY_MODE: 0x662f,\n    CUSTOM_IMAGE_EMPTY: 0x662e,\n    FILE_ALREADY_EXISTS: 0x6a89,\n    FILE_NOT_FOUND: 0x9404,\n    GP_AUTH_FAILED: 0x6300,\n    HALTED: 0x6faa,\n    INCONSISTENT_FILE: 0x9408,\n    INCORRECT_DATA: 0x6a80,\n    INCORRECT_LENGTH: 0x6700,\n    INCORRECT_P1_P2: 0x6b00,\n    INS_NOT_SUPPORTED: 0x6d00,\n    DEVICE_NOT_ONBOARDED: 0x6d07,\n    DEVICE_NOT_ONBOARDED_2: 0x6611,\n    INVALID_KCV: 0x9485,\n    INVALID_OFFSET: 0x9402,\n    LICENSING: 0x6f42,\n    LOCKED_DEVICE: 0x5515,\n    MAX_VALUE_REACHED: 0x9850,\n    MEMORY_PROBLEM: 0x9240,\n    MISSING_CRITICAL_PARAMETER: 0x6800,\n    NO_EF_SELECTED: 0x9400,\n    NOT_ENOUGH_MEMORY_SPACE: 0x6a84,\n    OK: 0x9000,\n    PIN_REMAINING_ATTEMPTS: 0x63c0,\n    REFERENCED_DATA_NOT_FOUND: 0x6a88,\n    SECURITY_STATUS_NOT_SATISFIED: 0x6982,\n    TECHNICAL_PROBLEM: 0x6f00,\n    UNKNOWN_APDU: 0x6d02,\n    USER_REFUSED_ON_DEVICE: 0x5501,\n    NOT_ENOUGH_SPACE: 0x5102,\n    APP_NOT_FOUND_OR_INVALID_CONTEXT: 0x5123,\n    INVALID_APP_NAME_LENGTH: 0x670a,\n    GEN_AES_KEY_FAILED: 0x5419,\n    INTERNAL_CRYPTO_OPERATION_FAILED: 0x541a,\n    INTERNAL_COMPUTE_AES_CMAC_FAILED: 0x541b,\n    ENCRYPT_APP_STORAGE_FAILED: 0x541c,\n    INVALID_BACKUP_STATE: 0x6642,\n    PIN_NOT_SET: 0x5502,\n    INVALID_BACKUP_LENGTH: 0x6733,\n    INVALID_RESTORE_STATE: 0x6643,\n    INVALID_CHUNK_LENGTH: 0x6734,\n    INVALID_BACKUP_HEADER: 0x684a,\n    // Not documented:\n    TRUSTCHAIN_WRONG_SEED: 0xb007,\n};\nexport function getAltStatusMessage(code) {\n    switch (code) {\n        // improve text of most common errors\n        case 0x6700:\n            return \"Incorrect length\";\n        case 0x6800:\n            return \"Missing critical parameter\";\n        case 0x6982:\n            return \"Security not satisfied (dongle locked or have invalid access rights)\";\n        case 0x6985:\n            return \"Condition of use not satisfied (denied by the user?)\";\n        case 0x6a80:\n            return \"Invalid data received\";\n        case 0x6b00:\n            return \"Invalid parameter received\";\n        case 0x5515:\n            return \"Locked device\";\n    }\n    if (0x6f00 <= code && code <= 0x6fff) {\n        return \"Internal error, please report\";\n    }\n}\n/**\n * Error thrown when a device returned a non success status.\n * the error.statusCode is one of the `StatusCodes` exported by this library.\n */\nexport class TransportStatusError extends Error {\n    /**\n     * @param statusCode The error status code coming from a Transport implementation\n     * @param options containing:\n     *  - canBeMappedToChildError: enable the mapping of TransportStatusError to an error extending/inheriting from it\n     *  . Ex: LockedDeviceError. Default to true.\n     */\n    constructor(statusCode, { canBeMappedToChildError = true } = {}) {\n        const statusText = Object.keys(StatusCodes).find(k => StatusCodes[k] === statusCode) || \"UNKNOWN_ERROR\";\n        const smsg = getAltStatusMessage(statusCode) || statusText;\n        const statusCodeStr = statusCode.toString(16);\n        const message = `Ledger device: ${smsg} (0x${statusCodeStr})`;\n        super(message);\n        this.name = \"TransportStatusError\";\n        this.statusCode = statusCode;\n        this.statusText = statusText;\n        Object.setPrototypeOf(this, TransportStatusError.prototype);\n        // Maps to a LockedDeviceError\n        if (canBeMappedToChildError && statusCode === StatusCodes.LOCKED_DEVICE) {\n            return new LockedDeviceError(message);\n        }\n    }\n}\nexport class LockedDeviceError extends TransportStatusError {\n    constructor(message) {\n        super(StatusCodes.LOCKED_DEVICE, { canBeMappedToChildError: false });\n        if (message) {\n            this.message = message;\n        }\n        this.name = \"LockedDeviceError\";\n        Object.setPrototypeOf(this, LockedDeviceError.prototype);\n    }\n}\naddCustomErrorDeserializer(\"TransportStatusError\", e => new TransportStatusError(e.statusCode));\n//# sourceMappingURL=index.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport Transport from \"@ledgerhq/hw-transport\";\nimport hidFraming from \"@ledgerhq/devices/hid-framing\";\nimport { identifyUSBProductId, ledgerUSBVendorId } from \"@ledgerhq/devices\";\nimport { log } from \"@ledgerhq/logs\";\nimport { TransportOpenUserCancelled, DisconnectedDeviceDuringOperation, DisconnectedDevice, TransportError, } from \"@ledgerhq/errors\";\nconst ledgerDevices = [\n    {\n        vendorId: ledgerUSBVendorId,\n    },\n];\nconst isSupported = () => Promise.resolve(!!(window.navigator && window.navigator.hid));\nconst getHID = () => {\n    // $FlowFixMe\n    const { hid } = navigator;\n    if (!hid)\n        throw new TransportError(\"navigator.hid is not supported\", \"HIDNotSupported\");\n    return hid;\n};\nfunction requestLedgerDevices() {\n    return __awaiter(this, void 0, void 0, function* () {\n        const device = yield getHID().requestDevice({\n            filters: ledgerDevices,\n        });\n        if (Array.isArray(device))\n            return device;\n        return [device];\n    });\n}\nfunction getLedgerDevices() {\n    return __awaiter(this, void 0, void 0, function* () {\n        const devices = yield getHID().getDevices();\n        return devices.filter(d => d.vendorId === ledgerUSBVendorId);\n    });\n}\nfunction getFirstLedgerDevice() {\n    return __awaiter(this, void 0, void 0, function* () {\n        const existingDevices = yield getLedgerDevices();\n        if (existingDevices.length > 0)\n            return existingDevices[0];\n        const devices = yield requestLedgerDevices();\n        return devices[0];\n    });\n}\n/**\n * WebHID Transport implementation\n * @example\n * import TransportWebHID from \"@ledgerhq/hw-transport-webhid\";\n * ...\n * TransportWebHID.create().then(transport => ...)\n */\nclass TransportWebHID extends Transport {\n    constructor(device) {\n        super();\n        this.channel = Math.floor(Math.random() * 0xffff);\n        this.packetSize = 64;\n        this.inputs = [];\n        this.read = () => {\n            if (this.inputs.length) {\n                return Promise.resolve(this.inputs.shift());\n            }\n            return new Promise(success => {\n                this.inputCallback = success;\n            });\n        };\n        this.onInputReport = (e) => {\n            const buffer = Buffer.from(e.data.buffer);\n            if (this.inputCallback) {\n                this.inputCallback(buffer);\n                this.inputCallback = null;\n            }\n            else {\n                this.inputs.push(buffer);\n            }\n        };\n        this._disconnectEmitted = false;\n        this._emitDisconnect = (e) => {\n            if (this._disconnectEmitted)\n                return;\n            this._disconnectEmitted = true;\n            this.emit(\"disconnect\", e);\n        };\n        /**\n         * Exchange with the device using APDU protocol.\n         * @param apdu\n         * @returns a promise of apdu response\n         */\n        this.exchange = (apdu) => __awaiter(this, void 0, void 0, function* () {\n            const b = yield this.exchangeAtomicImpl(() => __awaiter(this, void 0, void 0, function* () {\n                const { channel, packetSize } = this;\n                log(\"apdu\", \"=> \" + apdu.toString(\"hex\"));\n                const framing = hidFraming(channel, packetSize);\n                // Write...\n                const blocks = framing.makeBlocks(apdu);\n                for (let i = 0; i < blocks.length; i++) {\n                    yield this.device.sendReport(0, blocks[i]);\n                }\n                // Read...\n                let result;\n                let acc;\n                while (!(result = framing.getReducedResult(acc))) {\n                    const buffer = yield this.read();\n                    acc = framing.reduceResponse(acc, buffer);\n                }\n                log(\"apdu\", \"<= \" + result.toString(\"hex\"));\n                return result;\n            })).catch(e => {\n                if (e && e.message && e.message.includes(\"write\")) {\n                    this._emitDisconnect(e);\n                    throw new DisconnectedDeviceDuringOperation(e.message);\n                }\n                throw e;\n            });\n            return b;\n        });\n        this.device = device;\n        this.deviceModel =\n            typeof device.productId === \"number\" ? identifyUSBProductId(device.productId) : undefined;\n        device.addEventListener(\"inputreport\", this.onInputReport);\n    }\n    /**\n     * Similar to create() except it will always display the device permission (even if some devices are already accepted).\n     */\n    static request() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const [device] = yield requestLedgerDevices();\n            return TransportWebHID.open(device);\n        });\n    }\n    /**\n     * Similar to create() except it will never display the device permission (it returns a Promise<?Transport>, null if it fails to find a device).\n     */\n    static openConnected() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const devices = yield getLedgerDevices();\n            if (devices.length === 0)\n                return null;\n            return TransportWebHID.open(devices[0]);\n        });\n    }\n    /**\n     * Create a Ledger transport with a HIDDevice\n     */\n    static open(device) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield device.open();\n            const transport = new TransportWebHID(device);\n            const onDisconnect = e => {\n                if (device === e.device) {\n                    getHID().removeEventListener(\"disconnect\", onDisconnect);\n                    transport._emitDisconnect(new DisconnectedDevice());\n                }\n            };\n            getHID().addEventListener(\"disconnect\", onDisconnect);\n            return transport;\n        });\n    }\n    /**\n     * Release the transport device\n     */\n    close() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.exchangeBusyPromise;\n            this.device.removeEventListener(\"inputreport\", this.onInputReport);\n            yield this.device.close();\n        });\n    }\n    setScrambleKey() { }\n}\n/**\n * Check if WebUSB transport is supported.\n */\nTransportWebHID.isSupported = isSupported;\n/**\n * List the WebUSB devices that was previously authorized by the user.\n */\nTransportWebHID.list = getLedgerDevices;\n/**\n * Actively listen to WebUSB devices and emit ONE device\n * that was either accepted before, if not it will trigger the native permission UI.\n *\n * Important: it must be called in the context of a UI click!\n */\nTransportWebHID.listen = (observer) => {\n    let unsubscribed = false;\n    getFirstLedgerDevice().then(device => {\n        if (!device) {\n            observer.error(new TransportOpenUserCancelled(\"Access denied to use Ledger device\"));\n        }\n        else if (!unsubscribed) {\n            const deviceModel = typeof device.productId === \"number\"\n                ? identifyUSBProductId(device.productId)\n                : undefined;\n            observer.next({\n                type: \"add\",\n                descriptor: device,\n                deviceModel,\n            });\n            observer.complete();\n        }\n    }, error => {\n        observer.error(new TransportOpenUserCancelled(error.message));\n    });\n    function unsubscribe() {\n        unsubscribed = true;\n    }\n    return {\n        unsubscribe,\n    };\n};\nexport default TransportWebHID;\n//# sourceMappingURL=TransportWebHID.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { ledgerUSBVendorId } from \"@ledgerhq/devices\";\nconst ledgerDevices = [\n    {\n        vendorId: ledgerUSBVendorId,\n    },\n];\nexport function requestLedgerDevice() {\n    return __awaiter(this, void 0, void 0, function* () {\n        const device = yield navigator.usb.requestDevice({\n            filters: ledgerDevices,\n        });\n        return device;\n    });\n}\nexport function getLedgerDevices() {\n    return __awaiter(this, void 0, void 0, function* () {\n        const devices = yield navigator.usb.getDevices();\n        return devices.filter(d => d.vendorId === ledgerUSBVendorId);\n    });\n}\nexport function getFirstLedgerDevice() {\n    return __awaiter(this, void 0, void 0, function* () {\n        const existingDevices = yield getLedgerDevices();\n        if (existingDevices.length > 0)\n            return existingDevices[0];\n        return requestLedgerDevice();\n    });\n}\nexport const isSupported = () => Promise.resolve(!!navigator && !!navigator.usb && typeof navigator.usb.getDevices === \"function\");\n//# sourceMappingURL=webusb.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport Transport from \"@ledgerhq/hw-transport\";\nimport hidFraming from \"@ledgerhq/devices/hid-framing\";\nimport { identifyUSBProductId } from \"@ledgerhq/devices\";\nimport { log } from \"@ledgerhq/logs\";\nimport { TransportOpenUserCancelled, TransportInterfaceNotAvailable, TransportWebUSBGestureRequired, DisconnectedDeviceDuringOperation, DisconnectedDevice, } from \"@ledgerhq/errors\";\nimport { getLedgerDevices, getFirstLedgerDevice, requestLedgerDevice, isSupported } from \"./webusb\";\nconst configurationValue = 1;\nconst endpointNumber = 3;\n/**\n * WebUSB Transport implementation\n * @example\n * import TransportWebUSB from \"@ledgerhq/hw-transport-webusb\";\n * ...\n * TransportWebUSB.create().then(transport => ...)\n */\nclass TransportWebUSB extends Transport {\n    constructor(device, interfaceNumber) {\n        super();\n        this.channel = Math.floor(Math.random() * 0xffff);\n        this.packetSize = 64;\n        this._disconnectEmitted = false;\n        this._emitDisconnect = (e) => {\n            if (this._disconnectEmitted)\n                return;\n            this._disconnectEmitted = true;\n            this.emit(\"disconnect\", e);\n        };\n        this.device = device;\n        this.interfaceNumber = interfaceNumber;\n        this.deviceModel = identifyUSBProductId(device.productId);\n    }\n    /**\n     * Similar to create() except it will always display the device permission (even if some devices are already accepted).\n     */\n    static request() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const device = yield requestLedgerDevice();\n            return TransportWebUSB.open(device);\n        });\n    }\n    /**\n     * Similar to create() except it will never display the device permission (it returns a Promise<?Transport>, null if it fails to find a device).\n     */\n    static openConnected() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const devices = yield getLedgerDevices();\n            if (devices.length === 0)\n                return null;\n            return TransportWebUSB.open(devices[0]);\n        });\n    }\n    /**\n     * Create a Ledger transport with a USBDevice\n     */\n    static open(device) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield device.open();\n            if (device.configuration === null) {\n                yield device.selectConfiguration(configurationValue);\n            }\n            yield gracefullyResetDevice(device);\n            const iface = device.configurations[0].interfaces.find(({ alternates }) => alternates.some(a => a.interfaceClass === 255));\n            if (!iface) {\n                throw new TransportInterfaceNotAvailable(\"No WebUSB interface found for your Ledger device. Please upgrade firmware or contact techsupport.\");\n            }\n            const interfaceNumber = iface.interfaceNumber;\n            try {\n                yield device.claimInterface(interfaceNumber);\n            }\n            catch (e) {\n                yield device.close();\n                throw new TransportInterfaceNotAvailable(e.message);\n            }\n            const transport = new TransportWebUSB(device, interfaceNumber);\n            const onDisconnect = e => {\n                if (device === e.device) {\n                    // $FlowFixMe\n                    navigator.usb.removeEventListener(\"disconnect\", onDisconnect);\n                    transport._emitDisconnect(new DisconnectedDevice());\n                }\n            };\n            // $FlowFixMe\n            navigator.usb.addEventListener(\"disconnect\", onDisconnect);\n            return transport;\n        });\n    }\n    /**\n     * Release the transport device\n     */\n    close() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.exchangeBusyPromise;\n            yield this.device.releaseInterface(this.interfaceNumber);\n            yield gracefullyResetDevice(this.device);\n            yield this.device.close();\n        });\n    }\n    /**\n     * Exchange with the device using APDU protocol.\n     * @param apdu\n     * @returns a promise of apdu response\n     */\n    exchange(apdu) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const b = yield this.exchangeAtomicImpl(() => __awaiter(this, void 0, void 0, function* () {\n                const { channel, packetSize } = this;\n                log(\"apdu\", \"=> \" + apdu.toString(\"hex\"));\n                const framing = hidFraming(channel, packetSize);\n                // Write...\n                const blocks = framing.makeBlocks(apdu);\n                for (let i = 0; i < blocks.length; i++) {\n                    yield this.device.transferOut(endpointNumber, blocks[i]);\n                }\n                // Read...\n                let result;\n                let acc;\n                while (!(result = framing.getReducedResult(acc))) {\n                    const r = yield this.device.transferIn(endpointNumber, packetSize);\n                    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n                    // @ts-ignore\n                    const buffer = Buffer.from(r.data.buffer);\n                    acc = framing.reduceResponse(acc, buffer);\n                }\n                log(\"apdu\", \"<= \" + result.toString(\"hex\"));\n                return result;\n            })).catch(e => {\n                if (e && e.message && e.message.includes(\"disconnected\")) {\n                    this._emitDisconnect(e);\n                    throw new DisconnectedDeviceDuringOperation(e.message);\n                }\n                throw e;\n            });\n            return b;\n        });\n    }\n    setScrambleKey() { }\n}\n/**\n * Check if WebUSB transport is supported.\n */\nTransportWebUSB.isSupported = isSupported;\n/**\n * List the WebUSB devices that was previously authorized by the user.\n */\nTransportWebUSB.list = getLedgerDevices;\n/**\n * Actively listen to WebUSB devices and emit ONE device\n * that was either accepted before, if not it will trigger the native permission UI.\n *\n * Important: it must be called in the context of a UI click!\n */\nTransportWebUSB.listen = (observer) => {\n    let unsubscribed = false;\n    getFirstLedgerDevice().then(device => {\n        if (!unsubscribed) {\n            const deviceModel = identifyUSBProductId(device.productId);\n            observer.next({\n                type: \"add\",\n                descriptor: device,\n                deviceModel,\n            });\n            observer.complete();\n        }\n    }, error => {\n        if (window.DOMException && error instanceof window.DOMException && error.code === 18) {\n            observer.error(new TransportWebUSBGestureRequired(error.message));\n        }\n        else {\n            observer.error(new TransportOpenUserCancelled(error.message));\n        }\n    });\n    function unsubscribe() {\n        unsubscribed = true;\n    }\n    return {\n        unsubscribe,\n    };\n};\nexport default TransportWebUSB;\nfunction gracefullyResetDevice(device) {\n    return __awaiter(this, void 0, void 0, function* () {\n        try {\n            yield device.reset();\n        }\n        catch (err) {\n            console.warn(err);\n        }\n    });\n}\n//# sourceMappingURL=TransportWebUSB.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport EventEmitter from \"events\";\nimport { TransportRaceCondition, TransportError, StatusCodes, getAltStatusMessage, TransportStatusError, } from \"@ledgerhq/errors\";\nimport { LocalTracer } from \"@ledgerhq/logs\";\nexport { TransportError, TransportStatusError, StatusCodes, getAltStatusMessage };\nconst DEFAULT_LOG_TYPE = \"transport\";\n/**\n * The Transport class defines a generic interface for communicating with a Ledger hardware wallet.\n * There are different kind of transports based on the technology (channels like U2F, HID, Bluetooth, Webusb) and environment (Node, Web,...).\n * It is an abstract class that needs to be implemented.\n */\nclass Transport {\n    constructor({ context, logType } = {}) {\n        this.exchangeTimeout = 30000;\n        this.unresponsiveTimeout = 15000;\n        this.deviceModel = null;\n        this._events = new EventEmitter();\n        /**\n         * Send data to the device using the higher level API.\n         *\n         * @param {number} cla - The instruction class for the command.\n         * @param {number} ins - The instruction code for the command.\n         * @param {number} p1 - The first parameter for the instruction.\n         * @param {number} p2 - The second parameter for the instruction.\n         * @param {Buffer} data - The data to be sent. Defaults to an empty buffer.\n         * @param {Array<number>} statusList - A list of acceptable status codes for the response. Defaults to [StatusCodes.OK].\n         * @param {Object} options - Contains optional options for the exchange function\n         *  - abortTimeoutMs: stop the send after a given timeout. Another timeout exists\n         *    to detect unresponsive device (see `unresponsiveTimeout`). This timeout aborts the exchange.\n         * @returns {Promise<Buffer>} A promise that resolves with the response data from the device.\n         */\n        this.send = (cla_1, ins_1, p1_1, p2_1, ...args_1) => __awaiter(this, [cla_1, ins_1, p1_1, p2_1, ...args_1], void 0, function* (cla, ins, p1, p2, data = Buffer.alloc(0), statusList = [StatusCodes.OK], { abortTimeoutMs } = {}) {\n            const tracer = this.tracer.withUpdatedContext({ function: \"send\" });\n            if (data.length >= 256) {\n                tracer.trace(\"data.length exceeded 256 bytes limit\", { dataLength: data.length });\n                throw new TransportError(\"data.length exceed 256 bytes limit. Got: \" + data.length, \"DataLengthTooBig\");\n            }\n            tracer.trace(\"Starting an exchange\", { abortTimeoutMs });\n            const response = yield this.exchange(\n            // The size of the data is added in 1 byte just before `data`\n            Buffer.concat([Buffer.from([cla, ins, p1, p2]), Buffer.from([data.length]), data]), { abortTimeoutMs });\n            tracer.trace(\"Received response from exchange\");\n            const sw = response.readUInt16BE(response.length - 2);\n            if (!statusList.some(s => s === sw)) {\n                throw new TransportStatusError(sw);\n            }\n            return response;\n        });\n        this._appAPIlock = null;\n        this.tracer = new LocalTracer(logType !== null && logType !== void 0 ? logType : DEFAULT_LOG_TYPE, context);\n    }\n    /**\n     * Send data to the device using a low level API.\n     * It's recommended to use the \"send\" method for a higher level API.\n     * @param {Buffer} apdu - The data to send.\n     * @param {Object} options - Contains optional options for the exchange function\n     *  - abortTimeoutMs: stop the exchange after a given timeout. Another timeout exists\n     *    to detect unresponsive device (see `unresponsiveTimeout`). This timeout aborts the exchange.\n     * @returns {Promise<Buffer>} A promise that resolves with the response data from the device.\n     */\n    exchange(_apdu, { abortTimeoutMs: _abortTimeoutMs } = {}) {\n        throw new Error(\"exchange not implemented\");\n    }\n    /**\n     * Send apdus in batch to the device using a low level API.\n     * The default implementation is to call exchange for each apdu.\n     * @param {Array<Buffer>} apdus - array of apdus to send.\n     * @param {Observer<Buffer>} observer - an observer that will receive the response of each apdu.\n     * @returns {Subscription} A Subscription object on which you can call \".unsubscribe()\" to stop sending apdus.\n     */\n    exchangeBulk(apdus, observer) {\n        let unsubscribed = false;\n        const unsubscribe = () => {\n            unsubscribed = true;\n        };\n        const main = () => __awaiter(this, void 0, void 0, function* () {\n            if (unsubscribed)\n                return;\n            for (const apdu of apdus) {\n                const r = yield this.exchange(apdu);\n                if (unsubscribed)\n                    return;\n                const status = r.readUInt16BE(r.length - 2);\n                if (status !== StatusCodes.OK) {\n                    throw new TransportStatusError(status);\n                }\n                observer.next(r);\n            }\n        });\n        main().then(() => !unsubscribed && observer.complete(), e => !unsubscribed && observer.error(e));\n        return { unsubscribe };\n    }\n    /**\n     * Set the \"scramble key\" for the next data exchanges with the device.\n     * Each app can have a different scramble key and it is set internally during instantiation.\n     * @param {string} key - The scramble key to set.\n     * deprecated This method is no longer needed for modern transports and should be migrated away from.\n     * no @ before deprecated as it breaks documentationjs on version 14.0.2\n     * https://github.com/documentationjs/documentation/issues/1596\n     */\n    setScrambleKey(_key) { }\n    /**\n     * Close the connection with the device.\n     *\n     * Note: for certain transports (hw-transport-node-hid-singleton for ex), once the promise resolved,\n     * the transport instance is actually still cached, and the device is disconnected only after a defined timeout.\n     * But for the consumer of the Transport, this does not matter and it can consider the transport to be closed.\n     *\n     * @returns {Promise<void>} A promise that resolves when the transport is closed.\n     */\n    close() {\n        return Promise.resolve();\n    }\n    /**\n     * Listen for an event on the transport instance.\n     * Transport implementations may have specific events. Common events include:\n     * \"disconnect\" : triggered when the transport is disconnected.\n     * @param {string} eventName - The name of the event to listen for.\n     * @param {(...args: Array<any>) => any} cb - The callback function to be invoked when the event occurs.\n     */\n    on(eventName, cb) {\n        this._events.on(eventName, cb);\n    }\n    /**\n     * Stop listening to an event on an instance of transport.\n     */\n    off(eventName, cb) {\n        this._events.removeListener(eventName, cb);\n    }\n    emit(event, ...args) {\n        this._events.emit(event, ...args);\n    }\n    /**\n     * Enable or not logs of the binary exchange\n     */\n    setDebugMode() {\n        console.warn(\"setDebugMode is deprecated. use @ledgerhq/logs instead. No logs are emitted in this anymore.\");\n    }\n    /**\n     * Set a timeout (in milliseconds) for the exchange call. Only some transport might implement it. (e.g. U2F)\n     */\n    setExchangeTimeout(exchangeTimeout) {\n        this.exchangeTimeout = exchangeTimeout;\n    }\n    /**\n     * Define the delay before emitting \"unresponsive\" on an exchange that does not respond\n     */\n    setExchangeUnresponsiveTimeout(unresponsiveTimeout) {\n        this.unresponsiveTimeout = unresponsiveTimeout;\n    }\n    /**\n     * create() allows to open the first descriptor available or\n     * throw if there is none or if timeout is reached.\n     * This is a light helper, alternative to using listen() and open() (that you may need for any more advanced usecase)\n     * @example\n    TransportFoo.create().then(transport => ...)\n     */\n    static create(openTimeout = 3000, listenTimeout) {\n        return new Promise((resolve, reject) => {\n            let found = false;\n            const sub = this.listen({\n                next: e => {\n                    found = true;\n                    if (sub)\n                        sub.unsubscribe();\n                    if (listenTimeoutId)\n                        clearTimeout(listenTimeoutId);\n                    this.open(e.descriptor, openTimeout).then(resolve, reject);\n                },\n                error: e => {\n                    if (listenTimeoutId)\n                        clearTimeout(listenTimeoutId);\n                    reject(e);\n                },\n                complete: () => {\n                    if (listenTimeoutId)\n                        clearTimeout(listenTimeoutId);\n                    if (!found) {\n                        reject(new TransportError(this.ErrorMessage_NoDeviceFound, \"NoDeviceFound\"));\n                    }\n                },\n            });\n            const listenTimeoutId = listenTimeout\n                ? setTimeout(() => {\n                    sub.unsubscribe();\n                    reject(new TransportError(this.ErrorMessage_ListenTimeout, \"ListenTimeout\"));\n                }, listenTimeout)\n                : null;\n        });\n    }\n    /**\n     * Wrapper to make an exchange \"atomic\" (blocking any other exchange)\n     *\n     * It also handles \"unresponsiveness\" by emitting \"unresponsive\" and \"responsive\" events.\n     *\n     * @param f The exchange job, using the transport to run\n     * @returns a Promise resolving with the output of the given job\n     */\n    exchangeAtomicImpl(f) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const tracer = this.tracer.withUpdatedContext({\n                function: \"exchangeAtomicImpl\",\n                unresponsiveTimeout: this.unresponsiveTimeout,\n            });\n            if (this.exchangeBusyPromise) {\n                tracer.trace(\"Atomic exchange is already busy\");\n                throw new TransportRaceCondition(\"An action was already pending on the Ledger device. Please deny or reconnect.\");\n            }\n            // Sets the atomic guard\n            let resolveBusy;\n            const busyPromise = new Promise(r => {\n                resolveBusy = r;\n            });\n            this.exchangeBusyPromise = busyPromise;\n            // The device unresponsiveness handler\n            let unresponsiveReached = false;\n            const timeout = setTimeout(() => {\n                tracer.trace(`Timeout reached, emitting Transport event \"unresponsive\"`, {\n                    unresponsiveTimeout: this.unresponsiveTimeout,\n                });\n                unresponsiveReached = true;\n                this.emit(\"unresponsive\");\n            }, this.unresponsiveTimeout);\n            try {\n                const res = yield f();\n                if (unresponsiveReached) {\n                    tracer.trace(\"Device was unresponsive, emitting responsive\");\n                    this.emit(\"responsive\");\n                }\n                return res;\n            }\n            finally {\n                tracer.trace(\"Finalize, clearing busy guard\");\n                clearTimeout(timeout);\n                if (resolveBusy)\n                    resolveBusy();\n                this.exchangeBusyPromise = null;\n            }\n        });\n    }\n    decorateAppAPIMethods(self, methods, scrambleKey) {\n        for (const methodName of methods) {\n            self[methodName] = this.decorateAppAPIMethod(methodName, self[methodName], self, scrambleKey);\n        }\n    }\n    decorateAppAPIMethod(methodName, f, ctx, scrambleKey) {\n        return (...args) => __awaiter(this, void 0, void 0, function* () {\n            const { _appAPIlock } = this;\n            if (_appAPIlock) {\n                return Promise.reject(new TransportError(\"Ledger Device is busy (lock \" + _appAPIlock + \")\", \"TransportLocked\"));\n            }\n            try {\n                this._appAPIlock = methodName;\n                this.setScrambleKey(scrambleKey);\n                return yield f.apply(ctx, args);\n            }\n            finally {\n                this._appAPIlock = null;\n            }\n        });\n    }\n    /**\n     * Sets the context used by the logging/tracing mechanism\n     *\n     * Useful when re-using (cached) the same Transport instance,\n     * but with a new tracing context.\n     *\n     * @param context A TraceContext, that can undefined to reset the context\n     */\n    setTraceContext(context) {\n        this.tracer = this.tracer.withContext(context);\n    }\n    /**\n     * Updates the context used by the logging/tracing mechanism\n     *\n     * The update only overrides the key-value that are already defined in the current context.\n     *\n     * @param contextToAdd A TraceContext that will be added to the current context\n     */\n    updateTraceContext(contextToAdd) {\n        this.tracer.updateContext(contextToAdd);\n    }\n    /**\n     * Gets the tracing context of the transport instance\n     */\n    getTraceContext() {\n        return this.tracer.getContext();\n    }\n}\nTransport.ErrorMessage_ListenTimeout = \"No Ledger device found (timeout)\";\nTransport.ErrorMessage_NoDeviceFound = \"No Ledger device found\";\nexport default Transport;\n//# sourceMappingURL=Transport.js.map","let id = 0;\nconst subscribers = [];\n/**\n * Logs something\n *\n * @param type a namespaced identifier of the log (it is not a level like \"debug\", \"error\" but more like \"apdu-in\", \"apdu-out\", etc...)\n * @param message a clear message of the log associated to the type\n */\nexport const log = (type, message, data) => {\n    const obj = {\n        type,\n        id: String(++id),\n        date: new Date(),\n    };\n    if (message)\n        obj.message = message;\n    if (data)\n        obj.data = data;\n    dispatch(obj);\n};\n/**\n * A simple tracer function, only expanding the existing log function\n *\n * Its goal is to capture more context than a log function.\n * This is simple for now, but can be improved later.\n *\n * @param context Anything representing the context where the log occurred\n */\nexport const trace = ({ type, message, data, context, }) => {\n    const obj = {\n        type,\n        id: String(++id),\n        date: new Date(),\n    };\n    if (message)\n        obj.message = message;\n    if (data)\n        obj.data = data;\n    if (context)\n        obj.context = context;\n    dispatch(obj);\n};\n/**\n * A simple tracer class, that can be used to avoid repetition when using the `trace` function\n *\n * Its goal is to capture more context than a log function.\n * This is simple for now, but can be improved later.\n *\n * @param type A given type (not level) for the current local tracer (\"hw\", \"withDevice\", etc.)\n * @param context Anything representing the context where the log occurred\n */\nexport class LocalTracer {\n    constructor(type, context) {\n        this.type = type;\n        this.context = context;\n    }\n    trace(message, data) {\n        trace({\n            type: this.type,\n            message,\n            data,\n            context: this.context,\n        });\n    }\n    getContext() {\n        return this.context;\n    }\n    setContext(context) {\n        this.context = context;\n    }\n    updateContext(contextToAdd) {\n        this.context = Object.assign(Object.assign({}, this.context), contextToAdd);\n    }\n    getType() {\n        return this.type;\n    }\n    setType(type) {\n        this.type = type;\n    }\n    /**\n     * Create a new instance of the LocalTracer with an updated `type`\n     *\n     * It does not mutate the calling instance, but returns a new LocalTracer,\n     * following a simple builder pattern.\n     */\n    withType(type) {\n        return new LocalTracer(type, this.context);\n    }\n    /**\n     * Create a new instance of the LocalTracer with a new `context`\n     *\n     * It does not mutate the calling instance, but returns a new LocalTracer,\n     * following a simple builder pattern.\n     *\n     * @param context A TraceContext, that can undefined to reset the context\n     */\n    withContext(context) {\n        return new LocalTracer(this.type, context);\n    }\n    /**\n     * Create a new instance of the LocalTracer with an updated `context`,\n     * on which an additional context is merged with the existing one.\n     *\n     * It does not mutate the calling instance, but returns a new LocalTracer,\n     * following a simple builder pattern.\n     */\n    withUpdatedContext(contextToAdd) {\n        return new LocalTracer(this.type, Object.assign(Object.assign({}, this.context), contextToAdd));\n    }\n}\n/**\n * Adds a subscribers to the emitted logs.\n *\n * @param cb that is called for each future log() with the Log object\n * @return a function that can be called to unsubscribe the listener\n */\nexport const listen = (cb) => {\n    subscribers.push(cb);\n    return () => {\n        const i = subscribers.indexOf(cb);\n        if (i !== -1) {\n            // equivalent of subscribers.splice(i, 1) // https://twitter.com/Rich_Harris/status/1125850391155965952\n            subscribers[i] = subscribers[subscribers.length - 1];\n            subscribers.pop();\n        }\n    };\n};\nfunction dispatch(log) {\n    for (let i = 0; i < subscribers.length; i++) {\n        try {\n            subscribers[i](log);\n        }\n        catch (e) {\n            console.error(e);\n        }\n    }\n}\nif (typeof window !== \"undefined\") {\n    window.__ledgerLogsListen = listen;\n}\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TonTransport = exports.parseMessage = exports.KNOWN_JETTONS = void 0;\nconst core_1 = require(\"@ton/core\");\nconst crypto_1 = require(\"@ton/crypto\");\nconst teslabot_1 = require(\"teslabot\");\nconst ledgerWriter_1 = require(\"./utils/ledgerWriter\");\nconst getInit_1 = require(\"./utils/getInit\");\nconst LEDGER_SYSTEM = 0xB0;\nconst LEDGER_CLA = 0xe0;\nconst INS_VERSION = 0x03;\nconst INS_ADDRESS = 0x05;\nconst INS_SIGN_TX = 0x06;\nconst INS_PROOF = 0x08;\nconst INS_SIGN_DATA = 0x09;\nconst INS_SETTINGS = 0x0A;\nconst DEFAULT_SUBWALLET_ID = 698983191;\nexports.KNOWN_JETTONS = [\n    {\n        symbol: 'USDT',\n        masterAddress: core_1.Address.parse('EQCxE6mUtQJKFnGfaROTKOt1lZbDiiX1kCixRv7Nw2Id_sDs'),\n    },\n    {\n        symbol: 'NOT',\n        masterAddress: core_1.Address.parse('EQAvlWFDxGF2lXm67y4yzC17wYKD9A0guwPkMs1gOsM__NOT'),\n    },\n    {\n        symbol: 'tsTON',\n        masterAddress: core_1.Address.parse('EQC98_qAmNEptUtPc7W6xdHh_ZHrBUFpw5Ft_IzNU20QAJav'),\n    },\n    {\n        symbol: 'wsTON',\n        masterAddress: core_1.Address.parse('EQB0SoxuGDx5qjVt0P_bPICFeWdFLBmVopHhjgfs0q-wsTON'),\n    },\n    {\n        symbol: 'hTON',\n        masterAddress: core_1.Address.parse('EQDPdq8xjAhytYqfGSX8KcFWIReCufsB9Wdg0pLlYSO_h76w'),\n    },\n    {\n        symbol: 'stTON',\n        masterAddress: core_1.Address.parse('EQDNhy-nxYFgUqzfUzImBEP67JqsyMIcyk2S5_RwNNEYku0k'),\n    },\n    {\n        symbol: 'STAKED',\n        masterAddress: core_1.Address.parse('EQCqC6EhRJ_tpWngKxL6dV0k6DSnRUrs9GSVkLbfdCqsj6TE'),\n    },\n];\nconst dnsWalletKey = Buffer.from([0xe8, 0xd4, 0x40, 0x50, 0x87, 0x3d, 0xba, 0x86, 0x5a, 0xa7, 0xc1, 0x70, 0xab, 0x4c, 0xce, 0x64,\n    0xd9, 0x08, 0x39, 0xa3, 0x4d, 0xcf, 0xd6, 0xcf, 0x71, 0xd1, 0x4e, 0x02, 0x05, 0x44, 0x3b, 0x1b]);\nfunction normalizeQueryId(qid) {\n    return qid === 0n ? null : qid;\n}\nfunction parseMessage(cell, opts) {\n    const params = {\n        disallowUnsafe: false,\n        disallowModification: false,\n        encodeJettonBurnEthAddressAsHex: true,\n        ...opts,\n    };\n    if (cell.hash().equals(new core_1.Cell().hash())) {\n        return undefined;\n    }\n    let s = cell.beginParse();\n    try {\n        const op = s.loadUint(32);\n        switch (op) {\n            case 0: {\n                const str = s.loadStringTail();\n                s.endParse();\n                if (str.length > 120) {\n                    throw new Error('Comment must be at most 120 ASCII characters long');\n                }\n                for (const c of str) {\n                    if (c.charCodeAt(0) < 0x20 || c.charCodeAt(0) >= 0x7f) {\n                        throw new Error('Comment must only contain printable ASCII characters');\n                    }\n                }\n                return {\n                    type: 'comment',\n                    text: str,\n                };\n            }\n            case 0x0f8a7ea5: {\n                const queryId = normalizeQueryId(s.loadUintBig(64));\n                const amount = s.loadCoins();\n                const destination = s.loadAddress();\n                const responseDestination = s.loadAddress();\n                const customPayload = s.loadMaybeRef();\n                const forwardAmount = s.loadCoins();\n                let forwardPayload = null;\n                if (s.loadBit()) {\n                    forwardPayload = s.loadRef();\n                }\n                else {\n                    const p = s.asCell();\n                    s = new core_1.Cell().beginParse(); // clear the slice\n                    if (!p.hash().equals(new core_1.Cell().hash())) {\n                        if (params.disallowModification) {\n                            throw new Error('Jetton transfer message would be modified');\n                        }\n                        forwardPayload = p;\n                    }\n                }\n                s.endParse();\n                return {\n                    type: 'jetton-transfer',\n                    queryId,\n                    amount,\n                    destination,\n                    responseDestination,\n                    customPayload,\n                    forwardAmount,\n                    forwardPayload,\n                    knownJetton: null,\n                };\n            }\n            case 0x5fcc3d14: {\n                const queryId = normalizeQueryId(s.loadUintBig(64));\n                const newOwner = s.loadAddress();\n                const responseDestination = s.loadAddress();\n                const customPayload = s.loadMaybeRef();\n                const forwardAmount = s.loadCoins();\n                let forwardPayload = null;\n                if (s.loadBit()) {\n                    forwardPayload = s.loadRef();\n                }\n                else {\n                    const p = s.asCell();\n                    s = new core_1.Cell().beginParse(); // clear the slice\n                    if (!p.hash().equals(new core_1.Cell().hash())) {\n                        if (params.disallowModification) {\n                            throw new Error('Jetton transfer message would be modified');\n                        }\n                        forwardPayload = p;\n                    }\n                }\n                s.endParse();\n                return {\n                    type: 'nft-transfer',\n                    queryId,\n                    newOwner,\n                    responseDestination,\n                    customPayload,\n                    forwardAmount,\n                    forwardPayload,\n                };\n            }\n            case 0x595f07bc: {\n                const queryId = normalizeQueryId(s.loadUintBig(64));\n                const amount = s.loadCoins();\n                const responseDestination = s.loadAddress();\n                let customPayload = s.loadMaybeRef();\n                s.endParse();\n                if (params.encodeJettonBurnEthAddressAsHex && customPayload !== null && customPayload.bits.length === 160 && customPayload.refs.length === 0) {\n                    const cs = customPayload.beginParse();\n                    customPayload = cs.loadBuffer(20);\n                    cs.endParse();\n                }\n                return {\n                    type: 'jetton-burn',\n                    queryId,\n                    amount,\n                    responseDestination,\n                    customPayload,\n                };\n            }\n            case 0x7258a69b: {\n                const queryId = normalizeQueryId(s.loadUintBig(64));\n                const address = s.loadAddress();\n                s.endParse();\n                return {\n                    type: 'add-whitelist',\n                    queryId,\n                    address,\n                };\n            }\n            case 0x1000: {\n                const queryId = normalizeQueryId(s.loadUintBig(64));\n                const amount = s.loadCoins();\n                s.endParse();\n                return {\n                    type: 'single-nominator-withdraw',\n                    queryId,\n                    amount,\n                };\n            }\n            case 0x1001: {\n                const queryId = normalizeQueryId(s.loadUintBig(64));\n                const address = s.loadAddress();\n                s.endParse();\n                return {\n                    type: 'single-nominator-change-validator',\n                    queryId,\n                    address,\n                };\n            }\n            case 0x47d54391: {\n                const queryId = normalizeQueryId(s.loadUintBig(64));\n                let appId = null;\n                if (s.remainingBits > 0) {\n                    appId = s.loadUintBig(64);\n                }\n                s.endParse();\n                return {\n                    type: 'tonstakers-deposit',\n                    queryId,\n                    appId,\n                };\n            }\n            case 0x69fb306c: {\n                const queryId = normalizeQueryId(s.loadUintBig(64));\n                const votingAddress = s.loadAddress();\n                const expirationDate = s.loadUint(48);\n                const vote = s.loadBit();\n                const needConfirmation = s.loadBit();\n                s.endParse();\n                return {\n                    type: 'vote-for-proposal',\n                    queryId,\n                    votingAddress,\n                    expirationDate,\n                    vote,\n                    needConfirmation,\n                };\n            }\n            case 0x4eb1f0f9: {\n                const queryId = normalizeQueryId(s.loadUintBig(64));\n                const key = s.loadBuffer(32);\n                if (key.equals(dnsWalletKey)) {\n                    if (s.remainingRefs > 0) {\n                        const vs = s.loadRef().beginParse();\n                        if (s.remainingBits > 0 && !params.disallowModification) {\n                            // tolerate the Maybe bit\n                            if (!s.loadBit())\n                                throw new Error('Incorrect change DNS record message');\n                        }\n                        s.endParse();\n                        const type = vs.loadUint(16);\n                        if (type !== 0x9fd3) {\n                            throw new Error('Wrong DNS record type');\n                        }\n                        const address = vs.loadAddress();\n                        const flags = vs.loadUint(8);\n                        if (flags > 1) {\n                            throw new Error('DNS wallet record must have flags 0 or 1');\n                        }\n                        let capabilities = (flags & 1) > 0 ? { isWallet: false } : null;\n                        if (capabilities !== null) {\n                            while (vs.loadBit()) {\n                                const cap = vs.loadUint(16);\n                                if (cap === 0x2177) {\n                                    if (capabilities.isWallet && params.disallowModification) {\n                                        throw new Error('DNS change record message would be modified');\n                                    }\n                                    capabilities.isWallet = true;\n                                }\n                                else {\n                                    throw new Error('Unknown DNS wallet record capability');\n                                }\n                            }\n                        }\n                        return {\n                            type: 'change-dns-record',\n                            queryId,\n                            record: {\n                                type: 'wallet',\n                                value: {\n                                    address,\n                                    capabilities,\n                                },\n                            },\n                        };\n                    }\n                    else {\n                        if (s.remainingBits > 0 && !params.disallowModification) {\n                            // tolerate the Maybe bit\n                            if (s.loadBit())\n                                throw new Error('Incorrect change DNS record message');\n                        }\n                        s.endParse();\n                        return {\n                            type: 'change-dns-record',\n                            queryId,\n                            record: {\n                                type: 'wallet',\n                                value: null,\n                            },\n                        };\n                    }\n                }\n                else {\n                    if (s.remainingRefs > 0) {\n                        const value = s.loadRef();\n                        if (s.remainingBits > 0 && !params.disallowModification) {\n                            // tolerate the Maybe bit\n                            if (!s.loadBit())\n                                throw new Error('Incorrect change DNS record message');\n                        }\n                        s.endParse();\n                        return {\n                            type: 'change-dns-record',\n                            queryId,\n                            record: {\n                                type: 'unknown',\n                                key,\n                                value,\n                            },\n                        };\n                    }\n                    else {\n                        if (s.remainingBits > 0 && !params.disallowModification) {\n                            // tolerate the Maybe bit\n                            if (s.loadBit())\n                                throw new Error('Incorrect change DNS record message');\n                        }\n                        s.endParse();\n                        return {\n                            type: 'change-dns-record',\n                            queryId,\n                            record: {\n                                type: 'unknown',\n                                key,\n                                value: null,\n                            },\n                        };\n                    }\n                }\n            }\n            case 0x8: {\n                const queryId = normalizeQueryId(s.loadUintBig(64));\n                const swapId = s.loadBuffer(32);\n                s.endParse();\n                return {\n                    type: 'token-bridge-pay-swap',\n                    queryId,\n                    swapId,\n                };\n            }\n        }\n        throw new Error('Unknown op: ' + op);\n    }\n    catch (e) {\n        if (params.disallowUnsafe) {\n            throw e;\n        }\n    }\n    return {\n        type: 'unsafe',\n        message: cell,\n    };\n}\nexports.parseMessage = parseMessage;\nfunction chunks(buf, n) {\n    const nc = Math.ceil(buf.length / n);\n    const cs = [];\n    for (let i = 0; i < nc; i++) {\n        cs.push(buf.subarray(i * n, (i + 1) * n));\n    }\n    return cs;\n}\nfunction processAddressFlags(opts) {\n    const bounceable = opts?.bounceable ?? true;\n    const testOnly = opts?.testOnly ?? false;\n    const chain = opts?.chain ?? 0;\n    const subwalletId = opts?.subwalletId ?? 698983191;\n    const walletVersion = opts?.walletVersion ?? 'v4';\n    let specifiers = undefined;\n    let flags = 0x00;\n    if (testOnly) {\n        flags |= 0x01;\n    }\n    if (chain === -1) {\n        flags |= 0x02;\n    }\n    if (subwalletId !== 698983191 || walletVersion !== 'v4') {\n        flags |= 0x04;\n        specifiers = {\n            subwalletId,\n            isV3R2: walletVersion === 'v3r2',\n        };\n    }\n    return { bounceable, testOnly, chain, flags, specifiers };\n}\nfunction convertPayload(input) {\n    let payload = null;\n    let hints = Buffer.concat([(0, ledgerWriter_1.writeUint8)(0)]);\n    if (input === undefined) {\n        return {\n            payload,\n            hints,\n        };\n    }\n    switch (input.type) {\n        case 'unsafe': {\n            payload = input.message;\n            break;\n        }\n        case 'comment': {\n            hints = Buffer.concat([\n                (0, ledgerWriter_1.writeUint8)(1),\n                (0, ledgerWriter_1.writeUint32)(0x00),\n                (0, ledgerWriter_1.writeUint16)(Buffer.from(input.text).length),\n                Buffer.from(input.text)\n            ]);\n            payload = (0, core_1.beginCell)()\n                .storeUint(0, 32)\n                .storeBuffer(Buffer.from(input.text))\n                .endCell();\n            break;\n        }\n        case 'jetton-transfer':\n        case 'nft-transfer': {\n            hints = Buffer.concat([\n                (0, ledgerWriter_1.writeUint8)(1),\n                (0, ledgerWriter_1.writeUint32)(input.type === 'jetton-transfer' ? 0x01 : 0x02)\n            ]);\n            let b = (0, core_1.beginCell)()\n                .storeUint(input.type === 'jetton-transfer' ? 0x0f8a7ea5 : 0x5fcc3d14, 32);\n            let d = Buffer.alloc(0);\n            let flags = 0;\n            if (input.queryId !== null) {\n                flags |= 1;\n            }\n            if (input.type === 'jetton-transfer' && input.knownJetton !== null) {\n                flags |= 2;\n            }\n            d = Buffer.concat([d, (0, ledgerWriter_1.writeUint8)(flags)]);\n            if (input.queryId !== null) {\n                d = Buffer.concat([d, (0, ledgerWriter_1.writeUint64)(input.queryId)]);\n                b = b.storeUint(input.queryId, 64);\n            }\n            else {\n                b = b.storeUint(0, 64);\n            }\n            if (input.type === 'jetton-transfer') {\n                if (input.knownJetton !== null) {\n                    d = Buffer.concat([d, (0, ledgerWriter_1.writeUint16)(input.knownJetton.jettonId), (0, ledgerWriter_1.writeUint8)(input.knownJetton.workchain)]);\n                }\n                d = Buffer.concat([d, (0, ledgerWriter_1.writeVarUInt)(input.amount)]);\n                b = b.storeCoins(input.amount);\n                d = Buffer.concat([d, (0, ledgerWriter_1.writeAddress)(input.destination)]);\n                b = b.storeAddress(input.destination);\n            }\n            else {\n                d = Buffer.concat([d, (0, ledgerWriter_1.writeAddress)(input.newOwner)]);\n                b = b.storeAddress(input.newOwner);\n            }\n            d = Buffer.concat([d, (0, ledgerWriter_1.writeAddress)(input.responseDestination)]);\n            b = b.storeAddress(input.responseDestination);\n            if (input.customPayload !== null) {\n                d = Buffer.concat([d, (0, ledgerWriter_1.writeUint8)(1), (0, ledgerWriter_1.writeCellRef)(input.customPayload)]);\n                b = b.storeMaybeRef(input.customPayload);\n            }\n            else {\n                d = Buffer.concat([d, (0, ledgerWriter_1.writeUint8)(0)]);\n                b = b.storeMaybeRef(input.customPayload);\n            }\n            d = Buffer.concat([d, (0, ledgerWriter_1.writeVarUInt)(input.forwardAmount)]);\n            b = b.storeCoins(input.forwardAmount);\n            if (input.forwardPayload !== null) {\n                d = Buffer.concat([d, (0, ledgerWriter_1.writeUint8)(1), (0, ledgerWriter_1.writeCellRef)(input.forwardPayload)]);\n                b = b.storeMaybeRef(input.forwardPayload);\n            }\n            else {\n                d = Buffer.concat([d, (0, ledgerWriter_1.writeUint8)(0)]);\n                b = b.storeMaybeRef(input.forwardPayload);\n            }\n            payload = b.endCell();\n            hints = Buffer.concat([\n                hints,\n                (0, ledgerWriter_1.writeUint16)(d.length),\n                d\n            ]);\n            break;\n        }\n        case 'jetton-burn': {\n            hints = Buffer.concat([\n                (0, ledgerWriter_1.writeUint8)(1),\n                (0, ledgerWriter_1.writeUint32)(0x03)\n            ]);\n            let b = (0, core_1.beginCell)()\n                .storeUint(0x595f07bc, 32);\n            let d = Buffer.alloc(0);\n            if (input.queryId !== null) {\n                d = Buffer.concat([d, (0, ledgerWriter_1.writeUint8)(1), (0, ledgerWriter_1.writeUint64)(input.queryId)]);\n                b = b.storeUint(input.queryId, 64);\n            }\n            else {\n                d = Buffer.concat([d, (0, ledgerWriter_1.writeUint8)(0)]);\n                b = b.storeUint(0, 64);\n            }\n            d = Buffer.concat([d, (0, ledgerWriter_1.writeVarUInt)(input.amount)]);\n            b = b.storeCoins(input.amount);\n            d = Buffer.concat([d, (0, ledgerWriter_1.writeAddress)(input.responseDestination)]);\n            b = b.storeAddress(input.responseDestination);\n            if (input.customPayload === null) {\n                d = Buffer.concat([d, (0, ledgerWriter_1.writeUint8)(0)]);\n                b = b.storeMaybeRef(input.customPayload);\n            }\n            else if (input.customPayload instanceof core_1.Cell) {\n                d = Buffer.concat([d, (0, ledgerWriter_1.writeUint8)(1), (0, ledgerWriter_1.writeCellRef)(input.customPayload)]);\n                b = b.storeMaybeRef(input.customPayload);\n            }\n            else {\n                d = Buffer.concat([d, (0, ledgerWriter_1.writeUint8)(2), (0, ledgerWriter_1.writeCellInline)(input.customPayload)]);\n                b = b.storeMaybeRef((0, core_1.beginCell)().storeBuffer(input.customPayload).endCell());\n            }\n            payload = b.endCell();\n            hints = Buffer.concat([\n                hints,\n                (0, ledgerWriter_1.writeUint16)(d.length),\n                d\n            ]);\n            break;\n        }\n        case 'add-whitelist':\n        case 'single-nominator-change-validator': {\n            hints = Buffer.concat([\n                (0, ledgerWriter_1.writeUint8)(1),\n                (0, ledgerWriter_1.writeUint32)(input.type === 'add-whitelist' ? 0x04 : 0x06)\n            ]);\n            let b = (0, core_1.beginCell)()\n                .storeUint(input.type === 'add-whitelist' ? 0x7258a69b : 0x1001, 32);\n            let d = Buffer.alloc(0);\n            if (input.queryId !== null) {\n                d = Buffer.concat([d, (0, ledgerWriter_1.writeUint8)(1), (0, ledgerWriter_1.writeUint64)(input.queryId)]);\n                b = b.storeUint(input.queryId, 64);\n            }\n            else {\n                d = Buffer.concat([d, (0, ledgerWriter_1.writeUint8)(0)]);\n                b = b.storeUint(0, 64);\n            }\n            d = Buffer.concat([d, (0, ledgerWriter_1.writeAddress)(input.address)]);\n            b = b.storeAddress(input.address);\n            payload = b.endCell();\n            hints = Buffer.concat([\n                hints,\n                (0, ledgerWriter_1.writeUint16)(d.length),\n                d\n            ]);\n            break;\n        }\n        case 'single-nominator-withdraw': {\n            hints = Buffer.concat([\n                (0, ledgerWriter_1.writeUint8)(1),\n                (0, ledgerWriter_1.writeUint32)(0x05)\n            ]);\n            let b = (0, core_1.beginCell)()\n                .storeUint(0x1000, 32);\n            let d = Buffer.alloc(0);\n            if (input.queryId !== null) {\n                d = Buffer.concat([d, (0, ledgerWriter_1.writeUint8)(1), (0, ledgerWriter_1.writeUint64)(input.queryId)]);\n                b = b.storeUint(input.queryId, 64);\n            }\n            else {\n                d = Buffer.concat([d, (0, ledgerWriter_1.writeUint8)(0)]);\n                b = b.storeUint(0, 64);\n            }\n            d = Buffer.concat([d, (0, ledgerWriter_1.writeVarUInt)(input.amount)]);\n            b = b.storeCoins(input.amount);\n            payload = b.endCell();\n            hints = Buffer.concat([\n                hints,\n                (0, ledgerWriter_1.writeUint16)(d.length),\n                d\n            ]);\n            break;\n        }\n        case 'tonstakers-deposit': {\n            hints = Buffer.concat([\n                (0, ledgerWriter_1.writeUint8)(1),\n                (0, ledgerWriter_1.writeUint32)(0x07)\n            ]);\n            let b = (0, core_1.beginCell)()\n                .storeUint(0x47d54391, 32);\n            let d = Buffer.alloc(0);\n            if (input.queryId !== null) {\n                d = Buffer.concat([d, (0, ledgerWriter_1.writeUint8)(1), (0, ledgerWriter_1.writeUint64)(input.queryId)]);\n                b = b.storeUint(input.queryId, 64);\n            }\n            else {\n                d = Buffer.concat([d, (0, ledgerWriter_1.writeUint8)(0)]);\n                b = b.storeUint(0, 64);\n            }\n            if (input.appId !== null) {\n                d = Buffer.concat([d, (0, ledgerWriter_1.writeUint8)(1), (0, ledgerWriter_1.writeUint64)(input.appId)]);\n                b = b.storeUint(input.appId, 64);\n            }\n            else {\n                d = Buffer.concat([d, (0, ledgerWriter_1.writeUint8)(0)]);\n            }\n            payload = b.endCell();\n            hints = Buffer.concat([\n                hints,\n                (0, ledgerWriter_1.writeUint16)(d.length),\n                d\n            ]);\n            break;\n        }\n        case 'vote-for-proposal': {\n            hints = Buffer.concat([\n                (0, ledgerWriter_1.writeUint8)(1),\n                (0, ledgerWriter_1.writeUint32)(0x08)\n            ]);\n            let b = (0, core_1.beginCell)()\n                .storeUint(0x69fb306c, 32);\n            let d = Buffer.alloc(0);\n            if (input.queryId !== null) {\n                d = Buffer.concat([d, (0, ledgerWriter_1.writeUint8)(1), (0, ledgerWriter_1.writeUint64)(input.queryId)]);\n                b = b.storeUint(input.queryId, 64);\n            }\n            else {\n                d = Buffer.concat([d, (0, ledgerWriter_1.writeUint8)(0)]);\n                b = b.storeUint(0, 64);\n            }\n            d = Buffer.concat([d, (0, ledgerWriter_1.writeAddress)(input.votingAddress)]);\n            b = b.storeAddress(input.votingAddress);\n            d = Buffer.concat([d, (0, ledgerWriter_1.writeUint48)(input.expirationDate)]);\n            b = b.storeUint(input.expirationDate, 48);\n            d = Buffer.concat([d, (0, ledgerWriter_1.writeUint8)(input.vote ? 1 : 0), (0, ledgerWriter_1.writeUint8)(input.needConfirmation ? 1 : 0)]);\n            b = b.storeBit(input.vote).storeBit(input.needConfirmation);\n            payload = b.endCell();\n            hints = Buffer.concat([\n                hints,\n                (0, ledgerWriter_1.writeUint16)(d.length),\n                d\n            ]);\n            break;\n        }\n        case 'change-dns-record': {\n            hints = Buffer.concat([\n                (0, ledgerWriter_1.writeUint8)(1),\n                (0, ledgerWriter_1.writeUint32)(0x09)\n            ]);\n            let b = (0, core_1.beginCell)()\n                .storeUint(0x4eb1f0f9, 32);\n            let d = Buffer.alloc(0);\n            if (input.queryId !== null) {\n                d = Buffer.concat([d, (0, ledgerWriter_1.writeUint8)(1), (0, ledgerWriter_1.writeUint64)(input.queryId)]);\n                b = b.storeUint(input.queryId, 64);\n            }\n            else {\n                d = Buffer.concat([d, (0, ledgerWriter_1.writeUint8)(0)]);\n                b = b.storeUint(0, 64);\n            }\n            if (input.record.type === 'unknown' && input.record.key.length !== 32) {\n                throw new Error('DNS record key length must be 32 bytes long');\n            }\n            b = b.storeBuffer(input.record.type === 'wallet' ? (0, crypto_1.sha256_sync)('wallet') : input.record.key);\n            d = Buffer.concat([d, (0, ledgerWriter_1.writeUint8)(input.record.value === null ? 0 : 1), (0, ledgerWriter_1.writeUint8)(input.record.type === 'wallet' ? 0 : 1)]);\n            if (input.record.type === 'wallet') {\n                if (input.record.value !== null) {\n                    d = Buffer.concat([d, (0, ledgerWriter_1.writeAddress)(input.record.value.address), (0, ledgerWriter_1.writeUint8)(input.record.value.capabilities === null ? 0 : 1)]);\n                    let rb = (0, core_1.beginCell)().storeUint(0x9fd3, 16).storeAddress(input.record.value.address).storeUint(input.record.value.capabilities === null ? 0 : 1, 8);\n                    if (input.record.value.capabilities !== null) {\n                        d = Buffer.concat([d, (0, ledgerWriter_1.writeUint8)(input.record.value.capabilities.isWallet ? 1 : 0)]);\n                        if (input.record.value.capabilities.isWallet) {\n                            rb = rb.storeBit(true).storeUint(0x2177, 16);\n                        }\n                        rb = rb.storeBit(false);\n                    }\n                    b = b.storeRef(rb);\n                }\n            }\n            else {\n                d = Buffer.concat([d, input.record.key]);\n                if (input.record.value !== null) {\n                    d = Buffer.concat([d, (0, ledgerWriter_1.writeCellRef)(input.record.value)]);\n                    b = b.storeRef(input.record.value);\n                }\n            }\n            payload = b.endCell();\n            hints = Buffer.concat([\n                hints,\n                (0, ledgerWriter_1.writeUint16)(d.length),\n                d\n            ]);\n            break;\n        }\n        case 'token-bridge-pay-swap': {\n            hints = Buffer.concat([\n                (0, ledgerWriter_1.writeUint8)(1),\n                (0, ledgerWriter_1.writeUint32)(0x0A)\n            ]);\n            let b = (0, core_1.beginCell)()\n                .storeUint(8, 32);\n            let d = Buffer.alloc(0);\n            if (input.queryId !== null) {\n                d = Buffer.concat([d, (0, ledgerWriter_1.writeUint8)(1), (0, ledgerWriter_1.writeUint64)(input.queryId)]);\n                b = b.storeUint(input.queryId, 64);\n            }\n            else {\n                d = Buffer.concat([d, (0, ledgerWriter_1.writeUint8)(0)]);\n                b = b.storeUint(0, 64);\n            }\n            if (input.swapId.length !== 32) {\n                throw new Error('Token bridge swap ID must be 32 bytes long');\n            }\n            d = Buffer.concat([d, input.swapId]);\n            b = b.storeBuffer(input.swapId);\n            payload = b.endCell();\n            hints = Buffer.concat([\n                hints,\n                (0, ledgerWriter_1.writeUint16)(d.length),\n                d\n            ]);\n            break;\n        }\n        default: {\n            throw new Error('Unknown payload type: ' + input.type);\n        }\n    }\n    return {\n        payload,\n        hints,\n    };\n}\nclass TonTransport {\n    transport;\n    #lock = new teslabot_1.AsyncLock();\n    constructor(transport) {\n        this.transport = transport;\n    }\n    //\n    // Apps\n    //\n    async #getCurrentApp() {\n        return this.#lock.inLock(async () => {\n            let r = await this.transport.send(LEDGER_SYSTEM, 0x01, 0x00, 0x00, undefined, [0x9000]);\n            let data = r.slice(0, r.length - 2);\n            if (data[0] !== 0x01) {\n                throw Error('Invalid response');\n            }\n            let nameLength = data[1];\n            let name = data.slice(2, 2 + nameLength).toString();\n            let versionLength = data[2 + nameLength];\n            let version = data.slice(3 + nameLength, 3 + nameLength + versionLength).toString();\n            return { name, version };\n        });\n    }\n    async isAppOpen() {\n        return (await this.#getCurrentApp()).name === 'TON';\n    }\n    async getVersion() {\n        let loaded = await this.#doRequest(INS_VERSION, 0x00, 0x00, Buffer.alloc(0));\n        const [major, minor, patch] = loaded;\n        return `${major}.${minor}.${patch}`;\n    }\n    //\n    // Operations\n    //\n    async getAddress(path, opts) {\n        // Check path\n        validatePath(path);\n        // Resolve flags\n        const { bounceable, testOnly, chain, specifiers } = processAddressFlags(opts);\n        // Get public key\n        let response = await this.#doRequest(INS_ADDRESS, 0x00, 0x00, pathElementsToBuffer(path.map((v) => v + 0x80000000)));\n        if (response.length !== 32) {\n            throw Error('Invalid response');\n        }\n        // Contract\n        const contract = (0, getInit_1.getInit)(response, specifiers?.subwalletId ?? 698983191, specifiers?.isV3R2 ?? false);\n        const address = (0, core_1.contractAddress)(chain, contract);\n        return { address: address.toString({ bounceable, testOnly }), publicKey: response };\n    }\n    async validateAddress(path, opts) {\n        // Check path\n        validatePath(path);\n        // Resolve flags\n        const { bounceable, testOnly, chain, flags, specifiers } = processAddressFlags(opts);\n        let r = pathElementsToBuffer(path.map((v) => v + 0x80000000));\n        if (specifiers !== undefined) {\n            r = Buffer.concat([r, (0, ledgerWriter_1.writeUint8)(specifiers.isV3R2 ? 1 : 0), (0, ledgerWriter_1.writeUint32)(specifiers.subwalletId)]);\n        }\n        // Get public key\n        let response = await this.#doRequest(INS_ADDRESS, 0x01, flags, r);\n        if (response.length !== 32) {\n            throw Error('Invalid response');\n        }\n        // Contract\n        const contract = (0, getInit_1.getInit)(response, specifiers?.subwalletId ?? 698983191, specifiers?.isV3R2 ?? false);\n        const address = (0, core_1.contractAddress)(chain, contract);\n        return { address: address.toString({ bounceable, testOnly }), publicKey: response };\n    }\n    async getAddressProof(path, params, opts) {\n        // Check path\n        validatePath(path);\n        let publicKey = (await this.getAddress(path)).publicKey;\n        // Resolve flags\n        const { flags, specifiers } = processAddressFlags(opts);\n        let specifiersBuf = Buffer.alloc(0);\n        if (specifiers !== undefined) {\n            specifiersBuf = Buffer.concat([(0, ledgerWriter_1.writeUint8)(specifiers.isV3R2 ? 1 : 0), (0, ledgerWriter_1.writeUint32)(specifiers.subwalletId)]);\n        }\n        const domainBuf = Buffer.from(params.domain, 'utf-8');\n        const reqBuf = Buffer.concat([\n            pathElementsToBuffer(path.map((v) => v + 0x80000000)),\n            specifiersBuf,\n            (0, ledgerWriter_1.writeUint8)(domainBuf.length),\n            domainBuf,\n            (0, ledgerWriter_1.writeUint64)(BigInt(params.timestamp)),\n            params.payload,\n        ]);\n        // Get public key\n        let res = await this.#doRequest(INS_PROOF, 0x01, flags, reqBuf);\n        let signature = res.slice(1, 1 + 64);\n        let hash = res.slice(2 + 64, 2 + 64 + 32);\n        if (!(0, crypto_1.signVerify)(hash, signature, publicKey)) {\n            throw Error('Received signature is invalid');\n        }\n        return { signature, hash };\n    }\n    async signData(path, req, opts) {\n        validatePath(path);\n        const publicKey = (await this.getAddress(path)).publicKey;\n        const timestamp = opts?.timestamp ?? Math.floor(Date.now() / 1000);\n        let schema;\n        let data;\n        let cell;\n        switch (req.type) {\n            case 'plaintext': {\n                schema = 0x754bf91b;\n                data = Buffer.from(req.text, 'ascii');\n                cell = (0, core_1.beginCell)().storeStringTail(req.text).endCell();\n                break;\n            }\n            case 'app-data': {\n                if (req.address === undefined && req.domain === undefined) {\n                    throw new Error('At least one of `address` and `domain` must be set when using \\'app-data\\' request');\n                }\n                schema = 0x54b58535;\n                let b = (0, core_1.beginCell)();\n                let dp = [];\n                if (req.address !== undefined) {\n                    b.storeBit(1);\n                    b.storeAddress(req.address);\n                    dp.push((0, ledgerWriter_1.writeUint8)(1), (0, ledgerWriter_1.writeAddress)(req.address));\n                }\n                else {\n                    b.storeBit(0);\n                    dp.push((0, ledgerWriter_1.writeUint8)(0));\n                }\n                if (req.domain !== undefined) {\n                    b.storeBit(1);\n                    let inner = (0, core_1.beginCell)();\n                    req.domain.split('.').reverse().forEach(p => {\n                        inner.storeBuffer(Buffer.from(p, 'ascii'));\n                        inner.storeUint(0, 8);\n                    });\n                    b.storeRef(inner);\n                    const db = Buffer.from(req.domain, 'ascii');\n                    dp.push((0, ledgerWriter_1.writeUint8)(1), (0, ledgerWriter_1.writeUint8)(db.length), db);\n                }\n                else {\n                    b.storeBit(0);\n                    dp.push((0, ledgerWriter_1.writeUint8)(0));\n                }\n                b.storeRef(req.data);\n                dp.push((0, ledgerWriter_1.writeCellRef)(req.data));\n                if (req.ext !== undefined) {\n                    b.storeBit(1);\n                    b.storeRef(req.ext);\n                    dp.push((0, ledgerWriter_1.writeUint8)(1), (0, ledgerWriter_1.writeCellRef)(req.ext));\n                }\n                else {\n                    b.storeBit(0);\n                    dp.push((0, ledgerWriter_1.writeUint8)(0));\n                }\n                data = Buffer.concat(dp);\n                cell = b.endCell();\n                break;\n            }\n            default: {\n                throw new Error(`Sign data request type '${req.type}' not supported`);\n            }\n        }\n        const commonPart = Buffer.concat([\n            (0, ledgerWriter_1.writeUint32)(schema),\n            (0, ledgerWriter_1.writeUint64)(BigInt(timestamp)),\n        ]);\n        const pkg = Buffer.concat([\n            commonPart,\n            data,\n        ]);\n        await this.#doRequest(INS_SIGN_DATA, 0x00, 0x03, pathElementsToBuffer(path.map((v) => v + 0x80000000)));\n        const pkgCs = chunks(pkg, 255);\n        for (let i = 0; i < pkgCs.length - 1; i++) {\n            await this.#doRequest(INS_SIGN_DATA, 0x00, 0x02, pkgCs[i]);\n        }\n        const res = await this.#doRequest(INS_SIGN_DATA, 0x00, 0x00, pkgCs[pkgCs.length - 1]);\n        let signature = res.subarray(1, 1 + 64);\n        let hash = res.subarray(2 + 64, 2 + 64 + 32);\n        if (!hash.equals(cell.hash())) {\n            throw Error('Hash mismatch. Expected: ' + cell.hash().toString('hex') + ', got: ' + hash.toString('hex'));\n        }\n        if (!(0, crypto_1.signVerify)(Buffer.concat([commonPart, hash]), signature, publicKey)) {\n            throw Error('Received signature is invalid');\n        }\n        return {\n            signature,\n            cell,\n            timestamp,\n        };\n    }\n    signTransaction = async (path, transaction) => {\n        // Check path\n        validatePath(path);\n        //\n        // Fetch key\n        //\n        let publicKey = (await this.getAddress(path)).publicKey;\n        //\n        // Create package\n        //\n        let pkg = Buffer.concat([\n            (0, ledgerWriter_1.writeUint8)(transaction.walletSpecifiers === undefined ? 0 : 1), // tag\n        ]);\n        if (transaction.walletSpecifiers !== undefined) {\n            pkg = Buffer.concat([\n                pkg,\n                (0, ledgerWriter_1.writeUint32)(transaction.walletSpecifiers.subwalletId ?? DEFAULT_SUBWALLET_ID),\n                (0, ledgerWriter_1.writeUint8)(transaction.walletSpecifiers.includeWalletOp ? 1 : 0),\n            ]);\n        }\n        pkg = Buffer.concat([\n            pkg,\n            (0, ledgerWriter_1.writeUint32)(transaction.seqno),\n            (0, ledgerWriter_1.writeUint32)(transaction.timeout),\n            (0, ledgerWriter_1.writeVarUInt)(transaction.amount),\n            (0, ledgerWriter_1.writeAddress)(transaction.to),\n            (0, ledgerWriter_1.writeUint8)(transaction.bounce ? 1 : 0),\n            (0, ledgerWriter_1.writeUint8)(transaction.sendMode),\n        ]);\n        //\n        // State init\n        //\n        let stateInit = null;\n        if (transaction.stateInit) {\n            stateInit = (0, core_1.beginCell)()\n                .store((0, core_1.storeStateInit)(transaction.stateInit))\n                .endCell();\n            pkg = Buffer.concat([\n                pkg,\n                (0, ledgerWriter_1.writeUint8)(1),\n                (0, ledgerWriter_1.writeUint16)(stateInit.depth()),\n                stateInit.hash()\n            ]);\n        }\n        else {\n            pkg = Buffer.concat([\n                pkg,\n                (0, ledgerWriter_1.writeUint8)(0)\n            ]);\n        }\n        //\n        // Payload\n        //\n        const { payload, hints } = convertPayload(transaction.payload);\n        if (payload) {\n            pkg = Buffer.concat([\n                pkg,\n                (0, ledgerWriter_1.writeUint8)(1),\n                (0, ledgerWriter_1.writeUint16)(payload.depth()),\n                payload.hash(),\n                hints\n            ]);\n        }\n        else {\n            pkg = Buffer.concat([\n                pkg,\n                (0, ledgerWriter_1.writeUint8)(0),\n                (0, ledgerWriter_1.writeUint8)(0)\n            ]);\n        }\n        //\n        // Send package\n        //\n        await this.#doRequest(INS_SIGN_TX, 0x00, 0x03, pathElementsToBuffer(path.map((v) => v + 0x80000000)));\n        const pkgCs = chunks(pkg, 255);\n        for (let i = 0; i < pkgCs.length - 1; i++) {\n            await this.#doRequest(INS_SIGN_TX, 0x00, 0x02, pkgCs[i]);\n        }\n        let res = await this.#doRequest(INS_SIGN_TX, 0x00, 0x00, pkgCs[pkgCs.length - 1]);\n        //\n        // Parse response\n        //\n        let orderBuilder = (0, core_1.beginCell)()\n            .storeBit(0)\n            .storeBit(true)\n            .storeBit(transaction.bounce)\n            .storeBit(false)\n            .storeAddress(null)\n            .storeAddress(transaction.to)\n            .storeCoins(transaction.amount)\n            .storeBit(false)\n            .storeCoins(0)\n            .storeCoins(0)\n            .storeUint(0, 64)\n            .storeUint(0, 32);\n        // State Init\n        if (stateInit) {\n            orderBuilder = orderBuilder\n                .storeBit(true)\n                .storeBit(true) // Always in reference\n                .storeRef(stateInit);\n        }\n        else {\n            orderBuilder = orderBuilder\n                .storeBit(false);\n        }\n        // Payload\n        if (payload) {\n            orderBuilder = orderBuilder\n                .storeBit(true) // Always in reference\n                .storeRef(payload);\n        }\n        else {\n            orderBuilder = orderBuilder\n                .storeBit(false);\n        }\n        // Transfer message\n        let transferB = (0, core_1.beginCell)()\n            .storeUint(transaction.walletSpecifiers?.subwalletId ?? DEFAULT_SUBWALLET_ID, 32)\n            .storeUint(transaction.timeout, 32)\n            .storeUint(transaction.seqno, 32);\n        if (transaction.walletSpecifiers?.includeWalletOp ?? true) {\n            transferB = transferB.storeUint(0, 8);\n        }\n        let transfer = transferB.storeUint(transaction.sendMode, 8)\n            .storeRef(orderBuilder.endCell())\n            .endCell();\n        // Parse result\n        let signature = res.slice(1, 1 + 64);\n        let hash = res.slice(2 + 64, 2 + 64 + 32);\n        if (!hash.equals(transfer.hash())) {\n            throw Error('Hash mismatch. Expected: ' + transfer.hash().toString('hex') + ', got: ' + hash.toString('hex'));\n        }\n        if (!(0, crypto_1.signVerify)(hash, signature, publicKey)) {\n            throw Error('Received signature is invalid');\n        }\n        // Build a message\n        return (0, core_1.beginCell)()\n            .storeBuffer(signature)\n            .storeSlice(transfer.beginParse())\n            .endCell();\n    };\n    async getSettings() {\n        let loaded = await this.#doRequest(INS_SETTINGS, 0x00, 0x00, Buffer.alloc(0));\n        return {\n            blindSigningEnabled: (loaded[0] & 0x01) > 0,\n            expertMode: (loaded[0] & 0x02) > 0,\n        };\n    }\n    #doRequest = async (ins, p1, p2, data) => {\n        return this.#lock.inLock(async () => {\n            let r = await this.transport.send(LEDGER_CLA, ins, p1, p2, data);\n            return r.slice(0, r.length - 2);\n        });\n    };\n}\nexports.TonTransport = TonTransport;\n//\n// Utils\n//\nfunction validatePath(path) {\n    if (path.length < 6) {\n        throw Error('Path is too short');\n    }\n    if (path[0] !== 44) {\n        throw Error('First element of a path must be 44');\n    }\n    if (path[1] !== 607) {\n        throw Error('Second element of a path must be 607');\n    }\n    for (let p of path) {\n        if (p >= 0x80000000) {\n            throw Error('All path elements must be under 0x80000000');\n        }\n    }\n}\nfunction pathElementsToBuffer(paths) {\n    const buffer = Buffer.alloc(1 + paths.length * 4);\n    buffer[0] = paths.length;\n    paths.forEach((element, index) => {\n        buffer.writeUInt32BE(element, 1 + 4 * index);\n    });\n    return buffer;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.KNOWN_JETTONS = exports.parseMessage = exports.TonTransport = void 0;\nvar TonTransport_1 = require(\"./TonTransport\");\nObject.defineProperty(exports, \"TonTransport\", { enumerable: true, get: function () { return TonTransport_1.TonTransport; } });\nObject.defineProperty(exports, \"parseMessage\", { enumerable: true, get: function () { return TonTransport_1.parseMessage; } });\nObject.defineProperty(exports, \"KNOWN_JETTONS\", { enumerable: true, get: function () { return TonTransport_1.KNOWN_JETTONS; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getInit = void 0;\nconst core_1 = require(\"@ton/core\");\nfunction getInit(publicKey, subwalletId, isV3R2) {\n    let data = (0, core_1.beginCell)()\n        .storeUint(0, 32) // Seqno\n        .storeUint(subwalletId, 32)\n        .storeBuffer(publicKey);\n    return {\n        code: isV3R2 ? core_1.Cell.fromBase64('te6cckEBAQEAcQAA3v8AIN0gggFMl7ohggEznLqxn3Gw7UTQ0x/THzHXC//jBOCk8mCDCNcYINMf0x/TH/gjE7vyY+1E0NMf0x/T/9FRMrryoVFEuvKiBPkBVBBV+RDyo/gAkyDXSpbTB9QC+wDo0QGkyMsfyx/L/8ntVBC9ba0=') : core_1.Cell.fromBase64('te6ccgECFAEAAtQAART/APSkE/S88sgLAQIBIAIDAgFIBAUE+PKDCNcYINMf0x/THwL4I7vyZO1E0NMf0x/T//QE0VFDuvKhUVG68qIF+QFUEGT5EPKj+AAkpMjLH1JAyx9SMMv/UhD0AMntVPgPAdMHIcAAn2xRkyDXSpbTB9QC+wDoMOAhwAHjACHAAuMAAcADkTDjDQOkyMsfEssfy/8QERITAubQAdDTAyFxsJJfBOAi10nBIJJfBOAC0x8hghBwbHVnvSKCEGRzdHK9sJJfBeAD+kAwIPpEAcjKB8v/ydDtRNCBAUDXIfQEMFyBAQj0Cm+hMbOSXwfgBdM/yCWCEHBsdWe6kjgw4w0DghBkc3RyupJfBuMNBgcCASAICQB4AfoA9AQw+CdvIjBQCqEhvvLgUIIQcGx1Z4MesXCAGFAEywUmzxZY+gIZ9ADLaRfLH1Jgyz8gyYBA+wAGAIpQBIEBCPRZMO1E0IEBQNcgyAHPFvQAye1UAXKwjiOCEGRzdHKDHrFwgBhQBcsFUAPPFiP6AhPLassfyz/JgED7AJJfA+ICASAKCwBZvSQrb2omhAgKBrkPoCGEcNQICEekk30pkQzmkD6f+YN4EoAbeBAUiYcVnzGEAgFYDA0AEbjJftRNDXCx+AA9sp37UTQgQFA1yH0BDACyMoHy//J0AGBAQj0Cm+hMYAIBIA4PABmtznaiaEAga5Drhf/AABmvHfaiaEAQa5DrhY/AAG7SB/oA1NQi+QAFyMoHFcv/ydB3dIAYyMsFywIizxZQBfoCFMtrEszMyXP7AMhAFIEBCPRR8qcCAHCBAQjXGPoA0z/IVCBHgQEI9FHyp4IQbm90ZXB0gBjIywXLAlAGzxZQBPoCFMtqEssfyz/Jc/sAAgBsgQEI1xj6ANM/MFIkgQEI9Fnyp4IQZHN0cnB0gBjIywXLAlAFzxZQA/oCE8tqyx8Syz/Jc/sAAAr0AMntVA=='),\n        data: isV3R2 ? data.endCell() : data.storeBit(0).endCell(),\n    };\n}\nexports.getInit = getInit;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.writeCellInline = exports.writeCellRef = exports.writeAddress = exports.writeUint8 = exports.writeVarUInt = exports.writeUint64 = exports.writeUint48 = exports.writeUint16 = exports.writeUint32 = void 0;\nconst core_1 = require(\"@ton/core\");\nfunction writeUint32(value) {\n    let b = Buffer.alloc(4);\n    b.writeUint32BE(value, 0);\n    return b;\n}\nexports.writeUint32 = writeUint32;\nfunction writeUint16(value) {\n    let b = Buffer.alloc(2);\n    b.writeUint16BE(value, 0);\n    return b;\n}\nexports.writeUint16 = writeUint16;\nfunction writeUint48(value) {\n    let b = Buffer.alloc(6);\n    b.writeUint16BE(value >> 32, 0);\n    b.writeUint32BE(value & ((1 << 32) - 1), 2);\n    return b;\n}\nexports.writeUint48 = writeUint48;\nfunction writeUint64(value) {\n    return (0, core_1.beginCell)().storeUint(value, 64).endCell().beginParse().loadBuffer(8);\n}\nexports.writeUint64 = writeUint64;\nfunction writeVarUInt(value) {\n    const sizeBytes = value === 0n ? 0 : Math.ceil((value.toString(2).length) / 8);\n    return (0, core_1.beginCell)().storeUint(sizeBytes, 8).storeUint(value, sizeBytes * 8).endCell().beginParse().loadBuffer(1 + sizeBytes);\n}\nexports.writeVarUInt = writeVarUInt;\nfunction writeUint8(value) {\n    let b = Buffer.alloc(1);\n    b[0] = value;\n    return b;\n}\nexports.writeUint8 = writeUint8;\nfunction writeAddress(address) {\n    return Buffer.concat([\n        writeUint8(address.workChain === -1 ? 0xff : address.workChain),\n        address.hash\n    ]);\n}\nexports.writeAddress = writeAddress;\nfunction writeCellRef(ref) {\n    return Buffer.concat([\n        writeUint16(ref.depth()),\n        ref.hash()\n    ]);\n}\nexports.writeCellRef = writeCellRef;\nfunction writeCellInline(bytes) {\n    return Buffer.concat([\n        writeUint8(bytes.length),\n        bytes,\n    ]);\n}\nexports.writeCellInline = writeCellInline;\n","\"use strict\";\n/**\n * Copyright (c) Whales Corp.\n * All Rights Reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BitReader = void 0;\nconst Address_1 = require(\"../address/Address\");\nconst ExternalAddress_1 = require(\"../address/ExternalAddress\");\n/**\n * Class for reading bit strings\n */\nclass BitReader {\n    constructor(bits, offset = 0) {\n        this._checkpoints = [];\n        this._bits = bits;\n        this._offset = offset;\n    }\n    /**\n     * Offset in source bit string\n     */\n    get offset() {\n        return this._offset;\n    }\n    /**\n     * Number of bits remaining\n     */\n    get remaining() {\n        return this._bits.length - this._offset;\n    }\n    /**\n     * Skip bits\n     * @param bits number of bits to skip\n     */\n    skip(bits) {\n        if (bits < 0 || this._offset + bits > this._bits.length) {\n            throw new Error(`Index ${this._offset + bits} is out of bounds`);\n        }\n        this._offset += bits;\n    }\n    /**\n     * Reset to the beginning or latest checkpoint\n     */\n    reset() {\n        if (this._checkpoints.length > 0) {\n            this._offset = this._checkpoints.pop();\n        }\n        else {\n            this._offset = 0;\n        }\n    }\n    /**\n     * Save checkpoint\n     */\n    save() {\n        this._checkpoints.push(this._offset);\n    }\n    /**\n     * Load a single bit\n     * @returns true if the bit is set, false otherwise\n     */\n    loadBit() {\n        let r = this._bits.at(this._offset);\n        this._offset++;\n        return r;\n    }\n    /**\n     * Preload bit\n     * @returns true if the bit is set, false otherwise\n     */\n    preloadBit() {\n        return this._bits.at(this._offset);\n    }\n    /**\n     * Load bit string\n     * @param bits number of bits to read\n     * @returns new bitstring\n     */\n    loadBits(bits) {\n        let r = this._bits.substring(this._offset, bits);\n        this._offset += bits;\n        return r;\n    }\n    /**\n     * Preload bit string\n     * @param bits number of bits to read\n     * @returns new bitstring\n     */\n    preloadBits(bits) {\n        return this._bits.substring(this._offset, bits);\n    }\n    /**\n     * Load buffer\n     * @param bytes number of bytes\n     * @returns new buffer\n     */\n    loadBuffer(bytes) {\n        let buf = this._preloadBuffer(bytes, this._offset);\n        this._offset += bytes * 8;\n        return buf;\n    }\n    /**\n     * Preload buffer\n     * @param bytes number of bytes\n     * @returns new buffer\n     */\n    preloadBuffer(bytes) {\n        return this._preloadBuffer(bytes, this._offset);\n    }\n    /**\n     * Load uint value\n     * @param bits uint bits\n     * @returns read value as number\n     */\n    loadUint(bits) {\n        return this._toSafeInteger(this.loadUintBig(bits), 'loadUintBig');\n    }\n    /**\n     * Load uint value as bigint\n     * @param bits uint bits\n     * @returns read value as bigint\n     */\n    loadUintBig(bits) {\n        let loaded = this.preloadUintBig(bits);\n        this._offset += bits;\n        return loaded;\n    }\n    /**\n     * Preload uint value\n     * @param bits uint bits\n     * @returns read value as number\n     */\n    preloadUint(bits) {\n        return this._toSafeInteger(this._preloadUint(bits, this._offset), 'preloadUintBig');\n    }\n    /**\n     * Preload uint value as bigint\n     * @param bits uint bits\n     * @returns read value as bigint\n     */\n    preloadUintBig(bits) {\n        return this._preloadUint(bits, this._offset);\n    }\n    /**\n     * Load int value\n     * @param bits int bits\n     * @returns read value as bigint\n     */\n    loadInt(bits) {\n        let res = this._preloadInt(bits, this._offset);\n        this._offset += bits;\n        return this._toSafeInteger(res, 'loadUintBig');\n    }\n    /**\n     * Load int value as bigint\n     * @param bits int bits\n     * @returns read value as bigint\n     */\n    loadIntBig(bits) {\n        let res = this._preloadInt(bits, this._offset);\n        this._offset += bits;\n        return res;\n    }\n    /**\n     * Preload int value\n     * @param bits int bits\n     * @returns read value as bigint\n     */\n    preloadInt(bits) {\n        return this._toSafeInteger(this._preloadInt(bits, this._offset), 'preloadIntBig');\n    }\n    /**\n     * Preload int value\n     * @param bits int bits\n     * @returns read value as bigint\n     */\n    preloadIntBig(bits) {\n        return this._preloadInt(bits, this._offset);\n    }\n    /**\n     * Load varuint value\n     * @param bits number of bits to read the size\n     * @returns read value as bigint\n     */\n    loadVarUint(bits) {\n        let size = Number(this.loadUint(bits));\n        return this._toSafeInteger(this.loadUintBig(size * 8), 'loadVarUintBig');\n    }\n    /**\n     * Load varuint value\n     * @param bits number of bits to read the size\n     * @returns read value as bigint\n     */\n    loadVarUintBig(bits) {\n        let size = Number(this.loadUint(bits));\n        return this.loadUintBig(size * 8);\n    }\n    /**\n     * Preload varuint value\n     * @param bits number of bits to read the size\n     * @returns read value as bigint\n     */\n    preloadVarUint(bits) {\n        let size = Number(this._preloadUint(bits, this._offset));\n        return this._toSafeInteger(this._preloadUint(size * 8, this._offset + bits), 'preloadVarUintBig');\n    }\n    /**\n     * Preload varuint value\n     * @param bits number of bits to read the size\n     * @returns read value as bigint\n     */\n    preloadVarUintBig(bits) {\n        let size = Number(this._preloadUint(bits, this._offset));\n        return this._preloadUint(size * 8, this._offset + bits);\n    }\n    /**\n     * Load varint value\n     * @param bits number of bits to read the size\n     * @returns read value as bigint\n     */\n    loadVarInt(bits) {\n        let size = Number(this.loadUint(bits));\n        return this._toSafeInteger(this.loadIntBig(size * 8), 'loadVarIntBig');\n    }\n    /**\n     * Load varint value\n     * @param bits number of bits to read the size\n     * @returns read value as bigint\n     */\n    loadVarIntBig(bits) {\n        let size = Number(this.loadUint(bits));\n        return this.loadIntBig(size * 8);\n    }\n    /**\n     * Preload varint value\n     * @param bits number of bits to read the size\n     * @returns read value as bigint\n     */\n    preloadVarInt(bits) {\n        let size = Number(this._preloadUint(bits, this._offset));\n        return this._toSafeInteger(this._preloadInt(size * 8, this._offset + bits), 'preloadVarIntBig');\n    }\n    /**\n     * Preload varint value\n     * @param bits number of bits to read the size\n     * @returns read value as bigint\n     */\n    preloadVarIntBig(bits) {\n        let size = Number(this._preloadUint(bits, this._offset));\n        return this._preloadInt(size * 8, this._offset + bits);\n    }\n    /**\n     * Load coins value\n     * @returns read value as bigint\n     */\n    loadCoins() {\n        return this.loadVarUintBig(4);\n    }\n    /**\n     * Preload coins value\n     * @returns read value as bigint\n     */\n    preloadCoins() {\n        return this.preloadVarUintBig(4);\n    }\n    /**\n     * Load Address\n     * @returns Address\n     */\n    loadAddress() {\n        let type = Number(this._preloadUint(2, this._offset));\n        if (type === 2) {\n            return this._loadInternalAddress();\n        }\n        else {\n            throw new Error(\"Invalid address: \" + type);\n        }\n    }\n    /**\n     * Load internal address\n     * @returns Address or null\n     */\n    loadMaybeAddress() {\n        let type = Number(this._preloadUint(2, this._offset));\n        if (type === 0) {\n            this._offset += 2;\n            return null;\n        }\n        else if (type === 2) {\n            return this._loadInternalAddress();\n        }\n        else {\n            throw new Error(\"Invalid address\");\n        }\n    }\n    /**\n     * Load external address\n     * @returns ExternalAddress\n     */\n    loadExternalAddress() {\n        let type = Number(this._preloadUint(2, this._offset));\n        if (type === 1) {\n            return this._loadExternalAddress();\n        }\n        else {\n            throw new Error(\"Invalid address\");\n        }\n    }\n    /**\n     * Load external address\n     * @returns ExternalAddress or null\n     */\n    loadMaybeExternalAddress() {\n        let type = Number(this._preloadUint(2, this._offset));\n        if (type === 0) {\n            this._offset += 2;\n            return null;\n        }\n        else if (type === 1) {\n            return this._loadExternalAddress();\n        }\n        else {\n            throw new Error(\"Invalid address\");\n        }\n    }\n    /**\n     * Read address of any type\n     * @returns Address or ExternalAddress or null\n     */\n    loadAddressAny() {\n        let type = Number(this._preloadUint(2, this._offset));\n        if (type === 0) {\n            this._offset += 2;\n            return null;\n        }\n        else if (type === 2) {\n            return this._loadInternalAddress();\n        }\n        else if (type === 1) {\n            return this._loadExternalAddress();\n        }\n        else if (type === 3) {\n            throw Error('Unsupported');\n        }\n        else {\n            throw Error('Unreachable');\n        }\n    }\n    /**\n     * Load bit string that was padded to make it byte alligned. Used in BOC serialization\n     * @param bytes number of bytes to read\n     */\n    loadPaddedBits(bits) {\n        // Check that number of bits is byte alligned\n        if (bits % 8 !== 0) {\n            throw new Error(\"Invalid number of bits\");\n        }\n        // Skip padding\n        let length = bits;\n        while (true) {\n            if (this._bits.at(this._offset + length - 1)) {\n                length--;\n                break;\n            }\n            else {\n                length--;\n            }\n        }\n        // Read substring\n        let r = this._bits.substring(this._offset, length);\n        this._offset += bits;\n        return r;\n    }\n    /**\n     * Clone BitReader\n     */\n    clone() {\n        return new BitReader(this._bits, this._offset);\n    }\n    /**\n     * Preload int from specific offset\n     * @param bits bits to preload\n     * @param offset offset to start from\n     * @returns read value as bigint\n     */\n    _preloadInt(bits, offset) {\n        if (bits == 0) {\n            return 0n;\n        }\n        let sign = this._bits.at(offset);\n        let res = 0n;\n        for (let i = 0; i < bits - 1; i++) {\n            if (this._bits.at(offset + 1 + i)) {\n                res += 1n << BigInt(bits - i - 1 - 1);\n            }\n        }\n        if (sign) {\n            res = res - (1n << BigInt(bits - 1));\n        }\n        return res;\n    }\n    /**\n     * Preload uint from specific offset\n     * @param bits bits to preload\n     * @param offset offset to start from\n     * @returns read value as bigint\n     */\n    _preloadUint(bits, offset) {\n        if (bits == 0) {\n            return 0n;\n        }\n        let res = 0n;\n        for (let i = 0; i < bits; i++) {\n            if (this._bits.at(offset + i)) {\n                res += 1n << BigInt(bits - i - 1);\n            }\n        }\n        return res;\n    }\n    _preloadBuffer(bytes, offset) {\n        // Try to load fast\n        let fastBuffer = this._bits.subbuffer(offset, bytes * 8);\n        if (fastBuffer) {\n            return fastBuffer;\n        }\n        // Load slow\n        let buf = Buffer.alloc(bytes);\n        for (let i = 0; i < bytes; i++) {\n            buf[i] = Number(this._preloadUint(8, offset + i * 8));\n        }\n        return buf;\n    }\n    _loadInternalAddress() {\n        let type = Number(this._preloadUint(2, this._offset));\n        if (type !== 2) {\n            throw Error('Invalid address');\n        }\n        // No Anycast supported\n        if (this._preloadUint(1, this._offset + 2) !== 0n) {\n            throw Error('Invalid address');\n        }\n        // Read address\n        let wc = Number(this._preloadInt(8, this._offset + 3));\n        let hash = this._preloadBuffer(32, this._offset + 11);\n        // Update offset\n        this._offset += 267;\n        return new Address_1.Address(wc, hash);\n    }\n    _loadExternalAddress() {\n        let type = Number(this._preloadUint(2, this._offset));\n        if (type !== 1) {\n            throw Error('Invalid address');\n        }\n        // Load length\n        let bits = Number(this._preloadUint(9, this._offset + 2));\n        // Load address\n        let value = this._preloadUint(bits, this._offset + 11);\n        // Update offset\n        this._offset += 11 + bits;\n        return new ExternalAddress_1.ExternalAddress(value, bits);\n    }\n    _toSafeInteger(src, alt) {\n        if (BigInt(Number.MAX_SAFE_INTEGER) < src || src < BigInt(Number.MIN_SAFE_INTEGER)) {\n            throw new TypeError(`${src} is out of safe integer range. Use ${alt} instead`);\n        }\n        return Number(src);\n    }\n}\nexports.BitReader = BitReader;\n","\"use strict\";\n/**\n * Copyright (c) Whales Corp.\n * All Rights Reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Dictionary = void 0;\nconst Address_1 = require(\"../address/Address\");\nconst Builder_1 = require(\"../boc/Builder\");\nconst Cell_1 = require(\"../boc/Cell\");\nconst BitString_1 = require(\"../boc/BitString\");\nconst generateMerkleProof_1 = require(\"./generateMerkleProof\");\nconst generateMerkleUpdate_1 = require(\"./generateMerkleUpdate\");\nconst parseDict_1 = require(\"./parseDict\");\nconst serializeDict_1 = require(\"./serializeDict\");\nconst internalKeySerializer_1 = require(\"./utils/internalKeySerializer\");\nclass Dictionary {\n    /**\n     * Create an empty map\n     * @param key key type\n     * @param value value type\n     * @returns Dictionary<K, V>\n     */\n    static empty(key, value) {\n        if (key && value) {\n            return new Dictionary(new Map(), key, value);\n        }\n        else {\n            return new Dictionary(new Map(), null, null);\n        }\n    }\n    /**\n     * Load dictionary from slice\n     * @param key key description\n     * @param value value description\n     * @param src slice\n     * @returns Dictionary<K, V>\n     */\n    static load(key, value, sc) {\n        let slice;\n        if (sc instanceof Cell_1.Cell) {\n            if (sc.isExotic) {\n                return Dictionary.empty(key, value);\n            }\n            slice = sc.beginParse();\n        }\n        else {\n            slice = sc;\n        }\n        let cell = slice.loadMaybeRef();\n        if (cell && !cell.isExotic) {\n            return Dictionary.loadDirect(key, value, cell.beginParse());\n        }\n        else {\n            return Dictionary.empty(key, value);\n        }\n    }\n    /**\n     * Low level method for rare dictionaries from system contracts.\n     * Loads dictionary from slice directly without going to the ref.\n     *\n     * @param key key description\n     * @param value value description\n     * @param sc slice\n     * @returns Dictionary<K, V>\n     */\n    static loadDirect(key, value, sc) {\n        if (!sc) {\n            return Dictionary.empty(key, value);\n        }\n        let slice;\n        if (sc instanceof Cell_1.Cell) {\n            slice = sc.beginParse();\n        }\n        else {\n            slice = sc;\n        }\n        let values = (0, parseDict_1.parseDict)(slice, key.bits, value.parse);\n        let prepare = new Map();\n        for (let [k, v] of values) {\n            prepare.set((0, internalKeySerializer_1.serializeInternalKey)(key.parse(k)), v);\n        }\n        return new Dictionary(prepare, key, value);\n    }\n    constructor(values, key, value) {\n        this._key = key;\n        this._value = value;\n        this._map = values;\n    }\n    get size() {\n        return this._map.size;\n    }\n    get(key) {\n        return this._map.get((0, internalKeySerializer_1.serializeInternalKey)(key));\n    }\n    has(key) {\n        return this._map.has((0, internalKeySerializer_1.serializeInternalKey)(key));\n    }\n    set(key, value) {\n        this._map.set((0, internalKeySerializer_1.serializeInternalKey)(key), value);\n        return this;\n    }\n    delete(key) {\n        const k = (0, internalKeySerializer_1.serializeInternalKey)(key);\n        return this._map.delete(k);\n    }\n    clear() {\n        this._map.clear();\n    }\n    *[Symbol.iterator]() {\n        for (const [k, v] of this._map) {\n            const key = (0, internalKeySerializer_1.deserializeInternalKey)(k);\n            yield [key, v];\n        }\n    }\n    keys() {\n        return Array.from(this._map.keys()).map((v) => (0, internalKeySerializer_1.deserializeInternalKey)(v));\n    }\n    values() {\n        return Array.from(this._map.values());\n    }\n    store(builder, key, value) {\n        if (this._map.size === 0) {\n            builder.storeBit(0);\n        }\n        else {\n            // Resolve serializer\n            let resolvedKey = this._key;\n            if (key !== null && key !== undefined) {\n                resolvedKey = key;\n            }\n            let resolvedValue = this._value;\n            if (value !== null && value !== undefined) {\n                resolvedValue = value;\n            }\n            if (!resolvedKey) {\n                throw Error('Key serializer is not defined');\n            }\n            if (!resolvedValue) {\n                throw Error('Value serializer is not defined');\n            }\n            // Prepare map\n            let prepared = new Map();\n            for (const [k, v] of this._map) {\n                prepared.set(resolvedKey.serialize((0, internalKeySerializer_1.deserializeInternalKey)(k)), v);\n            }\n            // Store\n            builder.storeBit(1);\n            let dd = (0, Builder_1.beginCell)();\n            (0, serializeDict_1.serializeDict)(prepared, resolvedKey.bits, resolvedValue.serialize, dd);\n            builder.storeRef(dd.endCell());\n        }\n    }\n    storeDirect(builder, key, value) {\n        if (this._map.size === 0) {\n            throw Error('Cannot store empty dictionary directly');\n        }\n        // Resolve serializer\n        let resolvedKey = this._key;\n        if (key !== null && key !== undefined) {\n            resolvedKey = key;\n        }\n        let resolvedValue = this._value;\n        if (value !== null && value !== undefined) {\n            resolvedValue = value;\n        }\n        if (!resolvedKey) {\n            throw Error('Key serializer is not defined');\n        }\n        if (!resolvedValue) {\n            throw Error('Value serializer is not defined');\n        }\n        // Prepare map\n        let prepared = new Map();\n        for (const [k, v] of this._map) {\n            prepared.set(resolvedKey.serialize((0, internalKeySerializer_1.deserializeInternalKey)(k)), v);\n        }\n        // Store\n        (0, serializeDict_1.serializeDict)(prepared, resolvedKey.bits, resolvedValue.serialize, builder);\n    }\n    /**\n     * Generate merkle proof for multiple keys in the dictionary\n     * @param keys an array of the keys\n     * @returns generated merkle proof cell\n     */\n    generateMerkleProof(keys) {\n        return (0, generateMerkleProof_1.generateMerkleProof)(this, keys, this._key);\n    }\n    /**\n     * Low level method for generating pruned dictionary directly.\n     * The result can be used as a part of a bigger merkle proof\n     * @param keys an array of the keys\n     * @returns cell that contains the pruned dictionary\n     */\n    generateMerkleProofDirect(keys) {\n        return (0, generateMerkleProof_1.generateMerkleProofDirect)(this, keys, this._key);\n    }\n    generateMerkleUpdate(key, newValue) {\n        return (0, generateMerkleUpdate_1.generateMerkleUpdate)(this, key, this._key, newValue);\n    }\n}\nexports.Dictionary = Dictionary;\nDictionary.Keys = {\n    /**\n     * Standard address key\n     * @returns DictionaryKey<Address>\n     */\n    Address: () => {\n        return createAddressKey();\n    },\n    /**\n     * Create standard big integer key\n     * @param bits number of bits\n     * @returns DictionaryKey<bigint>\n     */\n    BigInt: (bits) => {\n        return createBigIntKey(bits);\n    },\n    /**\n     * Create integer key\n     * @param bits bits of integer\n     * @returns DictionaryKey<number>\n     */\n    Int: (bits) => {\n        return createIntKey(bits);\n    },\n    /**\n     * Create standard unsigned big integer key\n     * @param bits number of bits\n     * @returns DictionaryKey<bigint>\n     */\n    BigUint: (bits) => {\n        return createBigUintKey(bits);\n    },\n    /**\n     * Create standard unsigned integer key\n     * @param bits number of bits\n     * @returns DictionaryKey<number>\n     */\n    Uint: (bits) => {\n        return createUintKey(bits);\n    },\n    /**\n     * Create standard buffer key\n     * @param bytes number of bytes of a buffer\n     * @returns DictionaryKey<Buffer>\n     */\n    Buffer: (bytes) => {\n        return createBufferKey(bytes);\n    },\n    /**\n     * Create BitString key\n     * @param bits key length\n     * @returns DictionaryKey<BitString>\n     * Point is that Buffer has to be 8 bit aligned,\n     * while key is TVM dictionary doesn't have to be\n     * aligned at all.\n     */\n    BitString: (bits) => {\n        return createBitStringKey(bits);\n    }\n};\nDictionary.Values = {\n    /**\n     * Create standard integer value\n     * @returns DictionaryValue<bigint>\n     */\n    BigInt: (bits) => {\n        return createBigIntValue(bits);\n    },\n    /**\n     * Create standard integer value\n     * @returns DictionaryValue<number>\n     */\n    Int: (bits) => {\n        return createIntValue(bits);\n    },\n    /**\n     * Create big var int\n     * @param bits nubmer of header bits\n     * @returns DictionaryValue<bigint>\n     */\n    BigVarInt: (bits) => {\n        return createBigVarIntValue(bits);\n    },\n    /**\n     * Create standard unsigned integer value\n     * @param bits number of bits\n     * @returns DictionaryValue<bigint>\n     */\n    BigUint: (bits) => {\n        return createBigUintValue(bits);\n    },\n    /**\n     * Create standard unsigned integer value\n     * @param bits number of bits\n     * @returns DictionaryValue<bigint>\n     */\n    Uint: (bits) => {\n        return createUintValue(bits);\n    },\n    /**\n     * Create big var int\n     * @param bits nubmer of header bits\n     * @returns DictionaryValue<bigint>\n     */\n    BigVarUint: (bits) => {\n        return createBigVarUintValue(bits);\n    },\n    /**\n     * Create standard boolean value\n     * @returns DictionaryValue<boolean>\n     */\n    Bool: () => {\n        return createBooleanValue();\n    },\n    /**\n     * Create standard address value\n     * @returns DictionaryValue<Address>\n     */\n    Address: () => {\n        return createAddressValue();\n    },\n    /**\n     * Create standard cell value\n     * @returns DictionaryValue<Cell>\n     */\n    Cell: () => {\n        return createCellValue();\n    },\n    /**\n     * Create Builder value\n     * @param bytes number of bytes of a buffer\n     * @returns DictionaryValue<Builder>\n     */\n    Buffer: (bytes) => {\n        return createBufferValue(bytes);\n    },\n    /**\n     * Create BitString value\n     * @param requested bit length\n     * @returns DictionaryValue<BitString>\n     * Point is that Buffer is not applicable\n     * when length is not 8 bit alligned.\n     */\n    BitString: (bits) => {\n        return createBitStringValue(bits);\n    },\n    /**\n     * Create dictionary value\n     * @param key\n     * @param value\n     */\n    Dictionary: (key, value) => {\n        return createDictionaryValue(key, value);\n    }\n};\n//\n// Keys and Values\n//\nfunction createAddressKey() {\n    return {\n        bits: 267,\n        serialize: (src) => {\n            if (!Address_1.Address.isAddress(src)) {\n                throw Error('Key is not an address');\n            }\n            return (0, Builder_1.beginCell)().storeAddress(src).endCell().beginParse().preloadUintBig(267);\n        },\n        parse: (src) => {\n            return (0, Builder_1.beginCell)().storeUint(src, 267).endCell().beginParse().loadAddress();\n        }\n    };\n}\nfunction createBigIntKey(bits) {\n    return {\n        bits,\n        serialize: (src) => {\n            if (typeof src !== 'bigint') {\n                throw Error('Key is not a bigint');\n            }\n            return (0, Builder_1.beginCell)().storeInt(src, bits).endCell().beginParse().loadUintBig(bits);\n        },\n        parse: (src) => {\n            return (0, Builder_1.beginCell)().storeUint(src, bits).endCell().beginParse().loadIntBig(bits);\n        }\n    };\n}\nfunction createIntKey(bits) {\n    return {\n        bits: bits,\n        serialize: (src) => {\n            if (typeof src !== 'number') {\n                throw Error('Key is not a number');\n            }\n            if (!Number.isSafeInteger(src)) {\n                throw Error('Key is not a safe integer: ' + src);\n            }\n            return (0, Builder_1.beginCell)().storeInt(src, bits).endCell().beginParse().loadUintBig(bits);\n        },\n        parse: (src) => {\n            return (0, Builder_1.beginCell)().storeUint(src, bits).endCell().beginParse().loadInt(bits);\n        }\n    };\n}\nfunction createBigUintKey(bits) {\n    return {\n        bits,\n        serialize: (src) => {\n            if (typeof src !== 'bigint') {\n                throw Error('Key is not a bigint');\n            }\n            if (src < 0) {\n                throw Error('Key is negative: ' + src);\n            }\n            return (0, Builder_1.beginCell)().storeUint(src, bits).endCell().beginParse().loadUintBig(bits);\n        },\n        parse: (src) => {\n            return (0, Builder_1.beginCell)().storeUint(src, bits).endCell().beginParse().loadUintBig(bits);\n        }\n    };\n}\nfunction createUintKey(bits) {\n    return {\n        bits,\n        serialize: (src) => {\n            if (typeof src !== 'number') {\n                throw Error('Key is not a number');\n            }\n            if (!Number.isSafeInteger(src)) {\n                throw Error('Key is not a safe integer: ' + src);\n            }\n            if (src < 0) {\n                throw Error('Key is negative: ' + src);\n            }\n            return (0, Builder_1.beginCell)().storeUint(src, bits).endCell().beginParse().loadUintBig(bits);\n        },\n        parse: (src) => {\n            return Number((0, Builder_1.beginCell)().storeUint(src, bits).endCell().beginParse().loadUint(bits));\n        }\n    };\n}\nfunction createBufferKey(bytes) {\n    return {\n        bits: bytes * 8,\n        serialize: (src) => {\n            if (!Buffer.isBuffer(src)) {\n                throw Error('Key is not a buffer');\n            }\n            return (0, Builder_1.beginCell)().storeBuffer(src).endCell().beginParse().loadUintBig(bytes * 8);\n        },\n        parse: (src) => {\n            return (0, Builder_1.beginCell)().storeUint(src, bytes * 8).endCell().beginParse().loadBuffer(bytes);\n        }\n    };\n}\nfunction createBitStringKey(bits) {\n    return {\n        bits,\n        serialize: (src) => {\n            if (!BitString_1.BitString.isBitString(src))\n                throw Error('Key is not a BitString');\n            return (0, Builder_1.beginCell)().storeBits(src).endCell().beginParse().loadUintBig(bits);\n        },\n        parse: (src) => {\n            return (0, Builder_1.beginCell)().storeUint(src, bits).endCell().beginParse().loadBits(bits);\n        }\n    };\n}\nfunction createIntValue(bits) {\n    return {\n        serialize: (src, buidler) => {\n            buidler.storeInt(src, bits);\n        },\n        parse: (src) => {\n            return src.loadInt(bits);\n        }\n    };\n}\nfunction createBigIntValue(bits) {\n    return {\n        serialize: (src, buidler) => {\n            buidler.storeInt(src, bits);\n        },\n        parse: (src) => {\n            return src.loadIntBig(bits);\n        }\n    };\n}\nfunction createBigVarIntValue(bits) {\n    return {\n        serialize: (src, buidler) => {\n            buidler.storeVarInt(src, bits);\n        },\n        parse: (src) => {\n            return src.loadVarIntBig(bits);\n        }\n    };\n}\nfunction createBigVarUintValue(bits) {\n    return {\n        serialize: (src, buidler) => {\n            buidler.storeVarUint(src, bits);\n        },\n        parse: (src) => {\n            return src.loadVarUintBig(bits);\n        }\n    };\n}\nfunction createUintValue(bits) {\n    return {\n        serialize: (src, buidler) => {\n            buidler.storeUint(src, bits);\n        },\n        parse: (src) => {\n            return src.loadUint(bits);\n        }\n    };\n}\nfunction createBigUintValue(bits) {\n    return {\n        serialize: (src, buidler) => {\n            buidler.storeUint(src, bits);\n        },\n        parse: (src) => {\n            return src.loadUintBig(bits);\n        }\n    };\n}\nfunction createBooleanValue() {\n    return {\n        serialize: (src, buidler) => {\n            buidler.storeBit(src);\n        },\n        parse: (src) => {\n            return src.loadBit();\n        }\n    };\n}\nfunction createAddressValue() {\n    return {\n        serialize: (src, buidler) => {\n            buidler.storeAddress(src);\n        },\n        parse: (src) => {\n            return src.loadAddress();\n        }\n    };\n}\nfunction createCellValue() {\n    return {\n        serialize: (src, buidler) => {\n            buidler.storeRef(src);\n        },\n        parse: (src) => {\n            return src.loadRef();\n        }\n    };\n}\nfunction createDictionaryValue(key, value) {\n    return {\n        serialize: (src, buidler) => {\n            src.store(buidler);\n        },\n        parse: (src) => {\n            return Dictionary.load(key, value, src);\n        }\n    };\n}\nfunction createBufferValue(size) {\n    return {\n        serialize: (src, buidler) => {\n            if (src.length !== size) {\n                throw Error('Invalid buffer size');\n            }\n            buidler.storeBuffer(src);\n        },\n        parse: (src) => {\n            return src.loadBuffer(size);\n        }\n    };\n}\nfunction createBitStringValue(bits) {\n    return {\n        serialize: (src, builder) => {\n            if (src.length !== bits) {\n                throw Error('Invalid BitString size');\n            }\n            builder.storeBits(src);\n        },\n        parse: (src) => {\n            return src.loadBits(bits);\n        }\n    };\n}\n","\"use strict\";\n/**\n * Copyright (c) Whales Corp.\n * All Rights Reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SendMode = void 0;\nvar SendMode;\n(function (SendMode) {\n    SendMode[SendMode[\"CARRY_ALL_REMAINING_BALANCE\"] = 128] = \"CARRY_ALL_REMAINING_BALANCE\";\n    SendMode[SendMode[\"CARRY_ALL_REMAINING_INCOMING_VALUE\"] = 64] = \"CARRY_ALL_REMAINING_INCOMING_VALUE\";\n    SendMode[SendMode[\"DESTROY_ACCOUNT_IF_ZERO\"] = 32] = \"DESTROY_ACCOUNT_IF_ZERO\";\n    SendMode[SendMode[\"PAY_GAS_SEPARATELY\"] = 1] = \"PAY_GAS_SEPARATELY\";\n    SendMode[SendMode[\"IGNORE_ERRORS\"] = 2] = \"IGNORE_ERRORS\";\n    SendMode[SendMode[\"NONE\"] = 0] = \"NONE\";\n})(SendMode || (exports.SendMode = SendMode = {}));\n","\"use strict\";\n/**\n * Copyright (c) Whales Corp.\n * All Rights Reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getMnemonicsMasterKeyFromSeed = exports.deriveMnemonicHardenedKey = exports.deriveMnemonicsPath = exports.deriveSymmetricPath = exports.deriveSymmetricHardenedKey = exports.getSymmetricMasterKeyFromSeed = exports.deriveEd25519Path = exports.deriveED25519HardenedKey = exports.getED25519MasterKeyFromSeed = exports.signVerify = exports.sign = exports.keyPairFromSecretKey = exports.keyPairFromSeed = exports.openBox = exports.sealBox = exports.mnemonicWordList = exports.mnemonicToHDSeed = exports.mnemonicToSeed = exports.mnemonicToWalletKey = exports.mnemonicToPrivateKey = exports.mnemonicValidate = exports.mnemonicNew = exports.newSecurePassphrase = exports.newSecureWords = exports.getSecureRandomNumber = exports.getSecureRandomWords = exports.getSecureRandomBytes = exports.hmac_sha512 = exports.pbkdf2_sha512 = exports.sha512_sync = exports.sha512 = exports.sha256_sync = exports.sha256 = void 0;\nvar sha256_1 = require(\"./primitives/sha256\");\nObject.defineProperty(exports, \"sha256\", { enumerable: true, get: function () { return sha256_1.sha256; } });\nObject.defineProperty(exports, \"sha256_sync\", { enumerable: true, get: function () { return sha256_1.sha256_sync; } });\nvar sha512_1 = require(\"./primitives/sha512\");\nObject.defineProperty(exports, \"sha512\", { enumerable: true, get: function () { return sha512_1.sha512; } });\nObject.defineProperty(exports, \"sha512_sync\", { enumerable: true, get: function () { return sha512_1.sha512_sync; } });\nvar pbkdf2_sha512_1 = require(\"./primitives/pbkdf2_sha512\");\nObject.defineProperty(exports, \"pbkdf2_sha512\", { enumerable: true, get: function () { return pbkdf2_sha512_1.pbkdf2_sha512; } });\nvar hmac_sha512_1 = require(\"./primitives/hmac_sha512\");\nObject.defineProperty(exports, \"hmac_sha512\", { enumerable: true, get: function () { return hmac_sha512_1.hmac_sha512; } });\nvar getSecureRandom_1 = require(\"./primitives/getSecureRandom\");\nObject.defineProperty(exports, \"getSecureRandomBytes\", { enumerable: true, get: function () { return getSecureRandom_1.getSecureRandomBytes; } });\nObject.defineProperty(exports, \"getSecureRandomWords\", { enumerable: true, get: function () { return getSecureRandom_1.getSecureRandomWords; } });\nObject.defineProperty(exports, \"getSecureRandomNumber\", { enumerable: true, get: function () { return getSecureRandom_1.getSecureRandomNumber; } });\nvar newSecureWords_1 = require(\"./passwords/newSecureWords\");\nObject.defineProperty(exports, \"newSecureWords\", { enumerable: true, get: function () { return newSecureWords_1.newSecureWords; } });\nvar newSecurePassphrase_1 = require(\"./passwords/newSecurePassphrase\");\nObject.defineProperty(exports, \"newSecurePassphrase\", { enumerable: true, get: function () { return newSecurePassphrase_1.newSecurePassphrase; } });\nvar mnemonic_1 = require(\"./mnemonic/mnemonic\");\nObject.defineProperty(exports, \"mnemonicNew\", { enumerable: true, get: function () { return mnemonic_1.mnemonicNew; } });\nObject.defineProperty(exports, \"mnemonicValidate\", { enumerable: true, get: function () { return mnemonic_1.mnemonicValidate; } });\nObject.defineProperty(exports, \"mnemonicToPrivateKey\", { enumerable: true, get: function () { return mnemonic_1.mnemonicToPrivateKey; } });\nObject.defineProperty(exports, \"mnemonicToWalletKey\", { enumerable: true, get: function () { return mnemonic_1.mnemonicToWalletKey; } });\nObject.defineProperty(exports, \"mnemonicToSeed\", { enumerable: true, get: function () { return mnemonic_1.mnemonicToSeed; } });\nObject.defineProperty(exports, \"mnemonicToHDSeed\", { enumerable: true, get: function () { return mnemonic_1.mnemonicToHDSeed; } });\nvar wordlist_1 = require(\"./mnemonic/wordlist\");\nObject.defineProperty(exports, \"mnemonicWordList\", { enumerable: true, get: function () { return wordlist_1.wordlist; } });\nvar nacl_1 = require(\"./primitives/nacl\");\nObject.defineProperty(exports, \"sealBox\", { enumerable: true, get: function () { return nacl_1.sealBox; } });\nObject.defineProperty(exports, \"openBox\", { enumerable: true, get: function () { return nacl_1.openBox; } });\nvar nacl_2 = require(\"./primitives/nacl\");\nObject.defineProperty(exports, \"keyPairFromSeed\", { enumerable: true, get: function () { return nacl_2.keyPairFromSeed; } });\nObject.defineProperty(exports, \"keyPairFromSecretKey\", { enumerable: true, get: function () { return nacl_2.keyPairFromSecretKey; } });\nObject.defineProperty(exports, \"sign\", { enumerable: true, get: function () { return nacl_2.sign; } });\nObject.defineProperty(exports, \"signVerify\", { enumerable: true, get: function () { return nacl_2.signVerify; } });\nvar ed25519_1 = require(\"./hd/ed25519\");\nObject.defineProperty(exports, \"getED25519MasterKeyFromSeed\", { enumerable: true, get: function () { return ed25519_1.getED25519MasterKeyFromSeed; } });\nObject.defineProperty(exports, \"deriveED25519HardenedKey\", { enumerable: true, get: function () { return ed25519_1.deriveED25519HardenedKey; } });\nObject.defineProperty(exports, \"deriveEd25519Path\", { enumerable: true, get: function () { return ed25519_1.deriveEd25519Path; } });\nvar symmetric_1 = require(\"./hd/symmetric\");\nObject.defineProperty(exports, \"getSymmetricMasterKeyFromSeed\", { enumerable: true, get: function () { return symmetric_1.getSymmetricMasterKeyFromSeed; } });\nObject.defineProperty(exports, \"deriveSymmetricHardenedKey\", { enumerable: true, get: function () { return symmetric_1.deriveSymmetricHardenedKey; } });\nObject.defineProperty(exports, \"deriveSymmetricPath\", { enumerable: true, get: function () { return symmetric_1.deriveSymmetricPath; } });\nvar mnemonics_1 = require(\"./hd/mnemonics\");\nObject.defineProperty(exports, \"deriveMnemonicsPath\", { enumerable: true, get: function () { return mnemonics_1.deriveMnemonicsPath; } });\nObject.defineProperty(exports, \"deriveMnemonicHardenedKey\", { enumerable: true, get: function () { return mnemonics_1.deriveMnemonicHardenedKey; } });\nObject.defineProperty(exports, \"getMnemonicsMasterKeyFromSeed\", { enumerable: true, get: function () { return mnemonics_1.getMnemonicsMasterKeyFromSeed; } });\n","const ANY = Symbol('SemVer ANY')\n// hoisted class for cyclic dependency\nclass Comparator {\n  static get ANY () {\n    return ANY\n  }\n\n  constructor (comp, options) {\n    options = parseOptions(options)\n\n    if (comp instanceof Comparator) {\n      if (comp.loose === !!options.loose) {\n        return comp\n      } else {\n        comp = comp.value\n      }\n    }\n\n    comp = comp.trim().split(/\\s+/).join(' ')\n    debug('comparator', comp, options)\n    this.options = options\n    this.loose = !!options.loose\n    this.parse(comp)\n\n    if (this.semver === ANY) {\n      this.value = ''\n    } else {\n      this.value = this.operator + this.semver.version\n    }\n\n    debug('comp', this)\n  }\n\n  parse (comp) {\n    const r = this.options.loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n    const m = comp.match(r)\n\n    if (!m) {\n      throw new TypeError(`Invalid comparator: ${comp}`)\n    }\n\n    this.operator = m[1] !== undefined ? m[1] : ''\n    if (this.operator === '=') {\n      this.operator = ''\n    }\n\n    // if it literally is just '>' or '' then allow anything.\n    if (!m[2]) {\n      this.semver = ANY\n    } else {\n      this.semver = new SemVer(m[2], this.options.loose)\n    }\n  }\n\n  toString () {\n    return this.value\n  }\n\n  test (version) {\n    debug('Comparator.test', version, this.options.loose)\n\n    if (this.semver === ANY || version === ANY) {\n      return true\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    return cmp(version, this.operator, this.semver, this.options)\n  }\n\n  intersects (comp, options) {\n    if (!(comp instanceof Comparator)) {\n      throw new TypeError('a Comparator is required')\n    }\n\n    if (this.operator === '') {\n      if (this.value === '') {\n        return true\n      }\n      return new Range(comp.value, options).test(this.value)\n    } else if (comp.operator === '') {\n      if (comp.value === '') {\n        return true\n      }\n      return new Range(this.value, options).test(comp.semver)\n    }\n\n    options = parseOptions(options)\n\n    // Special cases where nothing can possibly be lower\n    if (options.includePrerelease &&\n      (this.value === '<0.0.0-0' || comp.value === '<0.0.0-0')) {\n      return false\n    }\n    if (!options.includePrerelease &&\n      (this.value.startsWith('<0.0.0') || comp.value.startsWith('<0.0.0'))) {\n      return false\n    }\n\n    // Same direction increasing (> or >=)\n    if (this.operator.startsWith('>') && comp.operator.startsWith('>')) {\n      return true\n    }\n    // Same direction decreasing (< or <=)\n    if (this.operator.startsWith('<') && comp.operator.startsWith('<')) {\n      return true\n    }\n    // same SemVer and both sides are inclusive (<= or >=)\n    if (\n      (this.semver.version === comp.semver.version) &&\n      this.operator.includes('=') && comp.operator.includes('=')) {\n      return true\n    }\n    // opposite directions less than\n    if (cmp(this.semver, '<', comp.semver, options) &&\n      this.operator.startsWith('>') && comp.operator.startsWith('<')) {\n      return true\n    }\n    // opposite directions greater than\n    if (cmp(this.semver, '>', comp.semver, options) &&\n      this.operator.startsWith('<') && comp.operator.startsWith('>')) {\n      return true\n    }\n    return false\n  }\n}\n\nmodule.exports = Comparator\n\nconst parseOptions = require('../internal/parse-options')\nconst { safeRe: re, t } = require('../internal/re')\nconst cmp = require('../functions/cmp')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst Range = require('./range')\n","const SPACE_CHARACTERS = /\\s+/g\n\n// hoisted class for cyclic dependency\nclass Range {\n  constructor (range, options) {\n    options = parseOptions(options)\n\n    if (range instanceof Range) {\n      if (\n        range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease\n      ) {\n        return range\n      } else {\n        return new Range(range.raw, options)\n      }\n    }\n\n    if (range instanceof Comparator) {\n      // just put it in the set and return\n      this.raw = range.value\n      this.set = [[range]]\n      this.formatted = undefined\n      return this\n    }\n\n    this.options = options\n    this.loose = !!options.loose\n    this.includePrerelease = !!options.includePrerelease\n\n    // First reduce all whitespace as much as possible so we do not have to rely\n    // on potentially slow regexes like \\s*. This is then stored and used for\n    // future error messages as well.\n    this.raw = range.trim().replace(SPACE_CHARACTERS, ' ')\n\n    // First, split on ||\n    this.set = this.raw\n      .split('||')\n      // map the range to a 2d array of comparators\n      .map(r => this.parseRange(r.trim()))\n      // throw out any comparator lists that are empty\n      // this generally means that it was not a valid range, which is allowed\n      // in loose mode, but will still throw if the WHOLE range is invalid.\n      .filter(c => c.length)\n\n    if (!this.set.length) {\n      throw new TypeError(`Invalid SemVer Range: ${this.raw}`)\n    }\n\n    // if we have any that are not the null set, throw out null sets.\n    if (this.set.length > 1) {\n      // keep the first one, in case they're all null sets\n      const first = this.set[0]\n      this.set = this.set.filter(c => !isNullSet(c[0]))\n      if (this.set.length === 0) {\n        this.set = [first]\n      } else if (this.set.length > 1) {\n        // if we have any that are *, then the range is just *\n        for (const c of this.set) {\n          if (c.length === 1 && isAny(c[0])) {\n            this.set = [c]\n            break\n          }\n        }\n      }\n    }\n\n    this.formatted = undefined\n  }\n\n  get range () {\n    if (this.formatted === undefined) {\n      this.formatted = ''\n      for (let i = 0; i < this.set.length; i++) {\n        if (i > 0) {\n          this.formatted += '||'\n        }\n        const comps = this.set[i]\n        for (let k = 0; k < comps.length; k++) {\n          if (k > 0) {\n            this.formatted += ' '\n          }\n          this.formatted += comps[k].toString().trim()\n        }\n      }\n    }\n    return this.formatted\n  }\n\n  format () {\n    return this.range\n  }\n\n  toString () {\n    return this.range\n  }\n\n  parseRange (range) {\n    // memoize range parsing for performance.\n    // this is a very hot path, and fully deterministic.\n    const memoOpts =\n      (this.options.includePrerelease && FLAG_INCLUDE_PRERELEASE) |\n      (this.options.loose && FLAG_LOOSE)\n    const memoKey = memoOpts + ':' + range\n    const cached = cache.get(memoKey)\n    if (cached) {\n      return cached\n    }\n\n    const loose = this.options.loose\n    // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n    const hr = loose ? re[t.HYPHENRANGELOOSE] : re[t.HYPHENRANGE]\n    range = range.replace(hr, hyphenReplace(this.options.includePrerelease))\n    debug('hyphen replace', range)\n\n    // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n    range = range.replace(re[t.COMPARATORTRIM], comparatorTrimReplace)\n    debug('comparator trim', range)\n\n    // `~ 1.2.3` => `~1.2.3`\n    range = range.replace(re[t.TILDETRIM], tildeTrimReplace)\n    debug('tilde trim', range)\n\n    // `^ 1.2.3` => `^1.2.3`\n    range = range.replace(re[t.CARETTRIM], caretTrimReplace)\n    debug('caret trim', range)\n\n    // At this point, the range is completely trimmed and\n    // ready to be split into comparators.\n\n    let rangeList = range\n      .split(' ')\n      .map(comp => parseComparator(comp, this.options))\n      .join(' ')\n      .split(/\\s+/)\n      // >=0.0.0 is equivalent to *\n      .map(comp => replaceGTE0(comp, this.options))\n\n    if (loose) {\n      // in loose mode, throw out any that are not valid comparators\n      rangeList = rangeList.filter(comp => {\n        debug('loose invalid filter', comp, this.options)\n        return !!comp.match(re[t.COMPARATORLOOSE])\n      })\n    }\n    debug('range list', rangeList)\n\n    // if any comparators are the null set, then replace with JUST null set\n    // if more than one comparator, remove any * comparators\n    // also, don't include the same comparator more than once\n    const rangeMap = new Map()\n    const comparators = rangeList.map(comp => new Comparator(comp, this.options))\n    for (const comp of comparators) {\n      if (isNullSet(comp)) {\n        return [comp]\n      }\n      rangeMap.set(comp.value, comp)\n    }\n    if (rangeMap.size > 1 && rangeMap.has('')) {\n      rangeMap.delete('')\n    }\n\n    const result = [...rangeMap.values()]\n    cache.set(memoKey, result)\n    return result\n  }\n\n  intersects (range, options) {\n    if (!(range instanceof Range)) {\n      throw new TypeError('a Range is required')\n    }\n\n    return this.set.some((thisComparators) => {\n      return (\n        isSatisfiable(thisComparators, options) &&\n        range.set.some((rangeComparators) => {\n          return (\n            isSatisfiable(rangeComparators, options) &&\n            thisComparators.every((thisComparator) => {\n              return rangeComparators.every((rangeComparator) => {\n                return thisComparator.intersects(rangeComparator, options)\n              })\n            })\n          )\n        })\n      )\n    })\n  }\n\n  // if ANY of the sets match ALL of its comparators, then pass\n  test (version) {\n    if (!version) {\n      return false\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    for (let i = 0; i < this.set.length; i++) {\n      if (testSet(this.set[i], version, this.options)) {\n        return true\n      }\n    }\n    return false\n  }\n}\n\nmodule.exports = Range\n\nconst LRU = require('../internal/lrucache')\nconst cache = new LRU()\n\nconst parseOptions = require('../internal/parse-options')\nconst Comparator = require('./comparator')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst {\n  safeRe: re,\n  t,\n  comparatorTrimReplace,\n  tildeTrimReplace,\n  caretTrimReplace,\n} = require('../internal/re')\nconst { FLAG_INCLUDE_PRERELEASE, FLAG_LOOSE } = require('../internal/constants')\n\nconst isNullSet = c => c.value === '<0.0.0-0'\nconst isAny = c => c.value === ''\n\n// take a set of comparators and determine whether there\n// exists a version which can satisfy it\nconst isSatisfiable = (comparators, options) => {\n  let result = true\n  const remainingComparators = comparators.slice()\n  let testComparator = remainingComparators.pop()\n\n  while (result && remainingComparators.length) {\n    result = remainingComparators.every((otherComparator) => {\n      return testComparator.intersects(otherComparator, options)\n    })\n\n    testComparator = remainingComparators.pop()\n  }\n\n  return result\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nconst parseComparator = (comp, options) => {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nconst isX = id => !id || id.toLowerCase() === 'x' || id === '*'\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0-0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0-0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0-0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0-0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0-0\n// ~0.0.1 --> >=0.0.1 <0.1.0-0\nconst replaceTildes = (comp, options) => {\n  return comp\n    .trim()\n    .split(/\\s+/)\n    .map((c) => replaceTilde(c, options))\n    .join(' ')\n}\n\nconst replaceTilde = (comp, options) => {\n  const r = options.loose ? re[t.TILDELOOSE] : re[t.TILDE]\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('tilde', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0 <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0-0\n      ret = `>=${M}.${m}.0 <${M}.${+m + 1}.0-0`\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = `>=${M}.${m}.${p}-${pr\n      } <${M}.${+m + 1}.0-0`\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0-0\n      ret = `>=${M}.${m}.${p\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0-0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0-0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0-0\n// ^1.2.3 --> >=1.2.3 <2.0.0-0\n// ^1.2.0 --> >=1.2.0 <2.0.0-0\n// ^0.0.1 --> >=0.0.1 <0.0.2-0\n// ^0.1.0 --> >=0.1.0 <0.2.0-0\nconst replaceCarets = (comp, options) => {\n  return comp\n    .trim()\n    .split(/\\s+/)\n    .map((c) => replaceCaret(c, options))\n    .join(' ')\n}\n\nconst replaceCaret = (comp, options) => {\n  debug('caret', comp, options)\n  const r = options.loose ? re[t.CARETLOOSE] : re[t.CARET]\n  const z = options.includePrerelease ? '-0' : ''\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('caret', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0${z} <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = `>=${M}.${m}.0${z} <${M}.${+m + 1}.0-0`\n      } else {\n        ret = `>=${M}.${m}.0${z} <${+M + 1}.0.0-0`\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p}-${pr\n        } <${+M + 1}.0.0-0`\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p\n        } <${+M + 1}.0.0-0`\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nconst replaceXRanges = (comp, options) => {\n  debug('replaceXRanges', comp, options)\n  return comp\n    .split(/\\s+/)\n    .map((c) => replaceXRange(c, options))\n    .join(' ')\n}\n\nconst replaceXRange = (comp, options) => {\n  comp = comp.trim()\n  const r = options.loose ? re[t.XRANGELOOSE] : re[t.XRANGE]\n  return comp.replace(r, (ret, gtlt, M, m, p, pr) => {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    const xM = isX(M)\n    const xm = xM || isX(m)\n    const xp = xm || isX(p)\n    const anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    // if we're including prereleases in the match, then we need\n    // to fix this to -0, the lowest possible prerelease value\n    pr = options.includePrerelease ? '-0' : ''\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0-0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      if (gtlt === '<') {\n        pr = '-0'\n      }\n\n      ret = `${gtlt + M}.${m}.${p}${pr}`\n    } else if (xm) {\n      ret = `>=${M}.0.0${pr} <${+M + 1}.0.0-0`\n    } else if (xp) {\n      ret = `>=${M}.${m}.0${pr\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nconst replaceStars = (comp, options) => {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp\n    .trim()\n    .replace(re[t.STAR], '')\n}\n\nconst replaceGTE0 = (comp, options) => {\n  debug('replaceGTE0', comp, options)\n  return comp\n    .trim()\n    .replace(re[options.includePrerelease ? t.GTE0PRE : t.GTE0], '')\n}\n\n// This function is passed to string.replace(re[t.HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0-0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0-0\n// TODO build?\nconst hyphenReplace = incPr => ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr) => {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = `>=${fM}.0.0${incPr ? '-0' : ''}`\n  } else if (isX(fp)) {\n    from = `>=${fM}.${fm}.0${incPr ? '-0' : ''}`\n  } else if (fpr) {\n    from = `>=${from}`\n  } else {\n    from = `>=${from}${incPr ? '-0' : ''}`\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = `<${+tM + 1}.0.0-0`\n  } else if (isX(tp)) {\n    to = `<${tM}.${+tm + 1}.0-0`\n  } else if (tpr) {\n    to = `<=${tM}.${tm}.${tp}-${tpr}`\n  } else if (incPr) {\n    to = `<${tM}.${tm}.${+tp + 1}-0`\n  } else {\n    to = `<=${to}`\n  }\n\n  return `${from} ${to}`.trim()\n}\n\nconst testSet = (set, version, options) => {\n  for (let i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (let i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === Comparator.ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        const allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n","const debug = require('../internal/debug')\nconst { MAX_LENGTH, MAX_SAFE_INTEGER } = require('../internal/constants')\nconst { safeRe: re, t } = require('../internal/re')\n\nconst parseOptions = require('../internal/parse-options')\nconst { compareIdentifiers } = require('../internal/identifiers')\nclass SemVer {\n  constructor (version, options) {\n    options = parseOptions(options)\n\n    if (version instanceof SemVer) {\n      if (version.loose === !!options.loose &&\n          version.includePrerelease === !!options.includePrerelease) {\n        return version\n      } else {\n        version = version.version\n      }\n    } else if (typeof version !== 'string') {\n      throw new TypeError(`Invalid version. Must be a string. Got type \"${typeof version}\".`)\n    }\n\n    if (version.length > MAX_LENGTH) {\n      throw new TypeError(\n        `version is longer than ${MAX_LENGTH} characters`\n      )\n    }\n\n    debug('SemVer', version, options)\n    this.options = options\n    this.loose = !!options.loose\n    // this isn't actually relevant for versions, but keep it so that we\n    // don't run into trouble passing this.options around.\n    this.includePrerelease = !!options.includePrerelease\n\n    const m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n    if (!m) {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    this.raw = version\n\n    // these are actually numbers\n    this.major = +m[1]\n    this.minor = +m[2]\n    this.patch = +m[3]\n\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n      throw new TypeError('Invalid major version')\n    }\n\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n      throw new TypeError('Invalid minor version')\n    }\n\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n      throw new TypeError('Invalid patch version')\n    }\n\n    // numberify any prerelease numeric ids\n    if (!m[4]) {\n      this.prerelease = []\n    } else {\n      this.prerelease = m[4].split('.').map((id) => {\n        if (/^[0-9]+$/.test(id)) {\n          const num = +id\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\n            return num\n          }\n        }\n        return id\n      })\n    }\n\n    this.build = m[5] ? m[5].split('.') : []\n    this.format()\n  }\n\n  format () {\n    this.version = `${this.major}.${this.minor}.${this.patch}`\n    if (this.prerelease.length) {\n      this.version += `-${this.prerelease.join('.')}`\n    }\n    return this.version\n  }\n\n  toString () {\n    return this.version\n  }\n\n  compare (other) {\n    debug('SemVer.compare', this.version, this.options, other)\n    if (!(other instanceof SemVer)) {\n      if (typeof other === 'string' && other === this.version) {\n        return 0\n      }\n      other = new SemVer(other, this.options)\n    }\n\n    if (other.version === this.version) {\n      return 0\n    }\n\n    return this.compareMain(other) || this.comparePre(other)\n  }\n\n  compareMain (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    return (\n      compareIdentifiers(this.major, other.major) ||\n      compareIdentifiers(this.minor, other.minor) ||\n      compareIdentifiers(this.patch, other.patch)\n    )\n  }\n\n  comparePre (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    // NOT having a prerelease is > having one\n    if (this.prerelease.length && !other.prerelease.length) {\n      return -1\n    } else if (!this.prerelease.length && other.prerelease.length) {\n      return 1\n    } else if (!this.prerelease.length && !other.prerelease.length) {\n      return 0\n    }\n\n    let i = 0\n    do {\n      const a = this.prerelease[i]\n      const b = other.prerelease[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  compareBuild (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    let i = 0\n    do {\n      const a = this.build[i]\n      const b = other.build[i]\n      debug('build compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  // preminor will bump the version up to the next minor release, and immediately\n  // down to pre-release. premajor and prepatch work the same way.\n  inc (release, identifier, identifierBase) {\n    switch (release) {\n      case 'premajor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor = 0\n        this.major++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'preminor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'prepatch':\n        // If this is already a prerelease, it will bump to the next version\n        // drop any prereleases that might already exist, since they are not\n        // relevant at this point.\n        this.prerelease.length = 0\n        this.inc('patch', identifier, identifierBase)\n        this.inc('pre', identifier, identifierBase)\n        break\n      // If the input is a non-prerelease version, this acts the same as\n      // prepatch.\n      case 'prerelease':\n        if (this.prerelease.length === 0) {\n          this.inc('patch', identifier, identifierBase)\n        }\n        this.inc('pre', identifier, identifierBase)\n        break\n\n      case 'major':\n        // If this is a pre-major version, bump up to the same major version.\n        // Otherwise increment major.\n        // 1.0.0-5 bumps to 1.0.0\n        // 1.1.0 bumps to 2.0.0\n        if (\n          this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0\n        ) {\n          this.major++\n        }\n        this.minor = 0\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'minor':\n        // If this is a pre-minor version, bump up to the same minor version.\n        // Otherwise increment minor.\n        // 1.2.0-5 bumps to 1.2.0\n        // 1.2.1 bumps to 1.3.0\n        if (this.patch !== 0 || this.prerelease.length === 0) {\n          this.minor++\n        }\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'patch':\n        // If this is not a pre-release version, it will increment the patch.\n        // If it is a pre-release it will bump up to the same patch version.\n        // 1.2.0-5 patches to 1.2.0\n        // 1.2.0 patches to 1.2.1\n        if (this.prerelease.length === 0) {\n          this.patch++\n        }\n        this.prerelease = []\n        break\n      // This probably shouldn't be used publicly.\n      // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n      case 'pre': {\n        const base = Number(identifierBase) ? 1 : 0\n\n        if (!identifier && identifierBase === false) {\n          throw new Error('invalid increment argument: identifier is empty')\n        }\n\n        if (this.prerelease.length === 0) {\n          this.prerelease = [base]\n        } else {\n          let i = this.prerelease.length\n          while (--i >= 0) {\n            if (typeof this.prerelease[i] === 'number') {\n              this.prerelease[i]++\n              i = -2\n            }\n          }\n          if (i === -1) {\n            // didn't increment anything\n            if (identifier === this.prerelease.join('.') && identifierBase === false) {\n              throw new Error('invalid increment argument: identifier already exists')\n            }\n            this.prerelease.push(base)\n          }\n        }\n        if (identifier) {\n          // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n          // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n          let prerelease = [identifier, base]\n          if (identifierBase === false) {\n            prerelease = [identifier]\n          }\n          if (compareIdentifiers(this.prerelease[0], identifier) === 0) {\n            if (isNaN(this.prerelease[1])) {\n              this.prerelease = prerelease\n            }\n          } else {\n            this.prerelease = prerelease\n          }\n        }\n        break\n      }\n      default:\n        throw new Error(`invalid increment argument: ${release}`)\n    }\n    this.raw = this.format()\n    if (this.build.length) {\n      this.raw += `+${this.build.join('.')}`\n    }\n    return this\n  }\n}\n\nmodule.exports = SemVer\n","const parse = require('./parse')\nconst clean = (version, options) => {\n  const s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\nmodule.exports = clean\n","const eq = require('./eq')\nconst neq = require('./neq')\nconst gt = require('./gt')\nconst gte = require('./gte')\nconst lt = require('./lt')\nconst lte = require('./lte')\n\nconst cmp = (a, op, b, loose) => {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object') {\n        a = a.version\n      }\n      if (typeof b === 'object') {\n        b = b.version\n      }\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object') {\n        a = a.version\n      }\n      if (typeof b === 'object') {\n        b = b.version\n      }\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError(`Invalid operator: ${op}`)\n  }\n}\nmodule.exports = cmp\n","const SemVer = require('../classes/semver')\nconst parse = require('./parse')\nconst { safeRe: re, t } = require('../internal/re')\n\nconst coerce = (version, options) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version === 'number') {\n    version = String(version)\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  options = options || {}\n\n  let match = null\n  if (!options.rtl) {\n    match = version.match(options.includePrerelease ? re[t.COERCEFULL] : re[t.COERCE])\n  } else {\n    // Find the right-most coercible string that does not share\n    // a terminus with a more left-ward coercible string.\n    // Eg, '1.2.3.4' wants to coerce '2.3.4', not '3.4' or '4'\n    // With includePrerelease option set, '1.2.3.4-rc' wants to coerce '2.3.4-rc', not '2.3.4'\n    //\n    // Walk through the string checking with a /g regexp\n    // Manually set the index so as to pick up overlapping matches.\n    // Stop when we get a match that ends at the string end, since no\n    // coercible string can be more right-ward without the same terminus.\n    const coerceRtlRegex = options.includePrerelease ? re[t.COERCERTLFULL] : re[t.COERCERTL]\n    let next\n    while ((next = coerceRtlRegex.exec(version)) &&\n        (!match || match.index + match[0].length !== version.length)\n    ) {\n      if (!match ||\n            next.index + next[0].length !== match.index + match[0].length) {\n        match = next\n      }\n      coerceRtlRegex.lastIndex = next.index + next[1].length + next[2].length\n    }\n    // leave it in a clean state\n    coerceRtlRegex.lastIndex = -1\n  }\n\n  if (match === null) {\n    return null\n  }\n\n  const major = match[2]\n  const minor = match[3] || '0'\n  const patch = match[4] || '0'\n  const prerelease = options.includePrerelease && match[5] ? `-${match[5]}` : ''\n  const build = options.includePrerelease && match[6] ? `+${match[6]}` : ''\n\n  return parse(`${major}.${minor}.${patch}${prerelease}${build}`, options)\n}\nmodule.exports = coerce\n","const SemVer = require('../classes/semver')\nconst compareBuild = (a, b, loose) => {\n  const versionA = new SemVer(a, loose)\n  const versionB = new SemVer(b, loose)\n  return versionA.compare(versionB) || versionA.compareBuild(versionB)\n}\nmodule.exports = compareBuild\n","const compare = require('./compare')\nconst compareLoose = (a, b) => compare(a, b, true)\nmodule.exports = compareLoose\n","const SemVer = require('../classes/semver')\nconst compare = (a, b, loose) =>\n  new SemVer(a, loose).compare(new SemVer(b, loose))\n\nmodule.exports = compare\n","const parse = require('./parse.js')\n\nconst diff = (version1, version2) => {\n  const v1 = parse(version1, null, true)\n  const v2 = parse(version2, null, true)\n  const comparison = v1.compare(v2)\n\n  if (comparison === 0) {\n    return null\n  }\n\n  const v1Higher = comparison > 0\n  const highVersion = v1Higher ? v1 : v2\n  const lowVersion = v1Higher ? v2 : v1\n  const highHasPre = !!highVersion.prerelease.length\n  const lowHasPre = !!lowVersion.prerelease.length\n\n  if (lowHasPre && !highHasPre) {\n    // Going from prerelease -> no prerelease requires some special casing\n\n    // If the low version has only a major, then it will always be a major\n    // Some examples:\n    // 1.0.0-1 -> 1.0.0\n    // 1.0.0-1 -> 1.1.1\n    // 1.0.0-1 -> 2.0.0\n    if (!lowVersion.patch && !lowVersion.minor) {\n      return 'major'\n    }\n\n    // Otherwise it can be determined by checking the high version\n\n    if (highVersion.patch) {\n      // anything higher than a patch bump would result in the wrong version\n      return 'patch'\n    }\n\n    if (highVersion.minor) {\n      // anything higher than a minor bump would result in the wrong version\n      return 'minor'\n    }\n\n    // bumping major/minor/patch all have same result\n    return 'major'\n  }\n\n  // add the `pre` prefix if we are going to a prerelease version\n  const prefix = highHasPre ? 'pre' : ''\n\n  if (v1.major !== v2.major) {\n    return prefix + 'major'\n  }\n\n  if (v1.minor !== v2.minor) {\n    return prefix + 'minor'\n  }\n\n  if (v1.patch !== v2.patch) {\n    return prefix + 'patch'\n  }\n\n  // high and low are preleases\n  return 'prerelease'\n}\n\nmodule.exports = diff\n","const compare = require('./compare')\nconst eq = (a, b, loose) => compare(a, b, loose) === 0\nmodule.exports = eq\n","const compare = require('./compare')\nconst gt = (a, b, loose) => compare(a, b, loose) > 0\nmodule.exports = gt\n","const compare = require('./compare')\nconst gte = (a, b, loose) => compare(a, b, loose) >= 0\nmodule.exports = gte\n","const SemVer = require('../classes/semver')\n\nconst inc = (version, release, options, identifier, identifierBase) => {\n  if (typeof (options) === 'string') {\n    identifierBase = identifier\n    identifier = options\n    options = undefined\n  }\n\n  try {\n    return new SemVer(\n      version instanceof SemVer ? version.version : version,\n      options\n    ).inc(release, identifier, identifierBase).version\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = inc\n","const compare = require('./compare')\nconst lt = (a, b, loose) => compare(a, b, loose) < 0\nmodule.exports = lt\n","const compare = require('./compare')\nconst lte = (a, b, loose) => compare(a, b, loose) <= 0\nmodule.exports = lte\n","const SemVer = require('../classes/semver')\nconst major = (a, loose) => new SemVer(a, loose).major\nmodule.exports = major\n","const SemVer = require('../classes/semver')\nconst minor = (a, loose) => new SemVer(a, loose).minor\nmodule.exports = minor\n","const compare = require('./compare')\nconst neq = (a, b, loose) => compare(a, b, loose) !== 0\nmodule.exports = neq\n","const SemVer = require('../classes/semver')\nconst parse = (version, options, throwErrors = false) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    if (!throwErrors) {\n      return null\n    }\n    throw er\n  }\n}\n\nmodule.exports = parse\n","const SemVer = require('../classes/semver')\nconst patch = (a, loose) => new SemVer(a, loose).patch\nmodule.exports = patch\n","const parse = require('./parse')\nconst prerelease = (version, options) => {\n  const parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\nmodule.exports = prerelease\n","const compare = require('./compare')\nconst rcompare = (a, b, loose) => compare(b, a, loose)\nmodule.exports = rcompare\n","const compareBuild = require('./compare-build')\nconst rsort = (list, loose) => list.sort((a, b) => compareBuild(b, a, loose))\nmodule.exports = rsort\n","const Range = require('../classes/range')\nconst satisfies = (version, range, options) => {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\nmodule.exports = satisfies\n","const compareBuild = require('./compare-build')\nconst sort = (list, loose) => list.sort((a, b) => compareBuild(a, b, loose))\nmodule.exports = sort\n","const parse = require('./parse')\nconst valid = (version, options) => {\n  const v = parse(version, options)\n  return v ? v.version : null\n}\nmodule.exports = valid\n","// just pre-load all the stuff that index.js lazily exports\nconst internalRe = require('./internal/re')\nconst constants = require('./internal/constants')\nconst SemVer = require('./classes/semver')\nconst identifiers = require('./internal/identifiers')\nconst parse = require('./functions/parse')\nconst valid = require('./functions/valid')\nconst clean = require('./functions/clean')\nconst inc = require('./functions/inc')\nconst diff = require('./functions/diff')\nconst major = require('./functions/major')\nconst minor = require('./functions/minor')\nconst patch = require('./functions/patch')\nconst prerelease = require('./functions/prerelease')\nconst compare = require('./functions/compare')\nconst rcompare = require('./functions/rcompare')\nconst compareLoose = require('./functions/compare-loose')\nconst compareBuild = require('./functions/compare-build')\nconst sort = require('./functions/sort')\nconst rsort = require('./functions/rsort')\nconst gt = require('./functions/gt')\nconst lt = require('./functions/lt')\nconst eq = require('./functions/eq')\nconst neq = require('./functions/neq')\nconst gte = require('./functions/gte')\nconst lte = require('./functions/lte')\nconst cmp = require('./functions/cmp')\nconst coerce = require('./functions/coerce')\nconst Comparator = require('./classes/comparator')\nconst Range = require('./classes/range')\nconst satisfies = require('./functions/satisfies')\nconst toComparators = require('./ranges/to-comparators')\nconst maxSatisfying = require('./ranges/max-satisfying')\nconst minSatisfying = require('./ranges/min-satisfying')\nconst minVersion = require('./ranges/min-version')\nconst validRange = require('./ranges/valid')\nconst outside = require('./ranges/outside')\nconst gtr = require('./ranges/gtr')\nconst ltr = require('./ranges/ltr')\nconst intersects = require('./ranges/intersects')\nconst simplifyRange = require('./ranges/simplify')\nconst subset = require('./ranges/subset')\nmodule.exports = {\n  parse,\n  valid,\n  clean,\n  inc,\n  diff,\n  major,\n  minor,\n  patch,\n  prerelease,\n  compare,\n  rcompare,\n  compareLoose,\n  compareBuild,\n  sort,\n  rsort,\n  gt,\n  lt,\n  eq,\n  neq,\n  gte,\n  lte,\n  cmp,\n  coerce,\n  Comparator,\n  Range,\n  satisfies,\n  toComparators,\n  maxSatisfying,\n  minSatisfying,\n  minVersion,\n  validRange,\n  outside,\n  gtr,\n  ltr,\n  intersects,\n  simplifyRange,\n  subset,\n  SemVer,\n  re: internalRe.re,\n  src: internalRe.src,\n  tokens: internalRe.t,\n  SEMVER_SPEC_VERSION: constants.SEMVER_SPEC_VERSION,\n  RELEASE_TYPES: constants.RELEASE_TYPES,\n  compareIdentifiers: identifiers.compareIdentifiers,\n  rcompareIdentifiers: identifiers.rcompareIdentifiers,\n}\n","// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nconst SEMVER_SPEC_VERSION = '2.0.0'\n\nconst MAX_LENGTH = 256\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n/* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nconst MAX_SAFE_COMPONENT_LENGTH = 16\n\n// Max safe length for a build identifier. The max length minus 6 characters for\n// the shortest version with a build 0.0.0+BUILD.\nconst MAX_SAFE_BUILD_LENGTH = MAX_LENGTH - 6\n\nconst RELEASE_TYPES = [\n  'major',\n  'premajor',\n  'minor',\n  'preminor',\n  'patch',\n  'prepatch',\n  'prerelease',\n]\n\nmodule.exports = {\n  MAX_LENGTH,\n  MAX_SAFE_COMPONENT_LENGTH,\n  MAX_SAFE_BUILD_LENGTH,\n  MAX_SAFE_INTEGER,\n  RELEASE_TYPES,\n  SEMVER_SPEC_VERSION,\n  FLAG_INCLUDE_PRERELEASE: 0b001,\n  FLAG_LOOSE: 0b010,\n}\n","const debug = (\n  typeof process === 'object' &&\n  process.env &&\n  process.env.NODE_DEBUG &&\n  /\\bsemver\\b/i.test(process.env.NODE_DEBUG)\n) ? (...args) => console.error('SEMVER', ...args)\n  : () => {}\n\nmodule.exports = debug\n","const numeric = /^[0-9]+$/\nconst compareIdentifiers = (a, b) => {\n  const anum = numeric.test(a)\n  const bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nconst rcompareIdentifiers = (a, b) => compareIdentifiers(b, a)\n\nmodule.exports = {\n  compareIdentifiers,\n  rcompareIdentifiers,\n}\n","class LRUCache {\n  constructor () {\n    this.max = 1000\n    this.map = new Map()\n  }\n\n  get (key) {\n    const value = this.map.get(key)\n    if (value === undefined) {\n      return undefined\n    } else {\n      // Remove the key from the map and add it to the end\n      this.map.delete(key)\n      this.map.set(key, value)\n      return value\n    }\n  }\n\n  delete (key) {\n    return this.map.delete(key)\n  }\n\n  set (key, value) {\n    const deleted = this.delete(key)\n\n    if (!deleted && value !== undefined) {\n      // If cache is full, delete the least recently used item\n      if (this.map.size >= this.max) {\n        const firstKey = this.map.keys().next().value\n        this.delete(firstKey)\n      }\n\n      this.map.set(key, value)\n    }\n\n    return this\n  }\n}\n\nmodule.exports = LRUCache\n","// parse out just the options we care about\nconst looseOption = Object.freeze({ loose: true })\nconst emptyOpts = Object.freeze({ })\nconst parseOptions = options => {\n  if (!options) {\n    return emptyOpts\n  }\n\n  if (typeof options !== 'object') {\n    return looseOption\n  }\n\n  return options\n}\nmodule.exports = parseOptions\n","const {\n  MAX_SAFE_COMPONENT_LENGTH,\n  MAX_SAFE_BUILD_LENGTH,\n  MAX_LENGTH,\n} = require('./constants')\nconst debug = require('./debug')\nexports = module.exports = {}\n\n// The actual regexps go on exports.re\nconst re = exports.re = []\nconst safeRe = exports.safeRe = []\nconst src = exports.src = []\nconst t = exports.t = {}\nlet R = 0\n\nconst LETTERDASHNUMBER = '[a-zA-Z0-9-]'\n\n// Replace some greedy regex tokens to prevent regex dos issues. These regex are\n// used internally via the safeRe object since all inputs in this library get\n// normalized first to trim and collapse all extra whitespace. The original\n// regexes are exported for userland consumption and lower level usage. A\n// future breaking change could export the safer regex only with a note that\n// all input should have extra whitespace removed.\nconst safeRegexReplacements = [\n  ['\\\\s', 1],\n  ['\\\\d', MAX_LENGTH],\n  [LETTERDASHNUMBER, MAX_SAFE_BUILD_LENGTH],\n]\n\nconst makeSafeRegex = (value) => {\n  for (const [token, max] of safeRegexReplacements) {\n    value = value\n      .split(`${token}*`).join(`${token}{0,${max}}`)\n      .split(`${token}+`).join(`${token}{1,${max}}`)\n  }\n  return value\n}\n\nconst createToken = (name, value, isGlobal) => {\n  const safe = makeSafeRegex(value)\n  const index = R++\n  debug(name, index, value)\n  t[name] = index\n  src[index] = value\n  re[index] = new RegExp(value, isGlobal ? 'g' : undefined)\n  safeRe[index] = new RegExp(safe, isGlobal ? 'g' : undefined)\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ncreateToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*')\ncreateToken('NUMERICIDENTIFIERLOOSE', '\\\\d+')\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ncreateToken('NONNUMERICIDENTIFIER', `\\\\d*[a-zA-Z-]${LETTERDASHNUMBER}*`)\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ncreateToken('MAINVERSION', `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('MAINVERSIONLOOSE', `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\ncreateToken('PRERELEASEIDENTIFIER', `(?:${src[t.NUMERICIDENTIFIER]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\ncreateToken('PRERELEASEIDENTIFIERLOOSE', `(?:${src[t.NUMERICIDENTIFIERLOOSE]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ncreateToken('PRERELEASE', `(?:-(${src[t.PRERELEASEIDENTIFIER]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`)\n\ncreateToken('PRERELEASELOOSE', `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`)\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ncreateToken('BUILDIDENTIFIER', `${LETTERDASHNUMBER}+`)\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ncreateToken('BUILD', `(?:\\\\+(${src[t.BUILDIDENTIFIER]\n}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`)\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ncreateToken('FULLPLAIN', `v?${src[t.MAINVERSION]\n}${src[t.PRERELEASE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('FULL', `^${src[t.FULLPLAIN]}$`)\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ncreateToken('LOOSEPLAIN', `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]\n}${src[t.PRERELEASELOOSE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('LOOSE', `^${src[t.LOOSEPLAIN]}$`)\n\ncreateToken('GTLT', '((?:<|>)?=?)')\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ncreateToken('XRANGEIDENTIFIERLOOSE', `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`)\ncreateToken('XRANGEIDENTIFIER', `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`)\n\ncreateToken('XRANGEPLAIN', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:${src[t.PRERELEASE]})?${\n                     src[t.BUILD]}?` +\n                   `)?)?`)\n\ncreateToken('XRANGEPLAINLOOSE', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:${src[t.PRERELEASELOOSE]})?${\n                          src[t.BUILD]}?` +\n                        `)?)?`)\n\ncreateToken('XRANGE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`)\ncreateToken('XRANGELOOSE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ncreateToken('COERCEPLAIN', `${'(^|[^\\\\d])' +\n              '(\\\\d{1,'}${MAX_SAFE_COMPONENT_LENGTH}})` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?`)\ncreateToken('COERCE', `${src[t.COERCEPLAIN]}(?:$|[^\\\\d])`)\ncreateToken('COERCEFULL', src[t.COERCEPLAIN] +\n              `(?:${src[t.PRERELEASE]})?` +\n              `(?:${src[t.BUILD]})?` +\n              `(?:$|[^\\\\d])`)\ncreateToken('COERCERTL', src[t.COERCE], true)\ncreateToken('COERCERTLFULL', src[t.COERCEFULL], true)\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ncreateToken('LONETILDE', '(?:~>?)')\n\ncreateToken('TILDETRIM', `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true)\nexports.tildeTrimReplace = '$1~'\n\ncreateToken('TILDE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('TILDELOOSE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ncreateToken('LONECARET', '(?:\\\\^)')\n\ncreateToken('CARETTRIM', `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true)\nexports.caretTrimReplace = '$1^'\n\ncreateToken('CARET', `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('CARETLOOSE', `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ncreateToken('COMPARATORLOOSE', `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`)\ncreateToken('COMPARATOR', `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`)\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ncreateToken('COMPARATORTRIM', `(\\\\s*)${src[t.GTLT]\n}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true)\nexports.comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ncreateToken('HYPHENRANGE', `^\\\\s*(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s+-\\\\s+` +\n                   `(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s*$`)\n\ncreateToken('HYPHENRANGELOOSE', `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s+-\\\\s+` +\n                        `(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s*$`)\n\n// Star ranges basically just allow anything at all.\ncreateToken('STAR', '(<|>)?=?\\\\s*\\\\*')\n// >=0.0.0 is like a star\ncreateToken('GTE0', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0\\\\s*$')\ncreateToken('GTE0PRE', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0-0\\\\s*$')\n","// Determine if version is greater than all the versions possible in the range.\nconst outside = require('./outside')\nconst gtr = (version, range, options) => outside(version, range, '>', options)\nmodule.exports = gtr\n","const Range = require('../classes/range')\nconst intersects = (r1, r2, options) => {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2, options)\n}\nmodule.exports = intersects\n","const outside = require('./outside')\n// Determine if version is less than all the versions possible in the range\nconst ltr = (version, range, options) => outside(version, range, '<', options)\nmodule.exports = ltr\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\n\nconst maxSatisfying = (versions, range, options) => {\n  let max = null\n  let maxSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\nmodule.exports = maxSatisfying\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst minSatisfying = (versions, range, options) => {\n  let min = null\n  let minSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\nmodule.exports = minSatisfying\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst gt = require('../functions/gt')\n\nconst minVersion = (range, loose) => {\n  range = new Range(range, loose)\n\n  let minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let setMin = null\n    comparators.forEach((comparator) => {\n      // Clone to avoid manipulating the comparator's semver object.\n      const compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!setMin || gt(compver, setMin)) {\n            setMin = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error(`Unexpected operation: ${comparator.operator}`)\n      }\n    })\n    if (setMin && (!minver || gt(minver, setMin))) {\n      minver = setMin\n    }\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\nmodule.exports = minVersion\n","const SemVer = require('../classes/semver')\nconst Comparator = require('../classes/comparator')\nconst { ANY } = Comparator\nconst Range = require('../classes/range')\nconst satisfies = require('../functions/satisfies')\nconst gt = require('../functions/gt')\nconst lt = require('../functions/lt')\nconst lte = require('../functions/lte')\nconst gte = require('../functions/gte')\n\nconst outside = (version, range, hilo, options) => {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  let gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisfies the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let high = null\n    let low = null\n\n    comparators.forEach((comparator) => {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nmodule.exports = outside\n","// given a set of versions and a range, create a \"simplified\" range\n// that includes the same versions that the original range does\n// If the original range is shorter than the simplified one, return that.\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\nmodule.exports = (versions, range, options) => {\n  const set = []\n  let first = null\n  let prev = null\n  const v = versions.sort((a, b) => compare(a, b, options))\n  for (const version of v) {\n    const included = satisfies(version, range, options)\n    if (included) {\n      prev = version\n      if (!first) {\n        first = version\n      }\n    } else {\n      if (prev) {\n        set.push([first, prev])\n      }\n      prev = null\n      first = null\n    }\n  }\n  if (first) {\n    set.push([first, null])\n  }\n\n  const ranges = []\n  for (const [min, max] of set) {\n    if (min === max) {\n      ranges.push(min)\n    } else if (!max && min === v[0]) {\n      ranges.push('*')\n    } else if (!max) {\n      ranges.push(`>=${min}`)\n    } else if (min === v[0]) {\n      ranges.push(`<=${max}`)\n    } else {\n      ranges.push(`${min} - ${max}`)\n    }\n  }\n  const simplified = ranges.join(' || ')\n  const original = typeof range.raw === 'string' ? range.raw : String(range)\n  return simplified.length < original.length ? simplified : range\n}\n","const Range = require('../classes/range.js')\nconst Comparator = require('../classes/comparator.js')\nconst { ANY } = Comparator\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\n\n// Complex range `r1 || r2 || ...` is a subset of `R1 || R2 || ...` iff:\n// - Every simple range `r1, r2, ...` is a null set, OR\n// - Every simple range `r1, r2, ...` which is not a null set is a subset of\n//   some `R1, R2, ...`\n//\n// Simple range `c1 c2 ...` is a subset of simple range `C1 C2 ...` iff:\n// - If c is only the ANY comparator\n//   - If C is only the ANY comparator, return true\n//   - Else if in prerelease mode, return false\n//   - else replace c with `[>=0.0.0]`\n// - If C is only the ANY comparator\n//   - if in prerelease mode, return true\n//   - else replace C with `[>=0.0.0]`\n// - Let EQ be the set of = comparators in c\n// - If EQ is more than one, return true (null set)\n// - Let GT be the highest > or >= comparator in c\n// - Let LT be the lowest < or <= comparator in c\n// - If GT and LT, and GT.semver > LT.semver, return true (null set)\n// - If any C is a = range, and GT or LT are set, return false\n// - If EQ\n//   - If GT, and EQ does not satisfy GT, return true (null set)\n//   - If LT, and EQ does not satisfy LT, return true (null set)\n//   - If EQ satisfies every C, return true\n//   - Else return false\n// - If GT\n//   - If GT.semver is lower than any > or >= comp in C, return false\n//   - If GT is >=, and GT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the GT.semver tuple, return false\n// - If LT\n//   - If LT.semver is greater than any < or <= comp in C, return false\n//   - If LT is <=, and LT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the LT.semver tuple, return false\n// - Else return true\n\nconst subset = (sub, dom, options = {}) => {\n  if (sub === dom) {\n    return true\n  }\n\n  sub = new Range(sub, options)\n  dom = new Range(dom, options)\n  let sawNonNull = false\n\n  OUTER: for (const simpleSub of sub.set) {\n    for (const simpleDom of dom.set) {\n      const isSub = simpleSubset(simpleSub, simpleDom, options)\n      sawNonNull = sawNonNull || isSub !== null\n      if (isSub) {\n        continue OUTER\n      }\n    }\n    // the null set is a subset of everything, but null simple ranges in\n    // a complex range should be ignored.  so if we saw a non-null range,\n    // then we know this isn't a subset, but if EVERY simple range was null,\n    // then it is a subset.\n    if (sawNonNull) {\n      return false\n    }\n  }\n  return true\n}\n\nconst minimumVersionWithPreRelease = [new Comparator('>=0.0.0-0')]\nconst minimumVersion = [new Comparator('>=0.0.0')]\n\nconst simpleSubset = (sub, dom, options) => {\n  if (sub === dom) {\n    return true\n  }\n\n  if (sub.length === 1 && sub[0].semver === ANY) {\n    if (dom.length === 1 && dom[0].semver === ANY) {\n      return true\n    } else if (options.includePrerelease) {\n      sub = minimumVersionWithPreRelease\n    } else {\n      sub = minimumVersion\n    }\n  }\n\n  if (dom.length === 1 && dom[0].semver === ANY) {\n    if (options.includePrerelease) {\n      return true\n    } else {\n      dom = minimumVersion\n    }\n  }\n\n  const eqSet = new Set()\n  let gt, lt\n  for (const c of sub) {\n    if (c.operator === '>' || c.operator === '>=') {\n      gt = higherGT(gt, c, options)\n    } else if (c.operator === '<' || c.operator === '<=') {\n      lt = lowerLT(lt, c, options)\n    } else {\n      eqSet.add(c.semver)\n    }\n  }\n\n  if (eqSet.size > 1) {\n    return null\n  }\n\n  let gtltComp\n  if (gt && lt) {\n    gtltComp = compare(gt.semver, lt.semver, options)\n    if (gtltComp > 0) {\n      return null\n    } else if (gtltComp === 0 && (gt.operator !== '>=' || lt.operator !== '<=')) {\n      return null\n    }\n  }\n\n  // will iterate one or zero times\n  for (const eq of eqSet) {\n    if (gt && !satisfies(eq, String(gt), options)) {\n      return null\n    }\n\n    if (lt && !satisfies(eq, String(lt), options)) {\n      return null\n    }\n\n    for (const c of dom) {\n      if (!satisfies(eq, String(c), options)) {\n        return false\n      }\n    }\n\n    return true\n  }\n\n  let higher, lower\n  let hasDomLT, hasDomGT\n  // if the subset has a prerelease, we need a comparator in the superset\n  // with the same tuple and a prerelease, or it's not a subset\n  let needDomLTPre = lt &&\n    !options.includePrerelease &&\n    lt.semver.prerelease.length ? lt.semver : false\n  let needDomGTPre = gt &&\n    !options.includePrerelease &&\n    gt.semver.prerelease.length ? gt.semver : false\n  // exception: <1.2.3-0 is the same as <1.2.3\n  if (needDomLTPre && needDomLTPre.prerelease.length === 1 &&\n      lt.operator === '<' && needDomLTPre.prerelease[0] === 0) {\n    needDomLTPre = false\n  }\n\n  for (const c of dom) {\n    hasDomGT = hasDomGT || c.operator === '>' || c.operator === '>='\n    hasDomLT = hasDomLT || c.operator === '<' || c.operator === '<='\n    if (gt) {\n      if (needDomGTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomGTPre.major &&\n            c.semver.minor === needDomGTPre.minor &&\n            c.semver.patch === needDomGTPre.patch) {\n          needDomGTPre = false\n        }\n      }\n      if (c.operator === '>' || c.operator === '>=') {\n        higher = higherGT(gt, c, options)\n        if (higher === c && higher !== gt) {\n          return false\n        }\n      } else if (gt.operator === '>=' && !satisfies(gt.semver, String(c), options)) {\n        return false\n      }\n    }\n    if (lt) {\n      if (needDomLTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomLTPre.major &&\n            c.semver.minor === needDomLTPre.minor &&\n            c.semver.patch === needDomLTPre.patch) {\n          needDomLTPre = false\n        }\n      }\n      if (c.operator === '<' || c.operator === '<=') {\n        lower = lowerLT(lt, c, options)\n        if (lower === c && lower !== lt) {\n          return false\n        }\n      } else if (lt.operator === '<=' && !satisfies(lt.semver, String(c), options)) {\n        return false\n      }\n    }\n    if (!c.operator && (lt || gt) && gtltComp !== 0) {\n      return false\n    }\n  }\n\n  // if there was a < or >, and nothing in the dom, then must be false\n  // UNLESS it was limited by another range in the other direction.\n  // Eg, >1.0.0 <1.0.1 is still a subset of <2.0.0\n  if (gt && hasDomLT && !lt && gtltComp !== 0) {\n    return false\n  }\n\n  if (lt && hasDomGT && !gt && gtltComp !== 0) {\n    return false\n  }\n\n  // we needed a prerelease range in a specific tuple, but didn't get one\n  // then this isn't a subset.  eg >=1.2.3-pre is not a subset of >=1.0.0,\n  // because it includes prereleases in the 1.2.3 tuple\n  if (needDomGTPre || needDomLTPre) {\n    return false\n  }\n\n  return true\n}\n\n// >=1.2.3 is lower than >1.2.3\nconst higherGT = (a, b, options) => {\n  if (!a) {\n    return b\n  }\n  const comp = compare(a.semver, b.semver, options)\n  return comp > 0 ? a\n    : comp < 0 ? b\n    : b.operator === '>' && a.operator === '>=' ? b\n    : a\n}\n\n// <=1.2.3 is higher than <1.2.3\nconst lowerLT = (a, b, options) => {\n  if (!a) {\n    return b\n  }\n  const comp = compare(a.semver, b.semver, options)\n  return comp < 0 ? a\n    : comp > 0 ? b\n    : b.operator === '<' && a.operator === '<=' ? b\n    : a\n}\n\nmodule.exports = subset\n","const Range = require('../classes/range')\n\n// Mostly just for testing and legacy API reasons\nconst toComparators = (range, options) =>\n  new Range(range, options).set\n    .map(comp => comp.map(c => c.value).join(' ').trim().split(' '))\n\nmodule.exports = toComparators\n","const Range = require('../classes/range')\nconst validRange = (range, options) => {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = validRange\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.asyncTimeout = exports.minimumDelay = exports.delay = exports.exponentialBackoffDelay = exports.createBackoff = exports.BoundedConcurrencyPool = exports.UnboundedConcurrencyPool = exports.Queue = exports.SyncValue = exports.InvalidateSync = exports.AsyncLock = exports.createAsyncIterator = void 0;\nvar createAsyncIterator_1 = require(\"./iterator/createAsyncIterator\");\nObject.defineProperty(exports, \"createAsyncIterator\", { enumerable: true, get: function () { return createAsyncIterator_1.createAsyncIterator; } });\nvar AsyncLock_1 = require(\"./sync/AsyncLock\");\nObject.defineProperty(exports, \"AsyncLock\", { enumerable: true, get: function () { return AsyncLock_1.AsyncLock; } });\nvar InvalidateSync_1 = require(\"./sync/InvalidateSync\");\nObject.defineProperty(exports, \"InvalidateSync\", { enumerable: true, get: function () { return InvalidateSync_1.InvalidateSync; } });\nvar SyncValue_1 = require(\"./sync/SyncValue\");\nObject.defineProperty(exports, \"SyncValue\", { enumerable: true, get: function () { return SyncValue_1.SyncValue; } });\nvar Queue_1 = require(\"./sync/Queue\");\nObject.defineProperty(exports, \"Queue\", { enumerable: true, get: function () { return Queue_1.Queue; } });\nvar ConcurrencyPool_1 = require(\"./sync/ConcurrencyPool\");\nObject.defineProperty(exports, \"UnboundedConcurrencyPool\", { enumerable: true, get: function () { return ConcurrencyPool_1.UnboundedConcurrencyPool; } });\nObject.defineProperty(exports, \"BoundedConcurrencyPool\", { enumerable: true, get: function () { return ConcurrencyPool_1.BoundedConcurrencyPool; } });\nvar backoff_1 = require(\"./timer/backoff\");\nObject.defineProperty(exports, \"createBackoff\", { enumerable: true, get: function () { return backoff_1.createBackoff; } });\nObject.defineProperty(exports, \"exponentialBackoffDelay\", { enumerable: true, get: function () { return backoff_1.exponentialBackoffDelay; } });\nvar delay_1 = require(\"./timer/delay\");\nObject.defineProperty(exports, \"delay\", { enumerable: true, get: function () { return delay_1.delay; } });\nObject.defineProperty(exports, \"minimumDelay\", { enumerable: true, get: function () { return delay_1.minimumDelay; } });\nvar asyncTimeout_1 = require(\"./timer/asyncTimeout\");\nObject.defineProperty(exports, \"asyncTimeout\", { enumerable: true, get: function () { return asyncTimeout_1.asyncTimeout; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createAsyncIterator = void 0;\nfunction createAsyncIterator(onExit) {\n    let events = [];\n    let resolvers = [];\n    const getValue = () => {\n        return new Promise((resolve => {\n            if (events.length > 0) {\n                let val = events.shift();\n                if (val === null) {\n                    resolve({ value: undefined, done: true });\n                }\n                else {\n                    resolve({ value: val, done: false });\n                }\n            }\n            else {\n                resolvers.push(resolve);\n            }\n        }));\n    };\n    let onReturn = () => {\n        events = [];\n        resolvers = [];\n        onExit();\n        return Promise.resolve({ value: undefined, done: true });\n    };\n    return {\n        [Symbol.asyncIterator]() {\n            return {\n                next() {\n                    return getValue();\n                },\n                return: onReturn,\n                throw(error) {\n                    return Promise.reject(error);\n                }\n            };\n        },\n        push(data) {\n            if (resolvers.length > 0) {\n                resolvers.shift()({\n                    value: data,\n                    done: false\n                });\n            }\n            else {\n                events.push(data);\n            }\n        },\n        complete() {\n            if (resolvers.length > 0) {\n                resolvers.shift()({\n                    value: null,\n                    done: true\n                });\n            }\n            else {\n                events.push(null);\n            }\n        }\n    };\n}\nexports.createAsyncIterator = createAsyncIterator;\n//# sourceMappingURL=createAsyncIterator.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AsyncLock = void 0;\nclass AsyncLock {\n    constructor() {\n        this.permits = 1;\n        this.promiseResolverQueue = [];\n    }\n    inLock(func) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                yield this.lock();\n                return yield func();\n            }\n            finally {\n                this.unlock();\n            }\n        });\n    }\n    lock() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.permits > 0) {\n                this.permits = this.permits - 1;\n                return;\n            }\n            yield new Promise(resolve => this.promiseResolverQueue.push(resolve));\n        });\n    }\n    unlock() {\n        this.permits += 1;\n        if (this.permits > 1 && this.promiseResolverQueue.length > 0) {\n            throw new Error('this.permits should never be > 0 when there is someone waiting.');\n        }\n        else if (this.permits === 1 && this.promiseResolverQueue.length > 0) {\n            // If there is someone else waiting, immediately consume the permit that was released\n            // at the beginning of this function and let the waiting function resume.\n            this.permits -= 1;\n            const nextResolver = this.promiseResolverQueue.shift();\n            // Resolve on the next tick\n            if (nextResolver) {\n                setTimeout(() => {\n                    nextResolver(true);\n                }, 0);\n            }\n        }\n    }\n}\nexports.AsyncLock = AsyncLock;\n//# sourceMappingURL=AsyncLock.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar _BoundedConcurrencyPool_inFlight;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BoundedConcurrencyPool = exports.UnboundedConcurrencyPool = void 0;\nexports.UnboundedConcurrencyPool = {\n    run: (src) => {\n        return src();\n    }\n};\nclass BoundedConcurrencyPool {\n    constructor(concurrencyFactor) {\n        this.pending = [];\n        _BoundedConcurrencyPool_inFlight.set(this, 0);\n        if (typeof concurrencyFactor === 'number') {\n            this.concurrencyFactor = () => concurrencyFactor;\n        }\n        else {\n            this.concurrencyFactor = concurrencyFactor;\n        }\n    }\n    run(src) {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function* () {\n            if (__classPrivateFieldGet(this, _BoundedConcurrencyPool_inFlight, \"f\") >= this.concurrencyFactor()) {\n                yield new Promise((resolve) => this.pending.push(resolve));\n            }\n            __classPrivateFieldSet(this, _BoundedConcurrencyPool_inFlight, (_a = __classPrivateFieldGet(this, _BoundedConcurrencyPool_inFlight, \"f\"), _a++, _a), \"f\");\n            try {\n                let res = yield src();\n                return res;\n            }\n            finally {\n                __classPrivateFieldSet(this, _BoundedConcurrencyPool_inFlight, (_b = __classPrivateFieldGet(this, _BoundedConcurrencyPool_inFlight, \"f\"), _b--, _b), \"f\");\n                if (this.pending.length > 0) {\n                    let p = this.pending[0];\n                    this.pending.shift();\n                    p();\n                }\n            }\n        });\n    }\n    get inFlight() {\n        return __classPrivateFieldGet(this, _BoundedConcurrencyPool_inFlight, \"f\");\n    }\n    get inQueue() {\n        return this.pending.length;\n    }\n}\nexports.BoundedConcurrencyPool = BoundedConcurrencyPool;\n_BoundedConcurrencyPool_inFlight = new WeakMap();\n//# sourceMappingURL=ConcurrencyPool.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InvalidateSync = void 0;\nconst backoff_1 = require(\"../timer/backoff\");\nclass InvalidateSync {\n    constructor(command, opts) {\n        this._invalidated = false;\n        this._invalidatedDouble = false;\n        this._stopped = false;\n        this._doSync = () => __awaiter(this, void 0, void 0, function* () {\n            yield this._backoff(() => __awaiter(this, void 0, void 0, function* () {\n                if (this._stopped) {\n                    return;\n                }\n                yield this._command();\n            }));\n            if (this._stopped) {\n                return;\n            }\n            if (this._invalidatedDouble) {\n                this._invalidatedDouble = false;\n                this._doSync();\n            }\n            else {\n                this._invalidated = false;\n            }\n        });\n        this._backoff = opts && opts.backoff ? opts.backoff : (0, backoff_1.createBackoff)();\n        this._command = command;\n    }\n    invalidate() {\n        if (this._stopped) {\n            return;\n        }\n        if (!this._invalidated) {\n            this._invalidated = true;\n            this._invalidatedDouble = false;\n            this._doSync();\n        }\n        if (!this._invalidatedDouble) {\n            this._invalidatedDouble = true;\n        }\n    }\n    stop() {\n        if (this._stopped) {\n            return;\n        }\n        this._stopped = true;\n    }\n}\nexports.InvalidateSync = InvalidateSync;\n//# sourceMappingURL=InvalidateSync.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Queue = void 0;\nclass Queue {\n    constructor() {\n        this.q = [];\n        this.awaiters = [];\n        this.push = (item) => {\n            // If queue is not empty\n            if (this.q.length > 0) {\n                this.q.push(item);\n                return;\n            }\n            // If queue is empty and there are awaiters\n            if (this.awaiters.length > 0) {\n                this.awaiters.shift()(item);\n                return;\n            }\n            // No awaiters and not empty queue\n            this.q.push(item);\n        };\n        this.get = () => __awaiter(this, void 0, void 0, function* () {\n            if (this.q.length > 0) {\n                return this.q.shift();\n            }\n            return yield new Promise((resolver) => this.awaiters.push(resolver));\n        });\n        this.getOptional = () => {\n            if (this.q.length > 0) {\n                return this.q.shift();\n            }\n            else {\n                return null;\n            }\n        };\n    }\n    get isEmpty() {\n        return this.q.length === 0;\n    }\n}\nexports.Queue = Queue;\n//# sourceMappingURL=Queue.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SyncValue = void 0;\nconst InvalidateSync_1 = require(\"./InvalidateSync\");\nclass SyncValue {\n    constructor(initial, updater, opts) {\n        this._value = initial;\n        this._updater = updater;\n        this._sync = new InvalidateSync_1.InvalidateSync(() => __awaiter(this, void 0, void 0, function* () {\n            yield this._updater(this._value);\n        }), opts);\n    }\n    get value() {\n        return this._value;\n    }\n    set value(v) {\n        if (!Object.is(v, this._value)) {\n            this._value = v;\n            this._sync.invalidate();\n        }\n    }\n}\nexports.SyncValue = SyncValue;\n//# sourceMappingURL=SyncValue.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.asyncTimeout = void 0;\nfunction asyncTimeout(src, timeout) {\n    return new Promise((resolve, reject) => {\n        // Callbacks\n        let timer = null;\n        function abort(err) {\n            if (timer) {\n                clearTimeout(timer);\n                timer = null;\n            }\n            reject(err);\n        }\n        function complete(value) {\n            if (timer) {\n                clearTimeout(timer);\n                timer = null;\n            }\n            resolve(value);\n        }\n        // Timeout\n        timer = setTimeout(() => {\n            abort(new Error('Request timeout'));\n        }, timeout);\n        // Source\n        src.then(complete);\n        src.catch(abort);\n    });\n}\nexports.asyncTimeout = asyncTimeout;\n//# sourceMappingURL=asyncTimeout.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createBackoff = exports.exponentialBackoffDelay = void 0;\nconst delay_1 = require(\"./delay\");\nfunction exponentialBackoffDelay(currentFailureCount, minDelay, maxDelay, maxFailureCount) {\n    let maxDelayRet = minDelay + ((maxDelay - minDelay) / maxFailureCount) * Math.max(currentFailureCount, maxFailureCount);\n    return Math.round(Math.random() * maxDelayRet);\n}\nexports.exponentialBackoffDelay = exponentialBackoffDelay;\nfunction createBackoff(opts) {\n    return (callback) => __awaiter(this, void 0, void 0, function* () {\n        let currentFailureCount = 0;\n        const minDelay = opts && opts.minDelay !== undefined ? opts.minDelay : 250;\n        const maxDelay = opts && opts.maxDelay !== undefined ? opts.maxDelay : 1000;\n        const maxFailureCount = opts && opts.maxFailureCount !== undefined ? opts.maxFailureCount : 50;\n        while (true) {\n            try {\n                return yield callback();\n            }\n            catch (e) {\n                if (currentFailureCount < maxFailureCount) {\n                    currentFailureCount++;\n                }\n                if (opts && opts.onError) {\n                    opts.onError(e, currentFailureCount);\n                }\n                let waitForRequest = exponentialBackoffDelay(currentFailureCount, minDelay, maxDelay, maxFailureCount);\n                yield (0, delay_1.delay)(waitForRequest);\n            }\n        }\n    });\n}\nexports.createBackoff = createBackoff;\n//# sourceMappingURL=backoff.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.minimumDelay = exports.delay = void 0;\nfunction delay(ms) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return new Promise(resolve => setTimeout(resolve, ms));\n    });\n}\nexports.delay = delay;\nfunction minimumDelay(ms, src) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let start = Date.now();\n        let r = yield src;\n        let d = ms - (Date.now() - start);\n        if (d > 0) {\n            yield delay(d);\n        }\n        return r;\n    });\n}\nexports.minimumDelay = minimumDelay;\n//# sourceMappingURL=delay.js.map","(function(nacl) {\n'use strict';\n\n// Ported in 2014 by Dmitry Chestnykh and Devi Mandiri.\n// Public domain.\n//\n// Implementation derived from TweetNaCl version 20140427.\n// See for details: http://tweetnacl.cr.yp.to/\n\nvar gf = function(init) {\n  var i, r = new Float64Array(16);\n  if (init) for (i = 0; i < init.length; i++) r[i] = init[i];\n  return r;\n};\n\n//  Pluggable, initialized in high-level API below.\nvar randombytes = function(/* x, n */) { throw new Error('no PRNG'); };\n\nvar _0 = new Uint8Array(16);\nvar _9 = new Uint8Array(32); _9[0] = 9;\n\nvar gf0 = gf(),\n    gf1 = gf([1]),\n    _121665 = gf([0xdb41, 1]),\n    D = gf([0x78a3, 0x1359, 0x4dca, 0x75eb, 0xd8ab, 0x4141, 0x0a4d, 0x0070, 0xe898, 0x7779, 0x4079, 0x8cc7, 0xfe73, 0x2b6f, 0x6cee, 0x5203]),\n    D2 = gf([0xf159, 0x26b2, 0x9b94, 0xebd6, 0xb156, 0x8283, 0x149a, 0x00e0, 0xd130, 0xeef3, 0x80f2, 0x198e, 0xfce7, 0x56df, 0xd9dc, 0x2406]),\n    X = gf([0xd51a, 0x8f25, 0x2d60, 0xc956, 0xa7b2, 0x9525, 0xc760, 0x692c, 0xdc5c, 0xfdd6, 0xe231, 0xc0a4, 0x53fe, 0xcd6e, 0x36d3, 0x2169]),\n    Y = gf([0x6658, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666]),\n    I = gf([0xa0b0, 0x4a0e, 0x1b27, 0xc4ee, 0xe478, 0xad2f, 0x1806, 0x2f43, 0xd7a7, 0x3dfb, 0x0099, 0x2b4d, 0xdf0b, 0x4fc1, 0x2480, 0x2b83]);\n\nfunction ts64(x, i, h, l) {\n  x[i]   = (h >> 24) & 0xff;\n  x[i+1] = (h >> 16) & 0xff;\n  x[i+2] = (h >>  8) & 0xff;\n  x[i+3] = h & 0xff;\n  x[i+4] = (l >> 24)  & 0xff;\n  x[i+5] = (l >> 16)  & 0xff;\n  x[i+6] = (l >>  8)  & 0xff;\n  x[i+7] = l & 0xff;\n}\n\nfunction vn(x, xi, y, yi, n) {\n  var i,d = 0;\n  for (i = 0; i < n; i++) d |= x[xi+i]^y[yi+i];\n  return (1 & ((d - 1) >>> 8)) - 1;\n}\n\nfunction crypto_verify_16(x, xi, y, yi) {\n  return vn(x,xi,y,yi,16);\n}\n\nfunction crypto_verify_32(x, xi, y, yi) {\n  return vn(x,xi,y,yi,32);\n}\n\nfunction core_salsa20(o, p, k, c) {\n  var j0  = c[ 0] & 0xff | (c[ 1] & 0xff)<<8 | (c[ 2] & 0xff)<<16 | (c[ 3] & 0xff)<<24,\n      j1  = k[ 0] & 0xff | (k[ 1] & 0xff)<<8 | (k[ 2] & 0xff)<<16 | (k[ 3] & 0xff)<<24,\n      j2  = k[ 4] & 0xff | (k[ 5] & 0xff)<<8 | (k[ 6] & 0xff)<<16 | (k[ 7] & 0xff)<<24,\n      j3  = k[ 8] & 0xff | (k[ 9] & 0xff)<<8 | (k[10] & 0xff)<<16 | (k[11] & 0xff)<<24,\n      j4  = k[12] & 0xff | (k[13] & 0xff)<<8 | (k[14] & 0xff)<<16 | (k[15] & 0xff)<<24,\n      j5  = c[ 4] & 0xff | (c[ 5] & 0xff)<<8 | (c[ 6] & 0xff)<<16 | (c[ 7] & 0xff)<<24,\n      j6  = p[ 0] & 0xff | (p[ 1] & 0xff)<<8 | (p[ 2] & 0xff)<<16 | (p[ 3] & 0xff)<<24,\n      j7  = p[ 4] & 0xff | (p[ 5] & 0xff)<<8 | (p[ 6] & 0xff)<<16 | (p[ 7] & 0xff)<<24,\n      j8  = p[ 8] & 0xff | (p[ 9] & 0xff)<<8 | (p[10] & 0xff)<<16 | (p[11] & 0xff)<<24,\n      j9  = p[12] & 0xff | (p[13] & 0xff)<<8 | (p[14] & 0xff)<<16 | (p[15] & 0xff)<<24,\n      j10 = c[ 8] & 0xff | (c[ 9] & 0xff)<<8 | (c[10] & 0xff)<<16 | (c[11] & 0xff)<<24,\n      j11 = k[16] & 0xff | (k[17] & 0xff)<<8 | (k[18] & 0xff)<<16 | (k[19] & 0xff)<<24,\n      j12 = k[20] & 0xff | (k[21] & 0xff)<<8 | (k[22] & 0xff)<<16 | (k[23] & 0xff)<<24,\n      j13 = k[24] & 0xff | (k[25] & 0xff)<<8 | (k[26] & 0xff)<<16 | (k[27] & 0xff)<<24,\n      j14 = k[28] & 0xff | (k[29] & 0xff)<<8 | (k[30] & 0xff)<<16 | (k[31] & 0xff)<<24,\n      j15 = c[12] & 0xff | (c[13] & 0xff)<<8 | (c[14] & 0xff)<<16 | (c[15] & 0xff)<<24;\n\n  var x0 = j0, x1 = j1, x2 = j2, x3 = j3, x4 = j4, x5 = j5, x6 = j6, x7 = j7,\n      x8 = j8, x9 = j9, x10 = j10, x11 = j11, x12 = j12, x13 = j13, x14 = j14,\n      x15 = j15, u;\n\n  for (var i = 0; i < 20; i += 2) {\n    u = x0 + x12 | 0;\n    x4 ^= u<<7 | u>>>(32-7);\n    u = x4 + x0 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x4 | 0;\n    x12 ^= u<<13 | u>>>(32-13);\n    u = x12 + x8 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x1 | 0;\n    x9 ^= u<<7 | u>>>(32-7);\n    u = x9 + x5 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x9 | 0;\n    x1 ^= u<<13 | u>>>(32-13);\n    u = x1 + x13 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x6 | 0;\n    x14 ^= u<<7 | u>>>(32-7);\n    u = x14 + x10 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x14 | 0;\n    x6 ^= u<<13 | u>>>(32-13);\n    u = x6 + x2 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x11 | 0;\n    x3 ^= u<<7 | u>>>(32-7);\n    u = x3 + x15 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x3 | 0;\n    x11 ^= u<<13 | u>>>(32-13);\n    u = x11 + x7 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n\n    u = x0 + x3 | 0;\n    x1 ^= u<<7 | u>>>(32-7);\n    u = x1 + x0 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x1 | 0;\n    x3 ^= u<<13 | u>>>(32-13);\n    u = x3 + x2 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x4 | 0;\n    x6 ^= u<<7 | u>>>(32-7);\n    u = x6 + x5 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x6 | 0;\n    x4 ^= u<<13 | u>>>(32-13);\n    u = x4 + x7 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x9 | 0;\n    x11 ^= u<<7 | u>>>(32-7);\n    u = x11 + x10 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x11 | 0;\n    x9 ^= u<<13 | u>>>(32-13);\n    u = x9 + x8 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x14 | 0;\n    x12 ^= u<<7 | u>>>(32-7);\n    u = x12 + x15 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x12 | 0;\n    x14 ^= u<<13 | u>>>(32-13);\n    u = x14 + x13 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n  }\n   x0 =  x0 +  j0 | 0;\n   x1 =  x1 +  j1 | 0;\n   x2 =  x2 +  j2 | 0;\n   x3 =  x3 +  j3 | 0;\n   x4 =  x4 +  j4 | 0;\n   x5 =  x5 +  j5 | 0;\n   x6 =  x6 +  j6 | 0;\n   x7 =  x7 +  j7 | 0;\n   x8 =  x8 +  j8 | 0;\n   x9 =  x9 +  j9 | 0;\n  x10 = x10 + j10 | 0;\n  x11 = x11 + j11 | 0;\n  x12 = x12 + j12 | 0;\n  x13 = x13 + j13 | 0;\n  x14 = x14 + j14 | 0;\n  x15 = x15 + j15 | 0;\n\n  o[ 0] = x0 >>>  0 & 0xff;\n  o[ 1] = x0 >>>  8 & 0xff;\n  o[ 2] = x0 >>> 16 & 0xff;\n  o[ 3] = x0 >>> 24 & 0xff;\n\n  o[ 4] = x1 >>>  0 & 0xff;\n  o[ 5] = x1 >>>  8 & 0xff;\n  o[ 6] = x1 >>> 16 & 0xff;\n  o[ 7] = x1 >>> 24 & 0xff;\n\n  o[ 8] = x2 >>>  0 & 0xff;\n  o[ 9] = x2 >>>  8 & 0xff;\n  o[10] = x2 >>> 16 & 0xff;\n  o[11] = x2 >>> 24 & 0xff;\n\n  o[12] = x3 >>>  0 & 0xff;\n  o[13] = x3 >>>  8 & 0xff;\n  o[14] = x3 >>> 16 & 0xff;\n  o[15] = x3 >>> 24 & 0xff;\n\n  o[16] = x4 >>>  0 & 0xff;\n  o[17] = x4 >>>  8 & 0xff;\n  o[18] = x4 >>> 16 & 0xff;\n  o[19] = x4 >>> 24 & 0xff;\n\n  o[20] = x5 >>>  0 & 0xff;\n  o[21] = x5 >>>  8 & 0xff;\n  o[22] = x5 >>> 16 & 0xff;\n  o[23] = x5 >>> 24 & 0xff;\n\n  o[24] = x6 >>>  0 & 0xff;\n  o[25] = x6 >>>  8 & 0xff;\n  o[26] = x6 >>> 16 & 0xff;\n  o[27] = x6 >>> 24 & 0xff;\n\n  o[28] = x7 >>>  0 & 0xff;\n  o[29] = x7 >>>  8 & 0xff;\n  o[30] = x7 >>> 16 & 0xff;\n  o[31] = x7 >>> 24 & 0xff;\n\n  o[32] = x8 >>>  0 & 0xff;\n  o[33] = x8 >>>  8 & 0xff;\n  o[34] = x8 >>> 16 & 0xff;\n  o[35] = x8 >>> 24 & 0xff;\n\n  o[36] = x9 >>>  0 & 0xff;\n  o[37] = x9 >>>  8 & 0xff;\n  o[38] = x9 >>> 16 & 0xff;\n  o[39] = x9 >>> 24 & 0xff;\n\n  o[40] = x10 >>>  0 & 0xff;\n  o[41] = x10 >>>  8 & 0xff;\n  o[42] = x10 >>> 16 & 0xff;\n  o[43] = x10 >>> 24 & 0xff;\n\n  o[44] = x11 >>>  0 & 0xff;\n  o[45] = x11 >>>  8 & 0xff;\n  o[46] = x11 >>> 16 & 0xff;\n  o[47] = x11 >>> 24 & 0xff;\n\n  o[48] = x12 >>>  0 & 0xff;\n  o[49] = x12 >>>  8 & 0xff;\n  o[50] = x12 >>> 16 & 0xff;\n  o[51] = x12 >>> 24 & 0xff;\n\n  o[52] = x13 >>>  0 & 0xff;\n  o[53] = x13 >>>  8 & 0xff;\n  o[54] = x13 >>> 16 & 0xff;\n  o[55] = x13 >>> 24 & 0xff;\n\n  o[56] = x14 >>>  0 & 0xff;\n  o[57] = x14 >>>  8 & 0xff;\n  o[58] = x14 >>> 16 & 0xff;\n  o[59] = x14 >>> 24 & 0xff;\n\n  o[60] = x15 >>>  0 & 0xff;\n  o[61] = x15 >>>  8 & 0xff;\n  o[62] = x15 >>> 16 & 0xff;\n  o[63] = x15 >>> 24 & 0xff;\n}\n\nfunction core_hsalsa20(o,p,k,c) {\n  var j0  = c[ 0] & 0xff | (c[ 1] & 0xff)<<8 | (c[ 2] & 0xff)<<16 | (c[ 3] & 0xff)<<24,\n      j1  = k[ 0] & 0xff | (k[ 1] & 0xff)<<8 | (k[ 2] & 0xff)<<16 | (k[ 3] & 0xff)<<24,\n      j2  = k[ 4] & 0xff | (k[ 5] & 0xff)<<8 | (k[ 6] & 0xff)<<16 | (k[ 7] & 0xff)<<24,\n      j3  = k[ 8] & 0xff | (k[ 9] & 0xff)<<8 | (k[10] & 0xff)<<16 | (k[11] & 0xff)<<24,\n      j4  = k[12] & 0xff | (k[13] & 0xff)<<8 | (k[14] & 0xff)<<16 | (k[15] & 0xff)<<24,\n      j5  = c[ 4] & 0xff | (c[ 5] & 0xff)<<8 | (c[ 6] & 0xff)<<16 | (c[ 7] & 0xff)<<24,\n      j6  = p[ 0] & 0xff | (p[ 1] & 0xff)<<8 | (p[ 2] & 0xff)<<16 | (p[ 3] & 0xff)<<24,\n      j7  = p[ 4] & 0xff | (p[ 5] & 0xff)<<8 | (p[ 6] & 0xff)<<16 | (p[ 7] & 0xff)<<24,\n      j8  = p[ 8] & 0xff | (p[ 9] & 0xff)<<8 | (p[10] & 0xff)<<16 | (p[11] & 0xff)<<24,\n      j9  = p[12] & 0xff | (p[13] & 0xff)<<8 | (p[14] & 0xff)<<16 | (p[15] & 0xff)<<24,\n      j10 = c[ 8] & 0xff | (c[ 9] & 0xff)<<8 | (c[10] & 0xff)<<16 | (c[11] & 0xff)<<24,\n      j11 = k[16] & 0xff | (k[17] & 0xff)<<8 | (k[18] & 0xff)<<16 | (k[19] & 0xff)<<24,\n      j12 = k[20] & 0xff | (k[21] & 0xff)<<8 | (k[22] & 0xff)<<16 | (k[23] & 0xff)<<24,\n      j13 = k[24] & 0xff | (k[25] & 0xff)<<8 | (k[26] & 0xff)<<16 | (k[27] & 0xff)<<24,\n      j14 = k[28] & 0xff | (k[29] & 0xff)<<8 | (k[30] & 0xff)<<16 | (k[31] & 0xff)<<24,\n      j15 = c[12] & 0xff | (c[13] & 0xff)<<8 | (c[14] & 0xff)<<16 | (c[15] & 0xff)<<24;\n\n  var x0 = j0, x1 = j1, x2 = j2, x3 = j3, x4 = j4, x5 = j5, x6 = j6, x7 = j7,\n      x8 = j8, x9 = j9, x10 = j10, x11 = j11, x12 = j12, x13 = j13, x14 = j14,\n      x15 = j15, u;\n\n  for (var i = 0; i < 20; i += 2) {\n    u = x0 + x12 | 0;\n    x4 ^= u<<7 | u>>>(32-7);\n    u = x4 + x0 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x4 | 0;\n    x12 ^= u<<13 | u>>>(32-13);\n    u = x12 + x8 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x1 | 0;\n    x9 ^= u<<7 | u>>>(32-7);\n    u = x9 + x5 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x9 | 0;\n    x1 ^= u<<13 | u>>>(32-13);\n    u = x1 + x13 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x6 | 0;\n    x14 ^= u<<7 | u>>>(32-7);\n    u = x14 + x10 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x14 | 0;\n    x6 ^= u<<13 | u>>>(32-13);\n    u = x6 + x2 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x11 | 0;\n    x3 ^= u<<7 | u>>>(32-7);\n    u = x3 + x15 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x3 | 0;\n    x11 ^= u<<13 | u>>>(32-13);\n    u = x11 + x7 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n\n    u = x0 + x3 | 0;\n    x1 ^= u<<7 | u>>>(32-7);\n    u = x1 + x0 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x1 | 0;\n    x3 ^= u<<13 | u>>>(32-13);\n    u = x3 + x2 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x4 | 0;\n    x6 ^= u<<7 | u>>>(32-7);\n    u = x6 + x5 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x6 | 0;\n    x4 ^= u<<13 | u>>>(32-13);\n    u = x4 + x7 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x9 | 0;\n    x11 ^= u<<7 | u>>>(32-7);\n    u = x11 + x10 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x11 | 0;\n    x9 ^= u<<13 | u>>>(32-13);\n    u = x9 + x8 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x14 | 0;\n    x12 ^= u<<7 | u>>>(32-7);\n    u = x12 + x15 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x12 | 0;\n    x14 ^= u<<13 | u>>>(32-13);\n    u = x14 + x13 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n  }\n\n  o[ 0] = x0 >>>  0 & 0xff;\n  o[ 1] = x0 >>>  8 & 0xff;\n  o[ 2] = x0 >>> 16 & 0xff;\n  o[ 3] = x0 >>> 24 & 0xff;\n\n  o[ 4] = x5 >>>  0 & 0xff;\n  o[ 5] = x5 >>>  8 & 0xff;\n  o[ 6] = x5 >>> 16 & 0xff;\n  o[ 7] = x5 >>> 24 & 0xff;\n\n  o[ 8] = x10 >>>  0 & 0xff;\n  o[ 9] = x10 >>>  8 & 0xff;\n  o[10] = x10 >>> 16 & 0xff;\n  o[11] = x10 >>> 24 & 0xff;\n\n  o[12] = x15 >>>  0 & 0xff;\n  o[13] = x15 >>>  8 & 0xff;\n  o[14] = x15 >>> 16 & 0xff;\n  o[15] = x15 >>> 24 & 0xff;\n\n  o[16] = x6 >>>  0 & 0xff;\n  o[17] = x6 >>>  8 & 0xff;\n  o[18] = x6 >>> 16 & 0xff;\n  o[19] = x6 >>> 24 & 0xff;\n\n  o[20] = x7 >>>  0 & 0xff;\n  o[21] = x7 >>>  8 & 0xff;\n  o[22] = x7 >>> 16 & 0xff;\n  o[23] = x7 >>> 24 & 0xff;\n\n  o[24] = x8 >>>  0 & 0xff;\n  o[25] = x8 >>>  8 & 0xff;\n  o[26] = x8 >>> 16 & 0xff;\n  o[27] = x8 >>> 24 & 0xff;\n\n  o[28] = x9 >>>  0 & 0xff;\n  o[29] = x9 >>>  8 & 0xff;\n  o[30] = x9 >>> 16 & 0xff;\n  o[31] = x9 >>> 24 & 0xff;\n}\n\nfunction crypto_core_salsa20(out,inp,k,c) {\n  core_salsa20(out,inp,k,c);\n}\n\nfunction crypto_core_hsalsa20(out,inp,k,c) {\n  core_hsalsa20(out,inp,k,c);\n}\n\nvar sigma = new Uint8Array([101, 120, 112, 97, 110, 100, 32, 51, 50, 45, 98, 121, 116, 101, 32, 107]);\n            // \"expand 32-byte k\"\n\nfunction crypto_stream_salsa20_xor(c,cpos,m,mpos,b,n,k) {\n  var z = new Uint8Array(16), x = new Uint8Array(64);\n  var u, i;\n  for (i = 0; i < 16; i++) z[i] = 0;\n  for (i = 0; i < 8; i++) z[i] = n[i];\n  while (b >= 64) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < 64; i++) c[cpos+i] = m[mpos+i] ^ x[i];\n    u = 1;\n    for (i = 8; i < 16; i++) {\n      u = u + (z[i] & 0xff) | 0;\n      z[i] = u & 0xff;\n      u >>>= 8;\n    }\n    b -= 64;\n    cpos += 64;\n    mpos += 64;\n  }\n  if (b > 0) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < b; i++) c[cpos+i] = m[mpos+i] ^ x[i];\n  }\n  return 0;\n}\n\nfunction crypto_stream_salsa20(c,cpos,b,n,k) {\n  var z = new Uint8Array(16), x = new Uint8Array(64);\n  var u, i;\n  for (i = 0; i < 16; i++) z[i] = 0;\n  for (i = 0; i < 8; i++) z[i] = n[i];\n  while (b >= 64) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < 64; i++) c[cpos+i] = x[i];\n    u = 1;\n    for (i = 8; i < 16; i++) {\n      u = u + (z[i] & 0xff) | 0;\n      z[i] = u & 0xff;\n      u >>>= 8;\n    }\n    b -= 64;\n    cpos += 64;\n  }\n  if (b > 0) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < b; i++) c[cpos+i] = x[i];\n  }\n  return 0;\n}\n\nfunction crypto_stream(c,cpos,d,n,k) {\n  var s = new Uint8Array(32);\n  crypto_core_hsalsa20(s,n,k,sigma);\n  var sn = new Uint8Array(8);\n  for (var i = 0; i < 8; i++) sn[i] = n[i+16];\n  return crypto_stream_salsa20(c,cpos,d,sn,s);\n}\n\nfunction crypto_stream_xor(c,cpos,m,mpos,d,n,k) {\n  var s = new Uint8Array(32);\n  crypto_core_hsalsa20(s,n,k,sigma);\n  var sn = new Uint8Array(8);\n  for (var i = 0; i < 8; i++) sn[i] = n[i+16];\n  return crypto_stream_salsa20_xor(c,cpos,m,mpos,d,sn,s);\n}\n\n/*\n* Port of Andrew Moon's Poly1305-donna-16. Public domain.\n* https://github.com/floodyberry/poly1305-donna\n*/\n\nvar poly1305 = function(key) {\n  this.buffer = new Uint8Array(16);\n  this.r = new Uint16Array(10);\n  this.h = new Uint16Array(10);\n  this.pad = new Uint16Array(8);\n  this.leftover = 0;\n  this.fin = 0;\n\n  var t0, t1, t2, t3, t4, t5, t6, t7;\n\n  t0 = key[ 0] & 0xff | (key[ 1] & 0xff) << 8; this.r[0] = ( t0                     ) & 0x1fff;\n  t1 = key[ 2] & 0xff | (key[ 3] & 0xff) << 8; this.r[1] = ((t0 >>> 13) | (t1 <<  3)) & 0x1fff;\n  t2 = key[ 4] & 0xff | (key[ 5] & 0xff) << 8; this.r[2] = ((t1 >>> 10) | (t2 <<  6)) & 0x1f03;\n  t3 = key[ 6] & 0xff | (key[ 7] & 0xff) << 8; this.r[3] = ((t2 >>>  7) | (t3 <<  9)) & 0x1fff;\n  t4 = key[ 8] & 0xff | (key[ 9] & 0xff) << 8; this.r[4] = ((t3 >>>  4) | (t4 << 12)) & 0x00ff;\n  this.r[5] = ((t4 >>>  1)) & 0x1ffe;\n  t5 = key[10] & 0xff | (key[11] & 0xff) << 8; this.r[6] = ((t4 >>> 14) | (t5 <<  2)) & 0x1fff;\n  t6 = key[12] & 0xff | (key[13] & 0xff) << 8; this.r[7] = ((t5 >>> 11) | (t6 <<  5)) & 0x1f81;\n  t7 = key[14] & 0xff | (key[15] & 0xff) << 8; this.r[8] = ((t6 >>>  8) | (t7 <<  8)) & 0x1fff;\n  this.r[9] = ((t7 >>>  5)) & 0x007f;\n\n  this.pad[0] = key[16] & 0xff | (key[17] & 0xff) << 8;\n  this.pad[1] = key[18] & 0xff | (key[19] & 0xff) << 8;\n  this.pad[2] = key[20] & 0xff | (key[21] & 0xff) << 8;\n  this.pad[3] = key[22] & 0xff | (key[23] & 0xff) << 8;\n  this.pad[4] = key[24] & 0xff | (key[25] & 0xff) << 8;\n  this.pad[5] = key[26] & 0xff | (key[27] & 0xff) << 8;\n  this.pad[6] = key[28] & 0xff | (key[29] & 0xff) << 8;\n  this.pad[7] = key[30] & 0xff | (key[31] & 0xff) << 8;\n};\n\npoly1305.prototype.blocks = function(m, mpos, bytes) {\n  var hibit = this.fin ? 0 : (1 << 11);\n  var t0, t1, t2, t3, t4, t5, t6, t7, c;\n  var d0, d1, d2, d3, d4, d5, d6, d7, d8, d9;\n\n  var h0 = this.h[0],\n      h1 = this.h[1],\n      h2 = this.h[2],\n      h3 = this.h[3],\n      h4 = this.h[4],\n      h5 = this.h[5],\n      h6 = this.h[6],\n      h7 = this.h[7],\n      h8 = this.h[8],\n      h9 = this.h[9];\n\n  var r0 = this.r[0],\n      r1 = this.r[1],\n      r2 = this.r[2],\n      r3 = this.r[3],\n      r4 = this.r[4],\n      r5 = this.r[5],\n      r6 = this.r[6],\n      r7 = this.r[7],\n      r8 = this.r[8],\n      r9 = this.r[9];\n\n  while (bytes >= 16) {\n    t0 = m[mpos+ 0] & 0xff | (m[mpos+ 1] & 0xff) << 8; h0 += ( t0                     ) & 0x1fff;\n    t1 = m[mpos+ 2] & 0xff | (m[mpos+ 3] & 0xff) << 8; h1 += ((t0 >>> 13) | (t1 <<  3)) & 0x1fff;\n    t2 = m[mpos+ 4] & 0xff | (m[mpos+ 5] & 0xff) << 8; h2 += ((t1 >>> 10) | (t2 <<  6)) & 0x1fff;\n    t3 = m[mpos+ 6] & 0xff | (m[mpos+ 7] & 0xff) << 8; h3 += ((t2 >>>  7) | (t3 <<  9)) & 0x1fff;\n    t4 = m[mpos+ 8] & 0xff | (m[mpos+ 9] & 0xff) << 8; h4 += ((t3 >>>  4) | (t4 << 12)) & 0x1fff;\n    h5 += ((t4 >>>  1)) & 0x1fff;\n    t5 = m[mpos+10] & 0xff | (m[mpos+11] & 0xff) << 8; h6 += ((t4 >>> 14) | (t5 <<  2)) & 0x1fff;\n    t6 = m[mpos+12] & 0xff | (m[mpos+13] & 0xff) << 8; h7 += ((t5 >>> 11) | (t6 <<  5)) & 0x1fff;\n    t7 = m[mpos+14] & 0xff | (m[mpos+15] & 0xff) << 8; h8 += ((t6 >>>  8) | (t7 <<  8)) & 0x1fff;\n    h9 += ((t7 >>> 5)) | hibit;\n\n    c = 0;\n\n    d0 = c;\n    d0 += h0 * r0;\n    d0 += h1 * (5 * r9);\n    d0 += h2 * (5 * r8);\n    d0 += h3 * (5 * r7);\n    d0 += h4 * (5 * r6);\n    c = (d0 >>> 13); d0 &= 0x1fff;\n    d0 += h5 * (5 * r5);\n    d0 += h6 * (5 * r4);\n    d0 += h7 * (5 * r3);\n    d0 += h8 * (5 * r2);\n    d0 += h9 * (5 * r1);\n    c += (d0 >>> 13); d0 &= 0x1fff;\n\n    d1 = c;\n    d1 += h0 * r1;\n    d1 += h1 * r0;\n    d1 += h2 * (5 * r9);\n    d1 += h3 * (5 * r8);\n    d1 += h4 * (5 * r7);\n    c = (d1 >>> 13); d1 &= 0x1fff;\n    d1 += h5 * (5 * r6);\n    d1 += h6 * (5 * r5);\n    d1 += h7 * (5 * r4);\n    d1 += h8 * (5 * r3);\n    d1 += h9 * (5 * r2);\n    c += (d1 >>> 13); d1 &= 0x1fff;\n\n    d2 = c;\n    d2 += h0 * r2;\n    d2 += h1 * r1;\n    d2 += h2 * r0;\n    d2 += h3 * (5 * r9);\n    d2 += h4 * (5 * r8);\n    c = (d2 >>> 13); d2 &= 0x1fff;\n    d2 += h5 * (5 * r7);\n    d2 += h6 * (5 * r6);\n    d2 += h7 * (5 * r5);\n    d2 += h8 * (5 * r4);\n    d2 += h9 * (5 * r3);\n    c += (d2 >>> 13); d2 &= 0x1fff;\n\n    d3 = c;\n    d3 += h0 * r3;\n    d3 += h1 * r2;\n    d3 += h2 * r1;\n    d3 += h3 * r0;\n    d3 += h4 * (5 * r9);\n    c = (d3 >>> 13); d3 &= 0x1fff;\n    d3 += h5 * (5 * r8);\n    d3 += h6 * (5 * r7);\n    d3 += h7 * (5 * r6);\n    d3 += h8 * (5 * r5);\n    d3 += h9 * (5 * r4);\n    c += (d3 >>> 13); d3 &= 0x1fff;\n\n    d4 = c;\n    d4 += h0 * r4;\n    d4 += h1 * r3;\n    d4 += h2 * r2;\n    d4 += h3 * r1;\n    d4 += h4 * r0;\n    c = (d4 >>> 13); d4 &= 0x1fff;\n    d4 += h5 * (5 * r9);\n    d4 += h6 * (5 * r8);\n    d4 += h7 * (5 * r7);\n    d4 += h8 * (5 * r6);\n    d4 += h9 * (5 * r5);\n    c += (d4 >>> 13); d4 &= 0x1fff;\n\n    d5 = c;\n    d5 += h0 * r5;\n    d5 += h1 * r4;\n    d5 += h2 * r3;\n    d5 += h3 * r2;\n    d5 += h4 * r1;\n    c = (d5 >>> 13); d5 &= 0x1fff;\n    d5 += h5 * r0;\n    d5 += h6 * (5 * r9);\n    d5 += h7 * (5 * r8);\n    d5 += h8 * (5 * r7);\n    d5 += h9 * (5 * r6);\n    c += (d5 >>> 13); d5 &= 0x1fff;\n\n    d6 = c;\n    d6 += h0 * r6;\n    d6 += h1 * r5;\n    d6 += h2 * r4;\n    d6 += h3 * r3;\n    d6 += h4 * r2;\n    c = (d6 >>> 13); d6 &= 0x1fff;\n    d6 += h5 * r1;\n    d6 += h6 * r0;\n    d6 += h7 * (5 * r9);\n    d6 += h8 * (5 * r8);\n    d6 += h9 * (5 * r7);\n    c += (d6 >>> 13); d6 &= 0x1fff;\n\n    d7 = c;\n    d7 += h0 * r7;\n    d7 += h1 * r6;\n    d7 += h2 * r5;\n    d7 += h3 * r4;\n    d7 += h4 * r3;\n    c = (d7 >>> 13); d7 &= 0x1fff;\n    d7 += h5 * r2;\n    d7 += h6 * r1;\n    d7 += h7 * r0;\n    d7 += h8 * (5 * r9);\n    d7 += h9 * (5 * r8);\n    c += (d7 >>> 13); d7 &= 0x1fff;\n\n    d8 = c;\n    d8 += h0 * r8;\n    d8 += h1 * r7;\n    d8 += h2 * r6;\n    d8 += h3 * r5;\n    d8 += h4 * r4;\n    c = (d8 >>> 13); d8 &= 0x1fff;\n    d8 += h5 * r3;\n    d8 += h6 * r2;\n    d8 += h7 * r1;\n    d8 += h8 * r0;\n    d8 += h9 * (5 * r9);\n    c += (d8 >>> 13); d8 &= 0x1fff;\n\n    d9 = c;\n    d9 += h0 * r9;\n    d9 += h1 * r8;\n    d9 += h2 * r7;\n    d9 += h3 * r6;\n    d9 += h4 * r5;\n    c = (d9 >>> 13); d9 &= 0x1fff;\n    d9 += h5 * r4;\n    d9 += h6 * r3;\n    d9 += h7 * r2;\n    d9 += h8 * r1;\n    d9 += h9 * r0;\n    c += (d9 >>> 13); d9 &= 0x1fff;\n\n    c = (((c << 2) + c)) | 0;\n    c = (c + d0) | 0;\n    d0 = c & 0x1fff;\n    c = (c >>> 13);\n    d1 += c;\n\n    h0 = d0;\n    h1 = d1;\n    h2 = d2;\n    h3 = d3;\n    h4 = d4;\n    h5 = d5;\n    h6 = d6;\n    h7 = d7;\n    h8 = d8;\n    h9 = d9;\n\n    mpos += 16;\n    bytes -= 16;\n  }\n  this.h[0] = h0;\n  this.h[1] = h1;\n  this.h[2] = h2;\n  this.h[3] = h3;\n  this.h[4] = h4;\n  this.h[5] = h5;\n  this.h[6] = h6;\n  this.h[7] = h7;\n  this.h[8] = h8;\n  this.h[9] = h9;\n};\n\npoly1305.prototype.finish = function(mac, macpos) {\n  var g = new Uint16Array(10);\n  var c, mask, f, i;\n\n  if (this.leftover) {\n    i = this.leftover;\n    this.buffer[i++] = 1;\n    for (; i < 16; i++) this.buffer[i] = 0;\n    this.fin = 1;\n    this.blocks(this.buffer, 0, 16);\n  }\n\n  c = this.h[1] >>> 13;\n  this.h[1] &= 0x1fff;\n  for (i = 2; i < 10; i++) {\n    this.h[i] += c;\n    c = this.h[i] >>> 13;\n    this.h[i] &= 0x1fff;\n  }\n  this.h[0] += (c * 5);\n  c = this.h[0] >>> 13;\n  this.h[0] &= 0x1fff;\n  this.h[1] += c;\n  c = this.h[1] >>> 13;\n  this.h[1] &= 0x1fff;\n  this.h[2] += c;\n\n  g[0] = this.h[0] + 5;\n  c = g[0] >>> 13;\n  g[0] &= 0x1fff;\n  for (i = 1; i < 10; i++) {\n    g[i] = this.h[i] + c;\n    c = g[i] >>> 13;\n    g[i] &= 0x1fff;\n  }\n  g[9] -= (1 << 13);\n\n  mask = (c ^ 1) - 1;\n  for (i = 0; i < 10; i++) g[i] &= mask;\n  mask = ~mask;\n  for (i = 0; i < 10; i++) this.h[i] = (this.h[i] & mask) | g[i];\n\n  this.h[0] = ((this.h[0]       ) | (this.h[1] << 13)                    ) & 0xffff;\n  this.h[1] = ((this.h[1] >>>  3) | (this.h[2] << 10)                    ) & 0xffff;\n  this.h[2] = ((this.h[2] >>>  6) | (this.h[3] <<  7)                    ) & 0xffff;\n  this.h[3] = ((this.h[3] >>>  9) | (this.h[4] <<  4)                    ) & 0xffff;\n  this.h[4] = ((this.h[4] >>> 12) | (this.h[5] <<  1) | (this.h[6] << 14)) & 0xffff;\n  this.h[5] = ((this.h[6] >>>  2) | (this.h[7] << 11)                    ) & 0xffff;\n  this.h[6] = ((this.h[7] >>>  5) | (this.h[8] <<  8)                    ) & 0xffff;\n  this.h[7] = ((this.h[8] >>>  8) | (this.h[9] <<  5)                    ) & 0xffff;\n\n  f = this.h[0] + this.pad[0];\n  this.h[0] = f & 0xffff;\n  for (i = 1; i < 8; i++) {\n    f = (((this.h[i] + this.pad[i]) | 0) + (f >>> 16)) | 0;\n    this.h[i] = f & 0xffff;\n  }\n\n  mac[macpos+ 0] = (this.h[0] >>> 0) & 0xff;\n  mac[macpos+ 1] = (this.h[0] >>> 8) & 0xff;\n  mac[macpos+ 2] = (this.h[1] >>> 0) & 0xff;\n  mac[macpos+ 3] = (this.h[1] >>> 8) & 0xff;\n  mac[macpos+ 4] = (this.h[2] >>> 0) & 0xff;\n  mac[macpos+ 5] = (this.h[2] >>> 8) & 0xff;\n  mac[macpos+ 6] = (this.h[3] >>> 0) & 0xff;\n  mac[macpos+ 7] = (this.h[3] >>> 8) & 0xff;\n  mac[macpos+ 8] = (this.h[4] >>> 0) & 0xff;\n  mac[macpos+ 9] = (this.h[4] >>> 8) & 0xff;\n  mac[macpos+10] = (this.h[5] >>> 0) & 0xff;\n  mac[macpos+11] = (this.h[5] >>> 8) & 0xff;\n  mac[macpos+12] = (this.h[6] >>> 0) & 0xff;\n  mac[macpos+13] = (this.h[6] >>> 8) & 0xff;\n  mac[macpos+14] = (this.h[7] >>> 0) & 0xff;\n  mac[macpos+15] = (this.h[7] >>> 8) & 0xff;\n};\n\npoly1305.prototype.update = function(m, mpos, bytes) {\n  var i, want;\n\n  if (this.leftover) {\n    want = (16 - this.leftover);\n    if (want > bytes)\n      want = bytes;\n    for (i = 0; i < want; i++)\n      this.buffer[this.leftover + i] = m[mpos+i];\n    bytes -= want;\n    mpos += want;\n    this.leftover += want;\n    if (this.leftover < 16)\n      return;\n    this.blocks(this.buffer, 0, 16);\n    this.leftover = 0;\n  }\n\n  if (bytes >= 16) {\n    want = bytes - (bytes % 16);\n    this.blocks(m, mpos, want);\n    mpos += want;\n    bytes -= want;\n  }\n\n  if (bytes) {\n    for (i = 0; i < bytes; i++)\n      this.buffer[this.leftover + i] = m[mpos+i];\n    this.leftover += bytes;\n  }\n};\n\nfunction crypto_onetimeauth(out, outpos, m, mpos, n, k) {\n  var s = new poly1305(k);\n  s.update(m, mpos, n);\n  s.finish(out, outpos);\n  return 0;\n}\n\nfunction crypto_onetimeauth_verify(h, hpos, m, mpos, n, k) {\n  var x = new Uint8Array(16);\n  crypto_onetimeauth(x,0,m,mpos,n,k);\n  return crypto_verify_16(h,hpos,x,0);\n}\n\nfunction crypto_secretbox(c,m,d,n,k) {\n  var i;\n  if (d < 32) return -1;\n  crypto_stream_xor(c,0,m,0,d,n,k);\n  crypto_onetimeauth(c, 16, c, 32, d - 32, c);\n  for (i = 0; i < 16; i++) c[i] = 0;\n  return 0;\n}\n\nfunction crypto_secretbox_open(m,c,d,n,k) {\n  var i;\n  var x = new Uint8Array(32);\n  if (d < 32) return -1;\n  crypto_stream(x,0,32,n,k);\n  if (crypto_onetimeauth_verify(c, 16,c, 32,d - 32,x) !== 0) return -1;\n  crypto_stream_xor(m,0,c,0,d,n,k);\n  for (i = 0; i < 32; i++) m[i] = 0;\n  return 0;\n}\n\nfunction set25519(r, a) {\n  var i;\n  for (i = 0; i < 16; i++) r[i] = a[i]|0;\n}\n\nfunction car25519(o) {\n  var i, v, c = 1;\n  for (i = 0; i < 16; i++) {\n    v = o[i] + c + 65535;\n    c = Math.floor(v / 65536);\n    o[i] = v - c * 65536;\n  }\n  o[0] += c-1 + 37 * (c-1);\n}\n\nfunction sel25519(p, q, b) {\n  var t, c = ~(b-1);\n  for (var i = 0; i < 16; i++) {\n    t = c & (p[i] ^ q[i]);\n    p[i] ^= t;\n    q[i] ^= t;\n  }\n}\n\nfunction pack25519(o, n) {\n  var i, j, b;\n  var m = gf(), t = gf();\n  for (i = 0; i < 16; i++) t[i] = n[i];\n  car25519(t);\n  car25519(t);\n  car25519(t);\n  for (j = 0; j < 2; j++) {\n    m[0] = t[0] - 0xffed;\n    for (i = 1; i < 15; i++) {\n      m[i] = t[i] - 0xffff - ((m[i-1]>>16) & 1);\n      m[i-1] &= 0xffff;\n    }\n    m[15] = t[15] - 0x7fff - ((m[14]>>16) & 1);\n    b = (m[15]>>16) & 1;\n    m[14] &= 0xffff;\n    sel25519(t, m, 1-b);\n  }\n  for (i = 0; i < 16; i++) {\n    o[2*i] = t[i] & 0xff;\n    o[2*i+1] = t[i]>>8;\n  }\n}\n\nfunction neq25519(a, b) {\n  var c = new Uint8Array(32), d = new Uint8Array(32);\n  pack25519(c, a);\n  pack25519(d, b);\n  return crypto_verify_32(c, 0, d, 0);\n}\n\nfunction par25519(a) {\n  var d = new Uint8Array(32);\n  pack25519(d, a);\n  return d[0] & 1;\n}\n\nfunction unpack25519(o, n) {\n  var i;\n  for (i = 0; i < 16; i++) o[i] = n[2*i] + (n[2*i+1] << 8);\n  o[15] &= 0x7fff;\n}\n\nfunction A(o, a, b) {\n  for (var i = 0; i < 16; i++) o[i] = a[i] + b[i];\n}\n\nfunction Z(o, a, b) {\n  for (var i = 0; i < 16; i++) o[i] = a[i] - b[i];\n}\n\nfunction M(o, a, b) {\n  var v, c,\n     t0 = 0,  t1 = 0,  t2 = 0,  t3 = 0,  t4 = 0,  t5 = 0,  t6 = 0,  t7 = 0,\n     t8 = 0,  t9 = 0, t10 = 0, t11 = 0, t12 = 0, t13 = 0, t14 = 0, t15 = 0,\n    t16 = 0, t17 = 0, t18 = 0, t19 = 0, t20 = 0, t21 = 0, t22 = 0, t23 = 0,\n    t24 = 0, t25 = 0, t26 = 0, t27 = 0, t28 = 0, t29 = 0, t30 = 0,\n    b0 = b[0],\n    b1 = b[1],\n    b2 = b[2],\n    b3 = b[3],\n    b4 = b[4],\n    b5 = b[5],\n    b6 = b[6],\n    b7 = b[7],\n    b8 = b[8],\n    b9 = b[9],\n    b10 = b[10],\n    b11 = b[11],\n    b12 = b[12],\n    b13 = b[13],\n    b14 = b[14],\n    b15 = b[15];\n\n  v = a[0];\n  t0 += v * b0;\n  t1 += v * b1;\n  t2 += v * b2;\n  t3 += v * b3;\n  t4 += v * b4;\n  t5 += v * b5;\n  t6 += v * b6;\n  t7 += v * b7;\n  t8 += v * b8;\n  t9 += v * b9;\n  t10 += v * b10;\n  t11 += v * b11;\n  t12 += v * b12;\n  t13 += v * b13;\n  t14 += v * b14;\n  t15 += v * b15;\n  v = a[1];\n  t1 += v * b0;\n  t2 += v * b1;\n  t3 += v * b2;\n  t4 += v * b3;\n  t5 += v * b4;\n  t6 += v * b5;\n  t7 += v * b6;\n  t8 += v * b7;\n  t9 += v * b8;\n  t10 += v * b9;\n  t11 += v * b10;\n  t12 += v * b11;\n  t13 += v * b12;\n  t14 += v * b13;\n  t15 += v * b14;\n  t16 += v * b15;\n  v = a[2];\n  t2 += v * b0;\n  t3 += v * b1;\n  t4 += v * b2;\n  t5 += v * b3;\n  t6 += v * b4;\n  t7 += v * b5;\n  t8 += v * b6;\n  t9 += v * b7;\n  t10 += v * b8;\n  t11 += v * b9;\n  t12 += v * b10;\n  t13 += v * b11;\n  t14 += v * b12;\n  t15 += v * b13;\n  t16 += v * b14;\n  t17 += v * b15;\n  v = a[3];\n  t3 += v * b0;\n  t4 += v * b1;\n  t5 += v * b2;\n  t6 += v * b3;\n  t7 += v * b4;\n  t8 += v * b5;\n  t9 += v * b6;\n  t10 += v * b7;\n  t11 += v * b8;\n  t12 += v * b9;\n  t13 += v * b10;\n  t14 += v * b11;\n  t15 += v * b12;\n  t16 += v * b13;\n  t17 += v * b14;\n  t18 += v * b15;\n  v = a[4];\n  t4 += v * b0;\n  t5 += v * b1;\n  t6 += v * b2;\n  t7 += v * b3;\n  t8 += v * b4;\n  t9 += v * b5;\n  t10 += v * b6;\n  t11 += v * b7;\n  t12 += v * b8;\n  t13 += v * b9;\n  t14 += v * b10;\n  t15 += v * b11;\n  t16 += v * b12;\n  t17 += v * b13;\n  t18 += v * b14;\n  t19 += v * b15;\n  v = a[5];\n  t5 += v * b0;\n  t6 += v * b1;\n  t7 += v * b2;\n  t8 += v * b3;\n  t9 += v * b4;\n  t10 += v * b5;\n  t11 += v * b6;\n  t12 += v * b7;\n  t13 += v * b8;\n  t14 += v * b9;\n  t15 += v * b10;\n  t16 += v * b11;\n  t17 += v * b12;\n  t18 += v * b13;\n  t19 += v * b14;\n  t20 += v * b15;\n  v = a[6];\n  t6 += v * b0;\n  t7 += v * b1;\n  t8 += v * b2;\n  t9 += v * b3;\n  t10 += v * b4;\n  t11 += v * b5;\n  t12 += v * b6;\n  t13 += v * b7;\n  t14 += v * b8;\n  t15 += v * b9;\n  t16 += v * b10;\n  t17 += v * b11;\n  t18 += v * b12;\n  t19 += v * b13;\n  t20 += v * b14;\n  t21 += v * b15;\n  v = a[7];\n  t7 += v * b0;\n  t8 += v * b1;\n  t9 += v * b2;\n  t10 += v * b3;\n  t11 += v * b4;\n  t12 += v * b5;\n  t13 += v * b6;\n  t14 += v * b7;\n  t15 += v * b8;\n  t16 += v * b9;\n  t17 += v * b10;\n  t18 += v * b11;\n  t19 += v * b12;\n  t20 += v * b13;\n  t21 += v * b14;\n  t22 += v * b15;\n  v = a[8];\n  t8 += v * b0;\n  t9 += v * b1;\n  t10 += v * b2;\n  t11 += v * b3;\n  t12 += v * b4;\n  t13 += v * b5;\n  t14 += v * b6;\n  t15 += v * b7;\n  t16 += v * b8;\n  t17 += v * b9;\n  t18 += v * b10;\n  t19 += v * b11;\n  t20 += v * b12;\n  t21 += v * b13;\n  t22 += v * b14;\n  t23 += v * b15;\n  v = a[9];\n  t9 += v * b0;\n  t10 += v * b1;\n  t11 += v * b2;\n  t12 += v * b3;\n  t13 += v * b4;\n  t14 += v * b5;\n  t15 += v * b6;\n  t16 += v * b7;\n  t17 += v * b8;\n  t18 += v * b9;\n  t19 += v * b10;\n  t20 += v * b11;\n  t21 += v * b12;\n  t22 += v * b13;\n  t23 += v * b14;\n  t24 += v * b15;\n  v = a[10];\n  t10 += v * b0;\n  t11 += v * b1;\n  t12 += v * b2;\n  t13 += v * b3;\n  t14 += v * b4;\n  t15 += v * b5;\n  t16 += v * b6;\n  t17 += v * b7;\n  t18 += v * b8;\n  t19 += v * b9;\n  t20 += v * b10;\n  t21 += v * b11;\n  t22 += v * b12;\n  t23 += v * b13;\n  t24 += v * b14;\n  t25 += v * b15;\n  v = a[11];\n  t11 += v * b0;\n  t12 += v * b1;\n  t13 += v * b2;\n  t14 += v * b3;\n  t15 += v * b4;\n  t16 += v * b5;\n  t17 += v * b6;\n  t18 += v * b7;\n  t19 += v * b8;\n  t20 += v * b9;\n  t21 += v * b10;\n  t22 += v * b11;\n  t23 += v * b12;\n  t24 += v * b13;\n  t25 += v * b14;\n  t26 += v * b15;\n  v = a[12];\n  t12 += v * b0;\n  t13 += v * b1;\n  t14 += v * b2;\n  t15 += v * b3;\n  t16 += v * b4;\n  t17 += v * b5;\n  t18 += v * b6;\n  t19 += v * b7;\n  t20 += v * b8;\n  t21 += v * b9;\n  t22 += v * b10;\n  t23 += v * b11;\n  t24 += v * b12;\n  t25 += v * b13;\n  t26 += v * b14;\n  t27 += v * b15;\n  v = a[13];\n  t13 += v * b0;\n  t14 += v * b1;\n  t15 += v * b2;\n  t16 += v * b3;\n  t17 += v * b4;\n  t18 += v * b5;\n  t19 += v * b6;\n  t20 += v * b7;\n  t21 += v * b8;\n  t22 += v * b9;\n  t23 += v * b10;\n  t24 += v * b11;\n  t25 += v * b12;\n  t26 += v * b13;\n  t27 += v * b14;\n  t28 += v * b15;\n  v = a[14];\n  t14 += v * b0;\n  t15 += v * b1;\n  t16 += v * b2;\n  t17 += v * b3;\n  t18 += v * b4;\n  t19 += v * b5;\n  t20 += v * b6;\n  t21 += v * b7;\n  t22 += v * b8;\n  t23 += v * b9;\n  t24 += v * b10;\n  t25 += v * b11;\n  t26 += v * b12;\n  t27 += v * b13;\n  t28 += v * b14;\n  t29 += v * b15;\n  v = a[15];\n  t15 += v * b0;\n  t16 += v * b1;\n  t17 += v * b2;\n  t18 += v * b3;\n  t19 += v * b4;\n  t20 += v * b5;\n  t21 += v * b6;\n  t22 += v * b7;\n  t23 += v * b8;\n  t24 += v * b9;\n  t25 += v * b10;\n  t26 += v * b11;\n  t27 += v * b12;\n  t28 += v * b13;\n  t29 += v * b14;\n  t30 += v * b15;\n\n  t0  += 38 * t16;\n  t1  += 38 * t17;\n  t2  += 38 * t18;\n  t3  += 38 * t19;\n  t4  += 38 * t20;\n  t5  += 38 * t21;\n  t6  += 38 * t22;\n  t7  += 38 * t23;\n  t8  += 38 * t24;\n  t9  += 38 * t25;\n  t10 += 38 * t26;\n  t11 += 38 * t27;\n  t12 += 38 * t28;\n  t13 += 38 * t29;\n  t14 += 38 * t30;\n  // t15 left as is\n\n  // first car\n  c = 1;\n  v =  t0 + c + 65535; c = Math.floor(v / 65536);  t0 = v - c * 65536;\n  v =  t1 + c + 65535; c = Math.floor(v / 65536);  t1 = v - c * 65536;\n  v =  t2 + c + 65535; c = Math.floor(v / 65536);  t2 = v - c * 65536;\n  v =  t3 + c + 65535; c = Math.floor(v / 65536);  t3 = v - c * 65536;\n  v =  t4 + c + 65535; c = Math.floor(v / 65536);  t4 = v - c * 65536;\n  v =  t5 + c + 65535; c = Math.floor(v / 65536);  t5 = v - c * 65536;\n  v =  t6 + c + 65535; c = Math.floor(v / 65536);  t6 = v - c * 65536;\n  v =  t7 + c + 65535; c = Math.floor(v / 65536);  t7 = v - c * 65536;\n  v =  t8 + c + 65535; c = Math.floor(v / 65536);  t8 = v - c * 65536;\n  v =  t9 + c + 65535; c = Math.floor(v / 65536);  t9 = v - c * 65536;\n  v = t10 + c + 65535; c = Math.floor(v / 65536); t10 = v - c * 65536;\n  v = t11 + c + 65535; c = Math.floor(v / 65536); t11 = v - c * 65536;\n  v = t12 + c + 65535; c = Math.floor(v / 65536); t12 = v - c * 65536;\n  v = t13 + c + 65535; c = Math.floor(v / 65536); t13 = v - c * 65536;\n  v = t14 + c + 65535; c = Math.floor(v / 65536); t14 = v - c * 65536;\n  v = t15 + c + 65535; c = Math.floor(v / 65536); t15 = v - c * 65536;\n  t0 += c-1 + 37 * (c-1);\n\n  // second car\n  c = 1;\n  v =  t0 + c + 65535; c = Math.floor(v / 65536);  t0 = v - c * 65536;\n  v =  t1 + c + 65535; c = Math.floor(v / 65536);  t1 = v - c * 65536;\n  v =  t2 + c + 65535; c = Math.floor(v / 65536);  t2 = v - c * 65536;\n  v =  t3 + c + 65535; c = Math.floor(v / 65536);  t3 = v - c * 65536;\n  v =  t4 + c + 65535; c = Math.floor(v / 65536);  t4 = v - c * 65536;\n  v =  t5 + c + 65535; c = Math.floor(v / 65536);  t5 = v - c * 65536;\n  v =  t6 + c + 65535; c = Math.floor(v / 65536);  t6 = v - c * 65536;\n  v =  t7 + c + 65535; c = Math.floor(v / 65536);  t7 = v - c * 65536;\n  v =  t8 + c + 65535; c = Math.floor(v / 65536);  t8 = v - c * 65536;\n  v =  t9 + c + 65535; c = Math.floor(v / 65536);  t9 = v - c * 65536;\n  v = t10 + c + 65535; c = Math.floor(v / 65536); t10 = v - c * 65536;\n  v = t11 + c + 65535; c = Math.floor(v / 65536); t11 = v - c * 65536;\n  v = t12 + c + 65535; c = Math.floor(v / 65536); t12 = v - c * 65536;\n  v = t13 + c + 65535; c = Math.floor(v / 65536); t13 = v - c * 65536;\n  v = t14 + c + 65535; c = Math.floor(v / 65536); t14 = v - c * 65536;\n  v = t15 + c + 65535; c = Math.floor(v / 65536); t15 = v - c * 65536;\n  t0 += c-1 + 37 * (c-1);\n\n  o[ 0] = t0;\n  o[ 1] = t1;\n  o[ 2] = t2;\n  o[ 3] = t3;\n  o[ 4] = t4;\n  o[ 5] = t5;\n  o[ 6] = t6;\n  o[ 7] = t7;\n  o[ 8] = t8;\n  o[ 9] = t9;\n  o[10] = t10;\n  o[11] = t11;\n  o[12] = t12;\n  o[13] = t13;\n  o[14] = t14;\n  o[15] = t15;\n}\n\nfunction S(o, a) {\n  M(o, a, a);\n}\n\nfunction inv25519(o, i) {\n  var c = gf();\n  var a;\n  for (a = 0; a < 16; a++) c[a] = i[a];\n  for (a = 253; a >= 0; a--) {\n    S(c, c);\n    if(a !== 2 && a !== 4) M(c, c, i);\n  }\n  for (a = 0; a < 16; a++) o[a] = c[a];\n}\n\nfunction pow2523(o, i) {\n  var c = gf();\n  var a;\n  for (a = 0; a < 16; a++) c[a] = i[a];\n  for (a = 250; a >= 0; a--) {\n      S(c, c);\n      if(a !== 1) M(c, c, i);\n  }\n  for (a = 0; a < 16; a++) o[a] = c[a];\n}\n\nfunction crypto_scalarmult(q, n, p) {\n  var z = new Uint8Array(32);\n  var x = new Float64Array(80), r, i;\n  var a = gf(), b = gf(), c = gf(),\n      d = gf(), e = gf(), f = gf();\n  for (i = 0; i < 31; i++) z[i] = n[i];\n  z[31]=(n[31]&127)|64;\n  z[0]&=248;\n  unpack25519(x,p);\n  for (i = 0; i < 16; i++) {\n    b[i]=x[i];\n    d[i]=a[i]=c[i]=0;\n  }\n  a[0]=d[0]=1;\n  for (i=254; i>=0; --i) {\n    r=(z[i>>>3]>>>(i&7))&1;\n    sel25519(a,b,r);\n    sel25519(c,d,r);\n    A(e,a,c);\n    Z(a,a,c);\n    A(c,b,d);\n    Z(b,b,d);\n    S(d,e);\n    S(f,a);\n    M(a,c,a);\n    M(c,b,e);\n    A(e,a,c);\n    Z(a,a,c);\n    S(b,a);\n    Z(c,d,f);\n    M(a,c,_121665);\n    A(a,a,d);\n    M(c,c,a);\n    M(a,d,f);\n    M(d,b,x);\n    S(b,e);\n    sel25519(a,b,r);\n    sel25519(c,d,r);\n  }\n  for (i = 0; i < 16; i++) {\n    x[i+16]=a[i];\n    x[i+32]=c[i];\n    x[i+48]=b[i];\n    x[i+64]=d[i];\n  }\n  var x32 = x.subarray(32);\n  var x16 = x.subarray(16);\n  inv25519(x32,x32);\n  M(x16,x16,x32);\n  pack25519(q,x16);\n  return 0;\n}\n\nfunction crypto_scalarmult_base(q, n) {\n  return crypto_scalarmult(q, n, _9);\n}\n\nfunction crypto_box_keypair(y, x) {\n  randombytes(x, 32);\n  return crypto_scalarmult_base(y, x);\n}\n\nfunction crypto_box_beforenm(k, y, x) {\n  var s = new Uint8Array(32);\n  crypto_scalarmult(s, x, y);\n  return crypto_core_hsalsa20(k, _0, s, sigma);\n}\n\nvar crypto_box_afternm = crypto_secretbox;\nvar crypto_box_open_afternm = crypto_secretbox_open;\n\nfunction crypto_box(c, m, d, n, y, x) {\n  var k = new Uint8Array(32);\n  crypto_box_beforenm(k, y, x);\n  return crypto_box_afternm(c, m, d, n, k);\n}\n\nfunction crypto_box_open(m, c, d, n, y, x) {\n  var k = new Uint8Array(32);\n  crypto_box_beforenm(k, y, x);\n  return crypto_box_open_afternm(m, c, d, n, k);\n}\n\nvar K = [\n  0x428a2f98, 0xd728ae22, 0x71374491, 0x23ef65cd,\n  0xb5c0fbcf, 0xec4d3b2f, 0xe9b5dba5, 0x8189dbbc,\n  0x3956c25b, 0xf348b538, 0x59f111f1, 0xb605d019,\n  0x923f82a4, 0xaf194f9b, 0xab1c5ed5, 0xda6d8118,\n  0xd807aa98, 0xa3030242, 0x12835b01, 0x45706fbe,\n  0x243185be, 0x4ee4b28c, 0x550c7dc3, 0xd5ffb4e2,\n  0x72be5d74, 0xf27b896f, 0x80deb1fe, 0x3b1696b1,\n  0x9bdc06a7, 0x25c71235, 0xc19bf174, 0xcf692694,\n  0xe49b69c1, 0x9ef14ad2, 0xefbe4786, 0x384f25e3,\n  0x0fc19dc6, 0x8b8cd5b5, 0x240ca1cc, 0x77ac9c65,\n  0x2de92c6f, 0x592b0275, 0x4a7484aa, 0x6ea6e483,\n  0x5cb0a9dc, 0xbd41fbd4, 0x76f988da, 0x831153b5,\n  0x983e5152, 0xee66dfab, 0xa831c66d, 0x2db43210,\n  0xb00327c8, 0x98fb213f, 0xbf597fc7, 0xbeef0ee4,\n  0xc6e00bf3, 0x3da88fc2, 0xd5a79147, 0x930aa725,\n  0x06ca6351, 0xe003826f, 0x14292967, 0x0a0e6e70,\n  0x27b70a85, 0x46d22ffc, 0x2e1b2138, 0x5c26c926,\n  0x4d2c6dfc, 0x5ac42aed, 0x53380d13, 0x9d95b3df,\n  0x650a7354, 0x8baf63de, 0x766a0abb, 0x3c77b2a8,\n  0x81c2c92e, 0x47edaee6, 0x92722c85, 0x1482353b,\n  0xa2bfe8a1, 0x4cf10364, 0xa81a664b, 0xbc423001,\n  0xc24b8b70, 0xd0f89791, 0xc76c51a3, 0x0654be30,\n  0xd192e819, 0xd6ef5218, 0xd6990624, 0x5565a910,\n  0xf40e3585, 0x5771202a, 0x106aa070, 0x32bbd1b8,\n  0x19a4c116, 0xb8d2d0c8, 0x1e376c08, 0x5141ab53,\n  0x2748774c, 0xdf8eeb99, 0x34b0bcb5, 0xe19b48a8,\n  0x391c0cb3, 0xc5c95a63, 0x4ed8aa4a, 0xe3418acb,\n  0x5b9cca4f, 0x7763e373, 0x682e6ff3, 0xd6b2b8a3,\n  0x748f82ee, 0x5defb2fc, 0x78a5636f, 0x43172f60,\n  0x84c87814, 0xa1f0ab72, 0x8cc70208, 0x1a6439ec,\n  0x90befffa, 0x23631e28, 0xa4506ceb, 0xde82bde9,\n  0xbef9a3f7, 0xb2c67915, 0xc67178f2, 0xe372532b,\n  0xca273ece, 0xea26619c, 0xd186b8c7, 0x21c0c207,\n  0xeada7dd6, 0xcde0eb1e, 0xf57d4f7f, 0xee6ed178,\n  0x06f067aa, 0x72176fba, 0x0a637dc5, 0xa2c898a6,\n  0x113f9804, 0xbef90dae, 0x1b710b35, 0x131c471b,\n  0x28db77f5, 0x23047d84, 0x32caab7b, 0x40c72493,\n  0x3c9ebe0a, 0x15c9bebc, 0x431d67c4, 0x9c100d4c,\n  0x4cc5d4be, 0xcb3e42b6, 0x597f299c, 0xfc657e2a,\n  0x5fcb6fab, 0x3ad6faec, 0x6c44198c, 0x4a475817\n];\n\nfunction crypto_hashblocks_hl(hh, hl, m, n) {\n  var wh = new Int32Array(16), wl = new Int32Array(16),\n      bh0, bh1, bh2, bh3, bh4, bh5, bh6, bh7,\n      bl0, bl1, bl2, bl3, bl4, bl5, bl6, bl7,\n      th, tl, i, j, h, l, a, b, c, d;\n\n  var ah0 = hh[0],\n      ah1 = hh[1],\n      ah2 = hh[2],\n      ah3 = hh[3],\n      ah4 = hh[4],\n      ah5 = hh[5],\n      ah6 = hh[6],\n      ah7 = hh[7],\n\n      al0 = hl[0],\n      al1 = hl[1],\n      al2 = hl[2],\n      al3 = hl[3],\n      al4 = hl[4],\n      al5 = hl[5],\n      al6 = hl[6],\n      al7 = hl[7];\n\n  var pos = 0;\n  while (n >= 128) {\n    for (i = 0; i < 16; i++) {\n      j = 8 * i + pos;\n      wh[i] = (m[j+0] << 24) | (m[j+1] << 16) | (m[j+2] << 8) | m[j+3];\n      wl[i] = (m[j+4] << 24) | (m[j+5] << 16) | (m[j+6] << 8) | m[j+7];\n    }\n    for (i = 0; i < 80; i++) {\n      bh0 = ah0;\n      bh1 = ah1;\n      bh2 = ah2;\n      bh3 = ah3;\n      bh4 = ah4;\n      bh5 = ah5;\n      bh6 = ah6;\n      bh7 = ah7;\n\n      bl0 = al0;\n      bl1 = al1;\n      bl2 = al2;\n      bl3 = al3;\n      bl4 = al4;\n      bl5 = al5;\n      bl6 = al6;\n      bl7 = al7;\n\n      // add\n      h = ah7;\n      l = al7;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      // Sigma1\n      h = ((ah4 >>> 14) | (al4 << (32-14))) ^ ((ah4 >>> 18) | (al4 << (32-18))) ^ ((al4 >>> (41-32)) | (ah4 << (32-(41-32))));\n      l = ((al4 >>> 14) | (ah4 << (32-14))) ^ ((al4 >>> 18) | (ah4 << (32-18))) ^ ((ah4 >>> (41-32)) | (al4 << (32-(41-32))));\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // Ch\n      h = (ah4 & ah5) ^ (~ah4 & ah6);\n      l = (al4 & al5) ^ (~al4 & al6);\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // K\n      h = K[i*2];\n      l = K[i*2+1];\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // w\n      h = wh[i%16];\n      l = wl[i%16];\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      th = c & 0xffff | d << 16;\n      tl = a & 0xffff | b << 16;\n\n      // add\n      h = th;\n      l = tl;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      // Sigma0\n      h = ((ah0 >>> 28) | (al0 << (32-28))) ^ ((al0 >>> (34-32)) | (ah0 << (32-(34-32)))) ^ ((al0 >>> (39-32)) | (ah0 << (32-(39-32))));\n      l = ((al0 >>> 28) | (ah0 << (32-28))) ^ ((ah0 >>> (34-32)) | (al0 << (32-(34-32)))) ^ ((ah0 >>> (39-32)) | (al0 << (32-(39-32))));\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // Maj\n      h = (ah0 & ah1) ^ (ah0 & ah2) ^ (ah1 & ah2);\n      l = (al0 & al1) ^ (al0 & al2) ^ (al1 & al2);\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      bh7 = (c & 0xffff) | (d << 16);\n      bl7 = (a & 0xffff) | (b << 16);\n\n      // add\n      h = bh3;\n      l = bl3;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      h = th;\n      l = tl;\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      bh3 = (c & 0xffff) | (d << 16);\n      bl3 = (a & 0xffff) | (b << 16);\n\n      ah1 = bh0;\n      ah2 = bh1;\n      ah3 = bh2;\n      ah4 = bh3;\n      ah5 = bh4;\n      ah6 = bh5;\n      ah7 = bh6;\n      ah0 = bh7;\n\n      al1 = bl0;\n      al2 = bl1;\n      al3 = bl2;\n      al4 = bl3;\n      al5 = bl4;\n      al6 = bl5;\n      al7 = bl6;\n      al0 = bl7;\n\n      if (i%16 === 15) {\n        for (j = 0; j < 16; j++) {\n          // add\n          h = wh[j];\n          l = wl[j];\n\n          a = l & 0xffff; b = l >>> 16;\n          c = h & 0xffff; d = h >>> 16;\n\n          h = wh[(j+9)%16];\n          l = wl[(j+9)%16];\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          // sigma0\n          th = wh[(j+1)%16];\n          tl = wl[(j+1)%16];\n          h = ((th >>> 1) | (tl << (32-1))) ^ ((th >>> 8) | (tl << (32-8))) ^ (th >>> 7);\n          l = ((tl >>> 1) | (th << (32-1))) ^ ((tl >>> 8) | (th << (32-8))) ^ ((tl >>> 7) | (th << (32-7)));\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          // sigma1\n          th = wh[(j+14)%16];\n          tl = wl[(j+14)%16];\n          h = ((th >>> 19) | (tl << (32-19))) ^ ((tl >>> (61-32)) | (th << (32-(61-32)))) ^ (th >>> 6);\n          l = ((tl >>> 19) | (th << (32-19))) ^ ((th >>> (61-32)) | (tl << (32-(61-32)))) ^ ((tl >>> 6) | (th << (32-6)));\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          b += a >>> 16;\n          c += b >>> 16;\n          d += c >>> 16;\n\n          wh[j] = (c & 0xffff) | (d << 16);\n          wl[j] = (a & 0xffff) | (b << 16);\n        }\n      }\n    }\n\n    // add\n    h = ah0;\n    l = al0;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[0];\n    l = hl[0];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[0] = ah0 = (c & 0xffff) | (d << 16);\n    hl[0] = al0 = (a & 0xffff) | (b << 16);\n\n    h = ah1;\n    l = al1;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[1];\n    l = hl[1];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[1] = ah1 = (c & 0xffff) | (d << 16);\n    hl[1] = al1 = (a & 0xffff) | (b << 16);\n\n    h = ah2;\n    l = al2;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[2];\n    l = hl[2];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[2] = ah2 = (c & 0xffff) | (d << 16);\n    hl[2] = al2 = (a & 0xffff) | (b << 16);\n\n    h = ah3;\n    l = al3;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[3];\n    l = hl[3];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[3] = ah3 = (c & 0xffff) | (d << 16);\n    hl[3] = al3 = (a & 0xffff) | (b << 16);\n\n    h = ah4;\n    l = al4;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[4];\n    l = hl[4];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[4] = ah4 = (c & 0xffff) | (d << 16);\n    hl[4] = al4 = (a & 0xffff) | (b << 16);\n\n    h = ah5;\n    l = al5;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[5];\n    l = hl[5];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[5] = ah5 = (c & 0xffff) | (d << 16);\n    hl[5] = al5 = (a & 0xffff) | (b << 16);\n\n    h = ah6;\n    l = al6;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[6];\n    l = hl[6];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[6] = ah6 = (c & 0xffff) | (d << 16);\n    hl[6] = al6 = (a & 0xffff) | (b << 16);\n\n    h = ah7;\n    l = al7;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[7];\n    l = hl[7];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[7] = ah7 = (c & 0xffff) | (d << 16);\n    hl[7] = al7 = (a & 0xffff) | (b << 16);\n\n    pos += 128;\n    n -= 128;\n  }\n\n  return n;\n}\n\nfunction crypto_hash(out, m, n) {\n  var hh = new Int32Array(8),\n      hl = new Int32Array(8),\n      x = new Uint8Array(256),\n      i, b = n;\n\n  hh[0] = 0x6a09e667;\n  hh[1] = 0xbb67ae85;\n  hh[2] = 0x3c6ef372;\n  hh[3] = 0xa54ff53a;\n  hh[4] = 0x510e527f;\n  hh[5] = 0x9b05688c;\n  hh[6] = 0x1f83d9ab;\n  hh[7] = 0x5be0cd19;\n\n  hl[0] = 0xf3bcc908;\n  hl[1] = 0x84caa73b;\n  hl[2] = 0xfe94f82b;\n  hl[3] = 0x5f1d36f1;\n  hl[4] = 0xade682d1;\n  hl[5] = 0x2b3e6c1f;\n  hl[6] = 0xfb41bd6b;\n  hl[7] = 0x137e2179;\n\n  crypto_hashblocks_hl(hh, hl, m, n);\n  n %= 128;\n\n  for (i = 0; i < n; i++) x[i] = m[b-n+i];\n  x[n] = 128;\n\n  n = 256-128*(n<112?1:0);\n  x[n-9] = 0;\n  ts64(x, n-8,  (b / 0x20000000) | 0, b << 3);\n  crypto_hashblocks_hl(hh, hl, x, n);\n\n  for (i = 0; i < 8; i++) ts64(out, 8*i, hh[i], hl[i]);\n\n  return 0;\n}\n\nfunction add(p, q) {\n  var a = gf(), b = gf(), c = gf(),\n      d = gf(), e = gf(), f = gf(),\n      g = gf(), h = gf(), t = gf();\n\n  Z(a, p[1], p[0]);\n  Z(t, q[1], q[0]);\n  M(a, a, t);\n  A(b, p[0], p[1]);\n  A(t, q[0], q[1]);\n  M(b, b, t);\n  M(c, p[3], q[3]);\n  M(c, c, D2);\n  M(d, p[2], q[2]);\n  A(d, d, d);\n  Z(e, b, a);\n  Z(f, d, c);\n  A(g, d, c);\n  A(h, b, a);\n\n  M(p[0], e, f);\n  M(p[1], h, g);\n  M(p[2], g, f);\n  M(p[3], e, h);\n}\n\nfunction cswap(p, q, b) {\n  var i;\n  for (i = 0; i < 4; i++) {\n    sel25519(p[i], q[i], b);\n  }\n}\n\nfunction pack(r, p) {\n  var tx = gf(), ty = gf(), zi = gf();\n  inv25519(zi, p[2]);\n  M(tx, p[0], zi);\n  M(ty, p[1], zi);\n  pack25519(r, ty);\n  r[31] ^= par25519(tx) << 7;\n}\n\nfunction scalarmult(p, q, s) {\n  var b, i;\n  set25519(p[0], gf0);\n  set25519(p[1], gf1);\n  set25519(p[2], gf1);\n  set25519(p[3], gf0);\n  for (i = 255; i >= 0; --i) {\n    b = (s[(i/8)|0] >> (i&7)) & 1;\n    cswap(p, q, b);\n    add(q, p);\n    add(p, p);\n    cswap(p, q, b);\n  }\n}\n\nfunction scalarbase(p, s) {\n  var q = [gf(), gf(), gf(), gf()];\n  set25519(q[0], X);\n  set25519(q[1], Y);\n  set25519(q[2], gf1);\n  M(q[3], X, Y);\n  scalarmult(p, q, s);\n}\n\nfunction crypto_sign_keypair(pk, sk, seeded) {\n  var d = new Uint8Array(64);\n  var p = [gf(), gf(), gf(), gf()];\n  var i;\n\n  if (!seeded) randombytes(sk, 32);\n  crypto_hash(d, sk, 32);\n  d[0] &= 248;\n  d[31] &= 127;\n  d[31] |= 64;\n\n  scalarbase(p, d);\n  pack(pk, p);\n\n  for (i = 0; i < 32; i++) sk[i+32] = pk[i];\n  return 0;\n}\n\nvar L = new Float64Array([0xed, 0xd3, 0xf5, 0x5c, 0x1a, 0x63, 0x12, 0x58, 0xd6, 0x9c, 0xf7, 0xa2, 0xde, 0xf9, 0xde, 0x14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x10]);\n\nfunction modL(r, x) {\n  var carry, i, j, k;\n  for (i = 63; i >= 32; --i) {\n    carry = 0;\n    for (j = i - 32, k = i - 12; j < k; ++j) {\n      x[j] += carry - 16 * x[i] * L[j - (i - 32)];\n      carry = Math.floor((x[j] + 128) / 256);\n      x[j] -= carry * 256;\n    }\n    x[j] += carry;\n    x[i] = 0;\n  }\n  carry = 0;\n  for (j = 0; j < 32; j++) {\n    x[j] += carry - (x[31] >> 4) * L[j];\n    carry = x[j] >> 8;\n    x[j] &= 255;\n  }\n  for (j = 0; j < 32; j++) x[j] -= carry * L[j];\n  for (i = 0; i < 32; i++) {\n    x[i+1] += x[i] >> 8;\n    r[i] = x[i] & 255;\n  }\n}\n\nfunction reduce(r) {\n  var x = new Float64Array(64), i;\n  for (i = 0; i < 64; i++) x[i] = r[i];\n  for (i = 0; i < 64; i++) r[i] = 0;\n  modL(r, x);\n}\n\n// Note: difference from C - smlen returned, not passed as argument.\nfunction crypto_sign(sm, m, n, sk) {\n  var d = new Uint8Array(64), h = new Uint8Array(64), r = new Uint8Array(64);\n  var i, j, x = new Float64Array(64);\n  var p = [gf(), gf(), gf(), gf()];\n\n  crypto_hash(d, sk, 32);\n  d[0] &= 248;\n  d[31] &= 127;\n  d[31] |= 64;\n\n  var smlen = n + 64;\n  for (i = 0; i < n; i++) sm[64 + i] = m[i];\n  for (i = 0; i < 32; i++) sm[32 + i] = d[32 + i];\n\n  crypto_hash(r, sm.subarray(32), n+32);\n  reduce(r);\n  scalarbase(p, r);\n  pack(sm, p);\n\n  for (i = 32; i < 64; i++) sm[i] = sk[i];\n  crypto_hash(h, sm, n + 64);\n  reduce(h);\n\n  for (i = 0; i < 64; i++) x[i] = 0;\n  for (i = 0; i < 32; i++) x[i] = r[i];\n  for (i = 0; i < 32; i++) {\n    for (j = 0; j < 32; j++) {\n      x[i+j] += h[i] * d[j];\n    }\n  }\n\n  modL(sm.subarray(32), x);\n  return smlen;\n}\n\nfunction unpackneg(r, p) {\n  var t = gf(), chk = gf(), num = gf(),\n      den = gf(), den2 = gf(), den4 = gf(),\n      den6 = gf();\n\n  set25519(r[2], gf1);\n  unpack25519(r[1], p);\n  S(num, r[1]);\n  M(den, num, D);\n  Z(num, num, r[2]);\n  A(den, r[2], den);\n\n  S(den2, den);\n  S(den4, den2);\n  M(den6, den4, den2);\n  M(t, den6, num);\n  M(t, t, den);\n\n  pow2523(t, t);\n  M(t, t, num);\n  M(t, t, den);\n  M(t, t, den);\n  M(r[0], t, den);\n\n  S(chk, r[0]);\n  M(chk, chk, den);\n  if (neq25519(chk, num)) M(r[0], r[0], I);\n\n  S(chk, r[0]);\n  M(chk, chk, den);\n  if (neq25519(chk, num)) return -1;\n\n  if (par25519(r[0]) === (p[31]>>7)) Z(r[0], gf0, r[0]);\n\n  M(r[3], r[0], r[1]);\n  return 0;\n}\n\nfunction crypto_sign_open(m, sm, n, pk) {\n  var i;\n  var t = new Uint8Array(32), h = new Uint8Array(64);\n  var p = [gf(), gf(), gf(), gf()],\n      q = [gf(), gf(), gf(), gf()];\n\n  if (n < 64) return -1;\n\n  if (unpackneg(q, pk)) return -1;\n\n  for (i = 0; i < n; i++) m[i] = sm[i];\n  for (i = 0; i < 32; i++) m[i+32] = pk[i];\n  crypto_hash(h, m, n);\n  reduce(h);\n  scalarmult(p, q, h);\n\n  scalarbase(q, sm.subarray(32));\n  add(p, q);\n  pack(t, p);\n\n  n -= 64;\n  if (crypto_verify_32(sm, 0, t, 0)) {\n    for (i = 0; i < n; i++) m[i] = 0;\n    return -1;\n  }\n\n  for (i = 0; i < n; i++) m[i] = sm[i + 64];\n  return n;\n}\n\nvar crypto_secretbox_KEYBYTES = 32,\n    crypto_secretbox_NONCEBYTES = 24,\n    crypto_secretbox_ZEROBYTES = 32,\n    crypto_secretbox_BOXZEROBYTES = 16,\n    crypto_scalarmult_BYTES = 32,\n    crypto_scalarmult_SCALARBYTES = 32,\n    crypto_box_PUBLICKEYBYTES = 32,\n    crypto_box_SECRETKEYBYTES = 32,\n    crypto_box_BEFORENMBYTES = 32,\n    crypto_box_NONCEBYTES = crypto_secretbox_NONCEBYTES,\n    crypto_box_ZEROBYTES = crypto_secretbox_ZEROBYTES,\n    crypto_box_BOXZEROBYTES = crypto_secretbox_BOXZEROBYTES,\n    crypto_sign_BYTES = 64,\n    crypto_sign_PUBLICKEYBYTES = 32,\n    crypto_sign_SECRETKEYBYTES = 64,\n    crypto_sign_SEEDBYTES = 32,\n    crypto_hash_BYTES = 64;\n\nnacl.lowlevel = {\n  crypto_core_hsalsa20: crypto_core_hsalsa20,\n  crypto_stream_xor: crypto_stream_xor,\n  crypto_stream: crypto_stream,\n  crypto_stream_salsa20_xor: crypto_stream_salsa20_xor,\n  crypto_stream_salsa20: crypto_stream_salsa20,\n  crypto_onetimeauth: crypto_onetimeauth,\n  crypto_onetimeauth_verify: crypto_onetimeauth_verify,\n  crypto_verify_16: crypto_verify_16,\n  crypto_verify_32: crypto_verify_32,\n  crypto_secretbox: crypto_secretbox,\n  crypto_secretbox_open: crypto_secretbox_open,\n  crypto_scalarmult: crypto_scalarmult,\n  crypto_scalarmult_base: crypto_scalarmult_base,\n  crypto_box_beforenm: crypto_box_beforenm,\n  crypto_box_afternm: crypto_box_afternm,\n  crypto_box: crypto_box,\n  crypto_box_open: crypto_box_open,\n  crypto_box_keypair: crypto_box_keypair,\n  crypto_hash: crypto_hash,\n  crypto_sign: crypto_sign,\n  crypto_sign_keypair: crypto_sign_keypair,\n  crypto_sign_open: crypto_sign_open,\n\n  crypto_secretbox_KEYBYTES: crypto_secretbox_KEYBYTES,\n  crypto_secretbox_NONCEBYTES: crypto_secretbox_NONCEBYTES,\n  crypto_secretbox_ZEROBYTES: crypto_secretbox_ZEROBYTES,\n  crypto_secretbox_BOXZEROBYTES: crypto_secretbox_BOXZEROBYTES,\n  crypto_scalarmult_BYTES: crypto_scalarmult_BYTES,\n  crypto_scalarmult_SCALARBYTES: crypto_scalarmult_SCALARBYTES,\n  crypto_box_PUBLICKEYBYTES: crypto_box_PUBLICKEYBYTES,\n  crypto_box_SECRETKEYBYTES: crypto_box_SECRETKEYBYTES,\n  crypto_box_BEFORENMBYTES: crypto_box_BEFORENMBYTES,\n  crypto_box_NONCEBYTES: crypto_box_NONCEBYTES,\n  crypto_box_ZEROBYTES: crypto_box_ZEROBYTES,\n  crypto_box_BOXZEROBYTES: crypto_box_BOXZEROBYTES,\n  crypto_sign_BYTES: crypto_sign_BYTES,\n  crypto_sign_PUBLICKEYBYTES: crypto_sign_PUBLICKEYBYTES,\n  crypto_sign_SECRETKEYBYTES: crypto_sign_SECRETKEYBYTES,\n  crypto_sign_SEEDBYTES: crypto_sign_SEEDBYTES,\n  crypto_hash_BYTES: crypto_hash_BYTES,\n\n  gf: gf,\n  D: D,\n  L: L,\n  pack25519: pack25519,\n  unpack25519: unpack25519,\n  M: M,\n  A: A,\n  S: S,\n  Z: Z,\n  pow2523: pow2523,\n  add: add,\n  set25519: set25519,\n  modL: modL,\n  scalarmult: scalarmult,\n  scalarbase: scalarbase,\n};\n\n/* High-level API */\n\nfunction checkLengths(k, n) {\n  if (k.length !== crypto_secretbox_KEYBYTES) throw new Error('bad key size');\n  if (n.length !== crypto_secretbox_NONCEBYTES) throw new Error('bad nonce size');\n}\n\nfunction checkBoxLengths(pk, sk) {\n  if (pk.length !== crypto_box_PUBLICKEYBYTES) throw new Error('bad public key size');\n  if (sk.length !== crypto_box_SECRETKEYBYTES) throw new Error('bad secret key size');\n}\n\nfunction checkArrayTypes() {\n  for (var i = 0; i < arguments.length; i++) {\n    if (!(arguments[i] instanceof Uint8Array))\n      throw new TypeError('unexpected type, use Uint8Array');\n  }\n}\n\nfunction cleanup(arr) {\n  for (var i = 0; i < arr.length; i++) arr[i] = 0;\n}\n\nnacl.randomBytes = function(n) {\n  var b = new Uint8Array(n);\n  randombytes(b, n);\n  return b;\n};\n\nnacl.secretbox = function(msg, nonce, key) {\n  checkArrayTypes(msg, nonce, key);\n  checkLengths(key, nonce);\n  var m = new Uint8Array(crypto_secretbox_ZEROBYTES + msg.length);\n  var c = new Uint8Array(m.length);\n  for (var i = 0; i < msg.length; i++) m[i+crypto_secretbox_ZEROBYTES] = msg[i];\n  crypto_secretbox(c, m, m.length, nonce, key);\n  return c.subarray(crypto_secretbox_BOXZEROBYTES);\n};\n\nnacl.secretbox.open = function(box, nonce, key) {\n  checkArrayTypes(box, nonce, key);\n  checkLengths(key, nonce);\n  var c = new Uint8Array(crypto_secretbox_BOXZEROBYTES + box.length);\n  var m = new Uint8Array(c.length);\n  for (var i = 0; i < box.length; i++) c[i+crypto_secretbox_BOXZEROBYTES] = box[i];\n  if (c.length < 32) return null;\n  if (crypto_secretbox_open(m, c, c.length, nonce, key) !== 0) return null;\n  return m.subarray(crypto_secretbox_ZEROBYTES);\n};\n\nnacl.secretbox.keyLength = crypto_secretbox_KEYBYTES;\nnacl.secretbox.nonceLength = crypto_secretbox_NONCEBYTES;\nnacl.secretbox.overheadLength = crypto_secretbox_BOXZEROBYTES;\n\nnacl.scalarMult = function(n, p) {\n  checkArrayTypes(n, p);\n  if (n.length !== crypto_scalarmult_SCALARBYTES) throw new Error('bad n size');\n  if (p.length !== crypto_scalarmult_BYTES) throw new Error('bad p size');\n  var q = new Uint8Array(crypto_scalarmult_BYTES);\n  crypto_scalarmult(q, n, p);\n  return q;\n};\n\nnacl.scalarMult.base = function(n) {\n  checkArrayTypes(n);\n  if (n.length !== crypto_scalarmult_SCALARBYTES) throw new Error('bad n size');\n  var q = new Uint8Array(crypto_scalarmult_BYTES);\n  crypto_scalarmult_base(q, n);\n  return q;\n};\n\nnacl.scalarMult.scalarLength = crypto_scalarmult_SCALARBYTES;\nnacl.scalarMult.groupElementLength = crypto_scalarmult_BYTES;\n\nnacl.box = function(msg, nonce, publicKey, secretKey) {\n  var k = nacl.box.before(publicKey, secretKey);\n  return nacl.secretbox(msg, nonce, k);\n};\n\nnacl.box.before = function(publicKey, secretKey) {\n  checkArrayTypes(publicKey, secretKey);\n  checkBoxLengths(publicKey, secretKey);\n  var k = new Uint8Array(crypto_box_BEFORENMBYTES);\n  crypto_box_beforenm(k, publicKey, secretKey);\n  return k;\n};\n\nnacl.box.after = nacl.secretbox;\n\nnacl.box.open = function(msg, nonce, publicKey, secretKey) {\n  var k = nacl.box.before(publicKey, secretKey);\n  return nacl.secretbox.open(msg, nonce, k);\n};\n\nnacl.box.open.after = nacl.secretbox.open;\n\nnacl.box.keyPair = function() {\n  var pk = new Uint8Array(crypto_box_PUBLICKEYBYTES);\n  var sk = new Uint8Array(crypto_box_SECRETKEYBYTES);\n  crypto_box_keypair(pk, sk);\n  return {publicKey: pk, secretKey: sk};\n};\n\nnacl.box.keyPair.fromSecretKey = function(secretKey) {\n  checkArrayTypes(secretKey);\n  if (secretKey.length !== crypto_box_SECRETKEYBYTES)\n    throw new Error('bad secret key size');\n  var pk = new Uint8Array(crypto_box_PUBLICKEYBYTES);\n  crypto_scalarmult_base(pk, secretKey);\n  return {publicKey: pk, secretKey: new Uint8Array(secretKey)};\n};\n\nnacl.box.publicKeyLength = crypto_box_PUBLICKEYBYTES;\nnacl.box.secretKeyLength = crypto_box_SECRETKEYBYTES;\nnacl.box.sharedKeyLength = crypto_box_BEFORENMBYTES;\nnacl.box.nonceLength = crypto_box_NONCEBYTES;\nnacl.box.overheadLength = nacl.secretbox.overheadLength;\n\nnacl.sign = function(msg, secretKey) {\n  checkArrayTypes(msg, secretKey);\n  if (secretKey.length !== crypto_sign_SECRETKEYBYTES)\n    throw new Error('bad secret key size');\n  var signedMsg = new Uint8Array(crypto_sign_BYTES+msg.length);\n  crypto_sign(signedMsg, msg, msg.length, secretKey);\n  return signedMsg;\n};\n\nnacl.sign.open = function(signedMsg, publicKey) {\n  checkArrayTypes(signedMsg, publicKey);\n  if (publicKey.length !== crypto_sign_PUBLICKEYBYTES)\n    throw new Error('bad public key size');\n  var tmp = new Uint8Array(signedMsg.length);\n  var mlen = crypto_sign_open(tmp, signedMsg, signedMsg.length, publicKey);\n  if (mlen < 0) return null;\n  var m = new Uint8Array(mlen);\n  for (var i = 0; i < m.length; i++) m[i] = tmp[i];\n  return m;\n};\n\nnacl.sign.detached = function(msg, secretKey) {\n  var signedMsg = nacl.sign(msg, secretKey);\n  var sig = new Uint8Array(crypto_sign_BYTES);\n  for (var i = 0; i < sig.length; i++) sig[i] = signedMsg[i];\n  return sig;\n};\n\nnacl.sign.detached.verify = function(msg, sig, publicKey) {\n  checkArrayTypes(msg, sig, publicKey);\n  if (sig.length !== crypto_sign_BYTES)\n    throw new Error('bad signature size');\n  if (publicKey.length !== crypto_sign_PUBLICKEYBYTES)\n    throw new Error('bad public key size');\n  var sm = new Uint8Array(crypto_sign_BYTES + msg.length);\n  var m = new Uint8Array(crypto_sign_BYTES + msg.length);\n  var i;\n  for (i = 0; i < crypto_sign_BYTES; i++) sm[i] = sig[i];\n  for (i = 0; i < msg.length; i++) sm[i+crypto_sign_BYTES] = msg[i];\n  return (crypto_sign_open(m, sm, sm.length, publicKey) >= 0);\n};\n\nnacl.sign.keyPair = function() {\n  var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n  var sk = new Uint8Array(crypto_sign_SECRETKEYBYTES);\n  crypto_sign_keypair(pk, sk);\n  return {publicKey: pk, secretKey: sk};\n};\n\nnacl.sign.keyPair.fromSecretKey = function(secretKey) {\n  checkArrayTypes(secretKey);\n  if (secretKey.length !== crypto_sign_SECRETKEYBYTES)\n    throw new Error('bad secret key size');\n  var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n  for (var i = 0; i < pk.length; i++) pk[i] = secretKey[32+i];\n  return {publicKey: pk, secretKey: new Uint8Array(secretKey)};\n};\n\nnacl.sign.keyPair.fromSeed = function(seed) {\n  checkArrayTypes(seed);\n  if (seed.length !== crypto_sign_SEEDBYTES)\n    throw new Error('bad seed size');\n  var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n  var sk = new Uint8Array(crypto_sign_SECRETKEYBYTES);\n  for (var i = 0; i < 32; i++) sk[i] = seed[i];\n  crypto_sign_keypair(pk, sk, true);\n  return {publicKey: pk, secretKey: sk};\n};\n\nnacl.sign.publicKeyLength = crypto_sign_PUBLICKEYBYTES;\nnacl.sign.secretKeyLength = crypto_sign_SECRETKEYBYTES;\nnacl.sign.seedLength = crypto_sign_SEEDBYTES;\nnacl.sign.signatureLength = crypto_sign_BYTES;\n\nnacl.hash = function(msg) {\n  checkArrayTypes(msg);\n  var h = new Uint8Array(crypto_hash_BYTES);\n  crypto_hash(h, msg, msg.length);\n  return h;\n};\n\nnacl.hash.hashLength = crypto_hash_BYTES;\n\nnacl.verify = function(x, y) {\n  checkArrayTypes(x, y);\n  // Zero length arguments are considered not equal.\n  if (x.length === 0 || y.length === 0) return false;\n  if (x.length !== y.length) return false;\n  return (vn(x, 0, y, 0, x.length) === 0) ? true : false;\n};\n\nnacl.setPRNG = function(fn) {\n  randombytes = fn;\n};\n\n(function() {\n  // Initialize PRNG if environment provides CSPRNG.\n  // If not, methods calling randombytes will throw.\n  var crypto = typeof self !== 'undefined' ? (self.crypto || self.msCrypto) : null;\n  if (crypto && crypto.getRandomValues) {\n    // Browsers.\n    var QUOTA = 65536;\n    nacl.setPRNG(function(x, n) {\n      var i, v = new Uint8Array(n);\n      for (i = 0; i < n; i += QUOTA) {\n        crypto.getRandomValues(v.subarray(i, i + Math.min(n - i, QUOTA)));\n      }\n      for (i = 0; i < n; i++) x[i] = v[i];\n      cleanup(v);\n    });\n  } else if (typeof require !== 'undefined') {\n    // Node.js.\n    crypto = require('crypto');\n    if (crypto && crypto.randomBytes) {\n      nacl.setPRNG(function(x, n) {\n        var i, v = crypto.randomBytes(n);\n        for (i = 0; i < n; i++) x[i] = v[i];\n        cleanup(v);\n      });\n    }\n  }\n})();\n\n})(typeof module !== 'undefined' && module.exports ? module.exports : (self.nacl = self.nacl || {}));\n"],"names":["asUInt16BE","value","b","Buffer","alloc","writeUInt16BE","initialAcc","data","dataLength","sequence","channel","packetSize","makeBlocks","apdu","concat","length","blockSize","nbBlocks","Math","ceil","fill","blocks","i","head","writeUInt8","chunk","slice","push","reduceResponse","acc","readUInt16BE","TransportError","readUInt8","chunkData","getReducedResult","DeviceModelId","devices","blue","id","productName","productIdMM","legacyUsbProductId","usbOnly","memorySize","masks","getBlockSize","_firwareVersion","nanoS","firmwareVersion","_a","nanoX","bluetoothSpec","serviceUuid","notifyUuid","writeUuid","writeCmdUuid","nanoSP","_firmwareVersion","stax","europa","devicesList","Object","values","ledgerUSBVendorId","identifyUSBProductId","usbProductId","legacy","find","d","mm","bluetoothServices","serviceUuidToInfos","deviceModel","spec","replace","assign","getBluetoothServiceUuids","getInfosForServiceUuid","uuid","toLowerCase","errorClasses","deserializers","addCustomErrorDeserializer","name","deserializer","createCustomErrorClass","CustomErrorClass","Error","constructor","message","fields","options","super","setPrototypeOf","this","prototype","k","cause","stack","deserializeError","object","msg","JSON","parse","e","error","des","console","warn","create","prop","hasOwnProperty","captureStackTrace","String","serializeError","destroyCircular","from","seen","to","key","keys","indexOf","AccountNameRequiredError","AccountNotSupported","AccountAwaitingSendPendingOperations","AmountRequired","BluetoothRequired","BtcUnmatchedApp","CantOpenDevice","CashAddrNotSupported","ClaimRewardsFeesWarning","CurrencyNotSupported","DeviceAppVerifyNotSupported","DeviceGenuineSocketEarlyClose","DeviceNotGenuineError","DeviceOnDashboardExpected","DeviceOnDashboardUnexpected","DeviceInOSUExpected","DeviceHalted","DeviceNameInvalid","DeviceSocketFail","DeviceSocketNoBulkStatus","DeviceNeedsRestart","UnresponsiveDeviceError","DisconnectedDevice","DisconnectedDeviceDuringOperation","DeviceExtractOnboardingStateError","DeviceOnboardingStatePollingError","EnpointConfigError","EthAppPleaseEnableContractData","FeeEstimationFailed","FirmwareNotRecognized","HardResetFail","InvalidXRPTag","InvalidAddress","InvalidNonce","InvalidAddressBecauseDestinationIsAlsoSource","LatestMCUInstalledError","UnknownMCU","LedgerAPIError","LedgerAPIErrorWithMessage","LedgerAPINotAvailable","ManagerAppAlreadyInstalledError","ManagerAppRelyOnBTCError","ManagerAppDepInstallRequired","ManagerAppDepUninstallRequired","ManagerDeviceLockedError","ManagerFirmwareNotEnoughSpaceError","ManagerNotEnoughSpaceError","ManagerUninstallBTCDep","NetworkDown","NetworkError","NoAddressesFound","NotEnoughBalance","NotEnoughBalanceSwap","NotEnoughBalanceToDelegate","NotEnoughBalanceInParentAccount","NotEnoughSpendableBalance","NotEnoughBalanceBecauseDestinationNotCreated","NoAccessToCamera","NotEnoughGas","NotEnoughGasSwap","TronEmptyAccount","MaybeKeepTronAccountAlive","NotSupportedLegacyAddress","GasLessThanEstimate","PriorityFeeTooLow","PriorityFeeTooHigh","PriorityFeeHigherThanMaxFee","MaxFeeTooLow","PasswordsDontMatchError","PasswordIncorrectError","RecommendSubAccountsToEmpty","RecommendUndelegation","TimeoutTagged","UnexpectedBootloader","MCUNotGenuineToDashboard","RecipientRequired","UnavailableTezosOriginatedAccountReceive","UnavailableTezosOriginatedAccountSend","UpdateFetchFileFail","UpdateIncorrectHash","UpdateIncorrectSig","UpdateYourApp","UserRefusedDeviceNameChange","UserRefusedAddress","UserRefusedFirmwareUpdate","UserRefusedAllowManager","UserRefusedOnDevice","PinNotSet","ExpertModeRequired","TransportOpenUserCancelled","TransportInterfaceNotAvailable","TransportRaceCondition","TransportWebUSBGestureRequired","TransactionHasBeenValidatedError","TransportExchangeTimeoutError","DeviceShouldStayInApp","WebsocketConnectionError","WebsocketConnectionFailed","WrongDeviceForAccount","WrongDeviceForAccountPayout","WrongDeviceForAccountRefund","WrongAppForCurrency","ETHAddressNonEIP","CantScanQRCode","FeeNotLoaded","FeeNotLoadedSwap","FeeRequired","FeeTooHigh","PendingOperation","SyncError","PairingFailed","PeerRemovedPairing","GenuineCheckFailed","LedgerAPI4xx","LedgerAPI5xx","FirmwareOrAppUpdateRequired","ReplacementTransactionUnderpriced","OpReturnDataSizeLimit","DustLimit","LanguageNotFound","NoDBPathGiven","DBWrongPassword","DBNotReset","SequenceNumberError","DisabledTransactionBroadcastError","HwTransportErrorType","HwTransportError","type","StatusCodes","ACCESS_CONDITION_NOT_FULFILLED","ALGORITHM_NOT_SUPPORTED","CLA_NOT_SUPPORTED","CODE_BLOCKED","CODE_NOT_INITIALIZED","COMMAND_INCOMPATIBLE_FILE_STRUCTURE","CONDITIONS_OF_USE_NOT_SATISFIED","CONTRADICTION_INVALIDATION","CONTRADICTION_SECRET_CODE_STATUS","DEVICE_IN_RECOVERY_MODE","CUSTOM_IMAGE_EMPTY","FILE_ALREADY_EXISTS","FILE_NOT_FOUND","GP_AUTH_FAILED","HALTED","INCONSISTENT_FILE","INCORRECT_DATA","INCORRECT_LENGTH","INCORRECT_P1_P2","INS_NOT_SUPPORTED","DEVICE_NOT_ONBOARDED","DEVICE_NOT_ONBOARDED_2","INVALID_KCV","INVALID_OFFSET","LICENSING","LOCKED_DEVICE","MAX_VALUE_REACHED","MEMORY_PROBLEM","MISSING_CRITICAL_PARAMETER","NO_EF_SELECTED","NOT_ENOUGH_MEMORY_SPACE","OK","PIN_REMAINING_ATTEMPTS","REFERENCED_DATA_NOT_FOUND","SECURITY_STATUS_NOT_SATISFIED","TECHNICAL_PROBLEM","UNKNOWN_APDU","USER_REFUSED_ON_DEVICE","NOT_ENOUGH_SPACE","APP_NOT_FOUND_OR_INVALID_CONTEXT","INVALID_APP_NAME_LENGTH","GEN_AES_KEY_FAILED","INTERNAL_CRYPTO_OPERATION_FAILED","INTERNAL_COMPUTE_AES_CMAC_FAILED","ENCRYPT_APP_STORAGE_FAILED","INVALID_BACKUP_STATE","PIN_NOT_SET","INVALID_BACKUP_LENGTH","INVALID_RESTORE_STATE","INVALID_CHUNK_LENGTH","INVALID_BACKUP_HEADER","TRUSTCHAIN_WRONG_SEED","getAltStatusMessage","code","TransportStatusError","statusCode","canBeMappedToChildError","statusText","toString","LockedDeviceError","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","result","done","then","apply","ledgerDevices","vendorId","getHID","hid","navigator","requestLedgerDevices","device","requestDevice","filters","Array","isArray","getLedgerDevices","getDevices","filter","TransportWebHID","floor","random","inputs","read","shift","success","inputCallback","onInputReport","buffer","_disconnectEmitted","_emitDisconnect","emit","exchange","exchangeAtomicImpl","log","framing","sendReport","catch","includes","productId","undefined","addEventListener","request","open","openConnected","transport","onDisconnect","removeEventListener","close","exchangeBusyPromise","setScrambleKey","isSupported","window","list","listen","observer","unsubscribed","existingDevices","getFirstLedgerDevice","descriptor","complete","unsubscribe","requestLedgerDevice","usb","TransportWebUSB","Transport","interfaceNumber","configuration","selectConfiguration","gracefullyResetDevice","iface","configurations","interfaces","alternates","some","a","interfaceClass","claimInterface","releaseInterface","transferOut","r","transferIn","DOMException","reset","err","context","logType","exchangeTimeout","unresponsiveTimeout","_events","send","cla_1","ins_1","p1_1","p2_1","args_1","cla","ins","p1","p2","statusList","abortTimeoutMs","tracer","withUpdatedContext","function","trace","response","sw","s","_appAPIlock","LocalTracer","_apdu","_abortTimeoutMs","exchangeBulk","apdus","status","main","_key","on","eventName","cb","off","removeListener","event","args","setDebugMode","setExchangeTimeout","setExchangeUnresponsiveTimeout","openTimeout","listenTimeout","found","sub","listenTimeoutId","clearTimeout","ErrorMessage_NoDeviceFound","setTimeout","ErrorMessage_ListenTimeout","f","resolveBusy","busyPromise","unresponsiveReached","timeout","res","decorateAppAPIMethods","self","methods","scrambleKey","methodName","decorateAppAPIMethod","ctx","setTraceContext","withContext","updateTraceContext","contextToAdd","updateContext","getTraceContext","getContext","subscribers","obj","date","Date","dispatch","setContext","getType","setType","withType","pop","__ledgerLogsListen","defineProperty","exports","TonTransport","parseMessage","KNOWN_JETTONS","core_1","crypto_1","teslabot_1","ledgerWriter_1","getInit_1","DEFAULT_SUBWALLET_ID","symbol","masterAddress","Address","dnsWalletKey","normalizeQueryId","qid","chunks","buf","n","nc","cs","subarray","processAddressFlags","opts","bounceable","testOnly","chain","subwalletId","walletVersion","specifiers","flags","isV3R2","validatePath","path","p","pathElementsToBuffer","paths","forEach","element","index","writeUInt32BE","cell","params","disallowUnsafe","disallowModification","encodeJettonBurnEthAddressAsHex","hash","equals","Cell","beginParse","op","loadUint","str","loadStringTail","endParse","c","charCodeAt","text","queryId","loadUintBig","amount","loadCoins","destination","loadAddress","responseDestination","customPayload","loadMaybeRef","forwardAmount","forwardPayload","loadBit","loadRef","asCell","knownJetton","newOwner","bits","refs","loadBuffer","address","appId","remainingBits","votingAddress","expirationDate","vote","needConfirmation","remainingRefs","vs","capabilities","isWallet","record","swapId","AsyncLock","inLock","async","nameLength","versionLength","version","isAppOpen","getVersion","loaded","major","minor","patch","getAddress","map","v","contract","getInit","contractAddress","publicKey","validateAddress","writeUint8","writeUint32","getAddressProof","specifiersBuf","domainBuf","domain","reqBuf","writeUint64","BigInt","timestamp","payload","signature","signVerify","signData","req","now","schema","beginCell","storeStringTail","endCell","dp","storeBit","storeAddress","writeAddress","inner","split","reverse","storeBuffer","storeUint","storeRef","db","writeCellRef","ext","commonPart","pkg","pkgCs","signTransaction","transaction","walletSpecifiers","includeWalletOp","seqno","writeVarUInt","bounce","sendMode","stateInit","store","storeStateInit","writeUint16","depth","hints","input","jettonId","workchain","storeCoins","storeMaybeRef","writeCellInline","writeUint48","sha256_sync","rb","convertPayload","orderBuilder","transferB","transfer","storeSlice","getSettings","blindSigningEnabled","expertMode","TonTransport_1","enumerable","get","fromBase64","writeUint16BE","writeUint32BE","sizeBytes","workChain","ref","bytes","BitReader","Address_1","ExternalAddress_1","offset","_checkpoints","_bits","_offset","remaining","skip","save","at","preloadBit","loadBits","substring","preloadBits","_preloadBuffer","preloadBuffer","_toSafeInteger","preloadUintBig","preloadUint","_preloadUint","loadInt","_preloadInt","loadIntBig","preloadInt","preloadIntBig","loadVarUint","size","Number","loadVarUintBig","preloadVarUint","preloadVarUintBig","loadVarInt","loadVarIntBig","preloadVarInt","preloadVarIntBig","preloadCoins","_loadInternalAddress","loadMaybeAddress","loadExternalAddress","_loadExternalAddress","loadMaybeExternalAddress","loadAddressAny","loadPaddedBits","clone","sign","fastBuffer","subbuffer","wc","ExternalAddress","src","alt","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","TypeError","Dictionary","Builder_1","Cell_1","BitString_1","generateMerkleProof_1","generateMerkleUpdate_1","parseDict_1","serializeDict_1","internalKeySerializer_1","empty","Map","load","sc","isExotic","loadDirect","parseDict","prepare","set","serializeInternalKey","_value","_map","has","delete","clear","Symbol","iterator","deserializeInternalKey","builder","resolvedKey","resolvedValue","prepared","serialize","dd","serializeDict","storeDirect","generateMerkleProof","generateMerkleProofDirect","generateMerkleUpdate","newValue","Keys","isAddress","storeInt","createBigIntKey","Int","isSafeInteger","createIntKey","BigUint","createBigUintKey","Uint","createUintKey","isBuffer","createBufferKey","BitString","isBitString","storeBits","createBitStringKey","Values","buidler","createBigIntValue","createIntValue","BigVarInt","storeVarInt","createBigVarIntValue","createBigUintValue","createUintValue","BigVarUint","storeVarUint","createBigVarUintValue","Bool","createBitStringValue","createDictionaryValue","SendMode","getMnemonicsMasterKeyFromSeed","deriveMnemonicHardenedKey","deriveMnemonicsPath","deriveSymmetricPath","deriveSymmetricHardenedKey","getSymmetricMasterKeyFromSeed","deriveEd25519Path","deriveED25519HardenedKey","getED25519MasterKeyFromSeed","keyPairFromSecretKey","keyPairFromSeed","openBox","sealBox","mnemonicWordList","mnemonicToHDSeed","mnemonicToSeed","mnemonicToWalletKey","mnemonicToPrivateKey","mnemonicValidate","mnemonicNew","newSecurePassphrase","newSecureWords","getSecureRandomNumber","getSecureRandomWords","getSecureRandomBytes","hmac_sha512","pbkdf2_sha512","sha512_sync","sha512","sha256","sha256_1","sha512_1","pbkdf2_sha512_1","hmac_sha512_1","getSecureRandom_1","newSecureWords_1","newSecurePassphrase_1","mnemonic_1","wordlist_1","wordlist","nacl_1","nacl_2","ed25519_1","symmetric_1","mnemonics_1","ANY","Comparator","comp","parseOptions","loose","trim","join","debug","semver","operator","re","t","COMPARATORLOOSE","COMPARATOR","m","match","SemVer","test","er","cmp","intersects","Range","includePrerelease","startsWith","module","safeRe","SPACE_CHARACTERS","range","raw","formatted","parseRange","first","isNullSet","isAny","comps","format","memoKey","FLAG_INCLUDE_PRERELEASE","FLAG_LOOSE","cached","cache","hr","HYPHENRANGELOOSE","HYPHENRANGE","hyphenReplace","COMPARATORTRIM","comparatorTrimReplace","TILDETRIM","tildeTrimReplace","CARETTRIM","caretTrimReplace","rangeList","parseComparator","replaceGTE0","rangeMap","comparators","thisComparators","isSatisfiable","rangeComparators","every","thisComparator","rangeComparator","testSet","remainingComparators","testComparator","otherComparator","replaceCarets","replaceTildes","replaceXRanges","replaceStars","isX","replaceTilde","TILDELOOSE","TILDE","_","M","pr","ret","replaceCaret","CARETLOOSE","CARET","z","replaceXRange","XRANGELOOSE","XRANGE","gtlt","xM","xm","xp","anyX","STAR","GTE0PRE","GTE0","incPr","$0","fM","fm","fp","fpr","fb","tM","tm","tp","tpr","prerelease","allowed","MAX_LENGTH","compareIdentifiers","LOOSE","FULL","num","build","compare","other","compareMain","comparePre","compareBuild","inc","release","identifier","identifierBase","base","isNaN","eq","neq","gt","gte","lt","lte","rtl","coerceRtlRegex","COERCERTLFULL","COERCERTL","exec","lastIndex","COERCEFULL","COERCE","versionA","versionB","version1","version2","v1","v2","comparison","v1Higher","highVersion","lowVersion","highHasPre","prefix","throwErrors","parsed","sort","internalRe","constants","identifiers","valid","clean","diff","rcompare","compareLoose","rsort","coerce","satisfies","toComparators","maxSatisfying","minSatisfying","minVersion","validRange","outside","gtr","ltr","simplifyRange","subset","tokens","SEMVER_SPEC_VERSION","RELEASE_TYPES","rcompareIdentifiers","MAX_SAFE_COMPONENT_LENGTH","MAX_SAFE_BUILD_LENGTH","process","env","NODE_DEBUG","numeric","anum","bnum","max","firstKey","looseOption","freeze","emptyOpts","R","LETTERDASHNUMBER","safeRegexReplacements","createToken","isGlobal","safe","token","makeSafeRegex","RegExp","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","BUILDIDENTIFIER","MAINVERSION","PRERELEASE","BUILD","FULLPLAIN","MAINVERSIONLOOSE","PRERELEASELOOSE","LOOSEPLAIN","XRANGEIDENTIFIER","XRANGEIDENTIFIERLOOSE","GTLT","XRANGEPLAIN","XRANGEPLAINLOOSE","COERCEPLAIN","LONETILDE","LONECARET","r1","r2","versions","maxSV","rangeObj","min","minSV","minver","setMin","comparator","compver","hilo","gtfn","ltefn","ltfn","ecomp","high","low","prev","ranges","simplified","original","minimumVersionWithPreRelease","minimumVersion","simpleSubset","dom","eqSet","Set","gtltComp","higher","lower","hasDomLT","hasDomGT","higherGT","lowerLT","add","needDomLTPre","needDomGTPre","sawNonNull","OUTER","simpleSub","simpleDom","isSub","asyncTimeout","minimumDelay","delay","exponentialBackoffDelay","createBackoff","BoundedConcurrencyPool","UnboundedConcurrencyPool","Queue","SyncValue","InvalidateSync","createAsyncIterator","createAsyncIterator_1","AsyncLock_1","InvalidateSync_1","SyncValue_1","Queue_1","ConcurrencyPool_1","backoff_1","delay_1","asyncTimeout_1","onExit","events","resolvers","onReturn","asyncIterator","val","return","throw","permits","promiseResolverQueue","func","lock","unlock","nextResolver","_BoundedConcurrencyPool_inFlight","__classPrivateFieldGet","receiver","state","kind","call","__classPrivateFieldSet","run","concurrencyFactor","pending","_b","inFlight","inQueue","WeakMap","command","_invalidated","_invalidatedDouble","_stopped","_doSync","_backoff","_command","backoff","invalidate","stop","q","awaiters","item","resolver","getOptional","isEmpty","initial","updater","_updater","_sync","is","timer","abort","currentFailureCount","minDelay","maxDelay","maxFailureCount","maxDelayRet","round","callback","onError","waitForRequest","ms","start","nacl","gf","init","Float64Array","randombytes","_0","Uint8Array","_9","gf0","gf1","_121665","D","D2","X","Y","I","ts64","x","h","l","vn","xi","y","yi","crypto_verify_16","crypto_verify_32","crypto_core_salsa20","out","inp","o","u","j0","j1","j2","j3","j4","j5","j6","j7","j8","j9","j10","j11","j12","j13","j14","j15","x0","x1","x2","x3","x4","x5","x6","x7","x8","x9","x10","x11","x12","x13","x14","x15","core_salsa20","crypto_core_hsalsa20","core_hsalsa20","sigma","crypto_stream_salsa20_xor","cpos","mpos","crypto_stream_salsa20","crypto_stream","sn","crypto_stream_xor","poly1305","t0","t1","t2","t3","t4","t5","t6","t7","Uint16Array","pad","leftover","fin","crypto_onetimeauth","outpos","update","finish","crypto_onetimeauth_verify","hpos","crypto_secretbox","crypto_secretbox_open","set25519","car25519","sel25519","pack25519","j","neq25519","par25519","unpack25519","A","Z","t8","t9","t10","t11","t12","t13","t14","t15","t16","t17","t18","t19","t20","t21","t22","t23","t24","t25","t26","t27","t28","t29","t30","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","b10","b11","b12","b13","b14","b15","S","inv25519","pow2523","crypto_scalarmult","x32","x16","crypto_scalarmult_base","crypto_box_keypair","crypto_box_beforenm","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","hibit","h0","h1","h2","h3","h4","h5","h6","h7","h8","h9","r0","r3","r4","r5","r6","r7","r8","r9","mac","macpos","mask","g","want","crypto_box_afternm","crypto_box_open_afternm","K","crypto_hashblocks_hl","hh","hl","bh0","bh1","bh2","bh3","bh4","bh5","bh6","bh7","bl0","bl1","bl2","bl3","bl4","bl5","bl6","bl7","th","tl","wh","Int32Array","wl","ah0","ah1","ah2","ah3","ah4","ah5","ah6","ah7","al0","al1","al2","al3","al4","al5","al6","al7","pos","crypto_hash","cswap","pack","tx","ty","zi","scalarmult","scalarbase","crypto_sign_keypair","pk","sk","seeded","L","modL","carry","reduce","crypto_sign","sm","smlen","crypto_sign_open","chk","den","den2","den4","den6","unpackneg","crypto","crypto_sign_BYTES","crypto_sign_PUBLICKEYBYTES","crypto_sign_SECRETKEYBYTES","checkLengths","checkArrayTypes","arguments","cleanup","arr","lowlevel","crypto_box","crypto_box_open","crypto_secretbox_KEYBYTES","crypto_secretbox_NONCEBYTES","crypto_secretbox_ZEROBYTES","crypto_secretbox_BOXZEROBYTES","crypto_scalarmult_BYTES","crypto_scalarmult_SCALARBYTES","crypto_box_PUBLICKEYBYTES","crypto_box_SECRETKEYBYTES","crypto_box_BEFORENMBYTES","crypto_box_NONCEBYTES","crypto_box_ZEROBYTES","crypto_box_BOXZEROBYTES","crypto_sign_SEEDBYTES","crypto_hash_BYTES","randomBytes","secretbox","nonce","box","keyLength","nonceLength","overheadLength","scalarMult","scalarLength","groupElementLength","secretKey","before","checkBoxLengths","after","keyPair","fromSecretKey","publicKeyLength","secretKeyLength","sharedKeyLength","signedMsg","tmp","mlen","detached","sig","verify","fromSeed","seed","seedLength","signatureLength","hashLength","setPRNG","fn","msCrypto","getRandomValues"],"sourceRoot":""}