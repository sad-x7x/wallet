/*! For license information please see main.a814f9613cbb98498743.js.LICENSE.txt */
(()=>{var e,t,n,a,o={16546:(e,t,n)=>{"use strict";n.d(t,{$c:()=>o,EA:()=>m,E_:()=>l,F3:()=>s,I9:()=>r,Ii:()=>i});const a=(e=>e.CapacitorPlatforms=(e=>{const t=new Map;t.set("web",{name:"web"});const n=e.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:t};return n.addPlatform=(e,t)=>{n.platforms.set(e,t)},n.setPlatform=e=>{n.platforms.has(e)&&(n.currentPlatform=n.platforms.get(e))},n})(e))("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{});var o;a.addPlatform,a.setPlatform,function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"}(o||(o={}));class r extends Error{constructor(e,t,n){super(e),this.message=e,this.code=t,this.data=n}}const i=(e=>e.Capacitor=(e=>{var t,n,a,i,s;const l=e.CapacitorCustomPlatform||null,c=e.Capacitor||{},d=c.Plugins=c.Plugins||{},u=e.CapacitorPlatforms,m=(null===(t=null==u?void 0:u.currentPlatform)||void 0===t?void 0:t.getPlatform)||(()=>null!==l?l.name:(e=>{var t,n;return(null==e?void 0:e.androidBridge)?"android":(null===(n=null===(t=null==e?void 0:e.webkit)||void 0===t?void 0:t.messageHandlers)||void 0===n?void 0:n.bridge)?"ios":"web"})(e)),p=(null===(n=null==u?void 0:u.currentPlatform)||void 0===n?void 0:n.isNativePlatform)||(()=>"web"!==m()),f=(null===(a=null==u?void 0:u.currentPlatform)||void 0===a?void 0:a.isPluginAvailable)||(e=>{const t=g.get(e);return!!(null==t?void 0:t.platforms.has(m()))||!!h(e)}),h=(null===(i=null==u?void 0:u.currentPlatform)||void 0===i?void 0:i.getPluginHeader)||(e=>{var t;return null===(t=c.PluginHeaders)||void 0===t?void 0:t.find((t=>t.name===e))}),g=new Map,v=(null===(s=null==u?void 0:u.currentPlatform)||void 0===s?void 0:s.registerPlugin)||((e,t={})=>{const n=g.get(e);if(n)return console.warn(`Capacitor plugin "${e}" already registered. Cannot register plugins twice.`),n.proxy;const a=m(),i=h(e);let s;const u=n=>{let d;const u=(...u)=>{const m=(async()=>(!s&&a in t?s=s="function"==typeof t[a]?await t[a]():t[a]:null!==l&&!s&&"web"in t&&(s=s="function"==typeof t.web?await t.web():t.web),s))().then((t=>{const s=((t,n)=>{var s,l;if(!i){if(t)return null===(l=t[n])||void 0===l?void 0:l.bind(t);throw new r(`"${e}" plugin is not implemented on ${a}`,o.Unimplemented)}{const a=null==i?void 0:i.methods.find((e=>n===e.name));if(a)return"promise"===a.rtype?t=>c.nativePromise(e,n.toString(),t):(t,a)=>c.nativeCallback(e,n.toString(),t,a);if(t)return null===(s=t[n])||void 0===s?void 0:s.bind(t)}})(t,n);if(s){const e=s(...u);return d=null==e?void 0:e.remove,e}throw new r(`"${e}.${n}()" is not implemented on ${a}`,o.Unimplemented)}));return"addListener"===n&&(m.remove=async()=>d()),m};return u.toString=()=>`${n.toString()}() { [capacitor code] }`,Object.defineProperty(u,"name",{value:n,writable:!1,configurable:!1}),u},p=u("addListener"),f=u("removeListener"),v=(e,t)=>{const n=p({eventName:e},t),a=async()=>{const a=await n;f({eventName:e,callbackId:a},t)},o=new Promise((e=>n.then((()=>e({remove:a})))));return o.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await a()},o},w=new Proxy({},{get(e,t){switch(t){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return i?v:p;case"removeListener":return f;default:return u(t)}}});return d[e]=w,g.set(e,{name:e,proxy:w,platforms:new Set([...Object.keys(t),...i?[a]:[]])}),w});return c.convertFileSrc||(c.convertFileSrc=e=>e),c.getPlatform=m,c.handleError=t=>e.console.error(t),c.isNativePlatform=p,c.isPluginAvailable=f,c.pluginMethodNoop=(e,t,n)=>Promise.reject(`${n} does not have an implementation of "${t}".`),c.registerPlugin=v,c.Exception=r,c.DEBUG=!!c.DEBUG,c.isLoggingEnabled=!!c.isLoggingEnabled,c.platform=c.getPlatform(),c.isNative=c.isNativePlatform(),c})(e))("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{}),s=i.registerPlugin;i.Plugins;class l{constructor(e){this.listeners={},this.retainedEventArguments={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,t){let n=!1;this.listeners[e]||(this.listeners[e]=[],n=!0),this.listeners[e].push(t);const a=this.windowListeners[e];return a&&!a.registered&&this.addWindowListener(a),n&&this.sendRetainedArgumentsForEvent(e),Promise.resolve({remove:async()=>this.removeListener(e,t)})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t,n){const a=this.listeners[e];if(a)a.forEach((e=>e(t)));else if(n){let n=this.retainedEventArguments[e];n||(n=[]),n.push(t),this.retainedEventArguments[e]=n}}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:e=>{this.notifyListeners(t,e)}}}unimplemented(e="not implemented"){return new i.Exception(e,o.Unimplemented)}unavailable(e="not available"){return new i.Exception(e,o.Unavailable)}async removeListener(e,t){const n=this.listeners[e];if(!n)return;const a=n.indexOf(t);this.listeners[e].splice(a,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach((t=>{this.notifyListeners(e,t)})))}}const c=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),d=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class u extends l{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach((e=>{if(e.length<=0)return;let[n,a]=e.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");n=d(n).trim(),a=d(a).trim(),t[n]=a})),t}async setCookie(e){try{const t=c(e.key),n=c(e.value),a=`; expires=${(e.expires||"").replace("expires=","")}`,o=(e.path||"/").replace("path=",""),r=null!=e.url&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${n||""}${a}; path=${o}; ${r};`}catch(e){return Promise.reject(e)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(e){return Promise.reject(e)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}s("CapacitorCookies",{web:()=>new u});const m=(e,t={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},t),a=((e={})=>{const t=Object.keys(e);return Object.keys(e).map((e=>e.toLocaleLowerCase())).reduce(((n,a,o)=>(n[a]=e[t[o]],n)),{})})(e.headers)["content-type"]||"";if("string"==typeof e.data)n.body=e.data;else if(a.includes("application/x-www-form-urlencoded")){const t=new URLSearchParams;for(const[n,a]of Object.entries(e.data||{}))t.set(n,a);n.body=t.toString()}else if(a.includes("multipart/form-data")||e.data instanceof FormData){const t=new FormData;if(e.data instanceof FormData)e.data.forEach(((e,n)=>{t.append(n,e)}));else for(const n of Object.keys(e.data))t.append(n,e.data[n]);n.body=t;const a=new Headers(n.headers);a.delete("content-type"),n.headers=a}else(a.includes("application/json")||"object"==typeof e.data)&&(n.body=JSON.stringify(e.data));return n};class p extends l{async request(e){const t=m(e,e.webFetchExtra),n=((e,t=!0)=>e?Object.entries(e).reduce(((e,n)=>{const[a,o]=n;let r,i;return Array.isArray(o)?(i="",o.forEach((e=>{r=t?encodeURIComponent(e):e,i+=`${a}=${r}&`})),i.slice(0,-1)):(r=t?encodeURIComponent(o):o,i=`${a}=${r}`),`${e}&${i}`}),"").substr(1):null)(e.params,e.shouldEncodeUrlParams),a=n?`${e.url}?${n}`:e.url,o=await fetch(a,t),r=o.headers.get("content-type")||"";let i,s,{responseType:l="text"}=o.ok?e:{};switch(r.includes("application/json")&&(l="json"),l){case"arraybuffer":case"blob":s=await o.blob(),i=await(async e=>new Promise(((t,n)=>{const a=new FileReader;a.onload=()=>{const e=a.result;t(e.indexOf(",")>=0?e.split(",")[1]:e)},a.onerror=e=>n(e),a.readAsDataURL(e)})))(s);break;case"json":i=await o.json();break;default:i=await o.text()}const c={};return o.headers.forEach(((e,t)=>{c[t]=e})),{data:i,headers:c,status:o.status,url:o.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}s("CapacitorHttp",{web:()=>new p})},37448:(e,t,n)=>{"use strict";var a,o;n.d(t,{Wi:()=>o,__:()=>a}),function(e){e.Documents="DOCUMENTS",e.Data="DATA",e.Library="LIBRARY",e.Cache="CACHE",e.External="EXTERNAL",e.ExternalStorage="EXTERNAL_STORAGE"}(a||(a={})),function(e){e.UTF8="utf8",e.ASCII="ascii",e.UTF16="utf16"}(o||(o={}))},23693:(e,t,n)=>{"use strict";var a,o;n.d(t,{_n:()=>o,kn:()=>a}),function(e){e.Heavy="HEAVY",e.Medium="MEDIUM",e.Light="LIGHT"}(a||(a={})),function(e){e.Success="SUCCESS",e.Warning="WARNING",e.Error="ERROR"}(o||(o={}))},3476:(e,t,n)=>{"use strict";n.d(t,{$G:()=>w,Bm:()=>v,Wb:()=>s,Zm:()=>h,e2:()=>p,eL:()=>f,fI:()=>m,fv:()=>c,kF:()=>g,mv:()=>u,sl:()=>l,tF:()=>r,uS:()=>i,v8:()=>d});var a=n(61995);const o=1000000000n,r=1n,i=100000000n,s=1n,l={stakeNominators:o,unstakeNominators:o,stakeLiquid:o,unstakeLiquid:o,stakeJettonsForward:a.xT.STAKE_JETTONS,stakeJettons:a.xT.STAKE_JETTONS+50000000n,unstakeJettons:a.xT.UNSTAKE_JETTONS,claimJettons:a.xT.JETTON_TRANSFER+a.xT.SIMPLE_UPDATE_REQUEST},c={stakeNominators:1000052853n,unstakeNominators:148337433n,stakeLiquid:20251387n,unstakeLiquid:18625604n,stakeJettons:74879996n,unstakeJettons:59971662n,claimJettons:57053859n},d="d",u="w",m=9,p=!0,f=!1,h=function(e){return e[e.MasterChain=-1]="MasterChain",e[e.BaseChain=0]="BaseChain",e}({}).BaseChain,g=600,v=255;let w=function(e){return e[e.Comment=0]="Comment",e[e.Encrypted=560454219]="Encrypted",e}({}),y=function(e){return e.Wallet="wallet",e.Staking="staking",e}({});y.Wallet,y.Wallet,y.Wallet,y.Wallet,y.Wallet,y.Wallet,y.Wallet,y.Wallet,y.Wallet,y.Wallet,y.Wallet,y.Staking,y.Wallet,y.Wallet,y.Wallet,y.Wallet},61995:(e,t,n)=>{"use strict";n.d(t,{Hc:()=>r,Hx:()=>a,xT:()=>o});const a={GET_STATIC_DATA:801842850,REPORT_STATIC_DATA:2339837749,GET_STORAGE_DATA:1535698380,REPORT_STORAGE_DATA:2863966447,EXCESSES:3576854235,TRANSFER_JETTON:260734629,INTERNAL_TRANSFER:395134233,TRANSFER_NOTIFICATION:1935855772,PROVIDE_WALLET_ADDRESS:745978227,TAKE_WALLET_ADDRESS:3513996288,BURN_JETTON:1499400124,STAKE_JETTONS:3818940809,ADD_REWARDS:3675696277,SEND_CLAIMED_REWARDS:1153179619,SEND_UNSTAKED_JETTONS:4213386179,APPROVE_STAKE:2443044737,CANCEL_STAKE:2662179289,ADD_REWARD_JETTONS:275213031,CLAIM_COMMISSIONS:3165188199,REQUEST_UPDATE_REWARDS:4123376291,CLAIM_REWARDS:2027548937,RECEIVE_JETTONS:3599387329,UNSTAKE_JETTONS:1234866786,UNSTAKE_REQUEST:23647415,CANCEL_UNSTAKE_REQUEST:2760970010,UPDATE_REWARDS:2928871374,CONFIRM_TRANSFER:3162893073,DEPLOY_NEW_POOL:3666222871,SEND_COMMISSIONS:3110787818,SET_CODE:3805467153,CHANGE_CREATION_FEE:1725256331,CHANGE_CONTENT:247632384,UPDATE_CODES:2244551631},o={MIN_RESERVE:20000000n,DEPLOY_POOL:340000000n,NOTIFICATION:340000000n,JETTON_TRANSFER:55000000n,BURN_JETTONS:340000000n,STAKE_JETTONS:300000000n,UNSTAKE_JETTONS:340000000n,CANCEL_UNSTAKE:340000000n,SEND_COMMISSIONS:340000000n,SIMPLE_UPDATE_REQUEST:340000000n,ADD_REWARDS:340000000n,APPROVE_TRANSFER:340000000n,SAVE_UPDATED_REWARDS:340000000n,MIN_EXCESS:10000000n,SEND_STAKED_JETTONS:630000000n},r={COMMISSION_DIVIDER:10000n,REWARDS_DIVIDER:1e3,DISTRIBUTION_SPEED_DIVIDER:BigInt(86400),DISTRIBUTED_REWARDS_DIVIDER:100000000000000000000000000000000000000n}},39989:(e,t,n)=>{"use strict";n.d(t,{K$:()=>i,KB:()=>r,QS:()=>c,bS:()=>l,cp:()=>s});var a=n(23174);class o extends Error{constructor(e,t){super(e),this.displayError=t,this.name=this.constructor.name}}class r extends o{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Canceled by the user")}}class i extends o{constructor(e,t){super(e,a.QD.ServerError),this.statusCode=t}}class s extends o{constructor(e){super(e,a.QD.UnsupportedVersion)}}class l extends o{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Blind signing not enabled",a.jf.HardwareBlindSigningNotEnabled)}}function c(e){if(e instanceof i)return{error:e.displayError};throw e}},25379:(e,t,n)=>{"use strict";n.d(t,{p:()=>w,R:()=>v});var a=n(55029),o=n(5130),r=n(37836),i=n(82393),s=n(31481);n(809);const l=new Map;var c=n(94465);function d(e){!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:self;function o(e,a){e.channel=t,a?n.postMessage(e,a):n.postMessage(e)}(arguments.length>3?arguments[3]:void 0)||function(e){self.onerror=t=>{var n,o;const r=(null===(n=t.error)||void 0===n?void 0:n.message)||"Uncaught exception in worker";(0,a.SJ)(r,t.error),e({type:"unhandledError",error:{message:r,stack:null===(o=t.error)||void 0===o?void 0:o.stack}})},self.addEventListener("unhandledrejection",(t=>{var n,o;const r=(null===(n=t.reason)||void 0===n?void 0:n.message)||"Unhandled rejection in worker";(0,a.SJ)(r,t.reason),e({type:"unhandledError",error:{message:r,stack:null===(o=t.reason)||void 0===o?void 0:o.stack}})}))}(o),n.onmessage=n=>{var r;(null===(r=n.data)||void 0===r?void 0:r.channel)===t&&async function(e,t,n,o,r){switch(o||(o=e=>{n({type:"update",update:e})}),t.type){case"init":{var i;const{args:n}=t,a="function"==typeof e?e("init",r,o,...n):null===(i=e.init)||void 0===i?void 0:i.call(e,o,...n);await a;break}case"callMethod":{const{messageId:o,name:i,args:s,withCallback:c}=t;try{if(o&&c){const e=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];const r=t[t.length-1];var i;n({type:"methodCallback",messageId:o,callbackArgs:t},(i=r)instanceof ArrayBuffer||i instanceof ImageBitmap?[r]:void 0)};l.set(o,e),s.push(e)}const t="function"==typeof e?await e(i,r,...s):await e[i](...s),{arrayBuffer:a}="object"==typeof t&&t&&"arrayBuffer"in t||{};o&&n({type:"methodResponse",messageId:o,response:t},a?[a]:void 0)}catch(e){(0,a.SJ)(i,e),o&&n({type:"methodResponse",messageId:o,error:{message:e.message}})}o&&l.delete(o);break}case"cancelProgress":{const e=l.get(t.messageId);e&&(e.isCanceled=!0);break}}}(e,n.data,o)}}((function(e,t){const n=c[e];for(var a=arguments.length,o=new Array(a>2?a-2:0),r=2;r<a;r++)o[r-2]=arguments[r];return n(...o)}),s.Pcx,e,!0)}const u=150,m=5e3;let p,f,h,g=!1;function v(e,t){p=e,h||(f=new Worker(new URL(n.p+n.u(941),n.b)),h=(0,o.U)(f,e),d(f)),g||(i.pz&&window.addEventListener("focus",(()=>{E(),setTimeout((()=>E()),1e3)})),g=!0);const a="function"==typeof t?t():t;return h.init(a)}async function w(e){if(h)try{for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];const r=await h.request({name:e,args:n});return(0,a.kJ)(`callApi: ${e}`,n,r),r}catch(e){return}else(0,a.SJ)("API is not initialized")}function y(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return h.request({name:e,args:n})}const b=Date.now();async function E(){let e=!1;try{await Promise.race([y("ping"),(0,r.v7)(u).then((()=>e?void 0:Promise.reject(new Error("HEALTH_CHECK_TIMEOUT"))))])}catch(e){var t;(0,a.SJ)("ensureWorkerPing",e),Date.now()-b>=m&&(null===(t=f)||void 0===t||t.terminate(),f=void 0,h=void 0,p({type:"requestReconnectApi"}))}finally{e=!0}}},56051:(e,t,n)=>{"use strict";n.d(t,{KL:()=>r,Nu:()=>o,QD:()=>a,jf:()=>i});let a=function(e){return e.Unexpected="Unexpected",e.ServerError="ServerError",e.DebugError="DebugError",e.UnsupportedVersion="UnsupportedVersion",e}({}),o=function(e){return e.InvalidMnemonic="InvalidMnemonic",e}({}),r=function(e){return e.InvalidAmount="InvalidAmount",e.InvalidToAddress="InvalidToAddress",e.InsufficientBalance="InsufficientBalance",e.InvalidStateInit="InvalidStateInit",e.StateInitWithoutBin="StateInitWithoutBin",e.DomainNotResolved="DomainNotResolved",e.WalletNotInitialized="WalletNotInitialized",e.InvalidAddressFormat="InvalidAddressFormat",e.InactiveContract="InactiveContract",e}({}),i=function(e){return e.PartialTransactionFailure="PartialTransactionFailure",e.IncorrectDeviceTime="IncorrectDeviceTime",e.InsufficientBalance="InsufficientBalance",e.UnsuccesfulTransfer="UnsuccesfulTransfer",e.NotSupportedHardwareOperation="NotSupportedHardwareOperation",e.HardwareBlindSigningNotEnabled="HardwareBlindSigningNotEnabled",e.WrongAddress="WrongAddress",e.WrongNetwork="WrongNetwork",e}({})},23174:(e,t,n)=>{"use strict";n.d(t,{Dn:()=>a.D,KL:()=>o.KL,Nu:()=>o.Nu,QD:()=>o.QD,jf:()=>o.jf});var a=n(10428),o=n(56051)},10428:(e,t,n)=>{"use strict";n.d(t,{D:()=>a});let a=function(e){return e[e.Default=0]="Default",e[e.Instant=1]="Instant",e[e.BestRate=2]="BestRate",e}({})},31481:(e,t,n)=>{"use strict";n.d(t,{AIK:()=>fe,B9l:()=>I,BZS:()=>Be,Ba4:()=>Qt,Bqy:()=>at,C39:()=>i,CV:()=>Pe,Czf:()=>vt,Dde:()=>Y,DvZ:()=>S,F9m:()=>Oe,FHx:()=>_,FgL:()=>we,Fgn:()=>st,Fkn:()=>pe,GX2:()=>Je,Guj:()=>o,HGV:()=>ce,HOw:()=>qe,HWN:()=>Ce,Hfd:()=>ft,I04:()=>de,Ia6:()=>ye,Irq:()=>se,JWy:()=>_e,K_I:()=>kt,Kfi:()=>Ot,Kih:()=>re,KmP:()=>Ft,Kq_:()=>Te,Kzb:()=>He,LaL:()=>N,MS3:()=>G,MVx:()=>d,NEx:()=>x,OKZ:()=>Ut,OZB:()=>ut,Oig:()=>c,OuE:()=>Fe,PKm:()=>Ee,PcM:()=>R,Pcx:()=>Et,PiQ:()=>Tt,QSz:()=>et,RTV:()=>g,S7e:()=>wt,ScF:()=>gt,Svl:()=>qt,TI6:()=>r,TUC:()=>xt,Tu9:()=>Qe,UAn:()=>$e,UMQ:()=>w,USn:()=>Yt,UuV:()=>J,V3_:()=>T,VL7:()=>y,Vxu:()=>ue,W1_:()=>A,W75:()=>p,WHY:()=>Rt,WRE:()=>Lt,WVU:()=>Mt,Wvq:()=>Le,X1K:()=>Me,X7T:()=>Ge,Xhd:()=>Re,YDh:()=>Kt,YO8:()=>V,YnH:()=>oe,Yyb:()=>F,ZYg:()=>Ht,_J8:()=>ie,_bq:()=>lt,aD4:()=>O,aEZ:()=>Wt,bOf:()=>Q,c2m:()=>U,cSq:()=>_t,dCY:()=>Gt,dL4:()=>ze,dlH:()=>u,dmC:()=>he,dnp:()=>ee,dqR:()=>Ue,eZ2:()=>Bt,eoU:()=>yt,gR8:()=>Dt,gSB:()=>De,gY_:()=>je,gmk:()=>b,gpw:()=>Ae,gs5:()=>Xt,h4K:()=>ve,hL1:()=>f,hUs:()=>Ct,hkI:()=>L,hl5:()=>s,hnd:()=>xe,i11:()=>ae,iAh:()=>P,iX4:()=>pt,igk:()=>q,jht:()=>v,jt9:()=>ot,jzp:()=>z,k9U:()=>X,kuH:()=>jt,kuw:()=>Ie,l5i:()=>At,lWW:()=>j,lfO:()=>dt,lk4:()=>$,n3s:()=>Ne,nQN:()=>Ye,nj6:()=>Nt,nrE:()=>ke,o$d:()=>Se,oR5:()=>ct,oUU:()=>Xe,ow1:()=>M,p8S:()=>m,pLj:()=>Ve,pV9:()=>It,pge:()=>Z,pyR:()=>le,qL:()=>Ke,qMf:()=>We,qsd:()=>Vt,rKC:()=>ht,rUK:()=>nt,reE:()=>K,rkj:()=>B,tCm:()=>mt,tKX:()=>E,tOu:()=>bt,tpB:()=>ge,uSm:()=>Pt,uyj:()=>k,v5B:()=>h,vOV:()=>l,vdF:()=>me,vsz:()=>tt,wOb:()=>St,wg4:()=>H,wln:()=>be,xA_:()=>D,xB5:()=>W,xFF:()=>$t,yq6:()=>C,zHL:()=>te,zP3:()=>ne,zTb:()=>zt,zll:()=>Ze});var a=n(65606);const o="production",r=!0,i=r?"TON Wallet":"MyTonWallet",s="3.4.6",l="staging"===o?"Beta":"development"===o?"Dev":void 0,c="production"!==o&&"perf"!==o&&"test"!==o,d=!1,u=!1,m="production"===o,p="test"===o,f=!1,h=!1,g="1"===a.env.IS_OPERA_EXTENSION,v=!1,w=!1,y=!1,b=!1,E=!1,k="https://dumb-host",N="[Inactive]",C=r?"https://wallet.ton.org":"https://mytonwallet.app",S=r?"https://beta.wallet.ton.org":"https://beta.mytonwallet.app",A="https://get.mytonwallet.io/",T="https://github.com/mytonwalletorg/mytonwallet",I="MyTonWalletBot",B=c&&!v,_="Shoot!\nSomething went wrong, please see the error details in Dev Tools Console.",x=4,L=r?"TonWallet":"MyTonWallet",O=r?"https://wallet.ton.org":"https://mytonwallet.app",P=!r,D=24,F=P?[12,24]:[24],R=64,M=3,U=700,W=50,H=16,$=30,V=70,z=110,j=120,q=156,K=192,Y=0,Q=4,G=" ",X=5,J=!1,Z=r?"tonwallet-global-state":"mytonwallet-global-state",ee=0,te=1,ne=2,ae=ne,oe="system",re="0-ton-mainnet",ie="https://toncenter.mytonwallet.org",se="",le="https://toncenter-testnet.mytonwallet.org",ce="",de=9,ue=2,me=3,pe="mysupport",fe={en:"MyTonWalletTips",ru:"MyTonWalletTipsRu"},he="https://static.mytonwallet.org/cards/",ge="https://mytonwallet.io/",ve="https://web.telegram.org/a/",we="https://getgems.io/",ye="GetGems",be="https://getgems.io/",Ee="https://testnet.getgems.io/",ke={en:"https://help.mytonwallet.io/",ru:"https://help.mytonwallet.io/ru"},Ne="NOHASH",Ce="support@changelly.com",Se="https://changelly.com/",Ae="security@changelly.com",Te="https://changelly.com/terms-of-use",Ie="https://changelly.com/privacy-policy",Be="https://changelly.com/aml-kyc",_e=108e5,xe="tonproxy.io:38080 tonproxy.io:38081 tonproxy.io:38082",Le=.01,Oe="mtw-image",Pe="mtw-lang-178",De=[{langCode:"en",name:"English",nativeName:"English",rtl:!1},{langCode:"es",name:"Spanish",nativeName:"Español",rtl:!1},{langCode:"ru",name:"Russian",nativeName:"Русский",rtl:!1},{langCode:"zh-Hans",name:"Chinese (Simplified)",nativeName:"简体",rtl:!1},{langCode:"zh-Hant",name:"Chinese (Traditional)",nativeName:"繁體",rtl:!1},{langCode:"tr",name:"Turkish",nativeName:"Türkçe",rtl:!1},{langCode:"de",name:"German",nativeName:"Deutsch",rtl:!1},{langCode:"th",name:"Thai",nativeName:"ไทย",rtl:!1},{langCode:"uk",name:"Ukrainian",nativeName:"Українська",rtl:!1},{langCode:"pl",name:"Polish",nativeName:"Polski",rtl:!1}],Fe=r,Re=131072e3,Me=1000000000n,Ue=15000000n,We=("3wrbrkS1z3Gpjk3ppd8m8-s_ wW4fiH5zVd4SaHih7PObxP_0 OP3OduRYPdavxGO3DH12fF5g qSTQda2Z1vGK-b7EaPQoeJMx JQoONbSGp8MkrAu1xtM6NOxE dPA4cFLr3rxLOoDcpzR_SyBX".split(" "),"EQD2_4d91M4TVbEBVyBF8J1UwpMJc361LKVCz6bBlffMW05o"),He="EQCqC6EhRJ_tpWngKxL6dV0k6DSnRUrs9GSVkLbfdCqsj6TE",$e=Me,Ve=10000n*Me,ze=100000000n,je=2,qe=r?"tonwallet":"mytonwallet",Ke=(new Set(["0:0e41dc1dc3c9067ed24248580e12b3359818d83dee0304fabcf80845eafafdb2","0:80d78a35f955a14b679faa887ff4cd5bfc0f43b4a4eea2a7e6927f3701b273c2"]),"EQCQE2L9hfwx1V8sgmF9keraHx1rNK9VmgR1ctVvINBGykyM"),Ye="EQC3dNlesgVD8YbAazcauIrXBPfiVhMMr5YYk2in0Mtsz0Bz",Qe={name:"Toncoin",symbol:"TON",slug:"toncoin",decimals:9,chain:"ton",cmcSlug:"toncoin"},Ge={name:"TRON",symbol:"TRX",slug:"trx",decimals:6,chain:"tron",cmcSlug:"tron"},Xe={name:"MyTonWallet Coin",symbol:"MY",slug:"ton-eqcfvnlrbn",decimals:9,chain:"ton",minterAddress:"EQCFVNlRb-NHHDQfv3Q9xvDXBLJlay855_xREsq5ZDX6KN-w"},Je={...Xe,slug:"ton-kqawlxpebw",minterAddress:"kQAWlxpEbwhCDFX9gp824ee2xVBhAh5VRSGWfbNFDddAbQoQ"},Ze={ton:{isMemoSupported:!0,isDnsSupported:!0,addressRegex:/^([-\w_]{48}|0:[\da-h]{64})$/i,addressPrefixRegex:/^([-\w_]{1,48}|0:[\da-h]{0,64})$/i,nativeToken:Qe},tron:{isMemoSupported:!1,isDnsSupported:!1,addressRegex:/^T[1-9A-HJ-NP-Za-km-z]{33}$/,addressPrefixRegex:/^T[1-9A-HJ-NP-Za-km-z]{0,33}$/,nativeToken:Ge,mainnet:{apiUrl:"https://tronapi.mytonwallet.org",usdtAddress:"TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t"},testnet:{apiUrl:"https://api.shasta.trongrid.io",usdtAddress:"TG3XXyExBkPp9nzdajDZsozEu4BkaSJozs"}}},et="tron-tr7nhqjekq",tt="tron-tg3xxyexbk",nt="ton-eqcxe6mutq",at="ton-eqcqc6ehrj",ot="TW2LXSebZ7Br1zHaiA2W1zRojDkDwjGmpw",rt={name:"Tether USD",symbol:"USDT",decimals:6,chain:"tron"},it={name:"Tether USD",symbol:"USD₮",chain:"ton",slug:nt,decimals:6,tokenAddress:"EQCxE6mUtQJKFnGfaROTKOt1lZbDiiX1kCixRv7Nw2Id_sDs"},st=[Qe.slug,nt,Ge.slug,tt,et],lt=4,ct=[Qe.slug,nt,Ge.slug],dt={toncoin:{...Qe,quote:{slug:Qe.slug,price:1.95,priceUsd:1.95,percentChange24h:0}},trx:{...Ge,quote:{slug:Ge.slug,price:0,priceUsd:0,percentChange24h:0}},[et]:{...rt,slug:et,tokenAddress:"TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t",quote:{slug:et,price:0,priceUsd:0,percentChange24h:0}},[tt]:{...rt,slug:tt,tokenAddress:"TG3XXyExBkPp9nzdajDZsozEu4BkaSJozs",quote:{slug:tt,price:0,priceUsd:0,percentChange24h:0}},[nt]:{...it,image:"https://cache.tonapi.io/imgproxy/T3PB4s7oprNVaJkwqbGg54nexKE0zzKhcrPv8jcWYzU/rs:fill:200:200:1/g:no/aHR0cHM6Ly90ZXRoZXIudG8vaW1hZ2VzL2xvZ29DaXJjbGUucG5n.webp",quote:{slug:nt,price:0,priceUsd:0,percentChange24h:0}},[Xe.slug]:{...Xe,image:"https://cache.tonapi.io/imgproxy/Qy038wCBKISofJ0hYMlj6COWma330cx3Ju1ZSPM2LRU/rs:fill:200:200:1/g:no/aHR0cHM6Ly9teXRvbndhbGxldC5pby9sb2dvLTI1Ni1ibHVlLnBuZw.webp",quote:{slug:Xe.slug,price:0,priceUsd:0,percentChange24h:0}}},ut={[et]:"TRC-20",[tt]:"TRC-20",[nt]:"TON"},mt={toncoin:{name:"Toncoin",symbol:Qe.symbol,chain:Qe.chain,slug:Qe.slug,decimals:Qe.decimals,price:0,priceUsd:0,isPopular:!0},[nt]:{name:"Tether USD",symbol:"USD₮",chain:"ton",slug:nt,decimals:9,image:"https://cache.tonapi.io/imgproxy/T3PB4s7oprNVaJkwqbGg54nexKE0zzKhcrPv8jcWYzU/rs:fill:200:200:1/g:no/aHR0cHM6Ly90ZXRoZXIudG8vaW1hZ2VzL2xvZ29DaXJjbGUucG5n.webp",tokenAddress:"EQCxE6mUtQJKFnGfaROTKOt1lZbDiiX1kCixRv7Nw2Id_sDs",price:0,priceUsd:0,isPopular:!0}},pt=Qe.slug,ft=Qe.slug,ht=nt,gt=Qe.slug,vt=et,wt={dedust:"DeDust",ston:"STON.fi"},yt=r?"tw-multitab":"mtw-multitab",bt=r?"tw-active-tab":"mtw-active-tab",Et="windowProvider",kt=r,Nt=4,Ct=6,St="USD",At={USD:"$",EUR:"€",RUB:"₽",CNY:"¥"},Tt=[{value:"USD",name:"US Dollar"},{value:"EUR",name:"Euro"},{value:"RUB",name:"Ruble"},{value:"CNY",name:"Yuan"},{value:"BTC",name:"Bitcoin"},{value:Qe.symbol,name:"Toncoin"}],It="UQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJKZ",Bt=["v3R1","v3R2","v4R2","W5"],_t=1e4,xt=3,Lt=500,Ot=["1D","7D","1M","3M","1Y","ALL"],Pt=10,Dt=4,Ft="EQDmkj65Ab_m0aZaW8IpKw4kYqIgITw_HRstYEkVQ6NIYCyW",Rt=30,Mt=["EQAPZauWVPUcm2hUJT9n36pxznEhl46rEn1bzBXN0RY_yiy2","EQASgm0Qv3h2H2mF0W06ikPqYq2ctT3dyXMJH_svbEKKB3iZ","EQArlmP-RhVIG2yAFGZyPZfM3m0YccxmpvoRi6sgRzWnAA0s","EQA6pL-spYqZp1Ck6o3rpY45Cl-bvLMW_j3qdVejOkUWpLnm","EQBJ_ehYjumQKbXfWUue1KHKXdTm1GuYJB0Fj2ST_DwORvpd","EQBRmYSjxh9xlZpUqEmGjF5UjukI9v_Cm2kCTu4CoBn3XkOD","EQBkiqncd7AFT5_23H-RoA2Vynk-Nzq_dLoeMVRthAU9RF0p","EQB_OzTHXbztABe0QHgr4PtAV8T64LR6aDunXgaAoihOdxwO","EQCL-x5kLg6tKVNGryItTuj6tG3FH5mhUEu0xRqQc-kbEmbe","EQCZh2yJ46RaQH3AYmjEA8SMMXi77Oein4-3lvqkHseIAhD-","EQChKo5IK3iNqUHUGDB9gtzjCjMTPtmsFqekuCA2MdreVEyu","EQC6DNCBv076TIliRMfOt20RpbS7rNKDfSky3WrFEapFt8AH","EQDE_XFZOYae_rl3ZMsgBCtRSmYhl8B4y2BZEP7oiGBDhlgy","EQDddqpGA2ePXQF47A2DSL3GF6ZzIVmimfM2d16cdymy2noT","EQDv0hNNAamhYltCh3pTJrq3oRB9RW2ZhEYkTP6fhj5BtZNu","EQD2mP7zgO7-imUJhqYry3i07aJ_SR53DaokMupfAAobt0Xw"],Ut="EQB3zOTvPi1PmwdcTpqSfFKZnhi1GNKEVJM-LdoAirdLtash",Wt=30000000n,Ht="claim",$t="⭐️",Vt="https://giveaway.mytonwallet.io",zt=[{value:"never",name:"Disabled",selectedName:"Disabled",period:0},{value:"1",name:"30 seconds",selectedName:"If away for 30 sec",period:3e4},{value:"2",name:"3 minutes",selectedName:"If away for 3 min",period:18e4},{value:"3",name:"10 minutes",selectedName:"If away for 10 min",period:6e5}],jt=new Set(["82566ad72b6568fe7276437d3b0c911aab65ed701c13601941b2917305e81c11","ec614ea4aaea3f7768606f1c1632b3374d3de096a1e7c4ba43c8009c487fee9d","c0f9d14fbc8e14f0d72cba2214165eee35836ab174130912baf9dbfa43ead562","1275095b6da3911292406f4f4386f9e780099b854c6dee9ee2895ddce70927c1","5d01684bdf1d5c9be2682c4e36074202432628bd3477d77518d66b0976b78cca"]),qt=new Set([at,"ton-eqcbzvsfwq"]),Kt=.875,Yt={type:"liquid",id:"liquid",tokenSlug:Qe.slug,annualYield:3.9,yieldType:"APY",balance:0n,pool:We,tokenBalance:0n,unstakeRequestAmount:0n,instantAvailable:0n},Qt={type:"nominators",id:"nominators",tokenSlug:Qe.slug,annualYield:3.9,yieldType:"APY",balance:0n,pool:"Ef8dgIOIRyCLU0NEvF8TD6Me3wrbrkS1z3Gpjk3ppd8m8-s_",start:0,end:0,pendingDepositAmount:0n},Gt="https://jvault.xyz",Xt=[{suffixes:["ton"],baseFormat:/^([-\da-z]+\.){0,2}[-\da-z]{4,126}$/i,resolver:"EQC3dNlesgVD8YbAazcauIrXBPfiVhMMr5YYk2in0Mtsz0Bz"},{suffixes:["t.me"],baseFormat:/^([-\da-z]+\.){0,2}[-_\da-z]{4,32}$/i,resolver:"EQCA14o1-VWhS2efqoh_9M1b_A9DtKTuoqfmkn83AbJzwnPi",isTelemint:!0},{suffixes:["vip","ton.vip","vip.ton"],baseFormat:/^([-\da-z]+\.){0,2}?[\da-z]{1,24}$/i,resolver:"EQBWG4EBbPDv4Xj7xlPwzxd7hSyHMzwwLB5O6rY-0BBeaixS"},{suffixes:["gram"],baseFormat:/^([-\da-z]+\.){0,2}[\da-z]{1,127}$/i,resolver:"EQAic3zPce496ukFDhbco28FVsKKl2WUX_iJwaL87CBxSiLQ"}]},48805:(e,t,n)=>{"use strict";n.d(t,{z:()=>f});var a=1e6,o="[big.js] ",r=o+"Invalid ",i=r+"decimal places",s=r+"rounding mode",l=o+"Division by zero",c={},d=void 0,u=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function m(e,t,n,a){var o=e.c;if(n===d&&(n=e.constructor.RM),0!==n&&1!==n&&2!==n&&3!==n)throw Error(s);if(t<1)a=3===n&&(a||!!o[0])||0===t&&(1===n&&o[0]>=5||2===n&&(o[0]>5||5===o[0]&&(a||o[1]!==d))),o.length=1,a?(e.e=e.e-t+1,o[0]=1):o[0]=e.e=0;else if(t<o.length){if(a=1===n&&o[t]>=5||2===n&&(o[t]>5||5===o[t]&&(a||o[t+1]!==d||1&o[t-1]))||3===n&&(a||!!o[0]),o.length=t,a)for(;++o[--t]>9;)if(o[t]=0,0===t){++e.e,o.unshift(1);break}for(t=o.length;!o[--t];)o.pop()}return e}function p(e,t,n){var a=e.e,o=e.c.join(""),r=o.length;if(t)o=o.charAt(0)+(r>1?"."+o.slice(1):"")+(a<0?"e":"e+")+a;else if(a<0){for(;++a;)o="0"+o;o="0."+o}else if(a>0)if(++a>r)for(a-=r;a--;)o+="0";else a<r&&(o=o.slice(0,a)+"."+o.slice(a));else r>1&&(o=o.charAt(0)+"."+o.slice(1));return e.s<0&&n?"-"+o:o}c.abs=function(){var e=new this.constructor(this);return e.s=1,e},c.cmp=function(e){var t,n=this,a=n.c,o=(e=new n.constructor(e)).c,r=n.s,i=e.s,s=n.e,l=e.e;if(!a[0]||!o[0])return a[0]?r:o[0]?-i:0;if(r!=i)return r;if(t=r<0,s!=l)return s>l^t?1:-1;for(i=(s=a.length)<(l=o.length)?s:l,r=-1;++r<i;)if(a[r]!=o[r])return a[r]>o[r]^t?1:-1;return s==l?0:s>l^t?1:-1},c.div=function(e){var t=this,n=t.constructor,o=t.c,r=(e=new n(e)).c,s=t.s==e.s?1:-1,c=n.DP;if(c!==~~c||c<0||c>a)throw Error(i);if(!r[0])throw Error(l);if(!o[0])return e.s=s,e.c=[e.e=0],e;var u,p,f,h,g,v=r.slice(),w=u=r.length,y=o.length,b=o.slice(0,u),E=b.length,k=e,N=k.c=[],C=0,S=c+(k.e=t.e-e.e)+1;for(k.s=s,s=S<0?0:S,v.unshift(0);E++<u;)b.push(0);do{for(f=0;f<10;f++){if(u!=(E=b.length))h=u>E?1:-1;else for(g=-1,h=0;++g<u;)if(r[g]!=b[g]){h=r[g]>b[g]?1:-1;break}if(!(h<0))break;for(p=E==u?r:v;E;){if(b[--E]<p[E]){for(g=E;g&&!b[--g];)b[g]=9;--b[g],b[E]+=10}b[E]-=p[E]}for(;!b[0];)b.shift()}N[C++]=h?f:++f,b[0]&&h?b[E]=o[w]||0:b=[o[w]]}while((w++<y||b[0]!==d)&&s--);return N[0]||1==C||(N.shift(),k.e--,S--),C>S&&m(k,S,n.RM,b[0]!==d),k},c.eq=function(e){return 0===this.cmp(e)},c.gt=function(e){return this.cmp(e)>0},c.gte=function(e){return this.cmp(e)>-1},c.lt=function(e){return this.cmp(e)<0},c.lte=function(e){return this.cmp(e)<1},c.minus=c.sub=function(e){var t,n,a,o,r=this,i=r.constructor,s=r.s,l=(e=new i(e)).s;if(s!=l)return e.s=-l,r.plus(e);var c=r.c.slice(),d=r.e,u=e.c,m=e.e;if(!c[0]||!u[0])return u[0]?e.s=-l:c[0]?e=new i(r):e.s=1,e;if(s=d-m){for((o=s<0)?(s=-s,a=c):(m=d,a=u),a.reverse(),l=s;l--;)a.push(0);a.reverse()}else for(n=((o=c.length<u.length)?c:u).length,s=l=0;l<n;l++)if(c[l]!=u[l]){o=c[l]<u[l];break}if(o&&(a=c,c=u,u=a,e.s=-e.s),(l=(n=u.length)-(t=c.length))>0)for(;l--;)c[t++]=0;for(l=t;n>s;){if(c[--n]<u[n]){for(t=n;t&&!c[--t];)c[t]=9;--c[t],c[n]+=10}c[n]-=u[n]}for(;0===c[--l];)c.pop();for(;0===c[0];)c.shift(),--m;return c[0]||(e.s=1,c=[m=0]),e.c=c,e.e=m,e},c.mod=function(e){var t,n=this,a=n.constructor,o=n.s,r=(e=new a(e)).s;if(!e.c[0])throw Error(l);return n.s=e.s=1,t=1==e.cmp(n),n.s=o,e.s=r,t?new a(n):(o=a.DP,r=a.RM,a.DP=a.RM=0,n=n.div(e),a.DP=o,a.RM=r,this.minus(n.times(e)))},c.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e},c.plus=c.add=function(e){var t,n,a,o=this,r=o.constructor;if(e=new r(e),o.s!=e.s)return e.s=-e.s,o.minus(e);var i=o.e,s=o.c,l=e.e,c=e.c;if(!s[0]||!c[0])return c[0]||(s[0]?e=new r(o):e.s=o.s),e;if(s=s.slice(),t=i-l){for(t>0?(l=i,a=c):(t=-t,a=s),a.reverse();t--;)a.push(0);a.reverse()}for(s.length-c.length<0&&(a=c,c=s,s=a),t=c.length,n=0;t;s[t]%=10)n=(s[--t]=s[t]+c[t]+n)/10|0;for(n&&(s.unshift(n),++l),t=s.length;0===s[--t];)s.pop();return e.c=s,e.e=l,e},c.pow=function(e){var t=this,n=new t.constructor("1"),a=n,o=e<0;if(e!==~~e||e<-1e6||e>1e6)throw Error(r+"exponent");for(o&&(e=-e);1&e&&(a=a.times(t)),e>>=1;)t=t.times(t);return o?n.div(a):a},c.prec=function(e,t){if(e!==~~e||e<1||e>a)throw Error(r+"precision");return m(new this.constructor(this),e,t)},c.round=function(e,t){if(e===d)e=0;else if(e!==~~e||e<-a||e>a)throw Error(i);return m(new this.constructor(this),e+this.e+1,t)},c.sqrt=function(){var e,t,n,a=this,r=a.constructor,i=a.s,s=a.e,l=new r("0.5");if(!a.c[0])return new r(a);if(i<0)throw Error(o+"No square root");0===(i=Math.sqrt(a+""))||i===1/0?((t=a.c.join("")).length+s&1||(t+="0"),s=((s+1)/2|0)-(s<0||1&s),e=new r(((i=Math.sqrt(t))==1/0?"5e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+s)):e=new r(i+""),s=e.e+(r.DP+=4);do{n=e,e=l.times(n.plus(a.div(n)))}while(n.c.slice(0,s).join("")!==e.c.slice(0,s).join(""));return m(e,(r.DP-=4)+e.e+1,r.RM)},c.times=c.mul=function(e){var t,n=this,a=n.constructor,o=n.c,r=(e=new a(e)).c,i=o.length,s=r.length,l=n.e,c=e.e;if(e.s=n.s==e.s?1:-1,!o[0]||!r[0])return e.c=[e.e=0],e;for(e.e=l+c,i<s&&(t=o,o=r,r=t,c=i,i=s,s=c),t=new Array(c=i+s);c--;)t[c]=0;for(l=s;l--;){for(s=0,c=i+l;c>l;)s=t[c]+r[l]*o[c-l-1]+s,t[c--]=s%10,s=s/10|0;t[c]=s}for(s?++e.e:t.shift(),l=t.length;!t[--l];)t.pop();return e.c=t,e},c.toExponential=function(e,t){var n=this,o=n.c[0];if(e!==d){if(e!==~~e||e<0||e>a)throw Error(i);for(n=m(new n.constructor(n),++e,t);n.c.length<e;)n.c.push(0)}return p(n,!0,!!o)},c.toFixed=function(e,t){var n=this,o=n.c[0];if(e!==d){if(e!==~~e||e<0||e>a)throw Error(i);for(e=e+(n=m(new n.constructor(n),e+n.e+1,t)).e+1;n.c.length<e;)n.c.push(0)}return p(n,!1,!!o)},c[Symbol.for("nodejs.util.inspect.custom")]=c.toJSON=c.toString=function(){var e=this,t=e.constructor;return p(e,e.e<=t.NE||e.e>=t.PE,!!e.c[0])},c.toNumber=function(){var e=Number(p(this,!0,!0));if(!0===this.constructor.strict&&!this.eq(e.toString()))throw Error(o+"Imprecise conversion");return e},c.toPrecision=function(e,t){var n=this,o=n.constructor,i=n.c[0];if(e!==d){if(e!==~~e||e<1||e>a)throw Error(r+"precision");for(n=m(new o(n),e,t);n.c.length<e;)n.c.push(0)}return p(n,e<=n.e||n.e<=o.NE||n.e>=o.PE,!!i)},c.valueOf=function(){var e=this,t=e.constructor;if(!0===t.strict)throw Error(o+"valueOf disallowed");return p(e,e.e<=t.NE||e.e>=t.PE,!0)};var f=function e(){function t(n){var a=this;if(!(a instanceof t))return n===d?e():new t(n);if(n instanceof t)a.s=n.s,a.e=n.e,a.c=n.c.slice();else{if("string"!=typeof n){if(!0===t.strict&&"bigint"!=typeof n)throw TypeError(r+"value");n=0===n&&1/n<0?"-0":String(n)}!function(e,t){var n,a,o;if(!u.test(t))throw Error(r+"number");for(e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(n=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(n<0&&(n=a),n+=+t.slice(a+1),t=t.substring(0,a)):n<0&&(n=t.length),o=t.length,a=0;a<o&&"0"==t.charAt(a);)++a;if(a==o)e.c=[e.e=0];else{for(;o>0&&"0"==t.charAt(--o););for(e.e=n-a-1,e.c=[],n=0;a<=o;)e.c[n++]=+t.charAt(a++)}}(a,n)}a.constructor=t}return t.prototype=c,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.strict=!1,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}()},66644:(e,t,n)=>{"use strict";n.d(t,{RK:()=>m,YS:()=>u,gm:()=>p});var a=n(50110),o=n(37836),r=n(75357);let i=[],s=[],l=[];const c=(d=()=>{const e=i;i=[],e.forEach((e=>{(0,a.A)(e)})),Promise.resolve().then((()=>{(0,r.A)("mutate");const e=s;s=[],e.forEach((e=>{(0,a.A)(e)}))})).then((()=>{(0,r.A)("measure");const e=[];for(const t of l)(0,a.A)((()=>{const n=t();n&&e.push(n)}));return l=[],e})).then((e=>{(0,r.A)("mutate");for(const t of e)(0,a.A)(t)})).then((()=>{(0,r.A)("measure")}))},(0,o.nb)((e=>{(0,o.IJ)(e,!0)}),d));var d;function u(e){i.push(e),c()}function m(e){s.push(e),c()}function p(e){l.push(e),c()}},75357:(e,t,n)=>{"use strict";n.d(t,{Z3:()=>d,A:()=>c,bo:()=>m});const a={Element:{props:["clientLeft","clientTop","clientWidth","clientHeight","scrollWidth","scrollHeight","scrollLeft","scrollTop"],methods:["getClientRects","getBoundingClientRect","scrollBy","scrollTo","scrollIntoView","scrollIntoViewIfNeeded"]},HTMLElement:{props:["offsetLeft","offsetTop","offsetWidth","offsetHeight","offsetParent","innerText"],methods:["focus"]},window:{props:["scrollX","scrollY","innerHeight","innerWidth"],methods:["getComputedStyle"]},VisualViewport:{props:["height","width","offsetTop","offsetLeft"]},Document:{props:["scrollingElement"],methods:["elementFromPoint"]},HTMLInputElement:{methods:["select"]},MouseEvent:{props:["layerX","layerY","offsetX","offsetY"]},Range:{methods:["getClientRects","getBoundingClientRect"]}};let o=console.error;const r=new Map;let i,s="measure",l=!1;function c(e){s=e}function d(){l||(l=!0,Object.entries(a).forEach((e=>{let[t,n]=e;const a=window[t];if(!a)return;const o="object"==typeof a?a:a.prototype;"props"in n&&n.props.forEach((e=>{var n;const a=null===(n=Object.getOwnPropertyDescriptor(o,e))||void 0===n?void 0:n.get;a&&(r.set(`${t}#${e}`,a),Object.defineProperty(o,e,{get(){return p(e),a.call(this)}}))})),"methods"in n&&n.methods.forEach((e=>{const n=o[e];r.set(`${t}#${e}`,n),o[e]=function(){p(e);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return n.apply(this,a)}}))})),i=new MutationObserver((e=>{"mutate"!==s&&e.forEach((e=>{let{target:t,type:n,attributeName:a}=e;document.contains(t)&&(u.has(t)||"childList"===n&&t instanceof HTMLElement&&t.contentEditable||null!=a&&a.startsWith("data-")||o(new Error(`Unexpected mutation detected: \`${"attributes"===n?a:n}\``)))})),u.clear()})),i.observe(document.body,{childList:!0,attributes:!0,subtree:!0,characterData:!1}))}const u=new Set;function m(e){if(!l)return e();var t;l&&(null===(t=i)||void 0===t||t.disconnect(),i=void 0,Object.entries(a).forEach((e=>{let[t,n]=e;const a=window[t];if(!a)return;const o="object"==typeof a?a:a.prototype;"props"in n&&n.props.forEach((e=>{const n=r.get(`${t}#${e}`);n&&Object.defineProperty(o,e,{get:n})})),"methods"in n&&n.methods.forEach((e=>{o[e]=r.get(`${t}#${e}`)}))})),r.clear(),l=!1);const n=e();return d(),n}function p(e){"measure"!==s&&o(new Error(`Unexpected measurement detected: \`${e}\``))}},43110:e=>{if(!t)var t={map:function(e,t){var n={};return t?e.map((function(e,a){return n.index=a,t.call(n,e)})):e.slice()},naturalOrder:function(e,t){return e<t?-1:e>t?1:0},sum:function(e,t){var n={};return e.reduce(t?function(e,a,o){return n.index=o,e+t.call(n,a)}:function(e,t){return e+t},0)},max:function(e,n){return Math.max.apply(null,n?t.map(e,n):e)}};var n=function(){function e(e,t,n){return(e<<10)+(t<<5)+n}function n(e){var t=[],n=!1;function a(){t.sort(e),n=!0}return{push:function(e){t.push(e),n=!1},peek:function(e){return n||a(),void 0===e&&(e=t.length-1),t[e]},pop:function(){return n||a(),t.pop()},size:function(){return t.length},map:function(e){return t.map(e)},debug:function(){return n||a(),t}}}function a(e,t,n,a,o,r,i){var s=this;s.r1=e,s.r2=t,s.g1=n,s.g2=a,s.b1=o,s.b2=r,s.histo=i}function o(){this.vboxes=new n((function(e,n){return t.naturalOrder(e.vbox.count()*e.vbox.volume(),n.vbox.count()*n.vbox.volume())}))}function r(n,a){if(a.count()){var o=a.r2-a.r1+1,r=a.g2-a.g1+1,i=a.b2-a.b1+1,s=t.max([o,r,i]);if(1==a.count())return[a.copy()];var l,c,d,u,m=0,p=[],f=[];if(s==o)for(l=a.r1;l<=a.r2;l++){for(u=0,c=a.g1;c<=a.g2;c++)for(d=a.b1;d<=a.b2;d++)u+=n[e(l,c,d)]||0;m+=u,p[l]=m}else if(s==r)for(l=a.g1;l<=a.g2;l++){for(u=0,c=a.r1;c<=a.r2;c++)for(d=a.b1;d<=a.b2;d++)u+=n[e(c,l,d)]||0;m+=u,p[l]=m}else for(l=a.b1;l<=a.b2;l++){for(u=0,c=a.r1;c<=a.r2;c++)for(d=a.g1;d<=a.g2;d++)u+=n[e(c,d,l)]||0;m+=u,p[l]=m}return p.forEach((function(e,t){f[t]=m-e})),function(e){var t,n,o,r,i,s=e+"1",c=e+"2",d=0;for(l=a[s];l<=a[c];l++)if(p[l]>m/2){for(o=a.copy(),r=a.copy(),i=(t=l-a[s])<=(n=a[c]-l)?Math.min(a[c]-1,~~(l+n/2)):Math.max(a[s],~~(l-1-t/2));!p[i];)i++;for(d=f[i];!d&&p[i-1];)d=f[--i];return o[c]=i,r[s]=o[c]+1,[o,r]}}(s==o?"r":s==r?"g":"b")}}return a.prototype={volume:function(e){var t=this;return t._volume&&!e||(t._volume=(t.r2-t.r1+1)*(t.g2-t.g1+1)*(t.b2-t.b1+1)),t._volume},count:function(t){var n=this,a=n.histo;if(!n._count_set||t){var o,r,i,s=0;for(o=n.r1;o<=n.r2;o++)for(r=n.g1;r<=n.g2;r++)for(i=n.b1;i<=n.b2;i++)s+=a[e(o,r,i)]||0;n._count=s,n._count_set=!0}return n._count},copy:function(){var e=this;return new a(e.r1,e.r2,e.g1,e.g2,e.b1,e.b2,e.histo)},avg:function(t){var n=this,a=n.histo;if(!n._avg||t){var o,r,i,s,l=0,c=0,d=0,u=0;for(r=n.r1;r<=n.r2;r++)for(i=n.g1;i<=n.g2;i++)for(s=n.b1;s<=n.b2;s++)l+=o=a[e(r,i,s)]||0,c+=o*(r+.5)*8,d+=o*(i+.5)*8,u+=o*(s+.5)*8;n._avg=l?[~~(c/l),~~(d/l),~~(u/l)]:[~~(8*(n.r1+n.r2+1)/2),~~(8*(n.g1+n.g2+1)/2),~~(8*(n.b1+n.b2+1)/2)]}return n._avg},contains:function(e){var t=this,n=e[0]>>3;return gval=e[1]>>3,bval=e[2]>>3,n>=t.r1&&n<=t.r2&&gval>=t.g1&&gval<=t.g2&&bval>=t.b1&&bval<=t.b2}},o.prototype={push:function(e){this.vboxes.push({vbox:e,color:e.avg()})},palette:function(){return this.vboxes.map((function(e){return e.color}))},size:function(){return this.vboxes.size()},map:function(e){for(var t=this.vboxes,n=0;n<t.size();n++)if(t.peek(n).vbox.contains(e))return t.peek(n).color;return this.nearest(e)},nearest:function(e){for(var t,n,a,o=this.vboxes,r=0;r<o.size();r++)((n=Math.sqrt(Math.pow(e[0]-o.peek(r).color[0],2)+Math.pow(e[1]-o.peek(r).color[1],2)+Math.pow(e[2]-o.peek(r).color[2],2)))<t||void 0===t)&&(t=n,a=o.peek(r).color);return a},forcebw:function(){var e=this.vboxes;e.sort((function(e,n){return t.naturalOrder(t.sum(e.color),t.sum(n.color))}));var n=e[0].color;n[0]<5&&n[1]<5&&n[2]<5&&(e[0].color=[0,0,0]);var a=e.length-1,o=e[a].color;o[0]>251&&o[1]>251&&o[2]>251&&(e[a].color=[255,255,255])}},{quantize:function(i,s){if(!i.length||s<2||s>256)return!1;var l=function(t){var n,a,o,r,i=new Array(32768);return t.forEach((function(t){a=t[0]>>3,o=t[1]>>3,r=t[2]>>3,n=e(a,o,r),i[n]=(i[n]||0)+1})),i}(i);l.forEach((function(){}));var c=function(e,t){var n,o,r,i=1e6,s=0,l=1e6,c=0,d=1e6,u=0;return e.forEach((function(e){n=e[0]>>3,o=e[1]>>3,r=e[2]>>3,n<i?i=n:n>s&&(s=n),o<l?l=o:o>c&&(c=o),r<d?d=r:r>u&&(u=r)})),new a(i,s,l,c,d,u,t)}(i,l),d=new n((function(e,n){return t.naturalOrder(e.count(),n.count())}));function u(e,t){for(var n,a=1,o=0;o<1e3;)if((n=e.pop()).count()){var i=r(l,n),s=i[0],c=i[1];if(!s)return;if(e.push(s),c&&(e.push(c),a++),a>=t)return;if(o++>1e3)return}else e.push(n),o++}d.push(c),u(d,.75*s);for(var m=new n((function(e,n){return t.naturalOrder(e.count()*e.volume(),n.count()*n.volume())}));d.size();)m.push(d.pop());u(m,s-m.size());for(var p=new o;m.size();)p.push(m.pop());return p}}}();e.exports=n.quantize},9705:(e,t,n)=>{"use strict";function a(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{A:()=>o});class o{constructor(){a(this,"promise",void 0),a(this,"reject",void 0),a(this,"resolve",void 0),this.promise=new Promise(((e,t)=>{this.reject=t,this.resolve=e}))}static resolved(e){const t=new o;return t.resolve(e),t}}},5130:(e,t,n)=>{"use strict";n.d(t,{U:()=>l});var a=n(809),o=n(14235),r=n(55029);function i(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s{constructor(e,t,n,a){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"*";this.target=e,this.onUpdate=t,this.channel=n,this.shouldUseJson=a,this.targetOrigin=o,i(this,"requestStates",new Map),i(this,"requestStatesByCallback",new Map)}destroy(){}init(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.postMessage({type:"init",args:t})}request(e){const{requestStates:t,requestStatesByCallback:n}=this,a=(0,o.A)(),r={type:"callMethod",messageId:a,...e},i={messageId:a},s=new Promise(((e,t)=>{Object.assign(i,{resolve:e,reject:t})}));if("function"==typeof r.args[r.args.length-1]){r.withCallback=!0;const e=r.args.pop();i.callback=e,n.set(e,i)}return t.set(a,i),s.catch((()=>{})).finally((()=>{t.delete(a),i.callback&&n.delete(i.callback)})),this.postMessage(r),s}cancelCallback(e){e.isCanceled=!0;const{messageId:t}=this.requestStatesByCallback.get(e)||{};t&&this.postMessage({type:"cancelProgress",messageId:t})}onMessage(e){if("string"==typeof e)try{e=JSON.parse(e,a.bk)}catch(e){return void(0,r.SJ)("PostMessageConnector: Failed to parse message",e)}const{requestStates:t,channel:n}=this;if(e.channel===n)if("update"===e.type&&this.onUpdate&&this.onUpdate(e.update),"methodResponse"===e.type){const n=t.get(e.messageId);n&&(e.error?n.reject(e.error):n.resolve(e.response))}else if("methodCallback"===e.type){var o;const n=t.get(e.messageId);null==n||null===(o=n.callback)||void 0===o||o.call(n,...e.callbackArgs)}else if("unhandledError"===e.type){var i,s;const t=new Error(null===(i=e.error)||void 0===i?void 0:i.message);throw null!==(s=e.error)&&void 0!==s&&s.stack&&(t.stack=e.error.stack),t}}postMessage(e){e.channel=this.channel;let t=e;this.shouldUseJson&&(t=JSON.stringify(e)),"open"in this.target?this.target.postMessage(t,this.targetOrigin):this.target.postMessage(t)}}function l(e,t,n,a){const o=new s(e,t,n,void 0,a);function r(e){let{data:t}=e;o.onMessage(t)}return e.addEventListener("message",r),o.destroy=()=>{e.removeEventListener("message",r)},o}},86243:(e,t,n)=>{"use strict";function a(e){const t=e.split("-"),[n,a="mainnet"]=3===t.length?[t[0],t[2]]:t;return{id:Number(n),network:a}}function o(e){const{id:t,network:n}=e;return`${t}-${n}`}n.d(t,{c:()=>a,z:()=>o})},19822:(e,t,n)=>{"use strict";n.d(t,{Hd:()=>s,ZM:()=>l,i0:()=>o,qM:()=>i});var a=n(66644);function o(e,t){t((()=>{e()&&o(e,t)}))}function r(e,t){e()&&t((()=>{r(e,t)}))}const i={linear:e=>e,easeIn:e=>e**1.675,easeOut:e=>-1*e**1.675,easeInOut:e=>.5*(Math.sin((e-.5)*Math.PI)+1),easeInQuad:e=>e*e,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e*e:(4-2*e)*e-1,easeInCubic:e=>e**3,easeOutCubic:e=>--e*e*e+1,easeInOutCubic:e=>e<.5?4*e**3:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e**4,easeOutQuart:e=>1- --e*e**3,easeInOutQuart:e=>e<.5?8*e**4:1-8*--e*e**3,easeInQuint:e=>e**5,easeOutQuint:e=>1+--e*e**4,easeInOutQuint:e=>e<.5?16*e**5:1+16*--e*e**4};function s(e){let{timing:t=i.linear,onUpdate:n,duration:o,onEnd:s,from:l,to:c}=e;const d=Date.now();let u=!1;return r((()=>{if(u)return!1;const e=Date.now(),a=Math.min((e-d)/o,1),r=t(a);if("number"==typeof l&&"number"==typeof c)n(l+(c-l)*r);else if(Array.isArray(l)&&Array.isArray(c)){const e=l.map(((e,t)=>e+(c[t]-e)*r));n(e)}return 1===a&&(null==s||s()),a<1}),a.YS),()=>{u=!0,null==s||s(!0)}}function l(e,t){Object.assign(e.style,t)}},59288:(e,t,n)=>{"use strict";n.d(t,{p:()=>a});class a extends Error{constructor(e,t){super(e),this.metadata=t}}},809:(e,t,n)=>{"use strict";n.d(t,{UA:()=>u,_O:()=>d,bk:()=>i,fC:()=>l,m1:()=>c,tH:()=>r,wg:()=>s});var a=n(31481),o=n(398);const r="bigint:";function i(e,t){return"string"==typeof t&&t.startsWith(r)?BigInt(t.slice(7)):t}function s(e){return-0n===e||e<0n?-e:e}function l(e,t){return e*a.X1K/(0,o.UH)(t)}function c(e,t){return e*(0,o.UH)(t)/a.X1K}function d(e,t){return e>t?e:t}function u(e,t){return e<t?e:t}},10309:(e,t,n)=>{"use strict";n.d(t,{CS:()=>f,N5:()=>c,TK:()=>d,YG:()=>l,Z2:()=>o,d_:()=>i,fU:()=>m,mf:()=>u,pY:()=>r});var a=n(19314);const o=1e3,r=60*o,i=60*r*24,s=(0,a.A)((function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"short",o=arguments.length>4?arguments[4]:void 0,r=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return new Date(t).toLocaleString(e,{year:n?void 0:"numeric",month:a||void 0,day:o?void 0:"numeric",hour:r?"numeric":void 0,minute:r?"numeric":void 0,hourCycle:"h23"})}));function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";const t=(arguments.length>1?arguments[1]:void 0)-Date.now(),n=Math.floor(t/1e3/60%60),a=Math.floor(t/36e5%24),o=Math.floor(t/1e3/3600/24),r=new Intl.RelativeTimeFormat(e,{localeMatcher:"best fit",numeric:"always",style:"long"}),i=[];if(o>0){const[e,t]=r.formatToParts(o,"day").reverse();i.push(`${t.value}${e.value}`)}if(a>0){const[e,t]=r.formatToParts(a,"hour").reverse();i.push(`${t.value}${e.value}`)}if(n>0){const[e,t]=r.formatToParts(n,"minute").reverse();i.push(`${t.value}${e.value}`)}return i.join(" ")}function c(e,t){return function(e){return f(new Date)===f(new Date(e))}(t)?e("Today"):function(e){const t=new Date;return t.setDate(t.getDate()-1),f(t)===f(new Date(e))}(t)?e("Yesterday"):d(e.code,t)}function d(e,t){const n=new Date(t),a=f(n),o=p(new Date),r=n.getFullYear()===o.getFullYear();return s(e,a,r,"long")}function u(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=new Date(t),r=f(o),i=p(new Date),l=f(i),c=n&&r===l,d=n?function(e){const t=new Date(e);return t.setSeconds(0,0),t}(o).getTime():r;return a||(a=o.getFullYear()===i.getFullYear()),s(e,d,a,!c&&"short",c,n)}function m(e){const t=new Date(e);return`${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`}function p(e){const t=new Date(e);return t.setHours(0,0,0,0),t}function f(e){return p(e).getTime()}},398:(e,t,n)=>{"use strict";n.d(t,{CF:()=>l,QQ:()=>c,UH:()=>i,nI:()=>s});var a=n(31481),o=n(48805);o.z.RM=0,o.z.NE=-1e5,o.z.PE=1e5;const r=(0,o.z)(10);function i(e,t){return BigInt((0,o.z)(e).mul(r.pow(null!=t?t:a.Tu9.decimals)).round().toString())}function s(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return l(e,null!=t?t:a.Tu9.decimals,n).toString()}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.Tu9.decimals,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,o.z)(e.toString()).div(r.pow(t)).round(t,n?o.z.roundHalfUp:void 0)}function c(e,t){return(0,o.z)(e).round(t).toString()}},67491:(e,t,n)=>{"use strict";n.d(t,{iy:()=>o});var a=n(31481);function o(e){return void 0!==function(e){for(const t of a.gs5){const{suffixes:n,baseFormat:a}=t;for(let o=n.length-1;o>=0;o--){const r=n[o];if(!e.endsWith(`.${r}`))continue;const i=e.slice(0,-r.length-1);if(a.test(i))return{base:i,zone:t}}}}(e)}},1689:(e,t,n)=>{"use strict";n.d(t,{B:()=>a});const a=n(31481).hL1&&!["chrome-extension:","moz-extension:"].includes(self.location.protocol)},14235:(e,t,n)=>{"use strict";function a(){return Date.now().toString(36)+Math.random().toString(36).slice(2)}n.d(t,{A:()=>a})},36791:(e,t,n)=>{"use strict";function a(){const{userAgent:e,platform:t}=window.navigator;return/Android/.test(e)?"Android":/Linux/.test(t)?"Linux":-1!==["iPhone","iPad","iPod"].indexOf(t)||"MacIntel"===t&&"maxTouchPoints"in navigator&&navigator.maxTouchPoints>2?"iOS":-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(t)?"macOS":-1!==["Win32","Win64","Windows","WinCE"].indexOf(t)?"Windows":void 0}n.d(t,{u:()=>a})},2188:(e,t,n)=>{"use strict";n.d(t,{H:()=>u});var a=n(31481),o=n(10309),r=n(1689),i=n(55029),s=n(37836);const l=("development"===a.Guj||"staging"===a.Guj)&&"object"==typeof window&&!r.B,c=(0,s.nF)((e=>window.alert(e)),10*o.Z2);function d(e){e instanceof ErrorEvent&&"ResizeObserver loop limit exceeded"===e.message||(e.preventDefault(),u(e instanceof ErrorEvent?e.error||e.message:e.reason))}function u(e){(0,i.SJ)("handleError",e);const t="string"==typeof e?e:e.message,n="object"==typeof e?e.stack:void 0;t.endsWith("Failed to import rlottie-wasm.js")||l&&c(`${a.FHx}\n\n${t||e}\n${n}`)}self.addEventListener("error",d),self.addEventListener("unhandledrejection",d)},87894:(e,t,n)=>{"use strict";function a(e,t){return e.reduce(((e,n)=>(e[n[t]]=n,e)),{})}function o(e,t){return e.reduce(((e,n)=>{const a=n[t];return e[a]?e[a].push(n):e[a]=[n],e}),{})}function r(e,t){return Object.keys(e).reduce(((n,a,o)=>(n[a]=t(e[a],a,o,e),n)),{})}function i(e,t){return t.reduce(((t,n)=>(t[n]=e[n],t)),{})}function s(e,t){return t.reduce(((t,n)=>(e[n]&&(t[n]=e[n]),t)),{})}function l(e,t){const n=new Set(t.map(String));return i(e,Object.keys(e).filter((e=>!n.has(e))))}function c(e){return Object.keys(e).reduce(((t,n)=>{const a=n;return void 0!==e[a]&&(t[a]=e[a]),t}),{})}function d(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc";function a(e,t,n,a){const o=("function"==typeof n?n(e):e[n])||0,r=("function"==typeof n?n(t):t[n])||0;return o===r?0:(a?o>r:o<r)?1:-1}if(Array.isArray(t)){const[o,r]=Array.isArray(n)?n:[n,n],[i,s]=t,l="asc"===o,c="asc"===r;return e.sort(((e,t)=>a(e,t,i,l)||a(e,t,s,c)))}const o="asc"===n;return e.sort(((e,n)=>a(e,n,t,o)))}function u(e){return Array.from(new Set(e))}function m(e){return e.filter(Boolean)}function p(e,t){return e.length===t.length&&e.every(((e,n)=>e===t[n]))}function f(e){return g(e)?Array.isArray(e)?e.map(f):Object.keys(e).reduce(((t,n)=>(t[n]=f(e[n]),t)),{}):e}function h(e){return g(e)&&!Array.isArray(e)}function g(e){return"object"==typeof e&&null!==e}function v(e,t){let n=e.length;for(;n--;)if(t(e[n],n,e))return e[n]}function w(e,t){return e.map((e=>e[t]))}function y(e,t){const n=new Set(t);return e.filter((e=>!n.has(e)))}function b(e,t){return Object.keys(e).reduce(((n,a,o)=>(t(e[a],a,o,e)&&(n[a]=e[a]),n)),{})}n.d(t,{$z:()=>o,Am:()=>u,Hl:()=>y,JY:()=>w,LG:()=>r,My:()=>d,Oy:()=>c,Uk:()=>v,Up:()=>i,Vh:()=>h,_E:()=>s,cJ:()=>l,dU:()=>a,k:()=>p,lk:()=>b,mg:()=>f,oE:()=>m})},99544:(e,t,n)=>{"use strict";n.d(t,{HN:()=>i,Vq:()=>r});const a=120,o=new Set(["DisconnectedDeviceDuringOperation","TransportRaceCondition"]);function r(e){return function(e){for(let t=0;t<e.length;t++)if(e.charCodeAt(t)>127)return!1;return!0}(e)&&function(e){return e.length<=a}(e)}function i(e){return o.has(e)}},55029:(e,t,n)=>{"use strict";n.d(t,{MD:()=>u,SJ:()=>d,ao:()=>c,ef:()=>p,kJ:()=>m});var a=n(31481),o=n(59288);const r=999,i=[];function s(e,t){return t instanceof Error?{name:t.name,message:t.message,stack:t.stack,metadata:t instanceof o.p?t.metadata:void 0}:t}function l(e){i.length>r&&i.shift(),i.push({...e,args:e.args.map((e=>JSON.stringify(e,s))),time:new Date})}function c(){return i}function d(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];l({message:e,level:"debugError",args:n}),a.Oig&&console.error(`[DEBUG][${e}]`,...n)}function u(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];l({message:e,level:"debug",args:n}),a.Oig&&console.log(`[DEBUG] ${e}`,...n)}function m(e,t,n){a.dlH&&(console.debug(`[DEBUG] ${e}`),t&&console.dir(t),n&&console.dir(n))}function p(){const e={en:"WARNING! This console can be a way for bad people to take over your crypto wallet through something called a Self-XSS attack. So, don't put in or paste code you don't understand. Stay safe!",ru:"ВНИМАНИЕ! Через эту консоль злоумышленники могут захватить ваш криптовалютный кошелёк с помощью так называемой атаки Self-XSS. Поэтому не вводите и не вставляйте код, который вы не понимаете. Берегите себя!",es:"¡ADVERTENCIA! Esta consola puede ser una forma en que las personas malintencionadas se apoderen de su billetera de criptomonedas mediante un ataque llamado Self-XSS. Por lo tanto, no introduzca ni pegue código que no comprenda. ¡Cuídese!",zh:"警告！这个控制台可能成为坏人通过所谓的Self-XSS攻击来接管你的加密货币钱包的方式。因此，请不要输入或粘贴您不理解的代码。请保护自己！"},t=e[navigator.language.split("-")[0]]||e.en;console.log("%c%s","color: red; background: yellow; font-size: 18px;",t)}},50110:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var a=n(31481),o=n(2188);const r=!a.MVx;function i(e,t){if(!r)return e();const{rescue:n,always:a,shouldIgnoreError:i}=null!=t?t:{};try{return e()}catch(e){return null==n||n(e),void(i||(0,o.H)(e))}finally{null==a||a()}}},37836:(e,t,n)=>{"use strict";function a(e,t){let n,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];n?(clearTimeout(n),n=void 0):a&&e(...i),n=self.setTimeout((()=>{o&&e(...i),n=void 0}),t)}}function o(e,t){let n,a,o,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(){a=!0;for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];o=s,n||(r&&(a=!1,e(...o)),n=self.setInterval((()=>{if(!a)return self.clearInterval(n),void(n=void 0);a=!1,e(...o)}),t))}}function r(e){return i(f,e)}function i(e,t){let n,a=!1;return function(){for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];n=r,a||(a=!0,e((()=>{a=!1,t(...n)})))}}n.d(t,{Fe:()=>r,IJ:()=>p,aj:()=>f,fm:()=>b,kI:()=>w,nF:()=>o,nb:()=>i,sg:()=>a,v7:()=>s,yu:()=>y});const s=e=>new Promise((t=>{setTimeout((()=>t()),e)})),l=35;let c,d,u,m;function p(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];c?c.add(e):(c=new Set([e]),requestAnimationFrame((()=>{const e=c;c=void 0,d=void 0,u&&(clearTimeout(u),u=void 0),e.forEach((e=>e()))}))),t&&(d?d.add(e):d=new Set([e]),u||(u=window.setTimeout((()=>{const e=d;c&&e.forEach(c.delete,c),d=void 0,u&&(clearTimeout(u),u=void 0),e.forEach((e=>e()))}),l)))}function f(e){m?m.push(e):(m=[e],Promise.resolve().then((()=>{const e=m;m=void 0,e.forEach((e=>e()))})))}const h=500;let g,v;function w(e){self.requestIdleCallback?g?g.push(e):(g=[e],requestIdleCallback((e=>{const t=g;for(g=void 0;t.length&&(t.shift()(),e.timeRemaining()););t.length&&(g?g=t.concat(g):t.forEach(w))}),{timeout:h})):f(e)}function y(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return v||(v=[],self.addEventListener("beforeunload",(()=>{v.forEach((e=>e()))}))),t?v.push(e):v.unshift(e),()=>{v=v.filter((t=>t!==e))}}async function b(e,t,n){let a=0,o=e();for(;!o&&a<n;)await s(t),a++,o=e();return o}},82393:(e,t,n)=>{"use strict";n.d(t,{$:()=>F,$q:()=>C,By:()=>g,ED:()=>L,Et:()=>D,Fe:()=>T,H8:()=>u,KI:()=>_,Kc:()=>M,Lv:()=>S,MP:()=>d,Ni:()=>f,TF:()=>y,XS:()=>R,Yw:()=>h,ZH:()=>O,_7:()=>l,bA:()=>B,bs:()=>x,cp:()=>E,iF:()=>b,ig:()=>m,pr:()=>v,pz:()=>p,sC:()=>A,u2:()=>k,uh:()=>I,v3:()=>U,vj:()=>N,xy:()=>P});var a,o=n(31481),r=n(66644),i=n(36791);const s=new Set(["android","android_x","ios"]),l=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://"),c=(0,i.u)(),d="macOS"===c,u="Windows"===c,m="Linux"===c,p="iOS"===c,f="Android"===c,h=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),g=navigator.userAgent.includes(" OPR/"),v=navigator.userAgent.includes(" Edg/"),w=navigator.userAgent.includes("Firefox/"),y=window.matchMedia("(pointer: coarse)").matches,b=Boolean(null===(a=window.chrome)||void 0===a?void 0:a.system),E=Boolean(window.electron),k=!(o.UMQ||E||o.hL1||o.tKX),N="en",C=function(){if(o.TI6)return"en";const{language:e}=navigator,t=e.startsWith("zh")?e.endsWith("TW")||e.endsWith("HK")?"zh-Hant":"zh-Hans":e.substring(0,2);return o.gSB.some((e=>{let{langCode:n}=e;return n===t}))?t:"en"}(),S=window.devicePixelRatio||1,A=o.UMQ||!(o.TI6||p||o.v5B||o.tKX),T=n.g.location.hash.startsWith("#detached"),I=Boolean(!o.UMQ&&!o.tKX&&window.navigator.credentials&&(!E||d)),B=o.UMQ&&n.g.location.search.startsWith("?bottom-sheet"),_=o.UMQ&&p&&!B&&!function(){const{userAgent:e,platform:t}=window.navigator;return"iPad"===t||e.includes("iPad")||"MacIntel"===t&&"maxTouchPoints"in navigator&&navigator.maxTouchPoints>2}(),x="BroadcastChannel"in window&&!T,L=o.hL1||E||o.UMQ,O=p&&o.UMQ,P=f&&o.UMQ,D=!(w||o.v5B||o.tKX),F=parseInt(getComputedStyle(document.documentElement).fontSize,10),R=-3.75*F;function M(){const e=document.createElement("div");e.style.cssText="overflow-x: hidden; overflow-y: scroll; visibility:hidden; position:absolute;",e.classList.add("custom-scroll"),document.body.appendChild(e),(0,r.gm)((()=>{const t=e.offsetWidth-e.clientWidth;return()=>{document.documentElement.style.setProperty("--scrollbar-width",`${t}px`),e.remove()}}))}function U(){var e,t;return o.tKX&&s.has(null!==(e=null===(t=window.Telegram)||void 0===t?void 0:t.WebApp.platform)&&void 0!==e?e:"")}},94465:(e,t,n)=>{"use strict";n.r(t),n.d(t,{capacitorStorageClear:()=>u,capacitorStorageGetItem:()=>l,capacitorStorageKeys:()=>m,capacitorStorageRemoveItem:()=>d,capacitorStorageSetItem:()=>c,init:()=>s,localStorageClear:()=>v,localStorageGetAll:()=>w,localStorageGetItem:()=>f,localStorageGetMany:()=>y,localStorageRemoveItem:()=>g,localStorageSetItem:()=>h,localStorageSetMany:()=>b});var a=n(31481);let o,r;const i=new Promise((e=>{r=e}));async function s(){a.UMQ&&!o&&(({SecureStoragePlugin:o}=await n.e(201).then(n.bind(n,5054))),r())}async function l(e){var t;return await i,null===(t=await o.get({key:e}).catch((e=>{if(!("string"==typeof e?e:e.message).includes("key does not exist"))throw e})))||void 0===t?void 0:t.value}async function c(e,t){return await i,o.set({key:e,value:t})}async function d(e){return await i,o.remove({key:e})}async function u(){return await i,o.clear()}async function m(){return await i,o.keys()}var p=n(87894);function f(e){return localStorage.getItem(e)}function h(e,t){return localStorage.setItem(e,t)}function g(e){return localStorage.removeItem(e)}function v(){return localStorage.clear()}function w(){return{...localStorage}}function y(e){return(0,p.Up)(localStorage,e)}function b(e){Object.assign(localStorage,e)}},19314:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});const a=new WeakMap;function o(e){return function(){let t=a.get(e);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];const i=o.map(String).join("_");if(t){const e=t.get(i);if(e)return e}else t=new Map,a.set(e,t);const s=e(...o);return t.set(i,s),s}}},67526:(e,t)=>{"use strict";t.byteLength=function(e){var t=s(e),n=t[0],a=t[1];return 3*(n+a)/4-a},t.toByteArray=function(e){var t,n,r=s(e),i=r[0],l=r[1],c=new o(function(e,t,n){return 3*(t+n)/4-n}(0,i,l)),d=0,u=l>0?i-4:i;for(n=0;n<u;n+=4)t=a[e.charCodeAt(n)]<<18|a[e.charCodeAt(n+1)]<<12|a[e.charCodeAt(n+2)]<<6|a[e.charCodeAt(n+3)],c[d++]=t>>16&255,c[d++]=t>>8&255,c[d++]=255&t;return 2===l&&(t=a[e.charCodeAt(n)]<<2|a[e.charCodeAt(n+1)]>>4,c[d++]=255&t),1===l&&(t=a[e.charCodeAt(n)]<<10|a[e.charCodeAt(n+1)]<<4|a[e.charCodeAt(n+2)]>>2,c[d++]=t>>8&255,c[d++]=255&t),c},t.fromByteArray=function(e){for(var t,a=e.length,o=a%3,r=[],i=16383,s=0,c=a-o;s<c;s+=i)r.push(l(e,s,s+i>c?c:s+i));return 1===o?(t=e[a-1],r.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[a-2]<<8)+e[a-1],r.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),r.join("")};for(var n=[],a=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0;i<64;++i)n[i]=r[i],a[r.charCodeAt(i)]=i;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,a){for(var o,r,i=[],s=t;s<a;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),i.push(n[(r=o)>>18&63]+n[r>>12&63]+n[r>>6&63]+n[63&r]);return i.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},48287:(e,t,n)=>{"use strict";const a=n(67526),o=n(251),r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=l,t.INSPECT_MAX_BYTES=50;const i=2147483647;function s(e){if(e>i)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return u(e)}return c(e,t,n)}function c(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|h(e,t);let a=s(n);const o=a.write(e,t);return o!==n&&(a=a.slice(0,o)),a}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Q(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return m(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Q(e,ArrayBuffer)||e&&Q(e.buffer,ArrayBuffer))return p(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(Q(e,SharedArrayBuffer)||e&&Q(e.buffer,SharedArrayBuffer)))return p(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const a=e.valueOf&&e.valueOf();if(null!=a&&a!==e)return l.from(a,t,n);const o=function(e){if(l.isBuffer(e)){const t=0|f(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||G(e.length)?s(0):m(e):"Buffer"===e.type&&Array.isArray(e.data)?m(e.data):void 0}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function d(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return d(e),s(e<0?0:0|f(e))}function m(e){const t=e.length<0?0:0|f(e.length),n=s(t);for(let a=0;a<t;a+=1)n[a]=255&e[a];return n}function p(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let a;return a=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(a,l.prototype),a}function f(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function h(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Q(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,a=arguments.length>2&&!0===arguments[2];if(!a&&0===n)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return K(e).length;default:if(o)return a?-1:q(e).length;t=(""+t).toLowerCase(),o=!0}}function g(e,t,n){let a=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return _(this,t,n);case"utf8":case"utf-8":return A(this,t,n);case"ascii":return I(this,t,n);case"latin1":case"binary":return B(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,n);default:if(a)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}function v(e,t,n){const a=e[t];e[t]=e[n],e[n]=a}function w(e,t,n,a,o){if(0===e.length)return-1;if("string"==typeof n?(a=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),G(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=l.from(t,a)),l.isBuffer(t))return 0===t.length?-1:y(e,t,n,a,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,a,o);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,a,o){let r,i=1,s=e.length,l=t.length;if(void 0!==a&&("ucs2"===(a=String(a).toLowerCase())||"ucs-2"===a||"utf16le"===a||"utf-16le"===a)){if(e.length<2||t.length<2)return-1;i=2,s/=2,l/=2,n/=2}function c(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}if(o){let a=-1;for(r=n;r<s;r++)if(c(e,r)===c(t,-1===a?0:r-a)){if(-1===a&&(a=r),r-a+1===l)return a*i}else-1!==a&&(r-=r-a),a=-1}else for(n+l>s&&(n=s-l),r=n;r>=0;r--){let n=!0;for(let a=0;a<l;a++)if(c(e,r+a)!==c(t,a)){n=!1;break}if(n)return r}return-1}function b(e,t,n,a){n=Number(n)||0;const o=e.length-n;a?(a=Number(a))>o&&(a=o):a=o;const r=t.length;let i;for(a>r/2&&(a=r/2),i=0;i<a;++i){const a=parseInt(t.substr(2*i,2),16);if(G(a))return i;e[n+i]=a}return i}function E(e,t,n,a){return Y(q(t,e.length-n),e,n,a)}function k(e,t,n,a){return Y(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,a)}function N(e,t,n,a){return Y(K(t),e,n,a)}function C(e,t,n,a){return Y(function(e,t){let n,a,o;const r=[];for(let i=0;i<e.length&&!((t-=2)<0);++i)n=e.charCodeAt(i),a=n>>8,o=n%256,r.push(o),r.push(a);return r}(t,e.length-n),e,n,a)}function S(e,t,n){return 0===t&&n===e.length?a.fromByteArray(e):a.fromByteArray(e.slice(t,n))}function A(e,t,n){n=Math.min(e.length,n);const a=[];let o=t;for(;o<n;){const t=e[o];let r=null,i=t>239?4:t>223?3:t>191?2:1;if(o+i<=n){let n,a,s,l;switch(i){case 1:t<128&&(r=t);break;case 2:n=e[o+1],128==(192&n)&&(l=(31&t)<<6|63&n,l>127&&(r=l));break;case 3:n=e[o+1],a=e[o+2],128==(192&n)&&128==(192&a)&&(l=(15&t)<<12|(63&n)<<6|63&a,l>2047&&(l<55296||l>57343)&&(r=l));break;case 4:n=e[o+1],a=e[o+2],s=e[o+3],128==(192&n)&&128==(192&a)&&128==(192&s)&&(l=(15&t)<<18|(63&n)<<12|(63&a)<<6|63&s,l>65535&&l<1114112&&(r=l))}}null===r?(r=65533,i=1):r>65535&&(r-=65536,a.push(r>>>10&1023|55296),r=56320|1023&r),a.push(r),o+=i}return function(e){const t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);let n="",a=0;for(;a<t;)n+=String.fromCharCode.apply(String,e.slice(a,a+=T));return n}(a)}l.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,n){return function(e,t,n){return d(e),e<=0?s(e):void 0!==t?"string"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},l.allocUnsafe=function(e){return u(e)},l.allocUnsafeSlow=function(e){return u(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(Q(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),Q(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,a=t.length;for(let o=0,r=Math.min(n,a);o<r;++o)if(e[o]!==t[o]){n=e[o],a=t[o];break}return n<a?-1:a<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const a=l.allocUnsafe(t);let o=0;for(n=0;n<e.length;++n){let t=e[n];if(Q(t,Uint8Array))o+t.length>a.length?(l.isBuffer(t)||(t=l.from(t)),t.copy(a,o)):Uint8Array.prototype.set.call(a,t,o);else{if(!l.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(a,o)}o+=t.length}return a},l.byteLength=h,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)v(this,t,t+1);return this},l.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},l.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},l.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?A(this,0,e):g.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},r&&(l.prototype[r]=l.prototype.inspect),l.prototype.compare=function(e,t,n,a,o){if(Q(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===a&&(a=0),void 0===o&&(o=this.length),t<0||n>e.length||a<0||o>this.length)throw new RangeError("out of range index");if(a>=o&&t>=n)return 0;if(a>=o)return-1;if(t>=n)return 1;if(this===e)return 0;let r=(o>>>=0)-(a>>>=0),i=(n>>>=0)-(t>>>=0);const s=Math.min(r,i),c=this.slice(a,o),d=e.slice(t,n);for(let e=0;e<s;++e)if(c[e]!==d[e]){r=c[e],i=d[e];break}return r<i?-1:i<r?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return w(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return w(this,e,t,n,!1)},l.prototype.write=function(e,t,n,a){if(void 0===t)a="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)a=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===a&&(a="utf8")):(a=n,n=void 0)}const o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");a||(a="utf8");let r=!1;for(;;)switch(a){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return E(this,e,t,n);case"ascii":case"latin1":case"binary":return k(this,e,t,n);case"base64":return N(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,n);default:if(r)throw new TypeError("Unknown encoding: "+a);a=(""+a).toLowerCase(),r=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const T=4096;function I(e,t,n){let a="";n=Math.min(e.length,n);for(let o=t;o<n;++o)a+=String.fromCharCode(127&e[o]);return a}function B(e,t,n){let a="";n=Math.min(e.length,n);for(let o=t;o<n;++o)a+=String.fromCharCode(e[o]);return a}function _(e,t,n){const a=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>a)&&(n=a);let o="";for(let a=t;a<n;++a)o+=X[e[a]];return o}function x(e,t,n){const a=e.slice(t,n);let o="";for(let e=0;e<a.length-1;e+=2)o+=String.fromCharCode(a[e]+256*a[e+1]);return o}function L(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,n,a,o,r){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<r)throw new RangeError('"value" argument is out of bounds');if(n+a>e.length)throw new RangeError("Index out of range")}function P(e,t,n,a,o){$(t,a,o,e,n,7);let r=Number(t&BigInt(4294967295));e[n++]=r,r>>=8,e[n++]=r,r>>=8,e[n++]=r,r>>=8,e[n++]=r;let i=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,n}function D(e,t,n,a,o){$(t,a,o,e,n,7);let r=Number(t&BigInt(4294967295));e[n+7]=r,r>>=8,e[n+6]=r,r>>=8,e[n+5]=r,r>>=8,e[n+4]=r;let i=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=i,i>>=8,e[n+2]=i,i>>=8,e[n+1]=i,i>>=8,e[n]=i,n+8}function F(e,t,n,a,o,r){if(n+a>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function R(e,t,n,a,r){return t=+t,n>>>=0,r||F(e,0,n,4),o.write(e,t,n,a,23,4),n+4}function M(e,t,n,a,r){return t=+t,n>>>=0,r||F(e,0,n,8),o.write(e,t,n,a,52,8),n+8}l.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const a=this.subarray(e,t);return Object.setPrototypeOf(a,l.prototype),a},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||L(e,t,this.length);let a=this[e],o=1,r=0;for(;++r<t&&(o*=256);)a+=this[e+r]*o;return a},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||L(e,t,this.length);let a=this[e+--t],o=1;for(;t>0&&(o*=256);)a+=this[e+--t]*o;return a},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readBigUInt64LE=J((function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const a=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(a)+(BigInt(o)<<BigInt(32))})),l.prototype.readBigUInt64BE=J((function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const a=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(a)<<BigInt(32))+BigInt(o)})),l.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||L(e,t,this.length);let a=this[e],o=1,r=0;for(;++r<t&&(o*=256);)a+=this[e+r]*o;return o*=128,a>=o&&(a-=Math.pow(2,8*t)),a},l.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||L(e,t,this.length);let a=t,o=1,r=this[e+--a];for(;a>0&&(o*=256);)r+=this[e+--a]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},l.prototype.readInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||L(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){e>>>=0,t||L(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readBigInt64LE=J((function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const a=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(a)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),l.prototype.readBigInt64BE=J((function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const a=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(a)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),l.prototype.readFloatLE=function(e,t){return e>>>=0,t||L(e,4,this.length),o.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||L(e,4,this.length),o.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||L(e,8,this.length),o.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||L(e,8,this.length),o.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,n,a){e=+e,t>>>=0,n>>>=0,a||O(this,e,t,n,Math.pow(2,8*n)-1,0);let o=1,r=0;for(this[t]=255&e;++r<n&&(o*=256);)this[t+r]=e/o&255;return t+n},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,n,a){e=+e,t>>>=0,n>>>=0,a||O(this,e,t,n,Math.pow(2,8*n)-1,0);let o=n-1,r=1;for(this[t+o]=255&e;--o>=0&&(r*=256);)this[t+o]=e/r&255;return t+n},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigUInt64LE=J((function(e,t=0){return P(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeBigUInt64BE=J((function(e,t=0){return D(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeIntLE=function(e,t,n,a){if(e=+e,t>>>=0,!a){const a=Math.pow(2,8*n-1);O(this,e,t,n,a-1,-a)}let o=0,r=1,i=0;for(this[t]=255&e;++o<n&&(r*=256);)e<0&&0===i&&0!==this[t+o-1]&&(i=1),this[t+o]=(e/r|0)-i&255;return t+n},l.prototype.writeIntBE=function(e,t,n,a){if(e=+e,t>>>=0,!a){const a=Math.pow(2,8*n-1);O(this,e,t,n,a-1,-a)}let o=n-1,r=1,i=0;for(this[t+o]=255&e;--o>=0&&(r*=256);)e<0&&0===i&&0!==this[t+o+1]&&(i=1),this[t+o]=(e/r|0)-i&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigInt64LE=J((function(e,t=0){return P(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeBigInt64BE=J((function(e,t=0){return D(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeFloatLE=function(e,t,n){return R(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return R(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return M(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return M(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,a){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),a||0===a||(a=this.length),t>=e.length&&(t=e.length),t||(t=0),a>0&&a<n&&(a=n),a===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),e.length-t<a-n&&(a=e.length-t+n);const o=a-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,a):Uint8Array.prototype.set.call(e,this.subarray(n,a),t),o},l.prototype.fill=function(e,t,n,a){if("string"==typeof e){if("string"==typeof t?(a=t,t=0,n=this.length):"string"==typeof n&&(a=n,n=this.length),void 0!==a&&"string"!=typeof a)throw new TypeError("encoding must be a string");if("string"==typeof a&&!l.isEncoding(a))throw new TypeError("Unknown encoding: "+a);if(1===e.length){const t=e.charCodeAt(0);("utf8"===a&&t<128||"latin1"===a)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{const r=l.isBuffer(e)?e:l.from(e,a),i=r.length;if(0===i)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=r[o%i]}return this};const U={};function W(e,t,n){U[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function H(e){let t="",n=e.length;const a="-"===e[0]?1:0;for(;n>=a+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function $(e,t,n,a,o,r){if(e>n||e<t){const a="bigint"==typeof t?"n":"";let o;throw o=r>3?0===t||t===BigInt(0)?`>= 0${a} and < 2${a} ** ${8*(r+1)}${a}`:`>= -(2${a} ** ${8*(r+1)-1}${a}) and < 2 ** ${8*(r+1)-1}${a}`:`>= ${t}${a} and <= ${n}${a}`,new U.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,n){V(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||z(t,e.length-(n+1))}(a,o,r)}function V(e,t){if("number"!=typeof e)throw new U.ERR_INVALID_ARG_TYPE(t,"number",e)}function z(e,t,n){if(Math.floor(e)!==e)throw V(e,n),new U.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new U.ERR_BUFFER_OUT_OF_BOUNDS;throw new U.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}W("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),W("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),W("ERR_OUT_OF_RANGE",(function(e,t,n){let a=`The value of "${e}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=H(String(n)):"bigint"==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=H(o)),o+="n"),a+=` It must be ${t}. Received ${o}`,a}),RangeError);const j=/[^+/0-9A-Za-z-_]/g;function q(e,t){let n;t=t||1/0;const a=e.length;let o=null;const r=[];for(let i=0;i<a;++i){if(n=e.charCodeAt(i),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&r.push(239,191,189);continue}if(i+1===a){(t-=3)>-1&&r.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&r.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&r.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;r.push(n)}else if(n<2048){if((t-=2)<0)break;r.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;r.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;r.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return r}function K(e){return a.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(j,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Y(e,t,n,a){let o;for(o=0;o<a&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function Q(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function G(e){return e!=e}const X=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const a=16*n;for(let o=0;o<16;++o)t[a+o]=e[n]+e[o]}return t}();function J(e){return"undefined"==typeof BigInt?Z:e}function Z(){throw new Error("BigInt not supported")}},251:(e,t)=>{t.read=function(e,t,n,a,o){var r,i,s=8*o-a-1,l=(1<<s)-1,c=l>>1,d=-7,u=n?o-1:0,m=n?-1:1,p=e[t+u];for(u+=m,r=p&(1<<-d)-1,p>>=-d,d+=s;d>0;r=256*r+e[t+u],u+=m,d-=8);for(i=r&(1<<-d)-1,r>>=-d,d+=a;d>0;i=256*i+e[t+u],u+=m,d-=8);if(0===r)r=1-c;else{if(r===l)return i?NaN:1/0*(p?-1:1);i+=Math.pow(2,a),r-=c}return(p?-1:1)*i*Math.pow(2,r-a)},t.write=function(e,t,n,a,o,r){var i,s,l,c=8*r-o-1,d=(1<<c)-1,u=d>>1,m=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=a?0:r-1,f=a?1:-1,h=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,i=d):(i=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-i))<1&&(i--,l*=2),(t+=i+u>=1?m/l:m*Math.pow(2,1-u))*l>=2&&(i++,l/=2),i+u>=d?(s=0,i=d):i+u>=1?(s=(t*l-1)*Math.pow(2,o),i+=u):(s=t*Math.pow(2,u-1)*Math.pow(2,o),i=0));o>=8;e[n+p]=255&s,p+=f,s/=256,o-=8);for(i=i<<o|s,c+=o;c>0;e[n+p]=255&i,p+=f,i/=256,c-=8);e[n+p-f]|=128*h}},65606:e=>{var t,n,a=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:r}catch(e){n=r}}();var s,l=[],c=!1,d=-1;function u(){c&&s&&(c=!1,s.length?l=s.concat(l):d=-1,l.length&&m())}function m(){if(!c){var e=i(u);c=!0;for(var t=l.length;t;){for(s=l,l=[];++d<t;)s&&s[d].run();d=-1,t=l.length}s=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===r||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function f(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||c||i(m)},p.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=f,a.addListener=f,a.once=f,a.off=f,a.removeListener=f,a.removeAllListeners=f,a.emit=f,a.prependListener=f,a.prependOnceListener=f,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var n=r[e]={exports:{}};return o[e].call(n.exports,n,n.exports,i),n.exports}i.m=o,i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"==typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"==typeof n.then)return n}var o=Object.create(null);i.r(o);var r={};e=e||[null,t({}),t([]),t(t)];for(var s=2&a&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>r[e]=()=>n[e]));return r.default=()=>n,i.d(o,r),o},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,n)=>(i.f[n](e,t),t)),[])),i.u=e=>e+"."+{82:"10cb53e3e4914ed789c7",88:"7469cde2e48fcea342fb",104:"337a5d5347e427590af0",148:"c93ab213da47a1c69bbc",168:"3ef51449bff845cd930a",196:"62cfcca245779edde795",201:"8f9951bc8d270f397709",215:"a3b70a2b4c9e8aab47e4",232:"f2635cf6cd72a03137ee",283:"56e93ec75336cca60952",408:"d7d8d41d5dce10d243c5",432:"feac22f8d67028f0685a",477:"473346bae74b64f8b62c",494:"2a76b4246c2b484142fb",513:"bc27336d82f09051f2ac",542:"2d167587e3aa4f5d2b58",564:"308caacb4e9cac966aff",580:"4f7727668847f6a39dfc",612:"5f5efe45c362ef7fd524",642:"4019c935ee6610070ce7",687:"f15973373fbd842fa90e",749:"d19e49353d1aa9c41adf",776:"28cf5f93438bdbe59349",789:"293e03235c8d79348a71",884:"ca0c5df5be9516ea7f6b",895:"8f12ef95ea8874f9ec0b",934:"bf9ab69d4ed2b12bef56",941:"315e4a8844d05422d6d9",956:"bc42ad757a7d6b976cd7",988:"c70df95cb3aae0eab0d3"}[e]+".js",i.miniCssF=e=>{},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},a="mytonwallet:",i.l=(e,t,o,r)=>{if(n[e])n[e].push(t);else{var s,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==a+o){s=u;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",a+o),s.src=e),n[e]=[t];var m=(t,a)=>{s.onerror=s.onload=null,clearTimeout(p);var o=n[e];if(delete n[e],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((e=>e(a))),t)return t(a)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=m.bind(null,s.onerror),s.onload=m.bind(null,s.onload),l&&document.head.appendChild(s)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var a=n.length-1;a>-1&&(!e||!/^http(s?):/.test(e));)e=n[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),(()=>{i.b=document.baseURI||self.location.href;var e={792:0};i.f.j=(t,n)=>{var a=i.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var o=new Promise(((n,o)=>a=e[t]=[n,o]));n.push(a[2]=o);var r=i.p+i.u(t),s=new Error;i.l(r,(n=>{if(i.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var o=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",s.name="ChunkLoadError",s.type=o,s.request=r,a[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var a,o,[r,s,l]=n,c=0;if(r.some((t=>0!==e[t]))){for(a in s)i.o(s,a)&&(i.m[a]=s[a]);l&&l(i)}for(t&&t(n);c<r.length;c++)o=r[c],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.webpackChunkmytonwallet=self.webpackChunkmytonwallet||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e=i(31481),t=i(82393),n=i(25379);function a(e,t){if(e===t)return!0;const n=Object.keys(e),a=n.length;if(a!==Object.keys(t).length)return!1;if(0===a)return!0;for(let o=0;o<a;o++){const a=n[o];if(e[a]!==t[a])return!1}return!0}function o(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";const o=Object.keys(e);o.length===Object.keys(t).length?(console.log(n),o.forEach((n=>{e[n]!==t[n]&&console.log(a,n,":",e[n],"=>",t[n])}))):console.log(`${n} LENGTH`)}var r=i(2188),s=i(87894),l=i(37836),c=i(19822);const d=new Set(["TeactMemoWrapper renders","TeactNContainer renders","Button renders"]);let u={};const m=(0,l.nF)((function(){p||function(){p=document.createElement("div"),p.style.cssText="position: absolute; left: 0; bottom: 25px; z-index: 9998; width: 260px; height: 200px; border: 1px solid #555; background: rgba(255, 255, 255, 0.9); overflow: auto; font-size: 50px; color: black;",document.body.appendChild(p);const e=document.createElement("a");e.style.cssText="position: absolute; left: 222px; bottom: 198px; z-index: 9999; font-size: 20px; cursor: pointer;",e.innerText="🔄",e.addEventListener("click",(()=>{u={},m()})),document.body.appendChild(e)}();const e=Date.now()-500,[t,n]=Object.entries(u).reduce(((e,t)=>{let[n,{value:a}]=t;return d.has(n)||(n.includes("renders")&&a>e[0]&&(e[0]=a),n.includes("duration")&&a>e[1]&&(e[1]=a)),e}),[0,0]);p.innerHTML=Object.entries(u).filter((e=>{let[t,{value:n}]=e;return!d.has(t)&&(t.includes("renders")&&n>5||t.includes("duration")&&n>2)})).sort(((e,t)=>t[1].lastUpdateAt-e[1].lastUpdateAt)).map((a=>{let[o,{value:r,lastUpdateAt:i}]=a;return[`<div style="background: #ff0000${s=r/(o.includes("renders")?t:n),Math.round(255*s).toString(16).padStart(2,"0")}">`,`  <span${i>e?' style="background: lightgreen"':""}>${o}: ${Math.round(r)}</span>`,"</div>"].join("\n");var s})).join("\n")}),500,!1);let p;function f(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=Date.now();u[e]?(u[e].value+=t,u[e].lastUpdateAt=n):u[e]={value:t,lastUpdateAt:n},m()}var h=i(50110);function g(){const e=new Set;function t(t){e.delete(t)}return{runCallbacks:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];e.forEach((e=>{e(...n)}))},addCallback:function(n){return e.add(n),()=>{t(n)}},removeCallback:t,hasCallbacks:function(){return Boolean(e.size)}}}const v=Symbol("SIGNAL_MARK");function w(e){return"function"==typeof e&&v in e}const y=new Map;function b(e){const t={value:e,effects:g()};function n(e){const n=t.effects.addCallback(e);return y.has(e)?y.get(e).add(n):y.set(e,new Set([n])),()=>{n();const t=y.get(e);t.delete(n),t.size||y.delete(e)}}return[Object.assign((function(){return t.value}),{[v]:v,subscribe:n,once:function(e){const t=n((()=>{t(),e()}));return t}}),function(e){t.value!==e&&(t.value=e,t.effects.runCallbacks())}]}var E=i(66644);let k=0,N=0;const[C,S]=b(!1),[A,T]=b(!1),I=C;function B(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];k++,1===k&&S(!0),t&&(N++,1===N&&T(!0));const n=window.setTimeout(o,e);let a=!1;function o(){a||(a=!0,clearTimeout(n),k--,0===k&&S(!1),t&&(N--,0===N&&T(!1)))}return o}function _(e){(0,l.kI)((()=>{C()?(0,E.YS)((()=>{_(e)})):e()}))}let x=function(e){return e[e.Empty=0]="Empty",e[e.Text=1]="Text",e[e.Tag=2]="Tag",e[e.Component=3]="Component",e[e.Fragment=4]="Fragment",e}({}),L=function(e){return e[e.Mounting=0]="Mounting",e[e.Mounted=1]="Mounted",e[e.Unmounted=2]="Unmounted",e}({});const O=Symbol("Fragment"),P=new Set(["TeactMemoWrapper","TeactNContainer","Button","ListItem","MenuItem"]);let D,F=0;function R(e){return e.type===x.Tag||e.type===x.Component||e.type===x.Fragment}function M(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];return e===O?function(e){return{type:x.Fragment,children:W(e,!0)}}(a):"function"==typeof e?function(e,t,n){null!=n&&n.length&&(t.children=1===n.length?n[0]:n);const a={id:-1,$element:void 0,Component:e,name:e.name,props:t,mountState:L.Unmounted};return a.$element=U(a),a.$element}(e,t||{},a):function(e,t,n){return{type:x.Tag,tag:e,props:t,children:W(n)}}(e,t||{},a)}function U(e,t){return{type:x.Component,componentInstance:e,props:e.props,children:t?W(t,!0):[]}}function W(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.length-1;for(;n>=0&&H(e[n]);n--);return n===e.length-1?e:-1===n&&t?e.slice(0,1):e.slice(0,n+1)}(e,t),a=[];for(let e=0,o=n.length;e<o;e++){const o=n[e];Array.isArray(o)?a.push(...W(o,t)):a.push($(o))}return a}function H(e){return!e&&0!==e}function $(e){return H(e)?{type:x.Empty}:R(e)?e:{type:x.Text,value:String(e)}}const V={TOTAL:{name:"TOTAL",renders:0}},z={};document.addEventListener("dblclick",(()=>{console.warn("COMPONENTS",(0,s.My)(Object.values(V).map((e=>{let{avgRenderTime:t,...n}=e;return{...n,...void 0!==t&&{avgRenderTime:Number(t.toFixed(2))}}})),"renders","desc")),console.warn("MEMOS",(0,s.My)(Object.values(z).filter((e=>{let{calls:t}=e;return t>=20})).map((e=>({...e,hitRate:Number(e.hitRate.toFixed(2))}))),"hitRate","asc"))}));let j=new Set,q=new Set,K=new Map,Y=new Map,Q=new Map,G=new Map,X=!1;const J=(0,l.nb)(E.YS,(()=>{if(A())return void A.once(J);const e=Z();q=new Set;const t=Array.from(j).sort(((e,t)=>e.id-t.id));j=new Set;const n=Y;Y=new Map,n.forEach((e=>e()));const a=K;K=new Map,a.forEach((e=>e())),(0,E.RK)((()=>{t.forEach(oe),t.forEach((e=>{q.has(e.id)||function(e){if(e.mountState===L.Unmounted||!e.onUpdate)return;const t=e.$element;te(e),e.$element!==t&&e.onUpdate()}(e)})),null==e||e()}))}));function Z(){if(!X)return X=!0,ee}function ee(){const e=G;G=new Map,e.forEach((e=>e()));const t=Q;Q=new Map,t.forEach((e=>e())),X=!1}function te(t){q.add(t.id);const{Component:n,props:a}=t;let o;if((0,h.A)((()=>{let r;if(D=t,t.hooks&&(t.hooks.state&&(t.hooks.state.cursor=0),t.hooks.effects&&(t.hooks.effects.cursor=0),t.hooks.memos&&(t.hooks.memos.cursor=0),t.hooks.refs&&(t.hooks.refs.cursor=0)),e.Oig){const t=pe(n);V[t]||(V[t]={name:t,renders:0,avgRenderTime:0}),e.MVx&&(P.has(t)||console.log(`[Teact] Render ${t}`)),r=performance.now()}if(o=n(a),e.Oig){const t=performance.now()-r,a=pe(n);t>7&&console.warn(`[Teact] Slow component render: ${a}, ${Math.round(t)} ms`);const{renders:o,avgRenderTime:i}=V[a];V[a].avgRenderTime=(i*o+t)/(o+1),V[a].renders++,V.TOTAL.renders++,e.MVx&&(f(`${a} renders`),f(`${a} duration`,t))}}),{rescue:()=>{console.error(`[Teact] Error while rendering component ${t.name}`,t),o=t.renderedValue}}),t.mountState===L.Mounted&&o===t.renderedValue)return t.$element;t.renderedValue=o;const r=Array.isArray(o)?o:[o];return t.$element=U(t,r),t.$element}function ne(e,t){return typeof e!=typeof t||e.type!==t.type||(e.type===x.Text&&t.type===x.Text?e.value!==t.value:e.type===x.Tag&&t.type===x.Tag?e.tag!==t.tag||e.props.key!==t.props.key:e.type===x.Component&&t.type===x.Component&&(e.componentInstance.Component!==t.componentInstance.Component||e.props.key!==t.props.key))}function ae(e){var t;if(e.mountState!==L.Unmounted){if(q.add(e.id),null!==(t=e.hooks)&&void 0!==t&&t.effects)for(const t of e.hooks.effects.byCursor){var n;t.cleanup&&(0,h.A)(t.cleanup),t.cleanup=void 0,null===(n=t.releaseSignals)||void 0===n||n.call(t)}e.mountState=L.Unmounted,function(e){const{effects:t,state:n,memos:a,refs:o}=e.hooks||{};if(t)for(const e of t.byCursor)e.schedule=void 0,e.cleanup=void 0,e.releaseSignals=void 0,e.dependencies=void 0;if(n)for(const e of n.byCursor)e.value=void 0,e.nextValue=void 0,e.setter=void 0;if(a)for(const e of a.byCursor)e.value=void 0,e.dependencies=void 0;if(o)for(const e of o.byCursor)e.current=void 0,e.onChange=void 0;e.hooks=void 0,e.$element=void 0,e.renderedValue=void 0,e.onUpdate=void 0}(e)}}function oe(e){var t;if(e.mountState!==L.Unmounted&&null!==(t=e.hooks)&&void 0!==t&&t.state)for(const t of e.hooks.state.byCursor)t.value=t.nextValue}function re(t,n){D.hooks||(D.hooks={}),D.hooks.state||(D.hooks.state={cursor:0,byCursor:[]});const{cursor:a,byCursor:o}=D.hooks.state,r=D;return void 0===o[a]&&(o[a]={value:t,nextValue:t,setter:t=>{r.mountState!==L.Unmounted&&("function"==typeof t&&(t=t(o[a].nextValue)),o[a].nextValue!==t&&(o[a].nextValue=t,j.add(r),J(),e.MVx&&console.log("[Teact.useState]",pe(r.Component),`State update at cursor #${a}${n?` (${n})`:""}, next value: `,o[a].nextValue)))}}),D.hooks.state.cursor++,[o[a].value,o[a].setter]}function ie(t,n,a,o){D.hooks||(D.hooks={}),D.hooks.effects||(D.hooks.effects={cursor:0,byCursor:[]});const{cursor:r,byCursor:i}=D.hooks.effects,s=i[r],l=D;function c(){!function(t,n,a,o){var r;const{byCursor:i}=t.hooks.effects,s=null===(r=i[n])||void 0===r?void 0:r.cleanup,l=o?G:Y,c=o?Q:K,d=`${t.id}_${n}`;if(s){const a=()=>(0,h.A)((()=>{if(t.mountState===L.Unmounted)return;let a;if(e.Oig&&(a=performance.now()),s(),e.Oig){const e=performance.now()-a,o=pe(t.Component);e>7&&console.warn(`[Teact] Slow cleanup at effect cursor #${n}: ${o}, ${Math.round(e)} ms`)}}),{rescue:()=>{console.error(`[Teact] Error in effect cleanup at cursor #${n} in ${t.name}`,t)},always:()=>{i[n].cleanup=void 0}});l.set(d,a)}c.set(d,(()=>(0,h.A)((()=>{if(t.mountState===L.Unmounted)return;let o;e.Oig&&(o=performance.now());const r=a();if("function"==typeof r&&(i[n].cleanup=r),e.Oig){const e=performance.now()-o,a=pe(t.Component);e>7&&console.warn(`[Teact] Slow effect at cursor #${n}: ${a}, ${Math.round(e)} ms`)}}),{rescue:()=>{console.error(`[Teact] Error in effect at cursor #${n} in ${t.name}`,t)}}))),J()}(l,r,n,t)}if(a&&null!=s&&s.dependencies){if(a.some(((e,t)=>e!==s.dependencies[t]))){if(e.Oig&&o){const e=a.reduce(((e,t,n)=>{const a=s.dependencies[n];return t!==a&&e.push(`${n}: ${a} => ${t}`),e}),[]);console.log(`[Teact] Effect "${o}" caused by dependencies.`,e.join(", "))}c()}}else o&&console.log(`[Teact] Effect "${o}" caused by missing dependencies.`),c();s&&(s.schedule=void 0),i[r]={...s,dependencies:a,schedule:c},s||(i[r].releaseSignals=function(){const e=null==a?void 0:a.filter(w).map(((e,t)=>e.subscribe((()=>{o&&console.log(`[Teact] Effect "${o}" caused by signal #${t} new value:`,e()),i[r].schedule()}))));if(null!=e&&e.length)return()=>{for(const t of e)t()}}()),D.hooks.effects.cursor++}function se(e,t,n){return ie(!1,e,t,n)}function le(e,t,n){return ie(!0,e,t,n)}function ce(t,n,a,r){D.hooks||(D.hooks={}),D.hooks.memos||(D.hooks.memos={cursor:0,byCursor:[]});const{cursor:i,byCursor:s}=D.hooks.memos;let l,{value:c}=s[i]||{};if(e.Oig&&r){const e=`${r}#${D.id}`;l=z[e],l||(l={key:e,calls:0,misses:0,hitRate:0},z[e]=l),l.calls++,l.hitRate=(l.calls-l.misses)/l.calls}if(void 0===s[i]||n.length!==s[i].dependencies.length||n.some(((e,t)=>e!==s[i].dependencies[t]))){if(e.Oig){if(a){const e=`[Teact.useMemo] ${D.name} (${a}): Update is caused by:`;s[i]?o(s[i].dependencies,n,e,a):console.log(`${e} [first render]`)}l&&(l.misses++,l.hitRate=(l.calls-l.misses)/l.calls,l.calls%10==0&&l.calls>=20&&l.hitRate<.25&&console.warn(`[Teact] ${l.key}: Hit rate is ${l.hitRate.toFixed(2)} for ${l.calls} calls`))}c=t()}return s[i]={value:c,dependencies:n},D.hooks.memos.cursor++,c}function de(e,t,n){return ce((()=>e),t,n)}function ue(e){D.hooks||(D.hooks={}),D.hooks.refs||(D.hooks.refs={cursor:0,byCursor:[]});const{cursor:t,byCursor:n}=D.hooks.refs;return n[t]||(n[t]={current:e}),D.hooks.refs.cursor++,n[t]}function me(t,n){function a(a){return ce((()=>M(t,a)),Object.values(a),n,e.MVx?pe(D.Component):void 0)}return a.DEBUG_contentComponentName=pe(t),a}function pe(e){const{name:t,DEBUG_contentComponentName:n}=e;return"TeactNContainer"===t?`container>${n}`:"TeactMemoWrapper"===t?`memo>${n}`:"TeactContextProvider"===t?`context>id${n}`:t+(n?`>${n}`:"")}const fe={createElement:M,Fragment:O},he=()=>{const[,e]=re(!1);return de((()=>{e((e=>!e))}),[])};var ge=i(14235);function ve(){const e=ue();return e.current||(e.current=(0,ge.A)()),e.current}function we(){return we=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},we.apply(null,arguments)}const ye=fe;let be,Ee={isInited:!1};const ke=(0,l.Fe)((()=>{be=Math.random()})),Ne={},Ce=[function(){let t;e.Oig&&(t=performance.now());for(const t of Ae.values()){const{mapStateToProps:n,ownProps:i,mappedProps:s,forceUpdate:l}=t;if(!De(t,Ee,i))continue;let c;try{c=n(Ee,i)}catch(e){return void(0,r.H)(e)}e.Oig&&Object.values(c).some(Number.isNaN)&&console.warn(`[TeactN] Some of \`${t.DEBUG_componentName}\` mappers contain NaN values. This may cause redundant updates because of incorrect equality check.`),Object.keys(c).length&&!a(s,c)&&(e.MVx&&o(s,c,`[TeactN] Will update ${t.DEBUG_componentName} caused by:`),t.mappedProps=c,t.DEBUG_updates++,l())}if(e.Oig){const e=performance.now()-t;e>7&&console.warn(`[TeactN] Slow containers update: ${Math.round(e)} ms`)}}],Se={},Ae=new Map,Te=(0,l.Fe)(Be);let Ie=!0;function Be(){if(Ie)Ie=!1;else if(I())return void I.once(Te);Ce.forEach((e=>e(Ee)))}function _e(t,n){if("object"==typeof t&&t!==Ee){if(e.Oig){if((null==n||!n.forceOutdated)&&t.DEBUG_randomId&&t.DEBUG_randomId!==be)throw new Error("[TeactN.setGlobal] Attempt to set an outdated global");be=Math.random()}Ee=t,null!=n&&n.forceSyncOnIOs?(Ie=!0,Be()):(null!=n&&n.forceOnHeavyAnimation&&(Ie=!0),Te())}}function xe(){return e.Oig&&(Ee={...Ee,DEBUG_randomId:be},ke()),Ee}function Le(){Ie=!0}let Oe=[];function Pe(e){Ce.push(e)}function De(e,t,n){const{activationFn:a,stuckTo:o}=e;return!a||a(t,n,(t=>(t&&!o&&(e.stuckTo=t),t&&(!o||o===t))))}e.Oig&&(window.getGlobal=xe,window.setGlobal=_e,document.addEventListener("dblclick",(()=>{console.warn("GLOBAL CONTAINERS",(0,s.My)(Array.from(Ae.values()).map((e=>{let{DEBUG_componentName:t,DEBUG_updates:n}=e;return{DEBUG_componentName:t,DEBUG_updates:n}})),"DEBUG_updates","desc"))})));const Fe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>({}),t=arguments.length>1?arguments[1]:void 0;return n=>{function o(o){const i=ve(),s=he();!function(){D.hooks||(D.hooks={}),D.hooks.effects||(D.hooks.effects={cursor:0,byCursor:[]});const{cursor:e,byCursor:t}=D.hooks.effects;t[e]||(t[e]={cleanup:()=>{Ae.delete(i)}}),D.hooks.effects.cursor++}();let l=Ae.get(i);if(l||(l={mapStateToProps:e,activationFn:t,ownProps:o,forceUpdate:s,DEBUG_updates:0,DEBUG_componentName:n.name},Ae.set(i,l)),!l.mappedProps||!a(l.ownProps,o)&&De(l,Ee,o))try{l.mappedProps=e(Ee,o)}catch(e){(0,r.H)(e)}return l.ownProps=o,fe.createElement(n,we({},l.mappedProps,o))}return o.DEBUG_contentComponentName=pe(n),o}},Re=xe,Me=_e,Ue=function(){return Se},We=function(t,n){Ne[t]||(Ne[t]=[],Se[t]=(n,a)=>{!function(t,n,a){if(Oe.push((()=>{var o;null===(o=Ne[t])||void 0===o||o.forEach((t=>{const o=t(e.Oig?xe():Ee,Se,n);o&&"function"!=typeof o.then&&_e(o,a)}))})),1===Oe.length)try{for(;Oe.length;)Oe[0](),Oe.shift()}finally{Oe=[]}}(t,n,a)}),Ne[t].push(n)},He=Fe;var $e=i(86243);const Ve=new WeakMap;function ze(e,t){const n=function(){const n=Ve.get(e),a=Date.now();for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];if(n){const e=n.isDisabledUntil&&n.isDisabledUntil>a,o=t&&n.lastTime+1e3*t<a;if(!e&&!o&&(0,s.k)(n.lastArgs,r))return n.lastResult}const l=e(...r);return Ve.set(e,{...n,lastArgs:r,lastResult:l,lastTime:a}),l};return n.disableCache=t=>{const n=Ve.get(e);n&&(n.isDisabledUntil=Date.now()+1e3*t)},n}var je=i(19314);function qe(e){var t;return null===(t=e.accounts)||void 0===t?void 0:t.byId}const Ke=ze(((e,t)=>{if(t)return Object.fromEntries(Object.entries(t).filter((t=>{let[n]=t;return(0,$e.c)(n).network===e})))}));function Ye(e){var t;return Ke(Qe(e),null===(t=e.accounts)||void 0===t?void 0:t.byId)}function Qe(e){return e.settings.isTestnet?"testnet":"mainnet"}function Ge(e){return Xe(e,e.currentAccountId)}function Xe(e,t){var n;return null===(n=qe(e))||void 0===n?void 0:n[t]}function Je(e){return Ze(e,e.currentAccountId)}function Ze(e,t){return e.byAccountId[t]}function et(e){const t=qe(e);if(t)return Object.values(t).find((e=>!e.isHardware))}function tt(e,t){return e.settings.byAccountId[t]}function nt(e){return tt(e,e.currentAccountId)}function at(e){const t=Xe(e,e.currentAccountId);return null==t?void 0:t.isHardware}function ot(e){const t=qe(e);if(t)return Object.values(t).filter((e=>e.isHardware))}function rt(e){return 1===Object.keys(qe(e)||{}).length}const it=(0,je.A)((e=>ze((e=>(null!=e?e:[]).filter((e=>{let{isDisabled:t}=e;return!t})).length))));function st(e,t,n){const a=qe(e);if(!a)return;const o=Object.entries(a).find((e=>{let[a,o]=e;return o.addressByChain[t]===n?a:void 0}));return null==o?void 0:o[0]}function lt(e,t){var n;return((null===(n=Ze(e,t))||void 0===n||null===(n=n.vesting)||void 0===n?void 0:n.info)||[]).reduce(((e,t)=>(t.parts.forEach((n=>{"ready"===n.status&&e.push({id:t.id,partId:n.id})})),e)),[])}function ct(e,t,n){var a;return null===(a=Ze(e,t))||void 0===a||null===(a=a.nfts)||void 0===a?void 0:a.byAddress[n]}function dt(e,t){var n;return Boolean(null===(n=Xe(e,t))||void 0===n?void 0:n.addressByChain.tron)}function ut(e){const{authConfig:t}=e.settings;return!!t&&"password"!==t.kind}function mt(e){const{authConfig:t}=e.settings;return!!t&&"native-biometrics"===t.kind}function pt(e){return"nft:transfer"===(null==e?void 0:e.type)}function ft(e){return"tokens:transfer"===(null==e?void 0:e.type)||"tokens:transfer-non-standard"===(null==e?void 0:e.type)}const ht=ze((t=>{const n={},a=(e,t)=>{var a;n[e]=(null!==(a=n[e])&&void 0!==a?a:0n)+t};let o=!1,r=!1,i=0n,s=0n,l=0;for(const n of null!=t?t:[])n.isScam&&(o=!0),n.isDangerous&&(r=!0),i+=n.fullFee,s+=n.received,n.displayedAmount&&a(e.Tu9.slug,n.displayedAmount),ft(n.payload)?a(n.payload.slug,n.payload.amount):pt(n.payload)&&l++;return{amountsBySlug:n,isScam:o,isDangerous:r,fullFee:i,received:s,nftCount:l}}));function gt(e){const{transactions:t}=e.currentDappTransfer;return ht(t)}var vt=i(398),wt=i(48805);function yt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wt.z.roundHalfUp;return new wt.z(e).round(t,n).toNumber()}const bt=(0,je.A)((t=>ze((function(t,n,a){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=function(t,n){return Object.keys(t).length===e._bq&&Object.entries(t).every((t=>{let[a,o]=t;const{decimals:r,quote:{priceUsd:i}}=n.bySlug[a];return(0,vt.CF)(o,r).mul(null!=i?i:0).lt(e.Wvq)}))}(t,n);return Object.entries(t).filter((e=>{var t;let[o]=e;return o in n.bySlug&&!(null!==(t=a.deletedSlugs)&&void 0!==t&&t.includes(o))})).map((t=>{var o,s;let[l,c]=t;const{symbol:d,name:u,image:m,decimals:p,cmcSlug:f,color:h,chain:g,tokenAddress:v,codeHash:w,quote:{price:y,percentChange24h:b,priceUsd:E}}=n.bySlug[l],k=(0,vt.CF)(c,p),N=k.mul(y).round(p).toString(),C=k.mul(null!=E?E:0).gte(e.Wvq),S=e.kuH.has(w)&&c>0n,A=!(i&&e.Fgn.includes(l)||!r||r&&C||S||(null===(o=a.alwaysShownSlugs)||void 0===o?void 0:o.includes(l)))||(null===(s=a.alwaysHiddenSlugs)||void 0===s?void 0:s.includes(l));return{chain:g,symbol:d,slug:l,amount:c,name:u,image:m,price:y,priceUsd:E,decimals:p,change24h:yt(b/100,4),isDisabled:A,cmcSlug:f,totalValue:N,color:h,tokenAddress:v,codeHash:w}})).sort(((t,n)=>{if(o||!a.orderedSlugs){const a=e.oR5.indexOf(t.slug),o=e.oR5.indexOf(n.slug);return-1!==a&&-1!==o&&t.totalValue===n.totalValue?a-o:-1!==a&&-1===o?-1:-1!==o&&-1===a?1:Number(n.totalValue)-Number(t.totalValue)}return a.orderedSlugs.indexOf(t.slug)-a.orderedSlugs.indexOf(n.slug)}))}))));function Et(e){return Ct(e,e.currentAccountId)}function kt(e,t){var n,a;return null!==(n=null===(a=Je(e))||void 0===a||null===(a=a.balances)||void 0===a?void 0:a.bySlug[t])&&void 0!==n?n:0n}function Nt(t){return kt(t,e.Tu9.slug)}function Ct(e,t){var n,a;const o=null===(n=Ze(e,t))||void 0===n||null===(n=n.balances)||void 0===n?void 0:n.bySlug;if(!o||!e.tokenInfo)return;const r=null!==(a=tt(e,t))&&void 0!==a?a:{},{areTokensWithNoCostHidden:i,isSortByValueEnabled:s}=e.settings;return bt(t)(o,e.tokenInfo,r,s,i)}function St(t,n){if(n!==e.Tu9.slug)return At(t,n).tokenAddress}function At(e,t){return e.tokenInfo.bySlug[t]}function Tt(t){const{isTestnet:n}=t.settings;return At(t,n?e.GX2.slug:e.oUU.slug)}function It(e,t){var n;return(null!==(n=Et(e))&&void 0!==n?n:[]).filter((e=>e.chain===t)).reduce(((e,t)=>t.priceUsd*Number(t.amount)>(e?e.priceUsd*Number(e.amount):0)?t:e))}function Bt(t,n){var a,o;if(null!==(a=t.metadata)&&void 0!==a&&a.isScam)return!0;if(!n||"nftTransferred"===t.type||"nftReceived"===t.type)return!1;const r=n.decimals;return(0,vt.CF)(t.amount,r).abs().mul(null!==(o=n.quote.priceUsd)&&void 0!==o?o:0).lt(e.Wvq)}function _t(e){return e.includes("|")}function xt(e){return e.startsWith("swap:")}function Lt(t){var n;return t.slug===e.Tu9.slug?t.symbol:null!==(n=t.tokenAddress)&&void 0!==n?n:t.slug}function Ot(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:Object.values(e).find((e=>{let{tokenAddress:n}=e;return n===t}))}function Pt(t){return t in e.zll}function Dt(e){let{from:t,to:n,toAddress:a,addressByChain:o}=e;const r=Boolean(null==o?void 0:o.tron);return"ton"===(null==t?void 0:t.chain)&&"ton"===(null==n?void 0:n.chain)||r&&t&&n&&o&&Pt(t.chain)&&o[n.chain]===a}function Ft(e,t){var n;return(0,s.LG)((null===(n=Ze(e,t))||void 0===n||null===(n=n.activities)||void 0===n?void 0:n.newestTransactionsBySlug)||{},(e=>{let{timestamp:t}=e;return t}))}function Rt(e,t,n){var a;const o=null===(a=Ze(e,t))||void 0===a||null===(a=a.activities)||void 0===a?void 0:a.idsBySlug;if(o)return Object.keys(o).filter((e=>e.startsWith(`${n}-`)))}let Mt=function(e){return e[e.Auth=0]="Auth",e[e.Main=1]="Main",e[e.Explore=2]="Explore",e[e.Settings=3]="Settings",e[e.Ledger=4]="Ledger",e[e.Inactive=5]="Inactive",e}({}),Ut=function(e){return e[e.none=0]="none",e[e.createWallet=1]="createWallet",e[e.checkPassword=2]="checkPassword",e[e.createPin=3]="createPin",e[e.confirmPin=4]="confirmPin",e[e.createBiometrics=5]="createBiometrics",e[e.confirmBiometrics=6]="confirmBiometrics",e[e.createNativeBiometrics=7]="createNativeBiometrics",e[e.createPassword=8]="createPassword",e[e.createBackup=9]="createBackup",e[e.disclaimerAndBackup=10]="disclaimerAndBackup",e[e.importWalletCheckPassword=11]="importWalletCheckPassword",e[e.importWallet=12]="importWallet",e[e.importWalletCreatePin=13]="importWalletCreatePin",e[e.importWalletConfirmPin=14]="importWalletConfirmPin",e[e.importWalletCreateNativeBiometrics=15]="importWalletCreateNativeBiometrics",e[e.importWalletCreateBiometrics=16]="importWalletCreateBiometrics",e[e.importWalletConfirmBiometrics=17]="importWalletConfirmBiometrics",e[e.importWalletCreatePassword=18]="importWalletCreatePassword",e[e.disclaimer=19]="disclaimer",e[e.ready=20]="ready",e[e.about=21]="about",e[e.safetyRules=22]="safetyRules",e[e.mnemonicPage=23]="mnemonicPage",e[e.checkWords=24]="checkWords",e}({}),Wt=function(e){return e[e.None=0]="None",e[e.TurnOnPasswordConfirmation=1]="TurnOnPasswordConfirmation",e[e.TurnOnRegistration=2]="TurnOnRegistration",e[e.TurnOnVerification=3]="TurnOnVerification",e[e.TurnOnComplete=4]="TurnOnComplete",e[e.TurnOffWarning=5]="TurnOffWarning",e[e.TurnOffBiometricConfirmation=6]="TurnOffBiometricConfirmation",e[e.TurnOffCreatePassword=7]="TurnOffCreatePassword",e[e.TurnOffComplete=8]="TurnOffComplete",e}({}),Ht=function(e){return e[e.None=0]="None",e[e.WarningHardware=1]="WarningHardware",e[e.Initial=2]="Initial",e[e.Confirm=3]="Confirm",e[e.Password=4]="Password",e[e.ConnectHardware=5]="ConnectHardware",e[e.ConfirmHardware=6]="ConfirmHardware",e[e.Complete=7]="Complete",e}({}),$t=function(e){return e[e.None=0]="None",e[e.Initial=1]="Initial",e[e.Blockchain=2]="Blockchain",e[e.Password=3]="Password",e[e.WaitTokens=4]="WaitTokens",e[e.Complete=5]="Complete",e[e.SelectTokenFrom=6]="SelectTokenFrom",e[e.SelectTokenTo=7]="SelectTokenTo",e}({}),Vt=function(e){return e[e.In=0]="In",e[e.Out=1]="Out",e}({}),zt=function(e){return e[e.UnexpectedError=0]="UnexpectedError",e[e.InvalidPair=1]="InvalidPair",e[e.NotEnoughLiquidity=2]="NotEnoughLiquidity",e[e.ChangellyMinSwap=3]="ChangellyMinSwap",e[e.ChangellyMaxSwap=4]="ChangellyMaxSwap",e[e.NotEnoughForFee=5]="NotEnoughForFee",e[e.TooSmallAmount=6]="TooSmallAmount",e}({}),jt=function(e){return e[e.OnChain=0]="OnChain",e[e.CrosschainFromWallet=1]="CrosschainFromWallet",e[e.CrosschainToWallet=2]="CrosschainToWallet",e}({}),qt=function(e){return e[e.Info=0]="Info",e[e.Password=1]="Password",e[e.ConnectHardware=2]="ConnectHardware",e[e.ConfirmHardware=3]="ConfirmHardware",e}({}),Kt=function(e){return e[e.Connect=0]="Connect",e[e.Connecting=1]="Connecting",e[e.Failed=2]="Failed",e[e.ConnectedWithSeveralWallets=3]="ConnectedWithSeveralWallets",e[e.ConnectedWithSingleWallet=4]="ConnectedWithSingleWallet",e[e.WaitingForBrowser=5]="WaitingForBrowser",e}({}),Yt=function(e){return e[e.None=0]="None",e[e.StakeInitial=1]="StakeInitial",e[e.StakePassword=2]="StakePassword",e[e.StakeConnectHardware=3]="StakeConnectHardware",e[e.StakeConfirmHardware=4]="StakeConfirmHardware",e[e.StakeComplete=5]="StakeComplete",e[e.UnstakeInitial=6]="UnstakeInitial",e[e.UnstakePassword=7]="UnstakePassword",e[e.UnstakeConnectHardware=8]="UnstakeConnectHardware",e[e.UnstakeConfirmHardware=9]="UnstakeConfirmHardware",e[e.UnstakeComplete=10]="UnstakeComplete",e[e.ClaimPassword=11]="ClaimPassword",e[e.ClaimConnectHardware=12]="ClaimConnectHardware",e[e.ClaimConfirmHardware=13]="ClaimConfirmHardware",e}({}),Qt=function(e){return e[e.Password=0]="Password",e[e.ConnectHardware=1]="ConnectHardware",e[e.ConfirmHardware=2]="ConfirmHardware",e}({}),Gt=function(e){return e[e.Initial=0]="Initial",e[e.PushNotifications=1]="PushNotifications",e[e.Appearance=2]="Appearance",e[e.Assets=3]="Assets",e[e.Security=4]="Security",e[e.Dapps=5]="Dapps",e[e.Language=6]="Language",e[e.About=7]="About",e[e.Disclaimer=8]="Disclaimer",e[e.NativeBiometricsTurnOn=9]="NativeBiometricsTurnOn",e[e.SelectTokenList=10]="SelectTokenList",e[e.WalletVersion=11]="WalletVersion",e[e.LedgerConnectHardware=12]="LedgerConnectHardware",e[e.LedgerSelectWallets=13]="LedgerSelectWallets",e[e.HiddenNfts=14]="HiddenNfts",e[e.BackupWallet=15]="BackupWallet",e}({}),Xt=function(e){return e[e.Receive=0]="Receive",e[e.Transfer=1]="Transfer",e[e.Swap=2]="Swap",e[e.Stake=3]="Stake",e}({}),Jt=function(e){return e[e.Assets=0]="Assets",e[e.Activity=1]="Activity",e[e.Explore=2]="Explore",e[e.Nft=3]="Nft",e[e.NotcoinVouchers=4]="NotcoinVouchers",e}({}),Zt=function(e){return e[e.Nft=0]="Nft",e}({}),en=function(e){return e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e}({});function tn(t){return e.zll[t]}function nn(t){return t in e.zll?e.zll[t]:void 0}const an=Object.fromEntries(Object.entries(e.zll).map((e=>{let[t,{nativeToken:n}]=e;return[n.slug,t]})));function on(e){return!!e&&e in an}function rn(t,n){return Boolean(t.startsWith("ton-")||n&&t===e.Tu9.slug)}function sn(e){return tn(e).nativeToken}function ln(e,t){if("tron"===e){const e=t.indexOf("|");return-1!==e?t.substring(0,e):t}const[,n]=(t||"").split(":");return n}function cn(e){const t=e.split("-");return t.length>1?t[0]:an[e]}function dn(e){return{...(0,s.Up)(e,["symbol","slug","name","image","decimals","keywords","chain","tokenAddress"]),amount:0n,totalValue:"0",price:0,priceUsd:0,change24h:0}}function un(e,t,n,a){return Object.entries(e.bySlug).filter((e=>{let[,t]=e;return!a||a(t)})).map((e=>{var n;let[a,{symbol:o,name:r,image:i,decimals:s,keywords:l,chain:c,tokenAddress:d,isPopular:u,color:m,price:p=0,priceUsd:f=0}]=e;const h=null!==(n=t[a])&&void 0!==n?n:0n;return{symbol:o,slug:a,amount:h,price:p,priceUsd:f,name:r,image:i,decimals:s,isDisabled:!1,canSwap:!0,isPopular:u,keywords:l,totalValue:(0,vt.CF)(h,s).mul(p).toString(),color:m,chain:c,tokenAddress:d}})).sort(n)}const mn=(0,je.A)((e=>ze(((e,t)=>{const n=["TON","USD₮","USDT","BTC","ETH","jUSDT","jWBTC"],a=new Map(n.map(((e,t)=>[e,t])));return un(t,e,((e,t)=>(a.has(e.symbol)?a.get(e.symbol):n.length)-(a.has(t.symbol)?a.get(t.symbol):n.length)),(e=>e.isPopular))})))),pn=(0,je.A)((e=>ze(((e,t)=>un(t,e,((e,t)=>e.name.trim().toLowerCase().localeCompare(t.name.trim().toLowerCase()))))))),fn=(0,je.A)((e=>ze((function(t,n,a,o){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return bt(e)(t,n,o,r,i).filter((e=>e.slug in a.bySlug&&!e.isDisabled))}))));function hn(e){var t;const n=null===(t=Je(e))||void 0===t||null===(t=t.balances)||void 0===t?void 0:t.bySlug;if(n&&e.swapTokenInfo)return pn(e.currentAccountId)(n,e.swapTokenInfo)}function gn(e){const{tokenInSlug:t}=e.currentSwap;return void 0===t?void 0:e.swapTokenInfo.bySlug[t]}function vn(e){const{tokenOutSlug:t}=e.currentSwap;return void 0===t?void 0:e.swapTokenInfo.bySlug[t]}function wn(t){var n;const{tokenInSlug:a=e.Hfd,tokenOutSlug:o=e.rKC}=t.currentSwap,r=cn(a),i=cn(o);if("ton"===r&&"ton"===i)return jt.OnChain;const{addressByChain:s}=null!==(n=Ge(t))&&void 0!==n?n:{addressByChain:{}};return r in s?jt.CrosschainFromWallet:jt.CrosschainToWallet}var yn=i(809);function bn(t){return function(e){return void 0!==e.diesel&&("not-available"!==(t=e.diesel).status&&void 0!==t.amount);var t}(t)?function(e){let{diesel:t}=e;const n="stars-fee"===t.status?"stars":"token",a=function(e,t,n){const a=(0,wt.z)(n.toString()).div(t.toString());return BigInt((0,wt.z)(e.toString()).mul(a).round().toString())}(t.realFee,t.nativeAmount,t.amount),o=(0,yn.UA)(t.amount,a),r=(0,yn._O)(0n,t.realFee-t.nativeAmount);return{isGasless:!0,canTransferFullBalance:!1,fullFee:{precision:"lessThan",terms:{[n]:t.amount,native:t.remainingFee},nativeSum:t.nativeAmount+t.remainingFee},realFee:{precision:"approximate",terms:{[n]:o,native:r},nativeSum:t.realFee},excessFee:t.nativeAmount+t.remainingFee-t.realFee}}(t):function(t){const n={isGasless:!1,canTransferFullBalance:t.tokenSlug===e.Tu9.slug};return void 0!==t.fee&&(n.fullFee={precision:t.realFee===t.fee?"exact":"lessThan",terms:{native:t.fee},nativeSum:t.fee},n.realFee=n.fullFee),void 0!==t.realFee&&(n.realFee={precision:t.realFee===t.fee?"exact":"approximate",terms:{native:t.realFee},nativeSum:t.realFee}),void 0!==t.fee&&void 0!==t.realFee&&(n.excessFee=t.fee-t.realFee),n}(t)}function En(e){var t;let{tokenBalance:n,tokenSlug:a,fullFee:o,canTransferFullBalance:r}=e;if(void 0===n)return;if(r||!o)return n;let i=null!==(t=o.token)&&void 0!==t?t:0n;var s;return on(a)&&(i+=null!==(s=o.native)&&void 0!==s?s:0n),(0,yn._O)(n-i,0n)}function kn(e){var t;return"stars-fee"===e.status?0n:null!==(t=e.amount)&&void 0!==t?t:0n}var Nn=i(67491);function Cn(e,t,n){const a=tn(t);return e&&(a[n?"addressPrefixRegex":"addressRegex"].test(e)||a.isDnsSupported&&(0,Nn.iy)(e))}function Sn(e){const{currentTransfer:t}=e,n=kt(e,t.tokenSlug),{fullFee:a,canTransferFullBalance:o}=bn(t);return En({tokenBalance:n,tokenSlug:t.tokenSlug,fullFee:null==a?void 0:a.terms,canTransferFullBalance:o})}function An(e){const{tokenSlug:t,toAddress:n}=e.currentTransfer,a=cn(t);if(!n)return t;for(const r of[!1,!0]){var o;if(!n||Cn(n,a,r))return t;const i=null===(o=Ge(e))||void 0===o?void 0:o.addressByChain;if(i)for(const t of Object.keys(i)){if(!Cn(n,t,r))continue;const a=It(e,t);if(a)return a.slug}}return t}const Tn=(0,je.A)((e=>ze(((e,t)=>{const n=t?Object.values(t):void 0;return null!=n&&n.length?n:[e]}))));function In(e,t){var n,a;const{stateById:o}=null!==(n=null===(a=Ze(e,t))||void 0===a?void 0:a.staking)&&void 0!==n?n:{};return Tn(t)(e.stakingDefault,o)}function Bn(t,n){var a,o;const{stateById:r,stakingId:i,shouldUseNominators:s}=null!==(a=null===(o=Ze(t,n))||void 0===o?void 0:o.staking)&&void 0!==a?a:{};return r&&i&&i in r?r[i]:s?e.Ba4:t.stakingDefault}function _n(t,n){const a=Ze(t,n);return Bn(t,n).tokenSlug===e.Tu9.slug?null==a?void 0:a.stakingHistory:void 0}We("initApi",(async(e,a)=>{var o;(0,n.R)(a.apiUpdate,{isElectron:t.cp,isNativeBottomSheet:t.bA,isIosApp:t.ZH,isAndroidApp:t.xy,referrer:null!==(o=new URLSearchParams(window.location.search).get("r"))&&void 0!==o?o:void 0}),await(0,n.p)("waitDataPreload");const{currentAccountId:r}=Re();if(!r)return;const i=Ft(e,r);(0,n.p)("activateAccount",r,i)})),We("resetApiSettings",((n,a,o)=>{const r=!(null!=o&&o.areAllDisabled);e.hL1&&(a.toggleTonMagic({isEnabled:!1}),a.toggleTonProxy({isEnabled:!1})),(e.hL1||t.cp)&&a.toggleDeeplinkHook({isEnabled:r}),a.changeBaseCurrency({currency:e.wOb})}));var xn,Ln,On=i(16546);!function(e){e[e.NONE=0]="NONE",e[e.TOUCH_ID=1]="TOUCH_ID",e[e.FACE_ID=2]="FACE_ID",e[e.FINGERPRINT=3]="FINGERPRINT",e[e.FACE_AUTHENTICATION=4]="FACE_AUTHENTICATION",e[e.IRIS_AUTHENTICATION=5]="IRIS_AUTHENTICATION",e[e.MULTIPLE=6]="MULTIPLE"}(xn||(xn={})),function(e){e[e.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",e[e.BIOMETRICS_UNAVAILABLE=1]="BIOMETRICS_UNAVAILABLE",e[e.USER_LOCKOUT=2]="USER_LOCKOUT",e[e.BIOMETRICS_NOT_ENROLLED=3]="BIOMETRICS_NOT_ENROLLED",e[e.USER_TEMPORARY_LOCKOUT=4]="USER_TEMPORARY_LOCKOUT",e[e.AUTHENTICATION_FAILED=10]="AUTHENTICATION_FAILED",e[e.APP_CANCEL=11]="APP_CANCEL",e[e.INVALID_CONTEXT=12]="INVALID_CONTEXT",e[e.NOT_INTERACTIVE=13]="NOT_INTERACTIVE",e[e.PASSCODE_NOT_SET=14]="PASSCODE_NOT_SET",e[e.SYSTEM_CANCEL=15]="SYSTEM_CANCEL",e[e.USER_CANCEL=16]="USER_CANCEL",e[e.USER_FALLBACK=17]="USER_FALLBACK"}(Ln||(Ln={}));const Pn=(0,On.F3)("NativeBiometric",{web:()=>i.e(542).then(i.bind(i,35542)).then((e=>new e.NativeBiometricWeb))});var Dn=i(23174),Fn=i(55029);function Rn(e){return self.crypto.getRandomValues(new Uint8Array(e))}var Mn=i(10309);const Un=e.tKX?25:250,Wn=t.pz?350:250,Hn=Mn.Z2,$n=window.innerHeight,Vn=[];let zn=jn();function jn(){return Yn(),Jn(),setTimeout(Jn,Hn),qn()}function qn(){return{width:window.innerWidth,height:window.innerHeight,screenHeight:window.screen.height,safeAreaTop:Gn(),safeAreaBottom:Xn()}}window.addEventListener("orientationchange",(0,l.nF)((()=>{zn=jn()}),Wn,!1)),t.pz||window.addEventListener("resize",(0,l.nF)((()=>{zn=jn()}),Un,!0)),e.UMQ&&i.e(408).then(i.bind(i,408)).then((e=>{let{Keyboard:t}=e;t.addListener("keyboardDidShow",(async e=>{await Qn(e.keyboardHeight);for(const e of Vn)(0,h.A)(e)})),t.addListener("keyboardWillHide",(()=>{Qn(0)}))})),"visualViewport"in window&&(t.pz||t.Ni)&&window.visualViewport.addEventListener("resize",(0,l.nF)((e=>{const t=e.target;Yn(),zn={...qn(),height:t.height}}),Un,!0));const Kn=()=>zn;function Yn(){if(!t.pz&&!t.Ni||e.UMQ)return;const n=t.pz?window.visualViewport.height+window.visualViewport.pageTop:window.innerHeight;(0,E.RK)((()=>{const e=.01*n;document.documentElement.style.setProperty("--vh",`${e}px`)}))}function Qn(e){return new Promise((t=>{(0,E.RK)((()=>{(0,c.ZM)(document.body,{paddingBottom:e?`${e}px`:""}),t()}))}))}function Gn(){const e=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-area-top-value"),10);return Number.isNaN(e)?0:e}function Xn(){const e=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-area-bottom-value"),10);return Number.isNaN(e)?0:e}function Jn(){const{safeAreaTop:e,safeAreaBottom:t}=qn(),{documentElement:n}=document;(0,E.RK)((()=>{n.classList.toggle("with-safe-area-top",!Number.isNaN(e)&&e>0),n.classList.toggle("with-safe-area-bottom",!Number.isNaN(t)&&t>0)}))}let Zn,ea=!1,ta=!1,na=!1,aa=!1;function oa(){var e;const t=null===(e=Zn)||void 0===e?void 0:e.BiometricManager;if(!t)return;const{isBiometricAvailable:n,isAccessGranted:a,isAccessRequested:o}=t;return n&&o&&!a}function ra(){return Zn}function ia(){return new Promise((e=>{window.addEventListener("DOMContentLoaded",(()=>{e(ra())}))}))}function sa(){const{top:e,left:t,right:n,bottom:a}=Zn.safeAreaInset,{top:o,left:r,right:i,bottom:s}=Zn.contentSafeAreaInset;document.documentElement.style.setProperty("--safe-area-top",`${e+o}px`),document.documentElement.style.setProperty("--safe-area-left",`${t+r}px`),document.documentElement.style.setProperty("--safe-area-right",`${n+i}px`),document.documentElement.style.setProperty("--safe-area-bottom",`${a+s}px`)}function la(){Zn.isFullscreen?Ue().openFullscreen():Ue().closeFullscreen()}function ca(e){"ALREADY_FULLSCREEN"===e.error&&Ue().openFullscreen()}function da(e){return new Promise(((t,n)=>{ra().BiometricManager.requestAccess(e,(e=>{e?t(e):n(new Error("Access denied"))}))}))}async function ua(t){var n;const a=null===(n=ra())||void 0===n?void 0:n.BiometricManager;if(!a.isAccessGranted&&!await da({reason:e.C39}))throw new Error("Access to biometric data has not been granted");return new Promise(((e,n)=>{a.updateBiometricToken(t,(a=>{a?e(t):n(new Error("Failed to update or save the biometric token"))}))}))}async function ma(){var t;const n=null===(t=ra())||void 0===t?void 0:t.BiometricManager;if(!n.isAccessGranted&&!await da({reason:e.C39}))throw new Error("Biometric access was denied. Please grant access to proceed.");return new Promise(((e,t)=>{n.authenticate({reason:"The bot requests biometrics for testing purposes."},((n,a)=>{n?e({success:n,token:a}):t(new Error("Biometric authentication failed. Please try again."))}))}))}var pa=i(48287).Buffer,fa=function(e){return e[e.Ed25519=-8]="Ed25519",e[e.ES256=-7]="ES256",e[e.RS256=-257]="RS256",e}(fa||{});const ha=e.C39,ga=e.C39,va={createCredential:async function(){const e=window.location.hostname,t=Rn(32),n=Rn(32),a={publicKey:{challenge:Rn(32),rp:{name:ha,id:e},user:{id:t,name:ga,displayName:ha},pubKeyCredParams:[{type:"public-key",alg:fa.ES256},{type:"public-key",alg:fa.RS256},{type:"public-key",alg:fa.Ed25519}],authenticatorSelection:{requireResidentKey:!0,userVerification:"preferred"},extensions:{credBlob:n,hmacCreateSecret:!0},timeout:12e4,excludeCredentials:[]}},o=await navigator.credentials.create(a);if(!o)throw new Error("Missing credential");return{type:o.getClientExtensionResults().credBlob?"credBlob":"userHandle",password:{credBlob:pa.from(n).toString("hex"),userHandle:pa.from(t).toString("hex")},credential:o}},verify:async function(e){let{credential:t,password:n,type:a}=e;await(0,l.v7)(300);const o=t.response&&t.response.getTransports&&t.response.getTransports(),r=pa.from(t.rawId).toString("hex"),i={publicKey:{challenge:Rn(32),allowCredentials:[{id:t.rawId,type:"public-key",transports:o}],userVerification:"required",extensions:{getCredBlob:!0}}},s=await navigator.credentials.get(i);if(!s)throw new Error("Missing authentication");const c=s.response;let d;if("userHandle"===a){if(!c.userHandle)throw new Error("Missing stored userHandle");if(!pa.from(n.userHandle,"hex").equals(pa.from(c.userHandle)))throw new Error("Stored blob not equals passed blob");d=n.userHandle}if(!d)throw new Error("Missing stored blob");return{config:{kind:"webauthn",type:a,credentialId:r,transports:o},password:d}},getPassword:async function(e){if("webauthn"!==e.kind)throw new Error("Unexpected auth kind");const{credentialId:t,transports:n,type:a}=e,o=(new AbortController).signal,r={publicKey:{challenge:Rn(32),allowCredentials:[{id:pa.from(t,"hex"),type:"public-key",transports:n}],userVerification:"required",extensions:{getCredBlob:!0}},signal:o},i=await navigator.credentials.get(r);if(o.aborted)throw new Error("Verification canceled");const s=i.response,l=i.getClientExtensionResults();if("userHandle"===a){if(!s.userHandle)throw new Error("missing userHandle");return pa.from(s.userHandle).toString("hex")}var c;return pa.from(null!==(c=l.getCredBlob)&&void 0!==c?c:"").toString("hex")}};var wa=i(48287).Buffer;const ya=async function(e){let t,{credential:n}=e;try{if(n)t=await va.verify(n);else{var a;const e=wa.from(Rn(32)).toString("hex"),n=await(null===(a=window.electron)||void 0===a?void 0:a.encryptPassword(e));if(!n)return t;t={password:e,config:{kind:"electron-safe-storage",encryptedPassword:n}}}}catch(e){(0,Fn.SJ)("setupBiometrics",e)}return t},ba=async function(t){return e.tKX?(await ua(t),{password:t,config:{kind:"native-biometrics"}}):(await Pn.setCredentials({username:e.hkI,password:t,server:e.aD4}),{password:t,config:{kind:"native-biometrics"}})},Ea=function(){return e.tKX?ua(""):Pn.deleteCredentials({server:e.aD4})},ka=async function(t){let n;try{if("webauthn"===t.kind)n=await va.getPassword(t);else if("electron-safe-storage"===t.kind){var a;n=await(null===(a=window.electron)||void 0===a?void 0:a.decryptPassword(t.encryptedPassword))}else if(e.tKX&&"native-biometrics"===t.kind){const{success:e,token:t}=await ma();if(!e)return;n=t}else{if("native-biometrics"!==t.kind)throw new Error("Unexpected auth kind");if(!await Pn.verifyIdentity({title:e.C39,subtitle:"",isWeakAuthenticatorAllowed:!0,maxAttempts:1}).then((()=>!0)).catch((()=>!1)))return;n=(await Pn.getCredentials({server:e.aD4})).password}}catch(e){(0,Fn.SJ)("submitTransferPassword",e)}return n},Na=(0,On.F3)("App",{web:()=>i.e(168).then(i.bind(i,41168)).then((e=>new e.AppWeb))}),Ca=(0,On.F3)("SplashScreen",{web:()=>i.e(82).then(i.bind(i,77082)).then((e=>new e.SplashScreenWeb))}),Sa=(0,On.F3)("SafeArea",{web:()=>i.e(88).then(i.bind(i,28088)).then((e=>new e.SafeAreaWeb))}),Aa=(0,On.F3)("AppLauncher",{web:()=>i.e(895).then(i.bind(i,73895)).then((e=>new e.AppLauncherWeb))});var Ta=i(48287).Buffer;const Ia=/[-a-z0-9@:%._+~#=]{1,256}\.[a-z0-9()]{1,6}\b([-a-z0-9()@:%_+.~#?&/=]*)/gi,Ba=new Set(["http:","https:"]),_a={ton:{name:"Tonscan",base:{mainnet:"https://tonscan.org/",testnet:"https://testnet.tonscan.org/"},address:"{base}address/{address}",explorer:"{base}jetton/{address}",transaction:"{base}tx/{hash}"},tron:{name:"Tronscan",base:{mainnet:"https://tronscan.org/#/",testnet:"https://shasta.tronscan.org/#/"},address:"{base}address/{address}",explorer:"{base}token20/{address}",transaction:"{base}transaction/{hash}"}};function xa(e){try{return new URL(e).hostname}catch(t){return(0,Fn.SJ)("getHostnameFromUrl",t),e}}function La(e){return _a[e].name}function Oa(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return _a[e].base[t?"testnet":"mainnet"]}function Pa(t,n,a){var o;if(n&&n!==e.n3s)return _a[t].transaction.replace("{base}",Oa(t,a)).replace("{hash}","ton"===t?(o=n,Ta.from(o,"base64").toString("hex")):n)}function Da(e,t,n){if(t)return _a[e].address.replace("{base}",Oa(e,n)).replace("{address}",t)}function Fa(e,t){if(e)return`${Oa("ton",t)}nft/${e}`}function Ra(e){return e.startsWith("https://t.me/")}async function Ma(t,n){if(!e.UMQ||null!=n&&n.isExternal||!t.startsWith("http")||Ra(t)){const n=e.UMQ&&await async function(e){try{return(await Aa.openUrl({url:e})).completed}catch(e){return!1}}(t);n||window.open(t,"_blank","noopener")}else Ue().openBrowser({url:t,title:null==n?void 0:n.title,subtitle:null==n?void 0:n.subtitle})}function Ua(e){e.preventDefault(),Ma(e.currentTarget.href)}let Wa;const Ha=new Promise((e=>{Wa=e})),$a="ton://",Va="mtw://",za=["https://my.tt","https://go.mytonwallet.org"],ja=new Map,qa=e=>{const t=matchMedia(e),n=new Set,a=()=>{n.forEach((e=>e(t.matches)))};return t.addEventListener?t.addEventListener("change",a,{passive:!0}):t.addListener(a),{mql:t,dispatchers:n,listener:a}};function Ka(e,t){const[n,a]=re(function(){var n;if(null===(n=null==t?void 0:t.initializeWithValue)||void 0===n||n){let t=ja.get(e);return t||(t=qa(e),ja.set(e,t)),t.mql.matches}}());return se((()=>(((e,t)=>{let n=ja.get(e);n||(n=qa(e),ja.set(e,n)),n.dispatchers.add(t),t(n.mql.matches)})(e,a),()=>((e,t)=>{const n=ja.get(e);if(!n)return;const{mql:a,dispatchers:o,listener:r}=n;o.delete(t),o.size||(ja.delete(e),a.removeEventListener?a.removeEventListener("change",r):a.removeListener(r))})(e,a))),[e]),n}let Ya;function Qa(){Ya=Ka(`(max-width: ${e.c2m-.02}px)`);const t=Ka("(max-height: 43.5rem)");return{isPortrait:Ya,isSmallHeight:t,isLandscape:!Ya,screenHeight:window.screen.height}}function Ga(){return Ya}var Xa=function(e){return e.CheckinWithR="r",e.Swap="swap",e.BuyWithCrypto="buy-with-crypto",e.BuyWithCard="buy-with-card",e.Stake="stake",e.Giveaway="giveaway",e.Transfer="transfer",e.Explore="explore",e}(Xa||{});let Ja;function Za(t){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Re().currentAccountId||(Ja=t),ao(t)?async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!ao(e))return!1;const{openLoadingOverlay:a,closeLoadingOverlay:o}=Ue();a();const r=await(0,n.p)("startSseConnection",{url:e,isFromInAppBrowser:t});return o(),r&&Ma(r,{isExternal:!t}),!0}(t,a):oo(t)?async function(t){try{var n;t=io(t);const{pathname:i,searchParams:s}=new URL(t),l=i.split("/").find(Boolean),c=Ue(),d=Re(),{isTestnet:u}=d.settings,m=null===(n=Ge(d))||void 0===n?void 0:n.ledger;switch((0,Fn.MD)("Processing deeplink",t),l){case Xa.CheckinWithR:{var a;const e=null===(a=i.match(/r\/(.*)$/))||void 0===a?void 0:a[1];return Ma("https://checkin.mytonwallet.org"+(e?`?r=${e}`:"")),!0}case Xa.Giveaway:{var o;const t=null===(o=i.match(/giveaway\/([^/]+)/))||void 0===o?void 0:o[1];return Ma(`${e.qsd}${t?`?giveawayId=${t}`:""}`),!0}case Xa.Swap:return u?c.showError({error:"Swap is not supported in Testnet."}):m?c.showError({error:"Swap is not yet supported by Ledger."}):c.startSwap({tokenInSlug:s.get("in")||e.Tu9.slug,tokenOutSlug:s.get("out")||e.rKC,amountIn:uo(s.get("amount"))||"10"}),!0;case Xa.BuyWithCrypto:return u?c.showError({error:"Swap is not supported in Testnet."}):m?c.showError({error:"Swap is not yet supported by Ledger."}):c.startSwap({tokenInSlug:s.get("in")||e.Czf,tokenOutSlug:s.get("out")||e.Tu9.slug,amountIn:uo(s.get("amount"))||"100"}),!0;case Xa.BuyWithCard:return u?c.showError({error:"Buying with card is not supported in Testnet."}):c.openOnRampWidgetModal({chain:"ton"}),!0;case Xa.Stake:return u?c.showError({error:"Staking is not supported in Testnet."}):c.startStaking(),!0;case Xa.Transfer:return await to(so(t));case Xa.Explore:{c.closeSettings(),c.openExplore(),c.setActiveContentTab({tab:Jt.Explore});const e=i.split("/").filter(Boolean)[1];if(e){var r;const t=null===(r=Re().exploreData)||void 0===r?void 0:r.sites.find((t=>{let{url:n}=t;return(Ra(n)?new URL(n).pathname.split("/").filter(Boolean)[0]:new URL(n).hostname)===e}));t&&Ma(t.url)}return!0}}}catch(e){(0,Fn.SJ)("processSelfDeeplink",e)}return!1}(t):to(t)}function eo(e){return e.startsWith($a)}async function to(e){await Ha;const t=Ue(),n=Re();if(!n.currentAccountId)return!1;const a=no(e,n);return!!a&&("error"in a?(t.showError({error:a.error}),!0):(t.startTransfer({isPortrait:Ga(),...a}),Ya||t.setLandscapeActionsActiveTabIndex({index:Xt.Transfer}),!0))}function no(t,n){const a=function(e){if("string"==typeof e&&eo(e)&&e.includes("/transfer/"))try{const t=e.replace($a,"https://"),n=new URL(t),a=n.pathname.replace(/\//g,""),o=po(n,"amount"),r=po(n,"text"),i=po(n,"bin"),s=po(n,"jetton"),l=po(n,"nft"),c=po(n,"init")||po(n,"stateInit");return{toAddress:a,amount:o?BigInt(o):void 0,comment:r,jettonAddress:s,nftAddress:l,binPayload:i?mo(i):void 0,stateInit:c?mo(c):void 0}}catch(e){return}}(t);if(!a)return;const{toAddress:o,amount:r,comment:i,binPayload:l,jettonAddress:c,nftAddress:d,stateInit:u}=a,m={toAddress:Cn(o,"ton")?o:void 0,tokenSlug:e.Tu9.slug,amount:r,comment:i,binPayload:l,stateInit:u};if(c){const e=c?function(e,t){return Object.values(e.tokenInfo.bySlug).find((e=>e.tokenAddress===t))}(n,c):void 0;if(e){const t=function(e,t){const n=Et(e);return null==n?void 0:n.find((e=>e.slug===t))}(n,e.slug);t?m.tokenSlug=e.slug:m.error="$dont_have_required_token"}else m.error="$unknown_token_address"}if(d){const e=function(e,t){return ct(e,e.currentAccountId,t)}(n,d);e?m.nfts=[e]:m.error="$dont_have_required_nft"}return(0,s.Oy)(m)}function ao(e){return e.startsWith("tc://")||e.startsWith("mytonwallet-tc://")||lo(e).startsWith(lo("https://connect.mytonwallet.org"))}function oo(e){return(e=co(e)).startsWith(Va)||za.some((t=>e.startsWith(t)))}function ro(e,t){let n=e;if(oo(e))try{e=io(e);const{pathname:t}=new URL(e);t.split("/").find(Boolean)===Xa.Transfer&&(n=so(e))}catch(e){(0,Fn.SJ)("parseDeeplinkTransferParams",e)}return no(n,t)}function io(e){return e.startsWith(Va)?e.replace(Va,`${za[0]}/`):e}function so(e){e=co(e);for(const t of za)if(e.startsWith(t))return e.replace(`${t}/`,$a);return e}function lo(e){return e.replace(/^https?:\/\//,"")}function co(e){return e.replace(/^http:\/\//,"https://")}function uo(e){return String(Number(e)||"")}function mo(e){return e.replace(/ /g,"+")}function po(e,t){var n;return null!==(n=e.searchParams.get(t))&&void 0!==n?n:void 0}var fo=i(94465);const ho=(0,On.F3)("PushNotifications",{});function go(e,t){return t.map((t=>{const n=e.accounts.byId[t];return{title:n.title,address:n.addressByChain.ton,chain:"ton"}}))}let vo;function wo(){return vo}let yo=0;function bo(e){const{showAnyAccountTx:t,showAnyAccountTokenActivity:n,openAnyAccountStakingInfo:a,switchAccountAndOpenUrl:o}=Ue(),r=Re(),i=e.notification.data,{action:l,address:c}=i,d=void 0===c?void 0:st(r,"ton",c),u="mainnet";if("openUrl"!==l){if(d)if("nativeTx"===l||"swap"===l){const{txId:e}=i;t({accountId:d,txId:e,network:u})}else if("jettonTx"===l){const{slug:e}=i;n({accountId:d,slug:e,network:u})}else if("staking"===l){const{stakingId:e}=i;a({accountId:d,network:u,stakingId:e})}}else o({accountId:d,network:u,...(0,s.Up)(i,["url","isExternal","title","subtitle"])})}function Eo(e){const t=e.value;Ue().registerNotifications({userToken:t,platform:wo()}),window.addEventListener("focus",(async()=>{const e=Re(),a=Object.keys(e.pushNotifications.enabledAccounts||[]);a.length&&yo<=Date.now()&&(await(0,n.p)("subscribeNotifications",{userToken:t,platform:wo(),addresses:go(e,a)}),yo=Date.now()+36e5)}),{capture:!0})}const ko=["location="+(t.pz?"no":"yes"),"lefttoright="+(t.pz?"no":"yes"),"usewkwebview=yes","clearcache=no","clearsessioncache=no","hidden=yes","toolbarposition=top","hidenavigationbuttons=yes","hideurlbar=no","backbuttoncaption=Back","allowInlineMediaPlayback=yes"].join(",");let No,Co=!1,So=!1,Ao=!1,To=0;function Io(e){for(const[t,n]of Object.entries(e.insets))document.documentElement.style.setProperty(`--safe-area-${t}`,`${"android"===wo()&&"top"===t?n+8:n}px`)}function Bo(){return To}function _o(){return e.UMQ&&Co||e.tKX&&ta}function xo(){return e.UMQ&&So||e.tKX&&na}function Lo(){return e.UMQ&&Ao||e.tKX&&aa}function Oo(){return e.UMQ||(0,t.v3)()}class Po extends On.E_{async write(e){if("undefined"==typeof navigator||!navigator.clipboard)throw this.unavailable("Clipboard API not available in this browser");if(void 0!==e.string)await this.writeText(e.string);else if(e.url)await this.writeText(e.url);else{if(!e.image)throw new Error("Nothing to write");if("undefined"==typeof ClipboardItem)throw this.unavailable("Writing images to the clipboard is not supported in this browser");try{const t=await(await fetch(e.image)).blob(),n=new ClipboardItem({[t.type]:t});await navigator.clipboard.write([n])}catch(e){throw new Error("Failed to write image")}}}async read(){if("undefined"==typeof navigator||!navigator.clipboard)throw this.unavailable("Clipboard API not available in this browser");if("undefined"==typeof ClipboardItem)return this.readText();try{const e=await navigator.clipboard.read(),t=e[0].types[0],n=await e[0].getType(t);return{value:await this._getBlobData(n,t),type:t}}catch(e){return this.readText()}}async readText(){if("undefined"==typeof navigator||!navigator.clipboard||!navigator.clipboard.readText)throw this.unavailable("Reading from clipboard not supported in this browser");return{value:await navigator.clipboard.readText(),type:"text/plain"}}async writeText(e){if("undefined"==typeof navigator||!navigator.clipboard||!navigator.clipboard.writeText)throw this.unavailable("Writting to clipboard not supported in this browser");await navigator.clipboard.writeText(e)}_getBlobData(e,t){return new Promise(((n,a)=>{const o=new FileReader;t.includes("image")?o.readAsDataURL(e):o.readAsText(e),o.onloadend=()=>{const e=o.result;n(e)},o.onerror=e=>{a(e)}}))}}const Do=(0,On.F3)("Clipboard",{web:()=>new Po});var Fo=i(23693);const Ro=(0,On.F3)("Haptics",{web:()=>i.e(789).then(i.bind(i,83789)).then((e=>new e.HapticsWeb))});async function Mo(){var t;e.tKX?null===(t=ra())||void 0===t||t.HapticFeedback.impactOccurred("soft"):e.UMQ&&await Ro.impact({style:Fo.kn.Light})}async function Uo(){var t;e.tKX?null===(t=ra())||void 0===t||t.HapticFeedback.notificationOccurred("error"):e.UMQ&&(await Ro.impact({style:Fo.kn.Medium}),await(0,l.v7)(100),await Ro.impact({style:Fo.kn.Medium}),await(0,l.v7)(75),await Ro.impact({style:Fo.kn.Light}))}async function Wo(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var n;(e.UMQ||e.tKX)&&(e.tKX?null===(n=ra())||void 0===n||n.HapticFeedback.notificationOccurred("success"):await Ro.impact({style:Fo.kn.Light}),t&&await(0,l.v7)(1300))}const Ho=document.createElement("textarea");Ho.setAttribute("readonly",""),Ho.tabIndex=-1,Ho.className="visually-hidden";const $o=t=>(Mo(),e.UMQ?Do.write({string:t}):navigator.clipboard.writeText(t));async function Vo(){if(e.tKX)return new Promise((e=>{var t;null===(t=ra())||void 0===t||t.readTextFromClipboard((t=>{Mo(),e({text:t,type:"text/plain"})}))}));if(e.UMQ){const{value:e,type:t}=await Do.read();return Mo(),{text:e,type:t}}return{text:await navigator.clipboard.readText(),type:"text/plain"}}function zo(t){return 1===t.length&&t[0].length===e.PcM}const jo=/(\*\*|__).+?\1/g;function qo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["simple_markdown","br"];return"string"!=typeof e?[e]:(0,s.oE)(t.reduce(((e,t)=>{switch(t){case"simple_markdown":return e.reduce(((e,t)=>{if("string"!=typeof t)return e.push(t),e;const n=t.split(jo),a=t.match(jo)||[];return e.push(n[0]),a.reduce(((e,t,a)=>{e.push(t.startsWith("**")?fe.createElement("b",null,t.replace(/\*\*/g,"")):fe.createElement("i",null,t.replace(/__/g,"")));const o=2*a+2;return n[o]&&e.push(n[o]),e}),e)}),[]);case"br":return e.reduce(((e,t)=>{if("string"!=typeof t)return e.push(t),e;const n=t.split(/\r\n|\r|\n/g).reduce(((e,t,n,a)=>{const o=t.trimStart(),r=t.length-o.length;return e.push(String.fromCharCode(160).repeat(r)+o),n!==a.length-1&&e.push(fe.createElement("br",null)),e}),[]);return[...e,...n]}),[])}return e}),[e]))}const Ko=JSON.parse('{"$auth_intro":"**Securely** store crypto\\nand make blockchain payments\\nat the **speed of light**.\\n","Create New Wallet":"Create New Wallet","Import From %1$d Secret Words":"Import From %1$d Secret Words","More about %app_name%":"More about %app_name%","Creating Wallet...":"Creating Wallet...","On the count of three...":"On the count of three...","$back_up_auth":"Back Up","$back_up_security":"Back Up","Passwords must be equal.":"Passwords must be equal.","To protect your wallet as much as possible, use a password with":"To protect your wallet as much as possible, use a password with","$auth_password_rule_8chars":"at least 8 characters","$auth_password_rule_one_small_char":"one small letter","$auth_password_rule_one_capital_char":"one capital letter","$auth_password_rule_one_digit":"one digit","$auth_password_rule_one_special_char":"and one special character","The wallet is imported":"The wallet is imported","The wallet is ready":"The wallet is ready","Create a password to protect it.":"Create a password to protect it.","Enter your password":"Enter your password","Enter your password...":"Enter your password...","...and repeat it":"...and repeat it","Cancel":"Cancel","Insecure Password":"Insecure Password","Your have entered an insecure password, which can be easily guessed by scammers.":"Your have entered an insecure password, which can be easily guessed by scammers.","Continue or change password to something more secure?":"Continue or change password to something more secure?","Change":"Change","%1$d Secret Words":"%1$d Secret Words","Secret Words":"Secret Words","$auth_import_mnemonic_description":"You can restore access to your wallet by entering the **12 or 24 secret words** that you wrote down when creating the wallet.\\n","Let’s make sure your secrets words are recorded correctly.":"Let’s make sure your secrets words are recorded correctly.","$mnemonic_check_words_list":"Please enter the words **%1$s** below.","$mnemonic_check_error":"The secret words you have entered do not match the ones in the list. Please try again.","$check_words_description":"Now let’s check that you wrote\\nyour secret words correctly.\\n","$mnemonic_list_description":"Write down these words in the **correct order** and store them in a **secure place**.","$private_key_description":"Save this private key **correctly** and store it in a **secure place**.","$mnemonic_warning":"**Do not** send or show it to anyone,\\n**do not** enter it anywhere.\\n","View Secret Words":"View Secret Words","View TON Private Key":"View TON Private Key","Can be imported to non-multichain wallets for TON.":"Can be imported to non-multichain wallets for TON.","Can be imported to any multichain wallet supporting TON.":"Can be imported to any multichain wallet supporting TON.","Let\'s Check":"Let\'s Check","Let\'s Check!":"Let\'s Check!","Safety Rules":"Safety Rules","$safety_rules_private_key_one":"On the next screen you will see the **TON private key**. Save it correctly and **store in a secure place**.\\n","$safety_rules_private_key_two":"It allows to **open your wallet** if you lose your password or access to this device.","$safety_rules_private_key_three":"If anybody else sees this private key, your funds **may be stolen**. **Do not send or show it to anyone**, not even developers or technical support.","$safety_rules_one":"On the next screen you will see the **secret words**. Write them down in the correct order and **store in a secure place**.\\n","$safety_rules_two":"They allow to **open your wallet** if you lose your password or access to this device.","$safety_rules_three":"If anybody else sees these words your funds **may be stolen**. **Do not send it to anyone**, not even developers or technical support.","Understood":"Understood","Congratulations!":"Congratulations!","Continue":"Continue","Close":"Close","Back":"Back","Search...":"Search...","Main menu":"Main menu","TON Proxy":"TON Proxy","Toggle TON Proxy":"Toggle TON Proxy","TON Magic":"TON Magic","Toggle TON Magic":"Toggle TON Magic","Open Telegram Web":"Open Telegram Web","Back Up Secret Words":"Back Up Secret Words","Settings":"Settings","About %app_name%":"About %app_name%","Exit":"Exit","Remove Wallet":"Remove Wallet","Something went wrong.":"Something went wrong.","Something went wrong":"Something went wrong","Logo":"Logo","$about_description1":"Securely store crypto, explore decentralized apps, and make blockchain payments at the **speed of light**.","$about_description2":"The wallet is **non-custodial and safe**. The developers **do not** have access to your funds, browser history or any other information.","What is TON Proxy?":"What is TON Proxy?","$about_extension_description1":"TON Proxy opens a way to **decentralized internet** by allowing to anonymously access TON Sites.","More info and demo.":"More info and demo.","$about_extension_description2":"TON Magic provides native **Telegram integration** by patching the official Telegram Web app.","$about_extension_description3":"Turn it on to send and receive Toncoins from any Telegram user.","$about_proxy_magic_title":"What about %ninja% TON Proxy and %unicorn% TON Magic?","$about_proxy_magic_description":"To enjoy **decentralized internet**, access **TON Sites**, and leverage native **Telegram integration**, feel free to install the %extension_link%.","$about_extension_link_text":"**%app_name% extension**","Is it open source?":"Is it open source?","$about_wallet_github":"Yes, it is. Feel free to explore our %github_link%.","$about_github_link_text":"**GitHub repository**","Is there a community?":"Is there a community?","$about_wallet_community":"Sure, welcome to our %community_link%.","$about_community_link_text":"**Telegram channel**","Currency History":"Currency History","$add_account_description1":"**%app_name%** allows you to seamlessly\\nswitch between **multiple accounts**.\\n","Enter Password":"Enter Password","Send":"Send","Add Wallet":"Add Wallet","Done":"Done","Delete":"Delete","Delete Saved Address":"Delete Saved Address","Are you sure you want to remove this address from your saved ones?":"Are you sure you want to remove this address from your saved ones?","You will be able to save it again via Transaction Info with this address.":"You will be able to save it again via Transaction Info with this address.","Address removed from saved":"Address removed from saved","Warning!":"Warning!","Log Out":"Remove Wallet","$logout_without_backup_warning":"You have not backed up this wallet. If you remove it now, you will lose access to your tokens and NFTs.","$logout_accounts_without_backup_warning":"You have not backed up %links%. If you proceed, you will lose access to your tokens and NFTs.","$logout_warning":"This will remove the current wallet from the app. Make sure you have your **secret words** backed up.","Your address was copied!":"Your address was copied!","Create Deposit Link":"Create Deposit Link","$receive_invoice_description":"You can specify the amount and purpose of\\nthe payment to save the sender some time.\\n","Amount":"Amount","Comment":"Comment","Comment or Memo":"Comment or Memo","Share this URL to receive TON":"Share this URL to receive TON","Invoice link was copied!":"Invoice link was copied!","Theme":"Theme","Language":"Language","Enable Animations":"Enable Animations","Base Currency":"Base Currency","Investor View":"Investor View","Toggle Investor View":"Toggle Investor View","Hide Tiny Transfers":"Hide Tiny Transfers","Toggle Hide Tiny Transfers":"Toggle Hide Tiny Transfers","Network":"Network","Developer Options":"Developer Options","Confirmation":"Confirmation","Signing Data":"Signing Data","Contract Initialization Data":"Contract Initialization Data","$dont_have_required_token":"You don’t have the required token to send, but it can be swapped.","$unknown_token_address":"Unknown token address.","$dont_have_required_nft":"You don’t have the required NFT to send.","$state_init_requires_bin":"Contract initialization data requires the bin parameter.","$state_init_invalid":"Invalid contract initialization data.","$signature_warning":"Signing custom data is very dangerous. Use it only if you trust the source of it.","Sign":"Sign","Done!":"Done!","Signing was confirmed!":"Signing was confirmed!","Transaction Info":"Transaction Info","Transaction in progress":"Transaction in progress","Comment was copied!":"Comment was copied!","Sender":"Sender","Recipient":"Recipient","Address was copied!":"Address was copied!","Repeat":"Repeat","Switch Account":"Switch Account","Copy wallet address":"Copy wallet address","View address on %ton_explorer_name%":"View address on %ton_explorer_name%","You have just created a new wallet":"You have just created a new wallet","You can now transfer your tokens from another wallet or exchange.":"You can now transfer your tokens from another wallet or exchange.","Assets":"Assets","Activity":"Activity","NFT":"NFT","No NFTs yet":"No NFTs yet","$nft_explore_offer":"Explore a marketplace to discover\\nexisting NFT collections.\\n","Received":"Received","Sent":"Sent","$transaction_from":"from %address%","$transaction_to":"to %address%","Wallet is not backed up":"Wallet is not backed up","Testnet Version":"Testnet Version","Error reading clipboard":"Error reading clipboard","$fee_value":"Fee %fee%","$fee_value_with_colon":"Fee: %fee%","Pay fee with %stars_symbol%":"Pay fee with %stars_symbol%","Loading...":"Loading...","Recipient Address":"Recipient Address","Wallet address or domain":"Wallet address or domain","Incorrect address":"Incorrect address","Incorrect address.":"Incorrect address.","Paste":"Paste","Insufficient balance":"Insufficient balance","InsufficientBalance":"Insufficient balance","Optional":"Optional","$send_token_symbol":"Send %1$s","Is it all ok?":"Is it all ok?","Receiving Address":"Receiving Address","Fee":"Fee","Edit":"Edit","Confirm":"Confirm","Coins have been sent!":"Coins have been sent!","Details":"Details","Change password visibility":"Change password visibility","Amount value":"Amount value","Save Address":"Save Address","Name":"Name","Save":"Save","Copy":"Copy","Remove From Saved":"Remove From Saved","View on Explorer":"View on Explorer","No suggestions, you\'re on your own!":"No suggestions, you\'re on your own!","Play Sounds":"Play Sounds","Focus on asset value rather than current balance":"Focus on asset value rather than current balance","$logout_confirm":"Remove **all** wallets","$logout_warning2":"Wallets are located in the decentralized TON Blockchain. If you want the wallet to be deleted simply transfer all the TON from it and leave it empty.","$tiny_transfers_help":"Hide transfers worth less than $%value%. Keep in mind: small amounts are often sent by spammers and scammers.","Today":"Today","Yesterday":"Yesterday","Now":"Now","$receive_ton_description":"Scan this QR or share your address to top up your wallet balance.","Wrong password, please try again.":"Wrong password, please try again.","Appearance":"Appearance","Light":"Light","Dark":"Dark","System":"System","$stake_asset":"Stake %symbol%","Earn from your tokens while holding them":"Earn from your tokens while holding them","Why this is safe":"Why this is safe","Why is staking safe?":"Why is staking safe?","$safe_staking_description1":"Staking is **fully decentralized** and operated by the **official TON Liquid Staking** smart contracts.","$safe_staking_description2":"The deposited stake will be used for the TON network validation as part of its **proof-of-stake** essence.","$safe_staking_description3":"You can withdraw your stake at **any time** and it will be deposited back to your account within **two days**.","$safe_staking_description_jetton1":"Token staking is **fully decentralized** and operated by the **open-source** smart contracts developed by %jvault_link% and passed **security audits**.","$safe_staking_description_jetton2":"You can withdraw your stake at **any time** and it will be deposited back to your account **instantly**.","$min_value":"Min %value%","Est. balance in a year":"Est. balance in a year","Confirm Staking":"Confirm Staking","Confirm operation with your password":"Confirm operation with your password","Coins have been staked!":"Coins have been staked!","View":"View","Stake More":"Stake More","Staking":"Staking","Currently Staked":"Currently Staked","Unstake":"Unstake","Earning History":"Earning History","$total":"Total: %value%","$unstake_asset":"Unstake %symbol%","$unstake_information_with_time":"Your current deposit will be fully sent back to your wallet in %time%.\\nThis will stop your earnings.\\n","Amount to unstake":"Amount to unstake","Confirm Unstaking":"Confirm Unstaking","Request for unstaking is sent!":"Request for unstaking is sent!","$unstaking_when_receive":"You will receive your unstaked deposit in %time%.","$unstake_insufficient_balance":"You need to have %balance% on your main balance to proceed with unstaking.","at %annual_yield%":"at %annual_yield%","Est. %annual_yield%":"Est. %annual_yield%","Staked":"Staked","Unstake Requested":"Unstake Requested","Unstaked":"Unstaked","The network fee has slightly changed, try sending again.":"The network fee has slightly changed, try sending again.","Transfer was unsuccessful. Try again later.":"Transfer was unsuccessful. Try again later.","Unstaking was unsuccessful. Try again later.":"Unstaking was unsuccessful. Try again later.","Staking was unsuccessful. Try again later.":"Staking was unsuccessful. Try again later.","Invalid amount":"Invalid amount","Invalid address":"Invalid address","Domain is not connected to a wallet":"Domain is not connected to a wallet","Unexpected error":"Unexpected error","Unexpected Error":"Unexpected Error","Earn":"Earn","Earning":"Earning","InvalidAmount":"Invalid amount","InvalidToAddress":"Invalid recipient address","Unexpected":"Unexpected error","DomainNotResolved":"Domain Not Resolved","You can save this address for quick access while sending.":"You can save this address for quick access while sending.","Stake Again":"Stake Again","Earned":"Earned","Connect Dapp":"Connect Dapp","Select wallet to use on this dapp":"Select wallet to use on this dapp","Connect":"Connect","Dapp Permissions":"Dapp Permissions","$dapp_can_view_balance":"%dappname% will be able to view wallet address and balance.","Send Transaction":"Send Transaction","Payload":"Payload","$many_transactions":"%1$d Transactions","Total Amount":"Total Amount","Unstaking":"Unstaking","Handle ton:// links":"Handle ton:// links","Back up wallet to have full access to it":"Back up wallet to have full access to it","Consider More Secure Version":"Consider More Secure Version","Install our native app or browser extension.":"Install our native app or browser extension.","Scam":"Scam","Scam comment is hidden.":"Scam comment is hidden.","Display":"Display","Connected Dapps":"Connected Dapps","Disconnect All Dapps":"Disconnect All Dapps","Disconnect":"Disconnect","Disconnect Dapp":"Disconnect Dapp","Disconnect Dapps":"Disconnect Dapps","Are you sure you want to disconnect?":"Are you sure you want to disconnect %dappname%?","Are you sure you want to disconnect all websites?":"Are you sure you want to disconnect all websites?","$dapps-description":"You can log in on dapps that support %app_name%. They can view wallet address, balance, and request operations.","Logged in with %app_name%":"Logged in with %app_name%","No active connections":"No active connections","Other":"Other","Assets & Activity":"Assets & Activity","Token Settings":"Token Settings","My Tokens":"My Tokens","Add Token":"Add Token","Delete Token":"Delete Token","Are you sure you want to delete?":"Are you sure you want to delete %token%?","Hide Tokens With No Cost":"Hide Tokens With No Cost","Sort By Cost":"Sort By Cost","Update %app_name%":"Update %app_name%","Connect Ledger":"Connect Ledger","Connecting to your Ledger...":"Connecting to your Ledger...","Failed to connect":"Failed to connect","Ledger Connected!":"Ledger Connected!","Select Ledger Wallets":"Select Ledger Wallets","%1$d Selected":"%1$d Selected","Add":"Add","Try Again":"Try Again","Driver":"Driver","Unlock it and open the TON App":"Unlock it and open the TON App","Maybe you need to check the password or change the driver.":"Maybe you need to check the password or change the driver.","Confirm via Ledger":"Confirm via Ledger","Please confirm transaction on your Ledger":"Please confirm transaction on your Ledger","Declined":"Declined","Create Wallet":"Create Wallet","Switch to the newly opened tab to connect Ledger.":"Switch to the newly opened tab to connect Ledger.","Once connected, switch back to this window to proceed.":"Once connected, switch back to this window to proceed.","Not all transactions were sent successfully":"Not all transactions were sent successfully","The time on your device is incorrect, sync it and try again":"The time on your device is incorrect, sync it and try again","Name or Address...":"Name or Address...","Such error, many tabs":"Such error, many tabs","$many_tabs_error_description":"%app_name% supports only one active tab with the app.\\nPlease reload this page to continue using this tab or close it.\\n","Reload App":"Reload App","Please confirm operation on your Ledger":"Please confirm operation on your Ledger","Token Not Found":"Token Not Found","Try another keyword or address.":"Try another keyword or address.","Decrypt":"Decrypt","Encrypted Message":"Encrypted Message","Message is encrypted.":"Message is encrypted.","$dapp_ledger_warning1":"You are about to send a multi-way transaction using your **Ledger** wallet. You will need to sign each underlying transaction **one by one manually**.","$dapp_ledger_warning2":"Please take your time and do not interrupt the process.","Agree":"Agree","SwapTitle":"Swap","Swap":"Swap","You sell":"You sell","You buy":"You buy","Swap Details":"Swap Details","Blockchain Fee":"Blockchain Fee","Aggregator Fee":"Aggregator Fee","Included":"Included","Price Impact":"Price Impact","Minimum Received":"Minimum Received","Slippage":"Slippage","$swap_from_to":"Swap %from% %icon% %to%","The exchange rate is below market value!":"The exchange rate is %value% below market value!","Invalid Pair":"Invalid Pair","We do not recommend to perform an exchange, try to specify a lower amount.":"We do not recommend to perform an exchange, try to specify a lower amount.","$swap_minimum_received_tooltip1":"This is the least amount of new tokens you\'ll get from this swap, considering current market conditions, slippage tolerance, and potential price impact.","$swap_minimum_received_tooltip2":"It\'s an expected minimum, but if the conditions change a lot while your swap is being processed, the final amount could be less.","$swap_price_impact_tooltip1":"This shows how much your trade might change the token\'s price.","$swap_price_impact_tooltip2":"Big trades can make the price go up or down more. Lower is usually better.","$swap_slippage_tooltip1":"This sets how much the price is allowed to change before your swap is processed.","$swap_slippage_tooltip2":"If during the processing of your swap, the price changes more than this value, your order will be canceled.","Coins have been swapped!":"Coins have been swapped!","Slippage not specified":"Slippage not specified","Slippage too high":"Slippage too high","Not Enough %symbol%":"Not Enough %symbol%","Use Responsibly":"Use Responsibly","$auth_responsibly_description1":"%app_name% is a **self-custodial** wallet, which means that **only you** have full control and, most importantly, **full responsibility** for your funds.\\n","$auth_responsibly_description2":"Your private keys are stored on your device and are subject to **hacker attacks**. If your computer is infected with **malware**, your funds are likely to be stolen.\\n","$auth_responsibly_description3":"The %app_name% team is **not responsible** for the safety of your funds, just as your computer manufacturer or internet provider is not responsible.\\n","$auth_responsibly_description4":"**Never** store all your funds in one place. **Diversify** and use various software and hardware. Always **do your own research** and learn more about crypto security.\\n","Start Wallet":"Start Wallet","$auth_backup_warning_notice":"Now you need to manually **back up secret keys** in case you forget your password or lose access to this device.\\n","Later":"Later","Back Up Now":"Back Up Now","I have read and accept this information":"I have read and accept this information.","$ledger_verify_address":"Always verify pasted address using your Ledger device.","$ledger_not_ready":"Ledger is not connected or TON app is not open.","Verify now":"Verify now","Invalid address format. Only URL Safe Base64 format is allowed.":"Invalid address format. Only URL Safe Base64 format is allowed.","$auth_backup_description1":"This is a **secure wallet**\\nand is only **controlled by you**.\\n","$auth_backup_description2":"And with great power comes **great responsibility**.","$auth_backup_description3":"You need to manually **back up secret keys** in case you forget your password or lose access to this device.\\n","Swap Placed":"Swap Placed","Swapping":"Swapping","Swapped":"Swapped","Swap Failed":"Swap Failed","Swap Again":"Swap Again","Terms of Use":"Terms of Use","Privacy Policy":"Privacy Policy","Insufficient liquidity":"Insufficient liquidity","This address is new and never received transfers before.":"This address is new and never received transfers before.","Create Backup":"Create Backup","Sending":"Sending","Failed":"Failed","Refunded":"Refunded","On Hold":"On Hold","Expired":"Expired","In Progress":"In Progress","Waiting for Payment":"Waiting for Payment","Blockchain":"Blockchain","Your address on another blockchain":"Your address on another blockchain","Please provide an address of your wallet in %blockchain% blockchain to receive bought tokens.":"Please provide an address of your wallet in %blockchain% blockchain to receive bought tokens.","The time for sending coins is over.":"The time for sending coins is over.","You have not sent the coins to the specified address.":"You have not sent the coins to the specified address.","$swap_changelly_to_ton_description1":"Send %value% to this address in %blockchain% blockchain within %time%","Exchange failed and coins were refunded to your wallet.":"Exchange failed and coins were refunded to your wallet.","$swap_changelly_kyc_security":"Please contact **%email%** and provide **Transaction ID** to pass the KYC procedure:","Swap Expired":"Swap Expired","Swap On Hold":"Swap On Hold","Swap Refunded":"Swap Refunded","Address for %blockchain% transfer":"Address for %blockchain% transfer","Cross-chain exchange provided by Changelly":"Cross-chain exchange provided by Changelly","$swap_changelly_agreement_message":"By continuing, you agree to the %terms% and %policy% and understand that the transaction may trigger verification according to %kyc%.","$swap_changelly_terms_of_use":"terms of use","$swap_changelly_privacy_policy":"privacy policy","Password must contain %length% digits.":"Password must contain %length% digits.","Deposit Link":"Deposit Link","$swap_changelly_from_ton_description":"Tokens will be sent to your address in %blockchain% blockchain soon:","Please note that it may take up to a few hours for tokens to appear in your wallet.":"Please note that it may take up to a few hours for tokens to appear in your wallet.","Minimum amount":"Minimum %value%","Maximum amount":"Maximum %value%","Display Tray Icon":"Display Tray Icon","Auto-Updates":"Auto-Updates","Biometric Authentication":"Biometric Authentication","If you turn off biometric protection, you will need to create a password.":"If you turn off biometric protection, you will need to create a password.","Enter your current password":"Enter your current password","Turn On Biometrics":"Turn On Biometrics","Please confirm transaction using biometrics":"Please confirm transaction using biometrics","Enabling biometric confirmation will reset the password.":"Enabling biometric confirmation will reset the password.","Biometric Registration":"Biometric Registration","Step 1 of 2. Registration":"Step 1 of 2. Registration","Step 2 of 2. Verification":"Step 2 of 2. Verification","Download Logs":"Download Logs","Copy Logs":"Copy Logs","Logs were copied!":"Logs were copied!","Biometric setup failed.":"Biometric setup failed.","Biometric confirmation failed.":"Biometric confirmation failed.","Failed to disable biometrics.":"Failed to disable biometrics.","Biometric Confirmation":"Biometric Confirmation","Please verify the operation.":"Please verify the operation.","Create Password":"Create Password","Complete":"Complete","Verification":"Verification","Create a password or use biometric authentication to protect it.":"Create a password or use biometric authentication to protect it.","Connect Biometrics":"Connect Biometrics","Use Password":"Use Password","Biometrics Disabled":"Biometrics Disabled","Biometrics Enabled":"Biometrics Enabled","A request is already pending":"A request is already pending","Please confirm operation using biometrics":"Please confirm operation using biometrics","Scan QR Code":"Scan QR Code","Permission denied. Please grant camera permission to use the QR code scanner.":"Permission denied. Please grant camera permission to use the QR code scanner.","This QR Code is not supported":"This QR Code is not supported","An error on the server side. Please try again.":"An error on the server side. Please try again.","Address was saved!":"Address was saved!","US Dollar":"US Dollar","Euro":"Euro","Ruble":"Ruble","Yuan":"Yuan","Bitcoin":"Bitcoin","Toncoin":"Toncoin","$max_balance":"Max: %balance%","$unstake_information_instantly":"You will get your deposit instantly","Select Token":"Select Token","MY":"MY","POPULAR":"POPULAR","Not Found":"Not Found","Wallet is ready!":"Wallet is ready!","Wallet is imported!":"Wallet is imported!","Create a code to protect it":"Create a code to protect it","Enter your code again":"Enter your code again","Codes don\'t match":"Codes don’t match","Code set successfully":"Code set successfully","Use Biometrics":"Use Biometrics","Use Touch ID":"Use Touch ID","Use Face ID":"Use Face ID","You can connect your biometric data for more convenience":"You can connect your biometric data for more convenience","Connect Touch ID":"Connect Touch ID","Connect Face ID":"Connect Face ID","Not Now":"Not Now","Touch ID":"Touch ID","Face ID":"Face ID","Turn Off Touch ID":"Turn Off Touch ID","Turn Off Face ID":"Turn Off Face ID","Turn Off Biometrics":"Turn Off Biometrics","Enter code":"Enter code","Enter code or use Face ID":"Enter code or use Face ID","Enter code or use Touch ID":"Enter code or use Touch ID","Enter code or use biometrics":"Enter code or use biometrics","Wrong code, please try again":"Wrong code, please try again","Scan your fingerprint":"Scan your fingerprint","Incorrect code, please try again.":"Incorrect code, please try again.","Correct":"Correct","Confirm Action":"Confirm Action","Confirm Swap":"Confirm Swap","Confirm Rewards Claim":"Confirm Rewards Claim","%amount% to %address%":"%amount% to %address%","%amount_from% to %amount_to%":"%amount_from% to %amount_to%","Failed to enable biometrics.":"Failed to enable biometrics.","Please try to confirm your biometrics again":"Please try to confirm your biometrics again","Unknown error":"Unknown error","Are you sure you want to disable Face ID?":"Are you sure you want to disable Face ID?","Are you sure you want to disable Touch ID?":"Are you sure you want to disable Touch ID?","Are you sure you want to disable biometrics?":"Are you sure you want to disable biometrics?","Yes":"Yes","Biometric confirmation failed":"Biometric confirmation failed","No Activity":"No Activity","Add / Buy":"Add / Buy","Buy with Card":"Buy with Card","Buy with Crypto":"Buy with Crypto","Cannot load widget":"Cannot load widget","Explore":"Explore","No partners yet":"No partners yet","Clear":"Clear","Get TON":"Get TON","$unstake_up_to_information":"Instantly – up to %value%","$all_balance":"All: %balance%","$unstaking_not_enough_balance":"You need to have %value% on your main balance to proceed with unstaking.","$ledger_verify_address_on_device":"Please, verify the address on your Ledger.","Wallet Versions":"Wallet Versions","$read_more_about_wallet_version":"Read more about types of wallet contracts on %ton_link%.","$current_wallet_version":"Your current wallet version is %version%.","You have tokens on other versions of your wallet. You can import them from here.":"You have tokens on other versions of your wallet. You can import them from here.","$wallet_switch_version_1":"You can also %action%.","$wallet_switch_version_2":"switch to another wallet version","or import from":"or import from","Insufficient fee":"Insufficient fee","$insufficient_fee":"Insufficient fee: %fee%","Required":"Required","Comment is too long.":"Comment is too long.","Memo":"Memo","Memo was copied!":"Memo was copied!","$hide_tokens_no_cost_help":"Hide tokens worth less than $%value%. Keep in mind: worthless tokens are often sent by spammers and scammers. On the same screen below, you can hide individual tokens.","No internet connection. Please check your connection and try again.":"No internet connection. Please check your connection and try again.","To use this feature, first enable Face ID in your phone settings.":"To use this feature, first enable Face ID in your phone settings.","To use this feature, first enable biometrics in your phone settings.":"To use this feature, first enable biometrics in your phone settings.","Open Settings":"Open Settings","$service_token_transfer_warning":"You are about to transfer an important service token required to withdraw your deposit or complete service operations. Please ensure this is the action you intend to take.","No Price":"No Price","$ledger_not_supported_operation":"This operation is not supported by your version of the Ledger TON App. Please update it using Ledger Live.","$ledger_unsupported_ton_connect":"TonConnect is not supported by version of your Ledger TON App. Please update it using Ledger Live.","$dapp_transfer_tokens_burn":"Burning %amount%","$dapp_dns_set_wallet_payload":"Changing linked wallet of domain %domain% to %address%","$dapp_dns_delete_wallet_payload":"Deleting linked wallet of domain %domain%","$dapp_dns_change_record_payload":"Changing \\"%category%\\" record of domain %domain% to %value%","$dapp_dns_delete_record_payload":"Deleting \\"%category%\\" record of domain %domain%","$dapp_token_bridge_pay_swap_payload":"Confirmation of exchange via cross-chain bridge","$dapp_liquid_staking_deposit_payload":"Deposit to liquid staking","$dapp_liquid_staking_vote_payload":"Voting \\"%vote%\\" for proposal %votingAddress%","$dapp_single_nominator_change_validator_payload":"Changing address of SingleNominator staking contract validator to %address%","$dapp_single_nominator_withdraw_payload":"Withdrawal of %amount% TON from SingleNominator staking contract","$dapp_vesting_add_whitelist_payload":"Adding %address% to vesting wallet whitelist","Search or enter address":"Search or enter address","Connecting dapps is not yet supported by Ledger.":"Connecting dapps is not yet supported by Ledger.","Time synchronization issue. Please ensure your device\'s time settings are correct.":"Time synchronization issue. Please ensure your device\'s time settings are correct.","Data was copied!":"Data was copied!","Open NFT Collection":"Open NFT Collection","Previous":"Previous","Next":"Next","Insufficient TON for fee.":"Insufficient TON for fee.","Send NFT":"Send NFT","NFT has been sent!":"NFT has been sent!","Cannot be sent":"Cannot be sent","NFT is for sale":"NFT is for sale","More actions":"More actions","Open on %ton_explorer_name%":"Open on %ton_explorer_name%","Swap is not supported in Testnet.":"Swap is not supported in Testnet.","Swap is not yet supported by Ledger.":"Swap is not yet supported by Ledger.","Buying with card is not supported in Testnet.":"Buying with card is not supported in Testnet.","Staking is not supported in Testnet.":"Staking is not supported in Testnet.","Get Support":"Get Support","$transfer_inactive_contract_error":"You entered an address in the \\"EQ...\\" format, but the address is not active, so the transaction will not be completed.\\nIf you definitely want to send to this address, then enter the address in the \\"UQ...\\" format.\\n","Successfully":"Successfully","Unstake More":"Unstake More","WrongAddress":"The dapp requested a transaction from another wallet.","Are you sure you want to burn this NFT? It will be lost forever.":"Are you sure you want to burn this NFT?\\nIt will be lost forever.\\n","$multi_burn_nft_warning":"You are going to burn %amount% NFTs.","$multi_send_nft_warning":"The process may take ~%duration% minute(s). Please do not close the app and do not switch accounts until it is finished.","Burn NFT":"Burn NFT","Burn":"Burn","Private Key":"Private Key","%amount% NFTs":"%amount% NFTs","1 NFT":"1 NFT","1 NFT Selected":"1 NFT Selected","%amount% NFTs Selected":"%amount% NFTs Selected","For sale. Cannot be sent and burned":"For sale. Cannot be sent and burned","Select":"Select","Send All":"Send All","Burn All":"Burn All","Select All":"Select All","Collection":"Collection","Transaction ID was copied!":"Transaction ID was copied!","$swap_changelly_support":"If there are any problems, please contact %livechat% or %email% and provide **Transaction ID**:","Changelly Live Chat":"Changelly Live Chat","Your %blockchain% Address":"Your %blockchain% Address","Vesting":"Vesting","Vesting Balance":"Vesting Balance","Ready to Unfreeze":"Ready to Unfreeze","You will receive your unfrozen coins in a few minutes.":"You will receive your unfrozen coins in a few minutes.","Vesting Schedule":"Vesting Schedule","Loyal User Airdrop":"Loyal User Airdrop","Unfrozen":"Unfrozen","Missed":"Missed","Frozen":"Frozen","until %date%":"until %date%","%volume% in %amount% parts":"%volume% in %amount% parts","Unfreeze":"Unfreeze","Claim":"Claim","Confirm Unfreezing":"Confirm Unfreezing","Insufficient Balance for Fee":"Insufficient Balance for Fee","$fee_value_bold":"**Fee:** %fee%","%app_name% Features":"%app_name% Features","Security":"Security","To avoid entering the passcode every time, you can use biometrics.":"To avoid entering the passcode every time, you can use biometrics.","Change Passcode":"Change Passcode","Change Password":"Change Password","Confirm Password":"Confirm Password","The passcode will be changed for all your wallets.":"The passcode will be changed for all your wallets.","Password Changed!":"Password Changed!","Passcode Changed!":"Passcode Changed!","New code set successfully":"New code set successfully","Codes don’t match":"Codes don’t match","Enter your new code":"Enter your new code","Re-enter your new code":"Re-enter your new code","Install on Desktop":"Install on Desktop","Install on Mobile":"Install on Mobile","Install App":"Install App","WrongNetwork":"The dapp requested a transaction from another network.","Hide":"Hide","Hidden NFTs":"Hidden NFTs","Hidden By Me":"Hidden By Me","Probably Scam":"Probably Scam","$settings_nft_probably_scam_description":"These NFTs were automatically disabled by Anti-Scam Protection. You can return the necessary ones to Home if you think they were included in this list by mistake.","Unhide":"Unhide","Hide All":"Hide All","Hide NFT":"Hide NFT","Reload Page":"Reload Page","Open in Safari":"Open in Safari","Open in Browser":"Open in browser","CopyURL":"Copy URL","Share":"Share","Unhide NFT":"Unhide NFT","$unhide_nft_warning":"Are you sure you want to unhide %name%? This NFT looks suspicious and may not match its name and description.","Hide NFTs":"Hide NFTs","Are you sure you want to hide this NFT collection containing %number% NFTs?":"Are you sure you want to hide this NFT collection containing %number% NFTs?","Are you sure you want to hide these %number% NFTs?":"Are you sure you want to hide these %number% NFTs?","Show":"Show","Confirm Sending":"Confirm Sending","Confirm Burning":"Confirm Burning","Confirm Passcode":"Confirm Passcode","Enter your code":"Enter your code","$hardware_payload_warning":"A third-party service is requesting access to your wallet — this could lead to the loss of funds. Cancel the operation if you are not sure about the reliability of this service.","$hardware_blind_sign_not_enabled":"A third-party service is requesting access to your wallet — this could lead to the loss of funds. Cancel the operation if you are not sure about the reliability of this service.\\n\\nTo continue, enable the \\"Blind Signing\\" option in the settings of the TON App on Ledger.\\n","$hardware_blind_sign_not_enabled_internal":"To continue, enable the \\"Blind Signing\\" option in the settings of the TON App on Ledger.","Switch to W5":"Switch to W5","Not Scam":"Not Scam","Untitled":"Untitled","Multichain":"Multichain","$swap_too_small_amount":"Too small amount","Not enough %symbol%":"Not enough %symbol%","$receive_tron_description":"Scan this QR or share your address to top up your wallet balance.","You have just created a new multichain wallet":"You have just created a new multichain wallet","Now you can transfer tokens from your TON and TRON wallets.":"Now you can transfer tokens from your TON and TRON wallets.","Enter Secret Words":"Enter Secret Words","Turn this off so you can manually download updates and verify signatures.":"Turn this off so you can manually download updates and verify signatures.","InvalidMnemonic":"Your mnemonic words are invalid","NFT Menu":"NFT Menu","Connection Type":"Connection Type","Ledger is not supported on this device":"Ledger is not supported on this device","Connect your Ledger":"Connect your Ledger","$app_lock_description":"When app lock is enabled, a lock icon appears on the card on the main page. Use it to lock %app_name%.","App Lock":"App Lock","Auto-Lock":"Auto-Lock","Disabled":"Disabled","30 seconds":"30 seconds","3 minutes":"3 minutes","10 minutes":"10 minutes","If away for 30 sec":"If away for 30 sec","If away for 3 min":"If away for 3 min","If away for 10 min":"If away for 10 min","Unlock":"Unlock","This address mimics another address that you previously interacted with.":"This address mimics another address that you previously interacted with.","Biometric authentication failed":"Biometric authentication failed","Reset biometrics in security settings, or use a passcode.":"Reset biometrics in security settings, or use a passcode.","Best Rate":"Best Rate","via %dex_name%":"via %dex_name%","$swap_dex_chooser_rate_title":"Analyzed actual rates on **DeDust** and **STON.fi** to use the **best rate**.","You will receive %amount% **more**.":"You will receive %amount% **more**.","You will spend %amount% **less**.":"You will spend %amount% **less**.","Best":"Best","Use Best Rate":"Use Best Rate","Switch to %dex_name%":"Switch to %dex_name%","Built-in DEX Aggregator":"Built-in DEX Aggregator","Add tokens":"Add tokens","No tokens yet":"No tokens yet","$no_tokens_description":"Receive tokens from another wallet, or simply enable preferred tokens in the settings for monitoring.","Exchange Rate":"Exchange Rate","Install Card":"Install Card","Reset Card":"Reset Card","Apply Palette":"Install Palette","Reset Palette":"Reset Palette","Notifications & Sounds":"Notifications & Sounds","Sounds":"Sounds","Push Notifications":"Push Notifications","Select up to %count% wallets for notifications":"Select up to %count% wallets for notifications","$swap_aggregator_fee_tooltip":"A built-in **DEX aggregator** finds the **best rate** across available DEXes. Service fee is %percent%.","Accumulated Rewards":"Accumulated Rewards","$swap_reverse_prohibited":"Setting the buy amount is impossible for this pair of tokens","Blockchain Fee Details":"Blockchain Fee Details","Final Fee":"Final Fee","Excess":"Excess","$fee_details":"%full_fee% need to be immediately debited from your wallet to pay the fee. Part of this will be returned **in **%excess_symbol% to you as excess within a few minutes.\\n\\nThis is how %chain_name% Blockchain works.\\n","Got It":"Got It","Wallet":"Wallet","Connected":"Connected","All Dapps":"All Dapps","Trending":"Trending","No Data":"No Data","Toggle fullscreen":"Toggle fullscreen","Request is sent!":"Request is sent!","Transaction ID":"Transaction ID","Help Center":"Help Center","MyTonWallet Tips":"MyTonWallet Tips","$auth_import_24_mnemonic_description":"You can restore access to your wallet by entering the **24 secret words** that you wrote down when creating the wallet.\\n","$returned_value":"~ %value% will be returned","Open %nft_marketplace%":"Open %nft_marketplace%","Link was copied!":"Link was copied!","Share Link":"Share Link","Dapp Fee Details":"Dapp Fee Details","$dapp_return_details":"%fee_amount% will be immediately debited from your wallet to pay the fee.\\n\\n%received_amount% will be returned to you within a few minutes.\\n","$dapp_return_disclaimer":"The displayed returned amount is not guaranteed and may be manipulated by malicious dapps. Cancel the operation if you are not sure about the reliability of this service.","Additional Amount Sent":"Additional Amount Sent","Copy Address":"Copy Address","Copy Transaction ID":"Copy Transaction ID"}'),Yo=self.caches;async function Qo(e){try{if(!Yo)return;return await Yo.delete(e)}catch(e){return void console.warn(e)}}const Go=new Set(Object.values(e.l5i)),Xo=(0,je.A)((function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a=arguments.length>2?arguments[2]:void 0;const o=new wt.z(t);if(o.eq(0))return"0";const r=o.lt(1)?"toPrecision":"round";return function(t){const[n,a=""]=t.split(".");return[n.replace(/\B(?=(\d{3})+(?!\d))/g,`$&${e.MS3}`),a].filter(Boolean).join(".")}(o[r](n,a?wt.z.roundHalfUp:wt.z.roundDown).toString().replace(/(\.\d*?)0+$/,"$1").replace(/\.$/,""))}));function Jo(e,t,n,a){return tr(Xo(e,n,a),t)}function Zo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3?arguments[3]:void 0;return e=e.toString(),(n?"":e.startsWith("-")?"− ":"+ ")+Jo(n?e:e.replace("-",""),t,a)}function er(e,t,n){return"string"!=typeof e&&(e=(0,vt.nI)(e,n)),tr(e,t)}function tr(e,t){return Go.has(t)?`${t}${e}`.replace(`${t}-`,`-${t}`):`${e} ${t}`}function nr(t){var n;return t||(t=e.wOb),null!==(n=e.l5i[t])&&void 0!==n?n:t}const ar=Ko,{addCallback:or,removeCallback:rr,runCallbacks:ir}=g(),sr=/%\d?\$?[sdf@]/g,lr=["value","zeroValue","oneValue","twoValue","fewValue","manyValue","otherValue"],cr={de:e=>1!==e?6:2,en:e=>1!==e?6:2,es:e=>1!==e?6:2,pl:e=>1===e?2:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?4:5,ru:e=>e%10==1&&e%100!=11?2:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?4:5,th:()=>6,tr:e=>e>1?6:2,uk:e=>e%10==1&&e%100!=11?2:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?4:5,"zh-Hans":()=>6,"zh-Hant":()=>6},dr=new Map;let ur,mr;function pr(){return(e,n,a,o)=>{var r;if(void 0!==n&&("object"!=typeof n||Array.isArray(n))){const t=Array.isArray(n)?JSON.stringify(n):n,r=dr.get(`${e}_${t}_${a}${o?`_${o}`:""}`);if(r)return r}return ur||ar?function(e,n,a,o,r){const i="number"==typeof a||void 0!==r?function(e){const n=mr||t.vj,a=cr[n]?cr[n](e):0;return lr[a]}(null!=r?r:a):"value",s="string"==typeof e?e:"value"===i?"object"==typeof e?e.value:e:"object"==typeof e?(null==e?void 0:e[i])||e.otherValue:void 0;if(!s||!s.trim()||void 0===a)return s;const l="i"===o?Xo(a):a,c="object"!=typeof a||Array.isArray(a)?function(e,t){t=Array.isArray(t)?t:[t];const n=e.split(sr),a=n.shift();return n.reduce(((e,n,a)=>{var o;return`${e}${String(null!==(o=t[a])&&void 0!==o?o:"")}${n}`}),a||"")}(s,l):function(e,t){const n=e.split("%"),a=[];let o="";for(let e=0;e<n.length;e++){const r=n[e];if(e%2==1){const e=t[r];e?"string"==typeof e?o+=e:(o&&(a.push(...qo(o)),o=""),a.push(e)):o+=`%${r}%`}else o+=r}return o&&a.push(...qo(o)),a}(s,l);if("object"!=typeof a&&"string"==typeof c){const e=Array.isArray(a)?JSON.stringify(a):a;dr.set(`${n}_${e}_${o}${r?`_${r}`:""}`,c)}return c}((null===(r=ur)||void 0===r?void 0:r[e])||(null==ar?void 0:ar[e])||e,e,n,a,o):e}}let fr=pr();async function hr(n,a){if(ur&&n===mr)return void(a&&a());let o=await async function(t,n){if(Yo)try{const a=e.jht?`${e.uyj}/${n.replace(/:/g,"_")}`:new Request(n.replace(/:/g,"_")),o=await Yo.open(t),r=await o.match(a);if(!r)return;return await r.json()}catch(e){return void console.warn(e)}}(e.CV,n);if(!o&&(o=await async function(n){if(n===t.vj)return ar;const a=await fetch(`${e.jht?".":".."}/i18n/${n}.json`);if(!a.ok){const e=`An error has occured: ${a.status}`;throw new Error(e)}const o=await a.json();return o?(await async function(t,n,a){if(Yo)try{const o="string"==typeof a||a instanceof Blob||a instanceof ArrayBuffer?a:JSON.stringify(a),r=e.jht?`${e.uyj}/${n.replace(/:/g,"_")}`:new Request(n.replace(/:/g,"_")),i=new Response(o);if(r instanceof Request&&0===r.url.indexOf("chrome-extension"))return;const s=await Yo.open(t);return await s.put(r,i)}catch(e){return void console.warn(e)}}(e.CV,n,o),o):void 0}(n),!o))return;dr.clear(),mr=n,ur=o,document.documentElement.lang=n;const r=null===e.gSB||void 0===e.gSB?void 0:e.gSB.find((e=>e.langCode===n));fr=pr(),fr.isRtl=Boolean(null==r?void 0:r.rtl),fr.code=n.replace("-raw",""),fr.langName=null==r?void 0:r.nativeName,a&&a(),ir()}var gr=i(99544);const vr=Symbol("EQUAL"),wr={__delete:!0},yr={__deleteAllChildren:!0};function br(e,t){if(e===t)return vr;if(typeof e!=typeof t)return t;if(Array.isArray(e)&&Array.isArray(t)&&(a=t,(n=e).length===a.length&&n.every(((e,t)=>br(e,a[t])===vr))))return vr;var n,a;if(!(0,s.Vh)(e)||!(0,s.Vh)(t))return t;const o=e,r=t,i=Object.keys(o),l=Object.keys(r);if(!l.length)return i.length?yr:vr;const c=(0,s.Am)(i.concat(l)).reduce(((e,t)=>{const n=o[t],a=r[t];if(!r.hasOwnProperty(t))return e[t]=wr,e;if(!o.hasOwnProperty(t))return e[t]=a,e;const i=br(n,a);return i!==vr&&(e[t]=i),e}),{});return 0===Object.keys(c).length?vr:c}function Er(e,t){return e===t?t:(0,s.Vh)(t)?(0,s.Vh)(e)?t.__deleteAllChildren?{}:(0,s.Am)(Object.keys(e).concat(Object.keys(t))).reduce(((n,a)=>{const o=e[a];if(t.hasOwnProperty(a)){const e=t[a];null!=e&&e.__delete||(n[a]=Er(o,e))}else n[a]=o;return n}),{}):kr(t):t}function kr(e){return e.__deleteAllChildren?{}:Object.entries(e).reduce(((e,t)=>{let[n,a]=t;return null!=a&&a.__delete||(e[n]=(0,s.Vh)(a)?kr(a):a),e}),{})}function Nr(e){const t=ue(e);return t.current=e,t}function Cr(e){const t=Nr(e);return de((function(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return null===(e=t.current)||void 0===e?void 0:e.call(t,...a)}),[])}const Sr=g(),Ar=g();let Tr=document.hasFocus();function Ir(){Tr&&(Tr=!1,Sr.runCallbacks())}function Br(){Tr=!0,Ar.runCallbacks()}function _r(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=Cr(e),o=Cr(t);se((()=>{if(!n)return Tr||a(),Sr.addCallback(a),Ar.addCallback(o),()=>{Ar.removeCallback(o),Sr.removeCallback(a)}}),[n,a,o])}function xr(){return!Tr}e.tKX?ia().then((e=>{e.onEvent("activated",Br),e.onEvent("deactivated",Ir)})):(window.addEventListener("blur",Ir),window.addEventListener("focus",Br));const Lr=t.bs?new BroadcastChannel(e.eoU):void 0;let Or=Re();function Pr(){let{noPubGlobal:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Lr&&(e||Pe(Dr),Lr.addEventListener("message",Rr))}function Dr(e){if(e===Or)return;if(xr())return void(Or=e);const t=br(Fr(Or),Fr(e));"symbol"!=typeof t&&Lr.postMessage({type:"globalDiffUpdate",diff:t}),Or=e}function Fr(e){return(0,s.cJ)(e,["DEBUG_randomId"])}function Rr(e){let{data:n}=e;switch(n.type){case"globalDiffUpdate":if(t.bA)return;Or=Er(Re(),n.diff),Me(Or);break;case"callActionInMain":{if(!t.KI)return;const{name:e,options:a}=n;Ue()[e](a);break}case"callActionInNative":{if(!t.bA)return;const{name:e,options:a}=n;Ue()[e](a);break}case"getLogsFromNative":if(!t.bA)return;Lr.postMessage({type:"logsFromNative",logs:(0,Fn.ao)()})}}function Mr(e,t){Lr.postMessage({type:"callActionInMain",name:e,options:t})}function Ur(e,t){Lr.postMessage({type:"callActionInNative",name:e,options:t})}const Wr=(0,je.A)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;if(e)return e.length<=t+n+3?e:`${e.slice(0,t)}...${e.slice(-n)}`})),Hr=new Map;function $r(t){return Wr(t,e.bOf)}function Vr(e){const t=$r(e);return Hr.get(t)}function zr(e){const{fromAddress:t,amount:n,timestamp:a}=e,o=Vr(t);(!o||o.timestamp<a||o.timestamp===a&&o.amount>n)&&function(e,t,n){const a=$r(e);Hr.set(a,{address:e,amount:t,timestamp:n})}(t,n,a)}function jr(e){const{fromAddress:t}=e,n=Vr(t);return n&&n.address!==t}function qr(){Hr.clear()}const Kr={appState:Mt.Auth,auth:{state:Ut.none},biometrics:{state:Wt.None},hardware:{},currentTransfer:{state:Ht.None,tokenSlug:e.ScF},currentSwap:{state:$t.None,slippage:e.k9U},currentDappTransfer:{state:Ht.None},currentStaking:{state:Yt.None},stakingDefault:e.USn,tokenInfo:{bySlug:e.lfO},swapTokenInfo:{bySlug:e.tCm},tokenPriceHistory:{bySlug:{}},settings:{state:Gt.Initial,theme:e.YnH,animationLevel:e.i11,areTinyTransfersHidden:!e.K_I,canPlaySounds:!0,langCode:t.$q,byAccountId:{},areTokensWithNoCostHidden:!e.K_I,isSortByValueEnabled:!0},byAccountId:{},dialogs:[],notifications:[],stateVersion:32,restrictions:{isLimitedRegion:!1,isSwapDisabled:t.ZH||e.TI6,isOnRampDisabled:t.ZH||e.TI6,isNftBuyingDisabled:t.ZH},mediaViewer:{},pushNotifications:{enabledAccounts:{}}};function Yr(e,t){const n=typeof e;if(n!==typeof t)return!1;if("object"!==n||null===e||null===t)return e===t;const a=Array.isArray(e);if(a!==Array.isArray(t))return!1;if(a){const n=e,a=t;return n.length===a.length&&n.every(((e,t)=>Yr(e,a[t])))}const o=e,r=t,i=Object.keys(o),s=Object.keys(r);return!!i.every((e=>r.hasOwnProperty(e)))&&!!s.every((e=>o.hasOwnProperty(e)))&&i.every((e=>Yr(o[e],r[e])))}function Qr(e,t){return Yr((0,s.Up)(e,Object.keys(t)),t)}function Gr(e,t){return{...e,auth:{...e.auth,...t}}}function Xr(e,t){return{...e,accounts:{...e.accounts||{byId:{}},...t}}}function Jr(e){return{...e,isPinAccepted:!0}}function Zr(e){return{...e,isPinAccepted:void 0}}function ei(t){var n;let{global:a,accountId:o,addressByChain:r,partial:i,titlePostfix:s,network:l}=t,c=!0;if(null!==(n=i)&&void 0!==n&&n.title){if(s){var d;const t=null===(d=i.title)||void 0===d?void 0:d.replace(new RegExp(`\\b(${e.eZ2.join("|")})\\b`,"g"),"");i={...i,title:`${t.trim()} ${s}`}}}else{l=l||Qe(a);const t=Ye(a)||{},n=Object.keys(t).length,o="mainnet"===l;let r=`${o?"Wallet":"Testnet Wallet"} ${n+1}${s?` ${s}`:""}`;0===n&&(r=o?e.C39:`Testnet ${e.C39}`,c=!1),i={...i,title:r}}return e.TI6||(a={...a,shouldForceAccountEdit:c}),ti(a,o,{...i,addressByChain:r})}function ti(e,t,n){var a;return{...e,accounts:{...e.accounts,byId:{...null===(a=e.accounts)||void 0===a?void 0:a.byId,[t]:{...Xe(e,t),...n}}}}}function ni(e){const{firstNetworkAccount:t,secondNetworkAccount:n}=e.auth;return e=ei({global:e,...t}),n&&(e=ei({global:e,...n})),e}function ai(e,t){return oi(e,e.currentAccountId,t)}function oi(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=Ze(e,t);return a&&o&&Qr(o,n)?e:{...e,byAccountId:{...e.byAccountId,[t]:{...o,...n}}}}function ri(e,t){return{...e,hardware:{...e.hardware,...t}}}function ii(e,t){return{...e,settings:{...e.settings,...t}}}function si(e,t,n){return{...e,settings:{...e.settings,byAccountId:{...e.settings.byAccountId,[t]:{...e.settings.byAccountId[t],...n}}}}}function li(e,t){return si(e,e.currentAccountId,t)}function ci(e,t){return{...e,biometrics:{...e.biometrics,...t}}}function di(e,t){if(!t)throw Error("Empty accountId!");return{...e,currentAccountId:t}}function ui(e){return!e.currentSwap.isEstimating&&(e.currentSwap.state===$t.Blockchain||e.currentSwap.state===$t.Password)}function mi(e,t){let{currentSwap:n}=e,{currentSwap:a}=t;const o=n.inputSource===Vt.In?"amountIn":"amountOut";return n.tokenInSlug===a.tokenInSlug&&n.tokenOutSlug===a.tokenOutSlug&&n.slippage===a.slippage&&n.inputSource===a.inputSource&&n.isMaxAmount===a.isMaxAmount&&(a.isMaxAmount||n[o]===a[o])}function pi(e){var t;let{currentSwap:n}=e;const a=n.inputSource===Vt.In?"amountIn":"amountOut";return n.tokenInSlug&&n.tokenOutSlug&&Number(null!==(t=n[a])&&void 0!==t?t:"0")>0}function fi(e){return{...e.currentSwap.inputSource===Vt.In?{amountOut:void 0}:{amountIn:void 0},amountOutMin:"0",priceImpact:0,errorType:void 0,limits:void 0,dieselStatus:void 0,estimates:void 0,bestRateDexLabel:void 0,networkFee:void 0,realNetworkFee:void 0,swapFee:void 0,swapFeePercent:void 0,ourFee:void 0,ourFeePercent:void 0,dieselFee:void 0}}function hi(e,t){return{...e,currentSwap:{...e.currentSwap,...t}}}function gi(e,t,n){let a=hi(e,t);var o,r;return n||(o=e,pi(r=a)&&o.currentSwap.tokenInSlug===r.currentSwap.tokenInSlug&&o.currentSwap.tokenOutSlug===r.currentSwap.tokenOutSlug||(a=hi(a,fi(a))),function(e,t){return pi(t)&&(!mi(e,t)||e.currentSwap.pairs!==t.currentSwap.pairs)}(e,a)&&(a=hi(a,{isEstimating:!0}))),function(e,t){let{currentSwap:n}=e,{currentSwap:a}=t;const o=n.inputSource===Vt.In?"amountIn":"amountOut";return n.tokenInSlug!==a.tokenInSlug||n.tokenOutSlug!==a.tokenOutSlug||n.inputSource!==a.inputSource||n[o]!==a[o]}(e,a)&&(a=hi(a,{isDexLabelChanged:void 0})),hi(a,t)}function vi(t){return{...t,currentSwap:{state:$t.None,slippage:e.k9U}}}function wi(e,t){return Ei(e,yi(e,{toAddressName:t.addressName,...(0,s.Up)(t,["fee","realFee","isScam","isMemoRequired","diesel"])}))}function yi(e,t){return{...e,currentTransfer:{...e.currentTransfer,...t}}}function bi(e){return{...e,currentTransfer:Kr.currentTransfer}}function Ei(e,t){const n=Sn(e);return n&&e.currentTransfer.amount===n?yi(t,{amount:Sn(t)}):t}function ki(e,t){return{...e,currentTransfer:{...e.currentTransfer,isLoading:t}}}function Ni(e,t){return(e=yi(e,{toAddress:t})).currentTransfer.amount||(e=yi(e,{tokenSlug:An(e)})),e}function Ci(e,t){return{...e,currentSignature:{...e.currentSignature,...t}}}function Si(e,t){const{activities:n}=Je(e)||{};return ai(e,{activities:{...n||{byId:{}},isLoading:t}})}function Ai(e,t,n){const{activities:a}=Je(e)||{};var o;return ai(e,n?{activities:{...a||{byId:{}},isHistoryEndReachedBySlug:{...null!==(o=null==a?void 0:a.isHistoryEndReachedBySlug)&&void 0!==o?o:{},[n]:t}}}:{activities:{...a||{byId:{}},isMainHistoryEndReached:t}})}function Ti(e,t){return{...e,currentStaking:{...e.currentStaking,...t}}}function Ii(e,t,n){var a;let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=null===(a=Ze(e,t))||void 0===a?void 0:a.staking;return o&&r&&Qr(r,n)?e:oi(e,t,{staking:{...r,...n}})}function Bi(e,t){return{...e,dappConnectRequest:{...e.dappConnectRequest,...t}}}function _i(e){return{...e,dappConnectRequest:void 0}}function xi(e,t){return{...e,currentDappTransfer:{...e.currentDappTransfer,...t}}}function Li(e){return{...e,currentDappTransfer:{state:Ht.None}}}function Oi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=e.timestamp-t.timestamp;return 0===a&&(a=e.id>t.id?1:e.id<t.id?-1:0),n?a:-a}function Pi(e,t){return Object.entries(e.settings.byAccountId).forEach((n=>{var a;let[o,r]=n;(null===(a=r.cardBackgroundNft)||void 0===a?void 0:a.address)===t.address&&(e=si(e,o,{...r,cardBackgroundNft:t}))})),e}function Di(e,t,n){var a;return oi(e,t,{vesting:{...(null===(a=Ze(e,t))||void 0===a?void 0:a.vesting)||{info:[]},...n}})}async function Fi(e,t,a){if(t===e.currentAccountId)return;const o=Ue(),r=Ft(e,t);await(0,n.p)("activateAccount",t,r),e=Re(),Me(function(e,t){let n=di(e,t);return n=bi(n),vi(n)}(e,t)),o.clearSwapPairsCache(),qr(),a&&o.changeNetwork({network:a})}function Ri(t){return Array(t).fill(0).map(((e,t)=>({i:t,rnd:Math.random()}))).sort(((e,t)=>e.rnd-t.rnd)).map((e=>e.i)).slice(0,Math.min(e.ow1,t)).sort(((e,t)=>e-t))}function Mi(){const e=(0,s.mg)(Re());return e.tokenInfo={},e.swapTokenInfo={},Object.entries(e.byAccountId).forEach((e=>{let[,t]=e;t.activities={}})),e}function Ui(e,t){return{...e,tokenInfo:{...e.tokenInfo,bySlug:{...e.tokenInfo.bySlug,...t}}}}We("resetAuth",(e=>{e.currentAccountId&&(e=ii(e={...e,appState:Mt.Main},{isTestnet:"testnet"===(0,$e.c)(e.currentAccountId).network})),e={...e,auth:(0,s.mg)(Kr.auth)},Me(e)})),We("startCreatingWallet",(async(a,o)=>{var r,i;const s=null!==(r=qe(a))&&void 0!==r?r:{},c=!Object.values(s).length,d=et(a),u=d?Ut.createBackup:c?Ut.createWallet:Oo()?Ut.createPin:t.uh?Ut.createBiometrics:Ut.createPassword;if(a=Re(),Boolean(d)&&!a.auth.password)return void Me(Gr(a,{state:Ut.checkPassword,error:void 0}));const m=[(0,n.p)("generateMnemonic"),...d?[]:[(0,l.v7)(3300)]];Me(Gr(a,{state:u,method:"createAccount",error:void 0}));const[p]=await Promise.all(m);if(a=Gr(Re(),{mnemonic:p,mnemonicCheckIndexes:Ri(null!==(i=null==p?void 0:p.length)&&void 0!==i?i:e.xA_)}),d)return Me(a),void o.afterCreatePassword({password:a.auth.password});Me(Gr(a,{state:Oo()?Ut.createPin:t.uh?Ut.createBiometrics:Ut.createPassword})),c&&(o.requestConfetti(),Wo())})),We("startCreatingBiometrics",(e=>{e=Gr(e,{state:"createAccount"!==e.auth.method?Ut.importWalletConfirmBiometrics:Ut.confirmBiometrics,biometricsStep:1}),Me(e)})),We("cancelCreateBiometrics",(e=>{e=Gr(e,{state:Ut.createBiometrics,biometricsStep:void 0}),Me(e)})),We("createPin",((e,t,n)=>{let{pin:a,isImporting:o}=n;e=Gr(e,{state:o?Ut.importWalletConfirmPin:Ut.confirmPin,password:a}),Me(e)})),We("confirmPin",((e,t,n)=>{let{isImporting:a}=n;_o()?(e=Gr(e,{state:a?Ut.importWalletCreateNativeBiometrics:Ut.createNativeBiometrics}),Me(e)):t.skipCreateNativeBiometrics()})),We("cancelConfirmPin",((e,t,n)=>{let{isImporting:a}=n;e=Gr(e,{state:a?Ut.importWalletCreatePin:Ut.createPin}),Me(e)})),We("cancelDisclaimer",(e=>{Me(Gr(e,{state:Oo()?Ut.createPin:t.uh?Ut.createBiometrics:Ut.createPassword}))})),We("afterCreatePassword",((e,t,n)=>{let{password:a,isPasswordNumeric:o}=n;Me(Gr(e,{isLoading:!0}));const{method:r}=Re().auth,i="createAccount"!==r;"importHardwareWallet"===r?t.createHardwareAccounts():t.createAccount({password:a,isImporting:i,isPasswordNumeric:o})})),We("afterCreateBiometrics",(async(e,n)=>{const a=!t.cp;e=Gr(e,{isLoading:!0,error:void 0,biometricsStep:a?1:void 0}),Me(e);try{const t=a?await va.createCredential():void 0;e=Gr(e=Re(),{biometricsStep:a?2:void 0}),Me(e);const o=await ya({credential:t});if(e=Gr(e=Re(),{isLoading:!1,biometricsStep:void 0}),!o)return e=Gr(e,{error:"Biometric setup failed."}),void Me(e);e=ii(e,{authConfig:o.config}),Me(e),n.afterCreatePassword({password:o.password})}catch(t){const n=null!=t&&t.message.includes("privacy-considerations-client")?"Biometric setup failed.":(null==t?void 0:t.message)||"Biometric setup failed.";e=Gr(e=Re(),{isLoading:!1,error:n,biometricsStep:void 0}),Me(e)}})),We("skipCreateBiometrics",(e=>{e=Gr(e,{state:Ut.createPassword}),Me(e)})),We("afterCreateNativeBiometrics",(async(e,t)=>{e=Gr(e,{isLoading:!0,error:void 0}),Me(e);try{const{password:n}=e.auth,a=await ba(n);e=ii(e=Gr(e=Re(),{isLoading:!1}),{authConfig:a.config}),Me(e),t.afterCreatePassword({password:n,isPasswordNumeric:!0})}catch(t){const n=null!=t&&t.message.includes("privacy-considerations-client")?"Biometric setup failed.":(null==t?void 0:t.message)||"Biometric setup failed.";e=Gr(e=Re(),{isLoading:!1,error:n}),Me(e)}})),We("skipCreateNativeBiometrics",((e,t)=>{const{password:n}=e.auth;e=ii(e=Gr(e,{isLoading:!1,error:void 0}),{authConfig:{kind:"password"},isPasswordNumeric:!0}),Me(e),t.afterCreatePassword({password:n,isPasswordNumeric:!0})})),We("createAccount",(async(e,t,a)=>{let{password:o,isImporting:r,isPasswordNumeric:i,version:l}=a;Me(Gr(e,{isLoading:!0}));const c=Qe(Re()),d=await(0,n.p)(r?"importMnemonic":"createWallet",c,e.auth.mnemonic,o,l);if(e=Re(),!d||"error"in d)return Me(Gr(e,{isLoading:void 0})),void t.showError({error:null==d?void 0:d.error});const{accountId:u,tonAddress:m,tronAddress:p,secondNetworkAccount:f}=d,h=(0,s.Oy)({ton:m,tron:p});if(r||(e={...e,appState:Mt.Auth,isAddAccountModalOpen:void 0}),e=Zr(e=Gr(e,{isLoading:void 0,password:void 0,firstNetworkAccount:{addressByChain:h,accountId:u},secondNetworkAccount:f,...i&&{isPasswordNumeric:!0}})),r){if(Object.keys(qe(e)||{}).length>0)return Me(e),void t.afterConfirmDisclaimer();e=Gr(e,{state:Ut.disclaimer})}else{var g;const t=null!==(g=qe(e))&&void 0!==g?g:{};e=Gr(e,{state:Object.values(t).length?Ut.createBackup:Ut.disclaimerAndBackup})}Me(e)})),We("createHardwareAccounts",(async(e,n)=>{var a;const o=null!==(a=qe(e))&&void 0!==a?a:{},r=!Object.values(o).length;Me(Gr(e,{isLoading:!0}));const{hardwareSelectedIndices:s=[]}=Re().hardware,l=Qe(Re()),c=await Promise.all([i.e(494),i.e(612),i.e(776),i.e(432)]).then(i.bind(i,95683)),d=await Promise.all(s.map((e=>c.importLedgerWallet(l,e))));!t.bA||r?n.addHardwareAccounts({wallets:d}):Mr("addHardwareAccounts",{wallets:d})})),We("addHardwareAccounts",((e,t,a)=>{var o;let{wallets:r}=a;const i=!e.currentAccountId,s=null===(o=r[0])||void 0===o?void 0:o.accountId;s&&(0,n.p)("activateAccount",s);const l=r.reduce(((e,t)=>{if(!t)return e;const{accountId:n,address:a,walletInfo:o}=t,r={ton:a};return ei({global:e=di(e,n),accountId:n,addressByChain:r,partial:{isHardware:!0,...o&&{ledger:{driver:o.driver,index:o.index}}}})}),Re());s&&(e=di(l,s)),e=Gr(e,{isLoading:!1}),e={...e,shouldForceAccountEdit:!0},Me(e),Re().areSettingsOpen&&t.closeSettings(),r.forEach((e=>{null!=e&&e.accountId&&t.tryAddNotificationAccount({accountId:null==e?void 0:e.accountId})})),t.afterSignIn(),i&&(t.resetApiSettings(),t.requestConfetti(),Wo())})),We("afterCheckMnemonic",((e,t)=>{e=ni(e=ai(e=di(e,e.auth.firstNetworkAccount.accountId),{})),Me(e),t.tryAddNotificationAccount({accountId:e.auth.firstNetworkAccount.accountId}),t.afterSignIn(),rt(e)&&t.resetApiSettings()})),We("restartCheckMnemonicIndexes",((e,t,n)=>{let{worldsCount:a}=n;Me(Gr(e,{mnemonicCheckIndexes:Ri(a)}))})),We("skipCheckMnemonic",((e,n)=>{t.bA?Mr("skipCheckMnemonic"):(e=ni(e=ai(e=di(e,e.auth.firstNetworkAccount.accountId),{isBackupRequired:!0})),n.tryAddNotificationAccount({accountId:e.auth.firstNetworkAccount.accountId}),Me(e),n.afterSignIn(),rt(e)&&n.resetApiSettings())})),We("startImportingWallet",(e=>{const t=et(e)&&!e.auth.password?Ut.importWalletCheckPassword:Ut.importWallet;Me(Gr(e,{state:t,error:void 0,method:"importMnemonic"}))})),We("openAbout",(e=>{Me(Gr(e,{state:Ut.about,error:void 0}))})),We("closeAbout",(e=>{Me(Gr(e,{state:Ut.none,error:void 0}))})),We("afterImportMnemonic",(async(e,a,o)=>{let{mnemonic:r}=o;if(r=(0,s.oE)(r),!zo(r)&&!await(0,n.p)("validateMnemonic",r))return void Me(Gr(Re(),{error:Dn.Nu.InvalidMnemonic}));const i=et(e=Re()),l=Object.keys(qe(e)||{}).length>0,c=Oo()?Ut.importWalletCreatePin:t.uh?Ut.importWalletCreateBiometrics:Ut.importWalletCreatePassword;e=Gr(e,{mnemonic:r,error:void 0,...!i&&{state:c}}),Me(e),i?a.confirmDisclaimer():(l||a.requestConfetti(),Wo())})),We("confirmDisclaimer",((e,t)=>{if(et(e))return Me(e),void t.afterCreatePassword({password:e.auth.password});t.afterConfirmDisclaimer()})),We("afterConfirmDisclaimer",((e,t)=>{const{firstNetworkAccount:n}=e.auth;e=ni(e=Gr(e=di(e,n.accountId),{state:Ut.ready})),Me(e),t.tryAddNotificationAccount({accountId:n.accountId}),t.afterSignIn(),rt(e)&&t.resetApiSettings()})),We("cleanAuthError",(e=>{Me(Gr(e,{error:void 0}))})),We("startChangingNetwork",((e,n,a)=>{let{network:o}=a;t.bA&&Mr("startChangingNetwork",{network:o});const r=Object.keys(Ke(o,e.accounts.byId));if(r.length){const e=r[0];n.switchAccount({accountId:e,newNetwork:o})}else Me({...e,areSettingsOpen:!1,appState:Mt.Auth}),n.changeNetwork({network:o})})),We("switchAccount",(async(e,n,a)=>{if(t.bA)return void Mr("switchAccount",a);const{accountId:o,newNetwork:r}=a;await Fi(e,o,r)})),We("connectHardwareWallet",(async(e,n,a)=>{var o;const r=null!==(o=qe(e))&&void 0!==o?o:{},s=!Object.values(r).length,{areSettingsOpen:l}=e;if(t.KI&&!s&&!l)return;e=ri(e,{hardwareState:Kt.Connecting,hardwareWallets:void 0,hardwareSelectedIndices:void 0,isLedgerConnected:void 0,isTonAppConnected:void 0}),Me(e);const c=await Promise.all([i.e(494),i.e(612),i.e(776),i.e(432)]).then(i.bind(i,95683)),d=await c.connectLedger(a.transport);if(e=Re(),!d)return e=ri(e,{isLedgerConnected:!1,hardwareState:Kt.Failed}),void Me(e);e=ri(e,{isLedgerConnected:!0}),Me(e);try{var u;const t=await c.waitLedgerTonApp();if(e=Re(),!t)return e=ri(e,{isTonAppConnected:!1,hardwareState:Kt.Failed}),void Me(e);e=ri(e,{isTonAppConnected:!0}),Me(e),e=Re();const{isRemoteTab:o}=e.hardware,r=Qe(e),i=function(e){var t;const n=null!==(t=ot(e))&&void 0!==t?t:[],a=null==n?void 0:n.map((e=>e.ledger.index)).sort(((e,t)=>e-t));if(0===a.length||0!==a[0])return-1;if(1===a.length)return 0;for(let e=1;e<a.length;e++)if(a[e]-a[e-1]!=1)return e-1;return a.length-1}(e),s=(null!==(u=ot(e))&&void 0!==u?u:[]).map((e=>e.addressByChain.ton)),l=o?[]:await c.getNextLedgerWallets(r,i,s);if(e=Re(),"error"in l)throw n.showError({error:l.error}),Error(l.error);e=ri(e,{hardwareWallets:l,hardwareState:o||1===l.length?Kt.ConnectedWithSingleWallet:Kt.ConnectedWithSeveralWallets,lastUsedTransport:a.transport}),Me(e)}catch(t){const o=(0,gr.HN)(t.name);if(o&&!a.noRetry)return void n.connectHardwareWallet({...a,noRetry:!0});e=ri(e=Re(),{isLedgerConnected:!o,isTonAppConnected:o?void 0:e.hardware.isTonAppConnected,hardwareState:Kt.Failed}),Me(e),(0,Fn.SJ)("connectHardwareWallet",t)}})),We("loadMoreHardwareWallets",(async(e,t,n)=>{var a;let{lastIndex:o}=n;const r=Qe(e),s=null!==(a=e.hardware.hardwareWallets)&&void 0!==a?a:[],l=await Promise.all([i.e(494),i.e(612),i.e(776),i.e(432)]).then(i.bind(i,95683)),c=await l.getNextLedgerWallets(r,o);if(e=Re(),"error"in c)throw t.showError({error:c.error}),Error(c.error);e=ri(e,{hardwareWallets:s.concat(c)}),Me(e)})),We("afterSelectHardwareWallets",((e,t,n)=>{let{hardwareSelectedIndices:a}=n;e=ri(e=Gr(e,{method:"importHardwareWallet",error:void 0}),{hardwareSelectedIndices:a}),Me(e),t.afterCreatePassword({password:""})})),We("resetHardwareWalletConnect",(e=>{e=ri(e,{hardwareState:Kt.Connect,isLedgerConnected:void 0,isTonAppConnected:void 0}),Me(e)})),We("enableBiometrics",(async(e,a,o)=>{let{password:r}=o;if(!await(0,n.p)("verifyPassword",r))return e=ci(e=Re(),{error:"Wrong password, please try again."}),void Me(e);e=Gr(e=ci(e=Re(),{error:void 0,state:Wt.TurnOnRegistration}),{isLoading:!0}),Me(e);try{const a=t.cp?void 0:await va.createCredential();e=ci(e=Re(),{state:Wt.TurnOnVerification}),Me(e);const o=await ya({credential:a});if(e=Re(),!o)return e=ci(e,{error:"Biometric setup failed.",state:Wt.TurnOnPasswordConfirmation}),void Me(e);e=ci(e,{state:Wt.TurnOnComplete}),Me(e),await(0,n.p)("changePassword",r,o.password),e=ii(e=Re(),{authConfig:o.config}),Me(e)}catch(t){const n=null!=t&&t.message.includes("privacy-considerations-client")?"Biometric setup failed.":(null==t?void 0:t.message)||"Biometric setup failed.";e=ci(e=Re(),{error:n,state:Wt.TurnOnPasswordConfirmation}),Me(e)}finally{e=Gr(e=Re(),{isLoading:void 0}),Me(e)}})),We("disableBiometrics",(async(e,t,a)=>{let{password:o,isPasswordNumeric:r}=a;const{password:i}=e.biometrics;if(!o||!i)return e=ci(e,{error:"Biometric confirmation failed."}),void Me(e);e=Gr(e=Re(),{isLoading:!0}),Me(e);try{await(0,n.p)("changePassword",i,o)}catch(t){return e=ci(e=Re(),{error:(null==t?void 0:t.message)||"Failed to disable biometrics."}),void Me(e)}finally{e=Gr(e=Re(),{isLoading:void 0}),Me(e)}e=ii(e=ci(e=Re(),{state:Wt.TurnOffComplete,error:void 0}),{authConfig:{kind:"password"},isPasswordNumeric:r}),Me(e)})),We("closeBiometricSettings",(e=>{e={...e,biometrics:(0,s.mg)(Kr.biometrics)},Me(e)})),We("openBiometricsTurnOn",(e=>{e=ci(e,{state:Wt.TurnOnPasswordConfirmation}),Me(e)})),We("openBiometricsTurnOffWarning",(e=>{e=ci(e,{state:Wt.TurnOffWarning}),Me(e)})),We("openBiometricsTurnOff",(async e=>{e=ci(e,{state:Wt.TurnOffBiometricConfirmation}),Me(e);const t=await ka(e.settings.authConfig);e=ci(e=Re(),t?{state:Wt.TurnOffCreatePassword,password:t}:{error:"Biometric confirmation failed."}),Me(e)})),We("disableNativeBiometrics",(e=>{e=ii(e,{authConfig:{kind:"password"},isPasswordNumeric:!0}),Me(e)})),We("enableNativeBiometrics",(async(t,a,o)=>{let{password:r}=o;if(!await(0,n.p)("verifyPassword",r))return t=Re(),t=Zr(t={...t,nativeBiometricsError:"Incorrect code, please try again."}),void Me(t);t=Jr(t=Re()),t={...t,nativeBiometricsError:void 0},Me(t);try{let n;if(n=e.tKX?(await ma()).success:await Pn.verifyIdentity({title:e.C39,subtitle:"",maxAttempts:1}).then((()=>!0)).catch((()=>!1)),!n)return t=Re(),t=Zr(t={...t,nativeBiometricsError:"Failed to enable biometrics."}),Me(t),void Uo();const a=await ba(r);await(0,l.v7)(750),t=ii(t=Re(),{authConfig:a.config}),t={...t,nativeBiometricsError:void 0},Me(t),Wo()}catch(e){t=Re(),t=Zr(t={...t,nativeBiometricsError:(null==e?void 0:e.message)||"Failed to enable biometrics."}),Me(t),Uo()}})),We("clearNativeBiometricsError",(e=>({...e,nativeBiometricsError:void 0}))),We("openAuthBackupWalletModal",(e=>{t.bA?Mr("openAuthBackupWalletModal"):(e=Gr(e,{state:Ut.safetyRules}),Me(e))})),We("openMnemonicPage",(e=>{t.bA?Mr("openMnemonicPage"):(e=Gr(e,{state:Ut.mnemonicPage}),Me(e))})),We("openCreateBackUpPage",(e=>{var n;if(t.bA)return void Mr("openCreateBackUpPage");const a=null!==(n=qe(e))&&void 0!==n?n:{};e=Gr(e,{state:Object.values(a).length?Ut.createBackup:Ut.disclaimerAndBackup}),Me(e)})),We("openCheckWordsPage",(e=>{t.bA?Mr("openCheckWordsPage"):(e=Gr(e,{state:Ut.checkWords}),Me(e))})),We("closeCheckWordsPage",((e,n,a)=>{const{isBackupCreated:o}=a||{};t.bA&&Mr("closeCheckWordsPage",a),!t.bA&&o&&n.afterCheckMnemonic()})),We("copyStorageData",(async(e,t)=>{const a=await(0,n.p)("fetchAccountConfigForDebugPurposesOnly");if(a){const e=JSON.stringify({...JSON.parse(a),global:Mi()});await $o(e),t.showNotification({message:fr("Copied")})}else t.showError({error:Dn.QD.Unexpected})})),We("importAccountByVersion",(async(e,a,o)=>{var r,i;let{version:s}=o;if(t.bA)return void Mr("importAccountByVersion",{version:s});const l=e.currentAccountId,c=await(0,n.p)("importNewWalletVersion",l,s),d=st(e=Re(),"ton",c.address);if(d)return void a.switchAccount({accountId:d});const{title:u}=(null!==(r=null===(i=e.accounts)||void 0===i?void 0:i.byId)&&void 0!==r?r:{})[l],m={ton:c.address};e=di(e,c.accountId);const p=c.ledger?{isHardware:!0,ledger:null==c?void 0:c.ledger}:void 0;e=ei({global:e,accountId:c.accountId,addressByChain:m,partial:{...p,title:u},titlePostfix:s}),Me(e),await(0,n.p)("activateAccount",c.accountId),a.tryAddNotificationAccount({accountId:c.accountId})})),We("setIsAuthLoading",((e,t,n)=>{let{isLoading:a}=n;e=Gr(e,{isLoading:a}),Me(e)})),We("fetchTokenTransactions",(async(e,t,a)=>{var o,r;let{limit:i,slug:c,shouldLoadWithBudget:d}=a;e=Si(e,!0),Me(e);const u=e.currentAccountId;let{idsBySlug:m,byId:p}=(null===(o=Ze(e,u))||void 0===o?void 0:o.activities)||{},f=!0,h=[],g=m&&m[c]||[];const v=(0,s.Uk)(g,(e=>!_t(e)&&!xt(e)));let w=v&&p?p[v].timestamp:void 0;const{chain:y}=At(e,c);for(;f;){const t=await(0,n.p)("fetchTokenActivitySlice",u,y,c,w,i);if(e=Re(),!t||"error"in t)break;if(!t.length){e=Ai(e,!0,c);break}const{areTinyTransfersHidden:a}=e.settings,o=t.filter((e=>!("transaction"===e.kind&&(jr(e)||a&&Bt(e)))));h=h.concat(t),f=o.length<i&&h.length<i,g=(0,s.Am)(g.concat(o.map((e=>e.id)))),w=t[t.length-1].timestamp}h.sort(Oi),e=Si(e,!1);const b=(0,s.dU)(h,"id"),E=Object.keys(b),k=null===(r=Ze(e,u))||void 0===r?void 0:r.activities;p={...(null==k?void 0:k.byId)||{},...b},m=(null==k?void 0:k.idsBySlug)||{},g=(0,s.Am)((m[c]||[]).concat(E)),g.sort(((e,t)=>Oi(p[e],p[t]))),e=oi(e,u,{activities:{...k,byId:p,idsBySlug:{...m,[c]:g}}}),Me(e),d&&(0,l.aj)((()=>{t.fetchTokenTransactions({limit:i,slug:c})}))})),We("fetchAllTransactions",(async(e,t,a)=>{var o,r,i,c;let{limit:d,shouldLoadWithBudget:u}=a;e=Si(e,!0),Me(e);const m=e.currentAccountId,p=null!==(o=Rt(e,m,"ton"))&&void 0!==o?o:[],f=null!==(r=Rt(e,m,"tron"))&&void 0!==r?r:[];let h=function(e,t){var n;const a=null===(n=Ze(e,t))||void 0===n?void 0:n.activities;if(!a)return;const{byId:o,idsMain:r=[]}=a,i=(0,s.Uk)(r,(e=>!_t(e)&&!xt(e)));return i?o[i].timestamp:void 0}(e,m),g=!0,v=[];for(;g;){const t=await(0,n.p)("fetchAllActivitySlice",m,d,h,p,f);if(e=Re(),!t||"error"in t)break;if(!t.length){e=Ai(e,!0);break}const{areTinyTransfersHidden:a}=e.settings,o=t.filter((e=>!("transaction"===e.kind&&(jr(e)||a&&Bt(e)))));v=v.concat(t),g=o.length<d&&v.length<d,h=t[t.length-1].timestamp}e=Si(e,!1);const w=(0,s.dU)(v,"id"),y=null===(i=Ze(e,m))||void 0===i?void 0:i.activities,b={...(null==y?void 0:y.byId)||{},...w};v.sort(Oi);const E=(0,s.Am)((null!==(c=null==y?void 0:y.idsMain)&&void 0!==c?c:[]).concat((0,s.JY)(v,"id")));e=oi(e,m,{activities:{...y,byId:b,idsMain:E}}),Me(e),u&&(0,l.aj)((()=>{t.fetchAllTransactions({limit:d})}))})),We("resetIsHistoryEndReached",((e,t,n)=>{e=Ai(e,!1,null==n?void 0:n.slug),Me(e)})),We("setIsBackupRequired",((e,t,n)=>{var a;let{isMnemonicChecked:o}=n;const{isBackupRequired:r}=null!==(a=Je(e))&&void 0!==a?a:{};Me(ai(e,{isBackupRequired:o?void 0:r}))})),We("submitSignature",(async(e,t,a)=>{const{password:o}=a,{promiseId:r}=e.currentSignature;await(0,n.p)("verifyPassword",o)?(await(0,n.p)("confirmDappRequest",r,o),Me(Ci(Re(),{isSigned:!0}))):Me(Ci(Re(),{error:"Wrong password, please try again."}))})),We("clearSignatureError",(e=>{Me(Ci(e,{error:void 0}))})),We("cancelSignature",(e=>{const{promiseId:t}=e.currentSignature||{};t&&(0,n.p)("cancelDappRequest",t,"Canceled by the user"),Me({...e,currentSignature:void 0})})),We("addToken",((e,t,n)=>{var a,o,r,i,l,c,d,u;let{token:m}=n;var p,f,h;null!==(a=e.tokenInfo)&&void 0!==a&&null!==(a=a.bySlug)&&void 0!==a&&a[m.slug]||(e=Ui(e,{[m.slug]:{name:m.name,symbol:m.symbol,slug:m.slug,decimals:m.decimals,chain:m.chain,image:m.image,keywords:m.keywords,quote:{slug:m.slug,price:null!==(p=m.price)&&void 0!==p?p:0,priceUsd:null!==(f=m.priceUsd)&&void 0!==f?f:0,percentChange24h:null!==(h=m.change24h)&&void 0!==h?h:0}}}));const{balances:g}=null!==(o=Je(e))&&void 0!==o?o:{};null!=g&&g.bySlug[m.slug]||(e=ai(e,{balances:{...g,bySlug:{...null==g?void 0:g.bySlug,[m.slug]:0n}}}));const v=nt(e),w=null!==(i=nt(e=li(e,{importedSlugs:[...null!==(r=null==v?void 0:v.importedSlugs)&&void 0!==r?r:[],m.slug]})))&&void 0!==i?i:{};return li(e,{...w,orderedSlugs:[...null!==(l=w.orderedSlugs)&&void 0!==l?l:[],m.slug],alwaysShownSlugs:(0,s.Am)([...null!==(c=w.alwaysShownSlugs)&&void 0!==c?c:[],m.slug]),alwaysHiddenSlugs:null===(d=w.alwaysHiddenSlugs)||void 0===d?void 0:d.filter((e=>e!==m.slug)),deletedSlugs:null===(u=w.deletedSlugs)||void 0===u?void 0:u.filter((e=>e!==m.slug))})})),We("importToken",(async(e,t,a)=>{var o,r,i;let{address:s}=a;const{currentAccountId:c}=e;e=ii(e,{importToken:{isLoading:!0,token:void 0}}),Me(e);const d=await(0,n.p)("buildTokenSlug","ton",s);let u=null===(o=(e=Re()).tokenInfo.bySlug)||void 0===o?void 0:o[d];if(!u){if(u=await(0,n.p)("fetchToken",e.currentAccountId,s),await(0,l.v7)(250),e=Re(),!u)return e=ii(e,{importToken:{isLoading:!1,token:void 0}}),void Me(e);{const t={...u,quote:{slug:u.slug,price:0,priceUsd:0,percentChange24h:0}};e=Ui(e,{[t.slug]:t}),Me(e)}}const m=null!==(r=null===(i=Ze(e,c))||void 0===i||null===(i=i.balances)||void 0===i?void 0:i.bySlug)&&void 0!==r?r:{},p=!(u.slug in m),f=dn(u);e=ii(e=Re(),{importToken:{isLoading:!1,token:f}}),p&&(e=function(e,t,n){var a;return oi(e,t,{balances:{bySlug:{...null===(a=Ze(e,t))||void 0===a||null===(a=a.balances)||void 0===a?void 0:a.bySlug,[n]:0n}}})}(e,e.currentAccountId,u.slug)),Me(e)})),We("resetImportToken",(e=>{e=ii(e,{importToken:{isLoading:!1,token:void 0}}),Me(e)})),We("verifyHardwareAddress",(async(e,t)=>{const n=e.currentAccountId,a=await Promise.all([i.e(494),i.e(612),i.e(776),i.e(432)]).then(i.bind(i,95683));if(await a.reconnectLedger())try{t.showDialog({title:"Ledger",message:"$ledger_verify_address_on_device"}),await a.verifyAddress(n)}catch(e){t.showError({error:e})}else t.showError({error:"$ledger_not_ready"})})),We("setActiveContentTab",((e,t,n)=>{let{tab:a}=n;return ai(e,{activeContentTab:a})})),We("addSwapToken",((e,t,n)=>{let{token:a}=n;if(a.slug in e.swapTokenInfo.bySlug)return;const o={name:a.name,symbol:a.symbol,chain:a.chain,slug:a.slug,decimals:a.decimals,image:a.image,tokenAddress:a.tokenAddress,keywords:a.keywords,isPopular:!1,price:0,priceUsd:0};Me({...e,swapTokenInfo:{...e.swapTokenInfo,bySlug:{...e.swapTokenInfo.bySlug,[o.slug]:o}}})})),We("apiUpdateWalletVersions",((e,t,n)=>{var a;const{accountId:o,versions:r,currentVersion:i}=n;e={...e,walletVersions:{...e.walletVersions,currentVersion:i,byId:{...null===(a=e.walletVersions)||void 0===a?void 0:a.byId,[o]:r}}},Me(e)}));var Wi=i(3476);function Hi(t){return{gas:Wi.sl[t]+e.dqR,real:Wi.fv[t]}}function $i(e){switch(e){case"nominators":return{stake:Hi("stakeNominators"),unstake:Hi("unstakeNominators")};case"liquid":return{stake:Hi("stakeLiquid"),unstake:Hi("unstakeLiquid")};case"jetton":return{stake:Hi("stakeJettons"),unstake:Hi("unstakeJettons"),claim:Hi("claimJettons")}}return{stake:{gas:0n,real:0n},unstake:{gas:0n,real:0n}}}var Vi=i(39989);const zi=(0,On.F3)("BottomSheet");function ji(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}const qi=e=>{e.stopPropagation(),e.preventDefault()};function Ki(e,t,n){const a=o=>{e.removeEventListener(t,a),n(o)};e.addEventListener(t,a)}const Yi=function(e){se(e,[])},Qi=()=>{const e=he();return Yi((()=>or(e))),fr},Gi=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"fast",o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:350,i=arguments.length>6&&void 0!==arguments[6]&&arguments[6];const[s,l]=re(!e),c=ue(),[d,u]=re(e&&n);if(e)l(!1),u(!0),c.current&&(window.clearTimeout(c.current),c.current=void 0);else if(u(!1),!s&&!c.current){const e=()=>{l(!0),t&&t(),c.current=void 0};o?e():c.current=window.setTimeout(e,r)}const m=d&&!(o&&!e)||i&&e,p=Boolean(c.current),f=e||p;return{shouldRender:f,transitionClassNames:ji(a&&"opacity-transition",a,m&&"open",!m&&"not-open",f&&"shown",!f&&"not-shown",p&&"closing"),hasShownClass:f,hasOpenClass:m}};let Xi=function(e){return e[e.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",e[e.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",e[e.MANIFEST_NOT_FOUND_ERROR=2]="MANIFEST_NOT_FOUND_ERROR",e[e.MANIFEST_CONTENT_ERROR=3]="MANIFEST_CONTENT_ERROR",e[e.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",e[e.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",e[e.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED",e}({}),Ji=function(e){return e[e.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",e[e.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",e[e.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",e[e.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",e[e.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED",e}({});function Zi(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wi.Bm;return{platform:es(),appName:e.C39,appVersion:"3.4.6",maxProtocolVersion:e.gY_,features:["SendTransaction",{name:"SendTransaction",maxMessages:t}]}}function es(){var t;const{userAgent:n}=navigator,a=navigator.platform||(null===(t=navigator)||void 0===t||null===(t=t.userAgentData)||void 0===t?void 0:t.platform)||"";let o;return o=e.hL1||e.tKX?"browser":/Android/.test(n)?"android":-1!==["iPhone"].indexOf(a)?"iphone":-1!==["iPad","iPod"].indexOf(a)?"ipad":-1!==["macOS","Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(a)?"mac":-1!==["Win32","Win64","Windows","WinCE"].indexOf(a)?"windows":/Linux/.test(a)?"linux":"browser",o}let ts=function(e){return e.invokeCapFunc="invokeCapFunc",e.functionResponse="functionResponse",e.event="event",e}({});const ns=e=>`\n    (function() {\n      window.dispatchEvent(new MessageEvent('message', {\n        data: ${JSON.stringify(e)}\n      }));\n    })();\n  `;function as(a){let{endpoint:o}=a;const{openLoadingOverlay:r,closeLoadingOverlay:i}=Ue(),s=ue(null),[l,c]=re(0),d=ce((()=>o?new URL(o).origin.toLowerCase():void 0),[o]),u=ce((()=>{if(d)return{deviceInfo:Zi(),protocolVersion:e.gY_,isWalletBrowser:!0,connect:async(t,a)=>{try{var o,u;if(t>e.gY_)return os(l,"Unsupported protocol version",Xi.BAD_REQUEST_ERROR);!function(e){var t;if(!(e&&e.manifestUrl&&null!==(t=e.items)&&void 0!==t&&t.length))throw new Error("Wrong request data")}(a),await(null===(o=s.current)||void 0===o?void 0:o.hide()),r();const m=await(0,n.p)("tonConnect_connect",rs(d),a,l);return i(),null===(u=s.current)||void 0===u||u.show(),c(l+1),m}catch(e){var m;return(0,Fn.SJ)("useDAppBridge:connect",e),null===(m=s.current)||void 0===m||m.show(),"event"in e&&"id"in e&&"payload"in e?e:os(l,null==e?void 0:e.message,Xi.UNKNOWN_ERROR)}},restoreConnection:async()=>{try{const e=await(0,n.p)("tonConnect_reconnect",rs(d),l);return c(l+1),e}catch(e){return(0,Fn.SJ)("useDAppBridge:reconnect",e),"event"in e&&"id"in e&&"payload"in e?e:os(l,null==e?void 0:e.message,Xi.UNKNOWN_ERROR)}},disconnect:async()=>{c(0),await(0,n.p)("tonConnect_disconnect",rs(d),{id:l.toString(),method:"disconnect",params:[]})},send:async e=>{var a;c(l+1);const o=Re();if(!(null===(a=o.byAccountId[o.currentAccountId].dapps)||void 0===a?void 0:a.some((e=>e.origin===d))))return{error:{code:Ji.UNKNOWN_APP_ERROR,message:"Unknown app"},id:e.id.toString()};const r=rs(d);try{switch(e.method){case"sendTransaction":{var i,u;await(null===(i=s.current)||void 0===i?void 0:i.hide());const a=await(0,n.p)("tonConnect_sendTransaction",r,e);return t.bA&&zi.applyScrollPatch(),null===(u=s.current)||void 0===u||u.show(),a}case"disconnect":return await(0,n.p)("tonConnect_disconnect",r,e);case"signData":{var m,p;await(null===(m=s.current)||void 0===m?void 0:m.hide());const t=await(0,n.p)("tonConnect_signData",r,e);return null===(p=s.current)||void 0===p||p.show(),t}default:return{error:{code:Ji.BAD_REQUEST_ERROR,message:`Method "${e.method}" is not supported`},id:e.id.toString()}}}catch(t){var f;return(0,Fn.SJ)("useDAppBridge:send",t),null===(f=s.current)||void 0===f||f.show(),{error:{code:Ji.UNKNOWN_ERROR,message:null==t?void 0:t.message},id:e.id.toString()}}}}}),[d,l]),[m,p,f]=((t,n,a)=>{const o=ce((()=>n?((t,n)=>{const a=Object.keys(t).filter((e=>"function"==typeof t[e])).reduce(((e,t)=>`${e}${t}: (...args) => {\n      return new Promise((resolve, reject) => window.invokeCapFunc('bridge:${t}', args, resolve, reject))\n    },`),"");return`\n    (() => {\n      if (window.${e.HOw}) return;\n      window.capPromises = {};\n      window.capEventListeners = [];\n      window.invokeCapFunc = (name, args, resolve, reject) => {\n        const invocationId = btoa(Math.random()).substring(0, 12);\n        const timeoutMs = ${n||"undefined"};\n        const timeoutId = timeoutMs\n          ? setTimeout(() => reject(new Error(\`bridge timeout for function with name: \${name}\`)), timeoutMs)\n          : null;\n        window.capPromises[invocationId] = { resolve, reject, timeoutId };\n        const target = 'cordova_iab' in window ? window.cordova_iab : window.webkit.messageHandlers.cordova_iab;\n        target.postMessage(JSON.stringify({\n          type: '${ts.invokeCapFunc}',\n          invocationId: invocationId,\n          name,\n          args,\n        }));\n      };\n      window.open = (url) => {\n        window.invokeCapFunc('window:open', { url });\n      };\n      window.close = () => {\n        window.invokeCapFunc('window:close');\n      };\n      window.addEventListener('click', (e) => {\n        const { href, target } = e.target.closest('a') || {};\n        if (href && (target === '_blank' || !href.startsWith('http'))) {\n          e.preventDefault();\n          window.invokeCapFunc('window:open', { url: href });\n        }\n      }, false);\n      window.addEventListener('message', ({ data }) => {\n        try {\n          const message = JSON.parse(data);\n          if (message.type === '${ts.functionResponse}') {\n            const promise = window.capPromises[message.invocationId];\n            if (!promise) {\n              return;\n            }\n            if (promise.timeoutId) {\n              clearTimeout(promise.timeoutId);\n            }\n            if (message.status === 'fulfilled') {\n              promise.resolve(message.data);\n            } else {\n              promise.reject(new Error(message.data));\n            }\n            delete window.capPromises[message.invocationId];\n          }\n          if (message.type === '${ts.event}') {\n            window.capEventListeners.forEach((listener) => listener(message.event));\n          }\n        } catch {}\n      });\n      function listen(cb) {\n        window.capEventListeners.push(cb);\n        return function() {\n          const index = window.capEventListeners.indexOf(cb);\n          if (index > -1) {\n            window.capEventListeners.splice(index, 1);\n          }\n        };\n      }\n      window.${e.HOw} = {\n        tonconnect: Object.assign(\n          ${JSON.stringify(t)},\n          {${a}},\n          { listen },\n        ),\n      };\n    })();\n  `})(n,a):""),[n,a]),r=de((e=>{var n;null===(n=t.current)||void 0===n||n.executeScript({code:ns(JSON.stringify(e))})}),[t]);return[o,de((async e=>{if(!n)return;const a="string"==typeof e.data?JSON.parse(e.data):e.data;if(a.type===ts.invokeCapFunc)try{let e;switch(a.name){case"window:open":{const{url:t}=a.args;!function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];eo(e)||ao(e)||oo(e)?Za(e,n):Ma(e,{isExternal:t})}(t,!0,!0),e=!0;break}case"window:close":var o;null===(o=t.current)||void 0===o||o.close();break;default:{const t=a.name.replace("bridge:","");e=await n[t](...a.args)}}r({type:ts.functionResponse,invocationId:a.invocationId,status:"fulfilled",data:e})}catch(e){r({type:ts.functionResponse,invocationId:a.invocationId,status:"rejected",data:null==e?void 0:e.message})}}),[n,t,r]),de((e=>{r({type:ts.event,event:e})}),[r])]})(s,u),h=Cr((()=>{try{f({event:"disconnect",payload:{},id:l})}catch(e){(0,Fn.SJ)("disconnect",e)}}));return{inAppBrowserRef:s,bridgeInjectionCode:m,onMessage:p,disconnect:h}}function os(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Unknown error.";return{event:"connect_error",id:e,payload:{code:(arguments.length>2?arguments[2]:void 0)||Xi.UNKNOWN_ERROR,message:t}}}function rs(e){return{origin:e,accountId:Re().currentAccountId}}let is;const ss=me(He((e=>{const{currentBrowserOptions:t,settings:n}=e;return{url:null==t?void 0:t.url,title:null==t?void 0:t.title,subtitle:null==t?void 0:t.subtitle,theme:n.theme,animationLevel:n.animationLevel}}))((function(n){let{title:a,subtitle:o,url:r,theme:i,animationLevel:c}=n;const{closeBrowser:d}=Ue(),{hasOpenClass:u,hasShownClass:m}=Gi(Boolean(r)),p=Qi(),{inAppBrowserRef:f,bridgeInjectionCode:h,onMessage:g,disconnect:v}=as({endpoint:r}),w=Cr((e=>{(0,Fn.SJ)("inAppBrowser error",e)})),y=Cr((async()=>{t.KI&&await zi.enable(),v(),is.removeEventListener("loaderror",w),is.removeEventListener("message",g),is.removeEventListener("exit",y),is=void 0,f.current=null,d()})),b=Cr((async()=>{t.KI&&!(await zi.isShown()).value&&await zi.disable();const n=!a&&r?xa(r):a,d=o===n?void 0:o,u=`,${(0,s.oE)([t.pz||n?`title=${n||""}`:void 0,t.pz||d?`subtitle=${d||""}`:void 0,r?`shareurl=${encodeURIComponent(r)}`:void 0,`closebuttoncaption=${t.pz?p("Close"):"x"}`,`backbuttoncaption=${p("Back")}`,`reloadcaption=${p("Reload Page")}`,`openinbrowsercaption=${p(t.pz?"Open in Safari":"Open in Browser")}`,`copyurlcaption=${p("CopyURL")}`,`sharecaption=${p("Share")}`,`theme=${i}`,"animated="+((null!=c?c:e.i11>0)?"yes":"no")]).join(",")}`;is=cordova.InAppBrowser.open(r,"_blank",ko+u,h);const m=is.hide;is.hide=()=>new Promise((e=>{null==m||m(),is&&t.ZH?Ki(is,"hidecompletion",(()=>e())):e()}));const v=is.close;is.close=()=>{if(!is)return Promise.resolve();v();const e=new Promise((e=>{Ki(is,"exit",(async()=>{await(0,l.fm)((()=>!is),15,20),e()})),setTimeout(e,900)}));return is.show=()=>{},is.hide=()=>e,e},f.current=is,is.addEventListener("loaderror",w),is.addEventListener("message",g),is.addEventListener("exit",y),is.show()}));return se((()=>{r&&b()}),[r,a,o]),fe.createElement("div",{className:ji(m&&"HhiWhPVc",u&&"pNRv6m36")})})));function ls(){return is}function cs(){var e;return Promise.all([null===(e=ls())||void 0===e?void 0:e.close(),Ue().closeAnyModal(),Ue().closeMediaViewer()])}const ds=i.p+"coin_btc.887dcd8a09b641cd64fc.png",us=i.p+"coin_my.0333e30adb78820c4490.svg",ms={ton:i.p+"coin_ton.3ad15a82e5688b967ed1.png",btc:ds,trx:i.p+"coin_trx.e9458515724ddbb167c8.svg",usdt:i.p+"coin_usdt.954394d1344db6c259d1.svg",my:us};function ps(e){let{tokenBySlug:t,states:n,shouldUseNominators:a}=e;const o=n.some((e=>"nominators"===e.type&&hs(e))),r=n.some((e=>"liquid"===e.type&&hs(e)));return a&&!r&&(n=n.filter((e=>"liquid"!==e.type))),a||o||(n=n.filter((e=>"nominators"!==e.type))),n.filter((e=>t[e.tokenSlug])).map((e=>{const n=t[e.tokenSlug],a=ms[n.symbol.toLowerCase()];return{value:e.id,icon:null!=a?a:n.image,name:n.symbol}}))}function fs(e){return e.isUnstakeRequested?"unstakeRequested":hs(e)?"active":"inactive"}function hs(t){return Boolean(t.balance||t.isUnstakeRequested||"unclaimedRewards"in t&&t.unclaimedRewards>e.dL4)}function gs(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}We("startStaking",((e,n,a)=>{const o=e.currentStaking.state!==Yt.None;if(t.bA&&!o)return void Mr("startStaking",a);const r=Yt.StakeInitial;Me(Ti(e,{state:r,error:void 0}))})),We("startUnstaking",((e,n,a)=>{const o=e.currentStaking.state!==Yt.None;if(t.bA&&!o)return void Mr("startUnstaking",a);const r=Yt.UnstakeInitial;Me(Ti(e,{state:r,error:void 0}))})),We("fetchStakingFee",(async(e,t,a)=>{const{amount:o}=a,{currentAccountId:r}=e;if(!r)return;const i=Bn(e,r),s=await(0,n.p)("checkStakeDraft",r,o,i);s&&!("error"in s)&&(e=Ti(e=Re(),{fee:s.fee}),Me(e))})),We("submitStakingInitial",(async(e,t,a)=>{const{isUnstaking:o,amount:r}=null!=a?a:{},{currentAccountId:i}=e;if(!i)return;Me(Ti(e,{isLoading:!0,error:void 0}));const s=Bn(e,i);if(o){const a=await(0,n.p)("checkUnstakeDraft",i,r,s);e=Ti(e=Re(),{isLoading:!1}),a&&("error"in a?e=Ti(e,{error:a.error}):(Xe(e,i).isHardware?(t.resetHardwareWalletConnect(),e=Ti(Re(),{state:Yt.UnstakeConnectHardware})):e=Ti(e,{state:Yt.UnstakePassword}),e=Ti(e,{fee:a.fee,amount:r,error:void 0,tokenAmount:a.tokenAmount})))}else{const a=await(0,n.p)("checkStakeDraft",i,r,s);e=Ti(e=Re(),{isLoading:!1}),a&&("error"in a?e=Ti(e,{error:a.error}):(Xe(e,i).isHardware?(t.resetHardwareWalletConnect(),e=Ti(Re(),{state:Yt.StakeConnectHardware})):e=Ti(e,{state:Yt.StakePassword}),e=Ti(e,{fee:a.fee,amount:r,error:void 0})))}Me(e)})),We("submitStakingPassword",(async(e,t,a)=>{const{password:o,isUnstaking:r}=a,{amount:i,tokenAmount:s}=e.currentStaking,{currentAccountId:l}=e;if(!await(0,n.p)("verifyPassword",o))return void Me(Ti(Re(),{error:"Wrong password, please try again."}));const c=Bn(e=Re(),l);if(Oo()&&(e=Jr(e)),e=Ti(e,{isLoading:!0,error:void 0}),Me(e),await Wo(!0),e=Re(),r){var d;const a=null===(d=e.stakingInfo)||void 0===d||null===(d=d.liquid)||void 0===d?void 0:d.available,r="nominators"===c.type?c.balance:s,i=await(0,n.p)("submitUnstake",e.currentAccountId,o,r,c,$i(c.type).unstake.real),u=Boolean("nominators"===c.type||"liquid"===c.type&&a&&a<c.balance);e=Ti(e=oi(e=Re(),l,{isLongUnstakeRequested:u}),{isLoading:!1}),Me(e),i?e=Ti(e=Re(),{state:Yt.UnstakeComplete}):(t.showDialog({message:"Unstaking was unsuccessful. Try again later."}),e=Re(),Oo()&&(e=Zr(e)))}else{const a=await(0,n.p)("submitStake",e.currentAccountId,o,i,c,$i(c.type).stake.real);e=Ti(e=Re(),{isLoading:!1}),Me(e),a?e=Ti(e=Re(),{state:Yt.StakeComplete}):(t.showDialog({message:"Staking was unsuccessful. Try again later."}),e=Re(),Oo()&&(e=Zr(e)))}Me(e)})),We("submitStakingHardware",(async(e,t,n)=>{const{isUnstaking:a}=n||{},{amount:o,tokenAmount:r}=e.currentStaking,{currentAccountId:s}=e,l=Bn(e,s);e=Ti(e,{isLoading:!0,error:void 0,state:a?Yt.UnstakeConfirmHardware:Yt.StakeConfirmHardware}),Me(e);const c=await Promise.all([i.e(494),i.e(612),i.e(776),i.e(432)]).then(i.bind(i,95683));let d;const u=(e=Re()).currentAccountId;try{if(a){var m;const t=null===(m=e.stakingInfo)||void 0===m||null===(m=m.liquid)||void 0===m?void 0:m.available,n=l.balance,a="nominators"===l.type?n:r;d=await c.submitLedgerUnstake(u,l,a,$i(l.type).unstake.real);const o=Boolean("nominators"===l.type||"liquid"===l.type&&t&&t<n);e=oi(e=Re(),s,{isLongUnstakeRequested:o}),Me(e)}else d=await c.submitLedgerStake(u,o,l,$i(l.type).stake.real)}catch(e){if(e instanceof Vi.bS)return void Me(Ti(Re(),{isLoading:!1,error:"$hardware_blind_sign_not_enabled_internal"}));if(e instanceof Vi.KB)return void Me(Ti(Re(),{isLoading:!1,error:"Canceled by the user"}));(0,Fn.SJ)("submitStakingHardware",e)}e=Ti(e=Re(),{isLoading:!1}),Me(e),d?"string"!=typeof d&&"error"in d?t.showError({error:d.error}):(e=Ti(e=Re(),{state:a?Yt.UnstakeComplete:Yt.StakeComplete}),Me(e)):t.showDialog({message:a?"Unstaking was unsuccessful. Try again later.":"Staking was unsuccessful. Try again later."})})),We("clearStakingError",(e=>{Me(Ti(e,{error:void 0}))})),We("cancelStaking",(e=>{Oo()&&(e=Zr(e)),e=function(e){return{...e,currentStaking:{state:Yt.None}}}(e),Me(e)})),We("setStakingScreen",((e,t,n)=>{const{state:a}=n;Me(Ti(e,{state:a}))})),We("fetchStakingHistory",(async(e,t,a)=>{const{limit:o,offset:r}=null!=a?a:{},i=await(0,n.p)("getStakingHistory",e.currentAccountId,o,r);i&&(e=oi(e=Re(),e.currentAccountId,{stakingHistory:i},!0),Me(e))})),We("openAnyAccountStakingInfo",(async(e,n,a)=>{let{accountId:o,network:r,stakingId:i}=a;t.bA?Mr("openAnyAccountStakingInfo",{accountId:o,network:r,stakingId:i}):(await Promise.all([cs(),Fi(e,o,r)]),n.changeCurrentStaking({stakingId:i}),n.openStakingInfo())})),We("openStakingInfo",(e=>{t.bA?Mr("openStakingInfo"):(e={...e,isStakingInfoModalOpen:!0},Me(e))})),We("closeStakingInfo",(e=>{e={...e,isStakingInfoModalOpen:void 0},Me(e)})),We("changeCurrentStaking",(async(e,n,a)=>{let{stakingId:o,shouldReopenModal:r}=a;t.bA&&r?Mr("changeCurrentStaking",{stakingId:o,shouldReopenModal:r}):(r&&await(0,l.v7)(50),e=Ii(e=Re(),e.currentAccountId,{stakingId:o}),Me(e),r&&n.openStakingInfoOrStart())})),We("startStakingClaim",(e=>{if(t.bA)return void Mr("startStakingClaim");const n=e.currentAccountId,{isHardware:a}=Xe(e,n);e=Ti(e,{state:a?Yt.ClaimConnectHardware:Yt.ClaimPassword}),Me(e)})),We("cancelStakingClaim",(e=>{e=Ti(e,{state:Yt.None}),Me(e)})),We("submitStakingClaim",(async(e,a,o)=>{var r;let{password:i}=o;const s=e.currentAccountId;if(!await(0,n.p)("verifyPassword",i))return void Me(Ti(Re(),{error:"Wrong password, please try again."}));if(e=Re(),Oo()&&(e=Jr(e)),e=Ti(e,{isLoading:!0,error:void 0}),Me(e),await Wo(!0),t.bA)return void Mr("submitStakingClaim",{password:i});const l=Bn(e=Re(),s),c=await(0,n.p)("submitStakingClaim",s,i,l,null===(r=$i(l.type).claim)||void 0===r?void 0:r.real);if(e=Ti(e=Re(),{isLoading:!1}),Me(e),!c||"error"in c)return Oo()&&(e=Zr(e=Re()),Me(e)),Uo(),void a.showError({error:null==c?void 0:c.error});Wo(),e=Ti(e=Re(),{state:Yt.None}),Me(e)})),We("submitStakingClaimHardware",(async(e,t)=>{e=Ti(e,{isLoading:!0,error:void 0,state:Yt.ClaimConfirmHardware}),Me(e);const n=await Promise.all([i.e(494),i.e(612),i.e(776),i.e(432)]).then(i.bind(i,95683)),a=(e=Re()).currentAccountId,o=Bn(e,a);let r;try{var s;r=await n.submitLedgerStakingClaim(a,o,null===(s=$i(o.type).claim)||void 0===s?void 0:s.real)}catch(e){if(e instanceof Vi.bS)return void Me(Ti(Re(),{isLoading:!1,error:"$hardware_blind_sign_not_enabled_internal"}));if(e instanceof Vi.KB)return void Me(Ti(Re(),{isLoading:!1,error:"Canceled by the user"}));(0,Fn.SJ)("submitStakingClaimHardware",e)}e=Ti(e=Re(),{isLoading:!1}),Me(e),r?"object"==typeof r&&"error"in r?t.showError({error:r.error}):(e=Ti(e=Re(),{state:Yt.None}),Me(e)):t.showError({error:Dn.QD.Unexpected})})),We("openStakingInfoOrStart",((e,t)=>{e.currentAccountId&&(hs(Bn(e,e.currentAccountId))?t.openStakingInfo():t.startStaking())}));const vs=(e,t,n)=>Math.min(n,Math.max(t,e)),ws=(e,t,n)=>e>=t&&e<=n,ys=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.round(e*10**t)/10**t};let bs=function(e){return e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.Left=2]="Left",e[e.Right=3]="Right",e}({});function Es(e,t){return t?Math.hypot(t.pageX-e.pageX,t.pageY-e.pageY):0}function ks(e,t){return{x:(e.pageX+t.pageX)/2,y:(e.pageY+t.pageY)/2}}let Ns=0;const Cs=new class{constructor(){let{stability:e=8,sensitivity:t=100,tolerance:n=1.1,delay:a=150}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};gs(this,"stability",void 0),gs(this,"sensitivity",void 0),gs(this,"tolerance",void 0),gs(this,"delay",void 0),gs(this,"lastUpDeltas",void 0),gs(this,"lastDownDeltas",void 0),gs(this,"deltasTimestamp",void 0),this.stability=e,this.sensitivity=t,this.tolerance=n,this.delay=a,this.lastUpDeltas=new Array(2*this.stability).fill(0),this.lastDownDeltas=new Array(2*this.stability).fill(0),this.deltasTimestamp=new Array(2*this.stability).fill(0)}check(e){let t;return void 0!==(e=e.originalEvent||e).wheelDelta?t=e.wheelDelta:void 0!==e.deltaY?t=-40*e.deltaY:void 0===e.detail&&0!==e.detail||(t=-40*e.detail),this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),t>0?(this.lastUpDeltas.push(t),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(t),this.lastDownDeltas.shift(),this.isInertia(-1))}isInertia(e){const t=-1===e?this.lastDownDeltas:this.lastUpDeltas;if(void 0===t[0])return e;if(this.deltasTimestamp[2*this.stability-2]+this.delay>Date.now()&&t[0]===t[2*this.stability-1])return!1;const n=t.slice(0,this.stability),a=t.slice(this.stability,2*this.stability),o=n.reduce(((e,t)=>e+t)),r=a.reduce(((e,t)=>e+t)),i=o/n.length,s=r/a.length;return Math.abs(i)<Math.abs(s*this.tolerance)&&this.sensitivity<Math.abs(s)}}({stability:5,sensitivity:25,tolerance:t.H8?1:.6,delay:150});function Ss(e,n){var a,o,r;let i,s=!1,c=!1,d=!1,u=0,m=null!==(a=n.initialZoom)&&void 0!==a?a:1,p={x:0,y:0},f={x:!1,y:!1};const h=Kn();let g,v={x:h.width/2,y:h.height/2};const w=null!==(o=n.minZoom)&&void 0!==o?o:1,y=null!==(r=n.maxZoom)&&void 0!==r?r:4;function b(t){var a;const o=t.target,{excludedClosestSelector:r,includedClosestSelector:s,withNativeDrag:l,withCursor:c,onDrag:d}=n;(e===o||e.contains(o))&&"INPUT"!==o.tagName&&"TEXTAREA"!==o.tagName&&(r&&(o.matches(r)||o.closest(r))||s&&!o.matches(s)&&!o.closest(s)||(i=t,"mousedown"===t.type?(!l&&d&&t.preventDefault(),document.addEventListener("mousemove",k),document.addEventListener("mouseup",E)):"touchstart"===t.type&&(o.addEventListener("touchmove",k,{passive:!0}),o.addEventListener("touchend",E,{passive:!0}),o.addEventListener("touchcancel",E,{passive:!0}),"touches"in t&&(void 0===t.pageX&&(t.pageX=t.touches[0].pageX),void 0===t.pageY&&(t.pageY=t.touches[0].pageY),2===t.touches.length&&(u=Es(t.touches[0],t.touches[1]),v=ks(t.touches[0],t.touches[1])))),c&&document.body.classList.add("cursor-grabbing"),null===(a=n.onCapture)||void 0===a||a.call(n,t)))}function E(e){i&&(n.withCursor&&document.body.classList.remove("cursor-grabbing"),document.removeEventListener("mouseup",E),document.removeEventListener("mousemove",k),i.target.removeEventListener("touchcancel",E),i.target.removeEventListener("touchend",E),i.target.removeEventListener("touchmove",k),t.pz&&n.selectorToPreventScroll&&Array.from(document.querySelectorAll(n.selectorToPreventScroll)).forEach((e=>{e.style.overflow=""})),e&&(s?n.onRelease&&n.onRelease(e):"mouseup"===e.type&&(n.onDoubleClick&&Date.now()-Ns<300?n.onDoubleClick(e,{centerX:i.pageX,centerY:i.pageY}):!n.onClick||"button"in e&&0!==e.button||n.onClick(e),Ns=Date.now()))),s=!1,c=!1,d=!1,u=0,m=vs(m,w,y),g=void 0,p={x:0,y:0},f={x:!1,y:!1};const a=Kn();v={x:a.width/2,y:a.height/2},i=void 0}function k(e){if(i){if("touchmove"===e.type&&"touches"in e&&(void 0===e.pageX&&(e.pageX=e.touches[0].pageX),void 0===e.pageY&&(e.pageY=e.touches[0].pageY),n.onZoom&&u>0&&2===e.touches.length)){const t=Es(e.touches[0],e.touches[1]),a=ks(e.touches[0],e.touches[1]),o=a.x-v.x,r=a.y-v.y,i=t/u;n.onZoom(e,{zoomFactor:i,initialCenterX:v.x,initialCenterY:v.y,dragOffsetX:o,dragOffsetY:r,currentCenterX:a.x,currentCenterY:a.y}),1!==i&&(s=!0)}const a=e.pageX-i.pageX,o=e.pageY-i.pageY;(Math.abs(a)>=15||Math.abs(o)>=15)&&(s=!0);let r=!1;n.onDrag&&(n.onDrag(e,i,{dragOffsetX:a,dragOffsetY:o}),r=!0),n.onSwipe&&!c&&(c=function(e,a,o){var r;if(t.pz){const t=e.touches[0].pageX;if(t<=20||t>=Kn().width-20)return!1}const i=Math.abs(a),s=Math.abs(o),l=null!==(r=n.swipeThreshold)&&void 0!==r?r:20;let c;if(i>s&&i>=l?c="x":s>i&&s>=l&&(c="y"),!c)return!1;if(g){if(g!==c)return!1}else g=c;return function(e,t,n,a,o){const r={dragOffsetX:n,dragOffsetY:a};return"x"===t?o(e,n<0?bs.Left:bs.Right,r):"y"===t&&o(e,a<0?bs.Up:bs.Down,r)}(e,c,a,o,n.onSwipe)}(e,a,o),r=c),t.pz&&r&&n.selectorToPreventScroll&&Array.from(document.querySelectorAll(n.selectorToPreventScroll)).forEach((e=>{e.style.overflow="hidden"}))}}const N=(0,l.sg)(E,150,!1),C=(0,l.sg)(E,150,!1);function S(e){s||(b(e),s=!0,v={x:e.x,y:e.y})}function A(e){if(!n.onZoom&&!n.onDrag)return;if(n.excludedClosestSelector&&(e.target.matches(n.excludedClosestSelector)||e.target.closest(n.excludedClosestSelector)))return;e.preventDefault(),e.stopPropagation();const{doubleTapZoom:t=3}=n;if(n.onDoubleClick&&Object.is(e.deltaX,-0)&&Object.is(e.deltaY,-0)&&e.ctrlKey)return S(e),m=m>1?1:t,n.onDoubleClick(e,{centerX:e.pageX,centerY:e.pageY}),void(s=!1);const a=e.metaKey||e.ctrlKey||e.shiftKey;if(a&&function(e){if(!n.onZoom)return;S(e);const t=e.x-v.x,a=e.y-v.y,o=vs(e.deltaY,-25,25);m-=.01*o,m=vs(m,.5*w,3*y),d=!0,n.onZoom(e,{zoom:ys(m,2),initialCenterX:v.x,initialCenterY:v.y,dragOffsetX:t,dragOffsetY:a,currentCenterX:e.x,currentCenterY:e.y}),C(e)}(e),!a&&!d){const t=Cs.check(e);(1!==m||t)&&function(e){if(!n.onDrag)return;S(e),f.x&&Math.sign(p.x)!==Math.sign(e.deltaX)||(p.x-=e.deltaX),f.y&&Math.sign(p.y)!==Math.sign(e.deltaY)||(p.y-=e.deltaY);const{x:t,y:a}=p;n.onDrag(e,i,{dragOffsetX:t,dragOffsetY:a},((e,t)=>{f={x:e,y:t}})),N(e)}(e)}}return n.withWheelDrag&&e.addEventListener("wheel",A),e.addEventListener("mousedown",b),document.body.addEventListener("touchstart",b,{passive:!n.isNotPassive}),()=>{E(),document.body.removeEventListener("touchstart",b),e.removeEventListener("mousedown",b),e.removeEventListener("wheel",A)}}const As={Enter:"onEnter",Backspace:"onBackspace",Delete:"onDelete",Esc:"onEsc",Escape:"onEsc",ArrowUp:"onUp",ArrowDown:"onDown",ArrowLeft:"onLeft",ArrowRight:"onRight",Tab:"onTab"},Ts={onEnter:[],onDelete:[],onBackspace:[],onEsc:[],onUp:[],onDown:[],onLeft:[],onRight:[],onTab:[]};function Is(e){return Bs()||document.addEventListener("keydown",_s,!0),Object.keys(e).forEach((t=>{const n=e[t];if(!n)return;const a=Ts[t];a&&a.push(n)})),()=>{!function(e){Object.keys(e).forEach((t=>{const n=e[t],a=Ts[t];if(a){const e=a.findIndex((e=>"function"==typeof e?e===n:n&&"handler"in n&&e.handler===n.handler));-1!==e&&a.splice(e,1)}})),Bs()||document.removeEventListener("keydown",_s,!1)}(e)}}function Bs(){return Object.values(Ts).some((e=>Boolean(e.length)))}function _s(e){const t=As[e.key];if(!t)return;const{length:n}=Ts[t];if(!n)return;const a=Ts[t][n-1];if("function"==typeof a)a(e),e.stopPropagation();else{const{handler:t,noStopPropagation:n,shouldPreventDefault:o}=a;n||e.stopPropagation(),o&&e.preventDefault(),t(e)}}let xs=0;function Ls(){xs+=1}function Os(){xs-=1}function Ps(e){function t(t){if("Tab"!==t.key)return;t.preventDefault(),t.stopPropagation();const n=Array.from(e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'));if(!n.length)return;const a=n.findIndex((e=>e.isSameNode(document.activeElement)));let o=0;a>=0&&(o=t.shiftKey?a>0?a-1:n.length-1:a<n.length-1?a+1:0),n[o].focus()}return document.addEventListener("keydown",t,!1),()=>{document.removeEventListener("keydown",t,!1)}}function Ds(e){return/^#[0-9A-F]{6}$/i.test(e)?e:`#${e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+\.{0,1}\d*))?\)$/).slice(1).map(((e,t)=>(3===t?Math.round(255*parseFloat(e)):parseFloat(e)).toString(16).padStart(2,"0").replace("NaN",""))).join("")}`}var Fs;!function(e){e.SHOW="onShow",e.HIDE="onHide",e.COLOR_CHANGE="onColorChange"}(Fs||(Fs={}));const Rs=(0,On.F3)("NavigationBar",{web:()=>i.e(884).then(i.bind(i,15884)).then((e=>new e.NavigationBarWeb))});var Ms,Us;!function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"}(Ms||(Ms={})),function(e){e.None="NONE",e.Slide="SLIDE",e.Fade="FADE"}(Us||(Us={}));const Ws=(0,On.F3)("StatusBar"),Hs=window.matchMedia("(prefers-color-scheme: dark)");let $s,Vs;function zs(e,t){$s=e,js(),Ks({isInModal:t}),(0,E.YS)((()=>{var e;const t=getComputedStyle(document.documentElement).getPropertyValue("--color-background-second");null===(e=document.querySelector('meta[name="theme-color"]'))||void 0===e||e.setAttribute("content",t)}))}function js(){var t;const n="dark"===$s||"system"===$s&&(e.tKX?"dark"===(null===(t=ra())||void 0===t?void 0:t.colorScheme):Hs.matches);document.documentElement.classList.toggle("theme-dark",n)}function qs(){js(),Ks()}function Ks(n){e.tKX?(0,E.YS)((()=>{var e,t,n;const a=getComputedStyle(document.documentElement).getPropertyValue("--color-background-second");if(!a)return;const o=Ds(a);null===(e=ra())||void 0===e||e.setHeaderColor(o),null===(t=ra())||void 0===t||t.setBackgroundColor(o),null===(n=ra())||void 0===n||n.setBottomBarColor(o)})):e.UMQ&&(void 0!==(null==n?void 0:n.forceDarkBackground)&&(Vs=n.forceDarkBackground),function(e,n,a,o){const r=a||"dark"===e||n&&"system"===e?Ms.Dark:Ms.Light;Ws.setStyle({style:r,isModalOpen:o}),t.xy&&Rs.setColor({color:"#00000000",darkButtons:"light"===e||!n&&"system"===e})}($s,Hs.matches,Vs,null==n?void 0:n.isInModal))}function Ys(){"system"===Re().settings.theme&&qs()}Hs.addEventListener("change",qs),e.tKX&&ia().then((e=>{e.onEvent("themeChanged",Ys)}));const Qs=(e,t,n)=>{const a=ue();return se((()=>{const n=a.current;return a.current=t,e(n||[])}),t,n)},Gs=new Map,Xs=new Set(["color","date","datetime-local","email","month","number","password","search","tel","text","time","url","week"]);let Js;const Zs=Sa.getSafeAreaInsets().then((e=>{let{insets:t}=e;return Js=t,Js}));let el,tl;function nl(e,n){se((()=>{if(t.bA)return Gs.set(e,n),el===e&&n(),()=>{Gs.get(e)===n&&Gs.delete(e)}}),[e,n])}function al(e){return!!(e&&e instanceof HTMLElement)&&("INPUT"===e.tagName&&Xs.has(e.type)||"TEXTAREA"===e.tagName||"DIV"===e.tagName&&e.isContentEditable)}t.bA&&(zi.addListener("delegate",(e=>{var t;let{key:n,globalJson:a}=e;el=n,null===(t=Gs.get(n))||void 0===t||t(),Me(JSON.parse(a,yn.bk),{forceOutdated:!0,forceSyncOnIOs:!0})})),zi.addListener("move",(()=>{window.dispatchEvent(new Event("viewportmove"))})));const ol=new Map;t.KI&&(zi.prepare(),zi.addListener("openInMain",(e=>{var t;let{key:n}=e;null===(t=ol.get(n))||void 0===t||t()})));let rl,il=Promise.resolve();const sl=function(e,t){const n=ue(),{current:a}=n;return t&&void 0===e||(n.current=e),a};function ll(e,t){const n=sl(t),a=ue();var o,r;n&&!t.some(((e,t)=>e!==n[t]))||(null===(o=a.current)||void 0===o||o.call(a),a.current=null!==(r=e(n||[]))&&void 0!==r?r:void 0),Yi((()=>()=>{var e;null===(e=a.current)||void 0===e||e.call(a)}))}const cl=(0,l.sg)((e=>e()),300,!1),dl=[];let ul=!1,ml=0;function pl(){const e=ra().BackButton;dl.length>0&&!ul?(e.show(),e.onClick(fl),ul=!0):!dl.length&&ul&&(e.hide(),e.offClick(fl),ul=!1)}function fl(){if(dl.length>0){const e=dl.pop();try{e.callback()}catch(e){(0,Fn.SJ)("[handleBackButtonClick]",e)}}cl(pl)}const hl=`${window.location.pathname}${window.location.search}`,gl=Number(new Date);let vl,wl,yl=!1,bl=[],El=[];function kl(){const e=bl.filter((e=>"go"===e.type)),t=bl.filter((e=>"go"!==e.type)),n=e.reduce(((e,t)=>e+t.delta),0);bl=[],n&&(window.history.go(n),t.length)?El.push(...t):Nl(t)}function Nl(e){e.forEach((e=>window.history[e.type](e.data,"")))}function Cl(e){bl.length||(0,E.YS)(kl),bl.push(e)}function Sl(){wl=0,vl=[{index:0,onBack:()=>window.history.back()}],t.Fe||window.history.replaceState({index:0,historyUniqueSessionId:gl},"",hl)}function Al(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;for(let t=wl-1;t>0&&vl[t].isClosed;t--)e++;return e&&(yl=!0,Cl({type:"go",delta:-e})),e}function Tl(){for(let n=vl.length-1;n>0;n--){var e,t;vl[n].isClosed||null===(e=(t=vl[n]).onBack)||void 0===e||e.call(t)}Sl()}function Il(n){let{isActive:a,shouldBeReplaced:o,shouldIgnoreForTelegram:r,onBack:i}=n;const s=Cr(i),l=ue(),c=ue(),d=ue(!1),u=ue(!0),m=de((function(){const e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]||vl[wl].shouldBeReplaced;l.current=e?wl:++wl,wl=l.current;const t=vl[l.current];var n;t&&!t.isClosed&&(null===(n=t.markReplaced)||void 0===n||n.call(t)),vl[l.current]={index:l.current,onBack:s,shouldBeReplaced:o,markReplaced:()=>{d.current=!0}},Cl({type:e?"replaceState":"pushState",data:{index:l.current,historyUniqueSessionId:gl}})}),[s,o]),p=de((()=>{l.current&&vl[l.current]&&!d.current&&(vl[l.current].isClosed=!0,d.current=!0,l.current!==wl||o||(wl-=Al()))}),[o]);Yi((()=>{if(!t.pz)return u.current=!1,()=>{a&&!d.current&&p()}})),ll((e=>{let[n]=e;t.pz||n!==a&&(u.current&&!a||(a?m():p()))}),[a,p,m]),se((()=>{if(e.tKX&&!r&&a)return c.current=function(e){const t=(ml+=1,ml);return dl.push({id:t,callback:e}),cl(pl),t}(s),()=>{void 0!==c.current&&(function(e){const t=dl.findIndex((t=>t.id===e));-1!==t&&(dl.splice(t,1),cl(pl))}(c.current),c.current=void 0)}}),[a,r,i])}e.W75&&(window.TEST_getHistoryState=()=>vl,window.TEST_getHistoryCursor=()=>wl),Sl(),window.addEventListener("popstate",(e=>{let{state:t}=e;if(yl)return yl=!1,void(El.length&&(Nl(El),El=[]));if(!t)return void Tl();const{index:n,historyUniqueSessionId:a}=t;if(a===gl){if(n!==wl)if(n<wl){let e=0;for(let t=wl;t>n-e;t--){var o,r;vl[t].isClosed?e++:null===(o=(r=vl[t]).onBack)||void 0===o||o.call(r)}const t=Al(e);wl+=n-wl-t,wl<0&&(wl=0)}else n>wl&&(yl=!0,Cl({type:"go",delta:-(n-wl)}))}else Tl()}));const Bl="TUSiLENF",_l=me((function(e){let{isActive:t,className:n,isDoubled:a}=e;const{shouldRender:o,transitionClassNames:r}=Gi(t);return o?fe.createElement("div",{className:ji("esdydUs1",a&&"UJzP4d9r",n,r)},fe.createElement("span",{className:Bl}),fe.createElement("span",{className:Bl}),fe.createElement("span",{className:Bl})):null})),xl={button:"GpDwnAkE",loadingInit:"tZ9ppkji",clicked:"A1qGzs0x",isSimple:"Cw_ElX3O",isText:"d3A7BZDx",primary:"Pb9B3sBE",transparent:"nxcFq7cM",disabled:"zSwp1moR",destructive:"tLZabe0e",sizeSmall:"ORqfj0CU",round:"PJ7EB5_T",loadingStart:"pv1HwapI",loadingDots:"_2QYUoJe"},Ll=me((function(e){let{ref:t,children:n,id:a,className:o,style:r,ariaLabel:i,forFormId:s,kind:l,isSubmit:c,isLoading:d,isPrimary:u,isSimple:m,isText:p,isDisabled:f,isRound:h,isSmall:g,isDestructive:v,onClick:w,shouldStopPropagation:y}=e;const[b,E]=re(!1),k=Cr((e=>{!f&&w&&(y&&e.stopPropagation(),w()),E(!0),setTimeout((()=>{E(!1)}),400)})),N=ji(void 0!==d&&xl.loadingInit,d&&xl.loadingStart);return fe.createElement("button",{id:a,ref:t,type:c||s?"submit":"button",className:ji(xl.button,m&&xl.isSimple,g&&xl.sizeSmall,u&&xl.primary,(f||d)&&xl.disabled,N,h&&xl.round,p&&xl.isText,v&&xl.destructive,b&&xl.clicked,o,l&&xl[l]),style:r,"aria-label":i,disabled:f||d,form:s,onClick:k},n,fe.createElement(_l,{isActive:d,className:xl.loadingDots}))})),Ol=new Set(["scroll","mouseenter","mouseleave","load","error"]),Pl={},Dl={},Fl=new Map;function Rl(e,t){const n=e.replace(/^on/,"").replace(/Capture$/,"").toLowerCase();return"change"===n&&"SELECT"!==t.tagName?"input":"doubleclick"===n?"dblclick":"focus"===n?"focusin":"blur"===n?"focusout":n}function Ml(e,t,n){return!n&&!Ol.has(e)&&"VIDEO"!==t.tagName&&"IFRAME"!==t.tagName}function Ul(e,t){Pl[e]--,Pl[e]||document.removeEventListener(e,Wl),Dl[e].delete(t),Fl.get(t).delete(e)}function Wl(e){const t=Dl[e.type];if(t){let n=!1,a=e.target;const o=()=>{n=!0},r=()=>{e.preventDefault()},i=new Proxy(e,{get:(e,t)=>"currentTarget"===t?a:"stopPropagation"===t||"stopImmediatePropagation"===t?o:"preventDefault"===t?r:Reflect.get(e,t)});for(;a&&a!==document.body;){const e=t.get(a);if(e&&(e(i),n))return;a=a.parentNode}}}e.Oig&&document.addEventListener("dblclick",(()=>{const e=Object.keys(Pl).length,t=Object.values(Pl).reduce(((e,t)=>e+t),0),n=Object.keys(Dl).length,a=Object.values(Dl).reduce(((e,t)=>e+t.size),0),o=Fl.size,r=Array.from(Fl.values()).reduce(((e,t)=>e+t.size),0);console.warn("DELEGATED EVENTS STATS",{delegatedHandlersCount1:t,delegatedHandlersCount2:a,delegatedEventTypesCount:r,delegationRegistriesCount:n,delegationElementsCount:o,documentListenersCount:e})}));const Hl="http://www.w3.org/2000/svg",$l=new Set(["key","ref","teactFastList","teactOrderKey"]),Vl=new Set(["dir","role","form"]),zl=["INPUT","TEXTAREA","SELECT"],jl={autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoPlay:"autoplay",spellCheck:"spellcheck"},ql="__indexKey#",Kl=new WeakMap,Yl=new WeakMap,Ql=new WeakMap;function Gl(t,n,a,o,r,i){var s,l,c;let d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};const{skipComponentUpdate:u,fragment:m}=d;let{nextSibling:p,namespace:f}=d;const h=(null==n?void 0:n.type)===x.Component,g=(null===(s=a)||void 0===s?void 0:s.type)===x.Component,v=a,w=!h&&(null==n?void 0:n.type)===x.Fragment,y=!g&&(null===(l=a)||void 0===l?void 0:l.type)===x.Fragment;if((null===(c=a)||void 0===c?void 0:c.type)===x.Tag&&("svg"===a.tag&&(f=Hl),a.props.xmlns&&(f=a.props.xmlns)),!u&&h&&g&&!ne(n,a)&&(a=function(e,t){return e.componentInstance.props=t.componentInstance.props,te(e.componentInstance)}(n,a)),!u&&g&&a.componentInstance.mountState===L.Mounted&&Jl(t,a,o,r,i),n===a)return a;if(e.Oig&&a){const e="target"in a&&a.target;if(e&&(!n||"target"in n&&e!==n.target))throw new Error("[Teact] Cached virtual element was moved within tree")}if(!n&&a)if(g||y){var b;g&&(r=null!==(b=(a=Xl(t,a,o,r,i)).componentInstance.context)&&void 0!==b?b:r),Zl(t,a,r,{nextSibling:p,fragment:m,namespace:f})}else if(m||p||v.type!==x.Text||1!==o.children.length||t.firstChild){const e=ec(v,r,f);v.target=e,ac(m||t,e,p),v.type===x.Tag&&sc(v,e)}else t.textContent=v.value,v.target=t.firstChild;else if(n&&!a)tc(t,n,r,void 0);else if(n&&a)if(ne(n,a))if(p||(p=oc(n)),g||y){var E;g&&(r=null!==(E=(a=Xl(t,a,o,r,i)).componentInstance.context)&&void 0!==E?E:r),tc(t,n,r,void 0),Zl(t,a,r,{nextSibling:p,fragment:m,namespace:f})}else{const e=ec(v,r,f);v.target=e,tc(t,n,r,e,p),v.type===x.Tag&&sc(v,e)}else if(h&&g||w&&y)rc(n,a,r,t,p,d.forceMoveToEnd);else{const e=n,o=e.target;if(v.target=o,e.target=void 0,n.type===x.Tag){const e=a;sc(n,void 0),sc(e,o),(p||d.forceMoveToEnd)&&ac(t,o,p),function(e,t,n,a){lc(n.tagName,t.props);const o=Object.entries(e.props),r=Object.entries(t.props);for(const[e,a]of o){const o=t.props[e];void 0!==a&&(void 0===o||a!==o&&e.startsWith("on"))&&dc(n,e,a)}for(const[t,o]of r){const r=e.props[t];void 0!==o&&o!==r&&cc(n,t,o,a)}}(n,e,o,f),rc(n,e,r,o,void 0,void 0,f)}}return a}function Xl(e,t,n,a,o){const{componentInstance:r}=t;return t.componentInstance.context=a,r.mountState===L.Unmounted&&(t=function(e){return e.id=++F,e.mountState=L.Mounting,te(e),e.mountState=L.Mounted,e.$element}(r),Jl(e,t,n,a,o)),t}function Jl(e,t,n,a,o){const{componentInstance:r}=t;r.onUpdate=()=>{n.children[o]=Gl(e,n.children[o],r.$element,n,a,o,{skipComponentUpdate:!0})}}function Zl(e,t,n,a){const{children:o}=t;for(let r=0,i=o.length;r<i;r++){const i=o[r],s=Gl(e,void 0,i,t,n,r,a);s!==i&&(o[r]=s)}}function ec(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"http://www.w3.org/1999/xhtml";if(e.type===x.Empty)return document.createTextNode("");if(e.type===x.Text)return document.createTextNode(e.value);const{tag:a,props:o,children:r}=e,i=document.createElementNS(n,a);lc(a,o);for(const e in o)o.hasOwnProperty(e)&&void 0!==o[e]&&cc(i,e,o[e],n);!function(e,t){zl.includes(e.tagName)&&(t.defaultValue&&cc(e,"value",t.defaultValue),t.defaultChecked&&cc(e,"checked",t.defaultChecked))}(i,o);for(let a=0,o=r.length;a<o;a++){const o=r[a],s=Gl(i,void 0,o,e,t,a,{namespace:n});s!==o&&(r[a]=s)}return i}function tc(e,t,n,a,o){const r=t.type===x.Component,i=!r&&t.type===x.Fragment;r||i?(r&&ae(t.componentInstance),function(e,t,n){for(const a of t.children)Gl(e,a,void 0,t,n,-1)}(e,t,n),a&&ac(e,a,o)):(a?e.replaceChild(a,t.target):e.removeChild(t.target),nc(t))}function nc(e){if(e.type===x.Component)ae(e.componentInstance);else if(e.type!==x.Fragment&&(e.type===x.Tag&&(Yl.delete(e.target),sc(e,void 0),function(e){const t=Fl.get(e);t&&(t.forEach((t=>Ul(t,e))),Fl.delete(e))}(e.target)),e.target=void 0,e.type!==x.Tag))return;for(const t of e.children)nc(t)}function ac(e,t,n){n?e.insertBefore(t,n):e.appendChild(t)}function oc(e){return e.type===x.Component||e.type===x.Fragment?oc(e.children[e.children.length-1]):e.target.nextSibling||void 0}function rc(t,n,a,o,r){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=arguments.length>6?arguments[6]:void 0;if(e.Oig&&function(e){const t=e[0];if(t&&"props"in t&&void 0!==t.props.key){const t=e.reduce(((e,t)=>("props"in t&&t.props.key&&e.push(t.props.key),e)),[]);if(t.length!==(0,s.Am)(t).length)throw console.warn("[Teact] Duplicated keys:",t.filter(((e,t,n)=>n.indexOf(e)!==t)),e),new Error("[Teact] Children keys are not unique")}}(n.children),"props"in n&&n.props.teactFastList)return void function(t,n,a,o){const r=t.children,i=n.children,s=new Set;for(const t of i){const n="props"in t?t.props.key:void 0;if(e.Oig&&R(t)&&(null==n&&console.warn("Missing `key` in `teactFastList`"),t.type===x.Fragment))throw new Error("[Teact] Fragment can not be child of container with `teactFastList`");s.add(n)}let l=0;const c={};for(let e=0,t=r.length;e<t;e++){const t=r[e];let d="props"in t?t.props.key:void 0;const u=null!=d;if(!u||s.has(d)){if(!u){const r=i[e],s=r&&"props"in r?r.props.key:void 0;if(!r||s){Gl(o,t,void 0,n,a,-1);continue}d=`${ql}${e}`}c[d]={$element:t,index:l++,orderKey:"props"in t?t.props.teactOrderKey:void 0}}else Gl(o,t,void 0,n,a,-1)}let d,u,m=0;for(let e=0,t=i.length;e<t;e++){const t=i[e],r=c["props"in t?t.props.key:`${ql}${e}`];if(!r){void 0===u&&(d=e,u=0),u++;continue}u&&(ic(d,u,o,n,a),u=void 0,d=void 0);const s="props"in t?t.props.teactOrderKey:void 0,l=r.index!==m&&(!s||r.orderKey!==s),p=l&&m>r.index;l&&!p||m++;const f=o.childNodes[p?e+1:e],h=l?f?{nextSibling:f}:{forceMoveToEnd:!0}:void 0,g=Gl(o,r.$element,t,n,a,e,h);g!==t&&(i[e]=g)}u&&ic(d,u,o,n,a)}(t,n,a,o);const c=t.children,d=n.children,u=c.length,m=d.length,p=Math.max(u,m),f=m>u?document.createDocumentFragment():void 0,h=t.children[u-1],g=f&&(r||(h?oc(h):void 0));for(let e=0;e<p;e++){const t=Gl(o,c[e],d[e],n,a,e,e>=u?{fragment:f,namespace:l}:{nextSibling:r,forceMoveToEnd:i,namespace:l});t&&t!==d[e]&&(d[e]=t)}f&&ac(o,f,g)}function ic(e,t,n,a,o){const r=n.childNodes[e];if(1===t){const t=a.children[e],i=Gl(n,void 0,t,a,o,e,{nextSibling:r});return void(i!==t&&(a.children[e]=i))}const i=document.createDocumentFragment();for(let r=e;r<e+t;r++){const e=a.children[r],t=Gl(n,void 0,e,a,o,r,{fragment:i});t!==e&&(a.children[r]=t)}ac(n,i,r)}function sc(e,t){const{ref:n}=e.props;var a;"object"==typeof n?(n.current=t,null===(a=n.onChange)||void 0===a||a.call(n)):"function"==typeof n&&n(t)}function lc(e,t){const n=void 0!==t.value,a=void 0!==t.checked;if(!n&&!a||!zl.includes(e.toUpperCase()))return;const{value:o,checked:r,onInput:i,onChange:s}=t;t.onChange=void 0,t.onInput=e=>{if(null==i||i(e),null==s||s(e),void 0!==o&&o!==e.currentTarget.value){const{selectionStart:t,selectionEnd:n}=e.currentTarget,a=t===n&&n===e.currentTarget.value.length;if(e.currentTarget.value=o,"number"==typeof t&&"number"==typeof n){e.currentTarget.setSelectionRange(t,n);const o={selectionStart:t,selectionEnd:n,isCaretAtEnd:a};e.currentTarget.dataset.__teactSelectionState=JSON.stringify(o)}}void 0!==r&&(e.currentTarget.checked=r)}}function cc(e,t,n,a){if("className"===t)uc(e,n,a);else if("value"===t){const t=e;if(t.value!==n){t.value=n;const e=t.dataset.__teactSelectionState;if(e){const{selectionStart:n,selectionEnd:a,isCaretAtEnd:o}=JSON.parse(e);if(o){const e=t.value.length;t.setSelectionRange(e,e)}else"number"==typeof n&&"number"==typeof a&&t.setSelectionRange(n,a)}}}else"style"===t?mc(e,n):"dangerouslySetInnerHTML"===t?e.innerHTML=n.__html:t.startsWith("on")?function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=Rl(t,e);Ml(o,e,a)?function(e,t,n){Pl[e]||(Pl[e]=0,document.addEventListener(e,Wl)),function(e){return Dl[e]||(Dl[e]=new Map),Dl[e]}(e).set(t,n),function(e){const t=Fl.get(e);if(t)return t;const n=new Set;return Fl.set(e,n),n}(t).add(e),Pl[e]++}(o,e,n):e.addEventListener(o,n,a)}(e,t,n,t.endsWith("Capture")):a===Hl||t.startsWith("data-")||t.startsWith("aria-")||Vl.has(t)?e.setAttribute(t,n):$l.has(t)||(e[jl[t]||t]=n)}function dc(e,t,n){"className"===t?uc(e,""):"value"===t?e.value="":"style"===t?mc(e,""):"dangerouslySetInnerHTML"===t?e.innerHTML="":t.startsWith("on")?function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=Rl(t,e);Ml(o,e,a)?Ul(o,e):e.removeEventListener(o,n,a)}(e,t,n,t.endsWith("Capture")):$l.has(t)||e.removeAttribute(t)}function uc(e,t,n){if(n===Hl)return void e.setAttribute("class",t);const a=e,o=Yl.get(e);if(!o)return void(a.className=t);const r=Array.from(o);t&&r.push(t),a.className=r.join(" ")}function mc(e,t){e.style.cssText=t,Ql.get(e)&&vc(e)}function pc(e,t){e.classList.add(t);const n=Yl.get(e);n?n.add(t):Yl.set(e,new Set([t]))}function fc(e,t){e.classList.remove(t);const n=Yl.get(e);n&&(n.delete(t),n.size||Yl.delete(e))}function hc(e,t,n){var a;!0===n?pc(e,t):!1===n||null!==(a=Yl.get(e))&&void 0!==a&&a.has(t)?fc(e,t):pc(e,t)}function gc(e,t){Ql.set(e,t),vc(e)}function vc(e){const t=Object.entries(Ql.get(e)).reduce(((t,n)=>{let[a,o]=n;return a.startsWith("--")?e.style.setProperty(a,o):t[a]=o,t}),{});Object.assign(e.style,t)}const wc=function(e,t){Kl.has(t)||Kl.set(t,{children:[]});const n=Z(),a=Kl.get(t),o=Gl(t,a.children[0],e,a,{},0);null==n||n(),a.children=o?[o]:[]},yc=function(e){let{containerId:t,className:n,style:a,children:o}=e;const r=ue();return r.current||(r.current=document.createElement("div")),le((()=>{const e=document.querySelector(t||"#portals");if(!e)return;const o=r.current;return n&&(o.className=n),a&&(o.style.cssText=a),e.appendChild(o),()=>{wc(void 0,o),e.removeChild(o)}}),[n,a,t]),wc(o,r.current)},bc={modal:"bei20BXo",error:"ycQPrkNy",dialog:"lCrWZOJa",backdrop:"BRHUYooL",slideUpAnimation:"ciD50Ivv",container:"pI0zvyZ_",forceBottomSheet:"zXbZnJvJ",content:"ikANOLRm",noBackdrop:"JdyYzya2",compact:"OIC6BQI4",header:"LB42p81C",header_noClose:"rhAMo7kW",headerNoClose:"rhAMo7kW",title:"ZDSNp0nr",header_wideContent:"_ijqgHQC",headerWideContent:"_ijqgHQC",header_back:"F2CCACcS",headerBack:"F2CCACcS",header_backIcon:"IubryJoO",headerBackIcon:"IubryJoO",closeButton:"Oj6lWSUo",closeIcon:"VPuUZtvp",singleTitle:"Sv8Bhg5M",contentCompact:"ulAHEr0t",text:"FumpDc7T",text_centered:"PRVdJNuh",textCentered:"PRVdJNuh",text_noExtraMargin:"JNEqsMcb",textNoExtraMargin:"JNEqsMcb",buttons:"PWLeFX8Z",footerButtons:"fXtMQ4nZ",footerButtonFullWidth:"KMr7BHAz",buttonsInsideContentWithScroll:"SCBITBKB",buttonsNoExtraSpace:"vyEjC2QK",button:"pvjzjt3q",buttonHalfWidth:"EhlEYVbZ",buttonFullWidth:"zRgM4gqF",shortButton:"QFWfMoly",transition:"ELmioinr",transitionSlide:"OXFBF6TX",transitionContentWrapper:"N1r_Lya9",transitionContent:"W4ZdBtyi",transitionContent_simple:"qGdeWGzL",transitionContentSimple:"qGdeWGzL"},Ec=350,kc=t.Ni?200:500,[Nc,Cc]=b(Date.now()),Sc=(Ac=function(n){let{dialogRef:a,title:o,className:r,dialogClassName:i,titleClassName:s,contentClassName:c,isOpen:d,isCompact:u,nativeBottomSheetKey:m,forceFullNative:p,forceBottomSheet:f,noResetFullNativeOnBlur:h,noBackdrop:g,noBackdropClose:v,header:w,hasCloseButton:y,children:b,onClose:E,onCloseAnimationEnd:k,onEnter:N}=n;const C=Qi(),S=ue(null),A=ue(null),T=ue(null);a||(a=A);const{isPortrait:I}=Qa();!function(n,a){ll((()=>{if(!e.UMQ||t.bA||a)return;const o=ls();o&&n&&o&&o.hide().then((async()=>{t.KI&&await zi.enable()}))}),[a,n])}(d,u);const _=(I?kc:Ec)+e.xB5,x=!u&&I;Il({isActive:d,onBack:E,shouldIgnoreForTelegram:u}),se((()=>{var t,n;if(e.tKX&&d&&!u)return null===(t=ra())||void 0===t||t.disableVerticalSwipes(),null===(n=ra())||void 0===n?void 0:n.enableVerticalSwipes}),[u,d]),Qs((e=>{let[n]=e;t.bA&&u&&(n||d)&&!tl&&zi.toggleSelfFullSize({isFullSize:!!d})}),[d,u]),se((()=>{if(!t.bA&&d)return Nc.subscribe(E)}),[d,E]),se((()=>d?Is({onEsc:{handler:E,shouldPreventDefault:e.hL1},...N&&{onEnter:N}}):void 0),[d,E,N]),se((()=>d&&S.current?Ps(S.current):void 0),[d]),le((()=>d?B(_):void 0),[_,d]);const[L,O]=re(!1);se((()=>{if(!d)return void O(!1);const e=ls();null==e||e.hide().then((()=>{O(!0)}))}),[d]);const P=function(e,n,a,o){const r=t.KI&&e,i=a&&n;return Qs((t=>{let[n]=t;if(r)if(i){var a;null===(a=rl)||void 0===a||a();const t=()=>{Le(),o()};rl=t,il=Promise.race([il,(0,l.v7)(1e3)]).then((()=>zi.delegate({key:e,globalJson:JSON.stringify(Re())}))).then((()=>{rl===t&&(rl(),rl=void 0)})).then((()=>(0,l.v7)(100)))}else n&&zi.release({key:e})}),[i,r,e,o]),r&&n}(m,I,d&&(!ls()||L),E);(function(e,n,a,o){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];Qs((r=>{let[i]=r;if(t.bA&&e&&e===el)if(n){const t=o.current;zi.openSelf({key:e,height:String(t.offsetHeight),backgroundColor:Ds(getComputedStyle(t).backgroundColor)}).then((()=>{Le(),a()}))}else i&&(zi.closeSelf({key:e}),Ks({forceDarkBackground:!1}))}),[n,o,e,a]);const s=t.bA&&e&&n,{screenHeight:l}=Qa(),[c,d]=re(Js);Zs.then(d);const u=l-((null==c?void 0:c.top)||0);le((()=>{s&&(o.current.style[r?"maxHeight":"height"]="",o.current.style[r?"height":"maxHeight"]=`${u}px`)}),[o,r,s,u]),Qs((e=>{let[t]=e;s&&(tl=r,void 0!==r&&void 0===t||zi.toggleSelfFullSize({isFullSize:r}))}),[r,s]),le((()=>{if(!s)return;const e=o.current;let t;function n(n){if(al(n.target)){if(t)return clearTimeout(t),void(t=void 0);var a;(a=e).style.opacity="0",setTimeout((()=>{a.style.opacity="1"})),document.documentElement.scrollTop=0,zi.toggleSelfFullSize({isFullSize:!0})}}function a(e){var n;!al(e.target)||i||r||(n=e.target)&&n instanceof HTMLElement&&(n.matches(".is-compact-modal")||n.closest(".is-compact-modal"))||(t=window.setTimeout((()=>{t=void 0,zi.toggleSelfFullSize({isFullSize:!1})}),50))}return document.addEventListener("focusin",n),document.addEventListener("focusout",a),()=>{document.removeEventListener("focusout",a),document.removeEventListener("focusin",n)}}),[o,r,s,i])})(m,d&&(!ls()||L),E,a,p,h),se((()=>{if(t.TF&&d&&I&&x&&!t.bA&&!P)return Ss(S.current,{excludedClosestSelector:".capture-scroll",onSwipe:(e,t)=>!(t!==bs.Down||!function(e,t){if($n>zn.height||xs>0)return!1;const n=Date.now();if(e.current&&n-e.current<500)return!1;e.current=n;const a=null==t?void 0:t.closest(".custom-scroll");return!a||0===a.scrollTop}(T,e.target)||(E(),0))})}),[d,I,x,P,E]);const{shouldRender:D,transitionClassNames:F}=Gi(d&&!P,k,void 0,!1,void 0,_);if(!D)return;const R=ji(bc.modal,r,F,x&&bc.slideUpAnimation,u&&bc.compact,u&&"is-compact-modal",f&&bc.forceBottomSheet),M=ji(bc.backdrop,g&&bc.noBackdrop),U=ji(bc.content,u&&bc.contentCompact,"custom-scroll",c);return fe.createElement(yc,null,fe.createElement("div",{ref:S,className:R,tabIndex:-1,role:"dialog"},fe.createElement("div",{className:bc.container},fe.createElement("div",{className:M,onClick:v?void 0:E}),fe.createElement("div",{className:ji(bc.dialog,i),ref:a},w||(o?fe.createElement("div",{className:ji(bc.header,bc.header_wideContent,!y&&bc.header_noClose)},fe.createElement("div",{className:ji(bc.title,bc.singleTitle,s)},o),y&&fe.createElement(Ll,{isRound:!0,className:bc.closeButton,ariaLabel:C("Close"),onClick:E},fe.createElement("i",{className:ji(bc.closeIcon,"icon-close"),"aria-hidden":!0}))):void 0),fe.createElement("div",{className:U},b)))))},function(e){const t=ue(e);return e.isOpen?t.current=e:t.current={...t.current,isOpen:!1},Ac(t.current)});var Ac;function Tc(e){return Bc(e)?function(e){var t;const n=_c(e),a={isGasless:!0,excessFee:xc(e),shouldShowOurFee:Oc(e)};if(void 0===e.networkFee||void 0===e.dieselFee||void 0===n)return a;const o="0"===a.excessFee,r="stars-fee"===e.dieselStatus?"stars":"token",i={[r]:e.dieselFee,native:n.toString()};if(a.fullFee={precision:o?"exact":"lessThan",terms:Lc(i,null!==(t=e.ourFee)&&void 0!==t?t:"0",!1),networkTerms:i},a.realFee=a.fullFee,void 0!==e.realNetworkFee){var s;const t=(0,wt.z)(e.networkFee).sub(n),i=(0,wt.z)(e.dieselFee).div(t).mul(e.realNetworkFee),d=(l=e.dieselFee,c=i,(0,wt.z)(l).lt(c)?l:c),u=function(e,t){return(0,wt.z)(0).gt(t)?0:t}(0,(0,wt.z)(e.realNetworkFee).sub(t)),m={[r]:d.toString(),native:u.toString()};a.realFee={precision:o?"exact":"approximate",terms:Lc(m,null!==(s=e.ourFee)&&void 0!==s?s:"0",!1),networkTerms:m}}var l,c;return a}(e):function(e){const t={isGasless:!1,excessFee:xc(e),shouldShowOurFee:Oc(e)},n=on(e.tokenInSlug),a="0"===t.excessFee;if(void 0!==e.networkFee){var o;const r={native:e.networkFee};t.fullFee={precision:a?"exact":"lessThan",terms:Lc(r,null!==(o=e.ourFee)&&void 0!==o?o:"0",n),networkTerms:r},t.realFee=t.fullFee}if(void 0!==e.realNetworkFee){var r;const o={native:e.realNetworkFee};t.realFee={precision:a?"exact":"approximate",terms:Lc(o,null!==(r=e.ourFee)&&void 0!==r?r:"0",n),networkTerms:o}}return t}(e)}function Ic(t){var n;let{swapType:a,tokenInBalance:o,tokenIn:r,fullNetworkFee:i,ourFeePercent:s}=t;if(a===jt.CrosschainToWallet||void 0===o)return;let l=o;if(i){var c,d;if(!r)return;l-=(0,vt.UH)(null!==(c=i.token)&&void 0!==c?c:"0",r.decimals),on(r.slug)&&(l-=(0,vt.UH)(null!==(d=i.native)&&void 0!==d?d:"0",r.decimals))}return null!==(n=s)&&void 0!==n||(s=a===jt.OnChain?e.YDh:0),l=(0,yn.fC)(l,1+s/100),(0,yn._O)(l,0n)}function Bc(e){const t=on(e.tokenInSlug),n=_c(e),a=void 0!==e.networkFee&&void 0!==n&&n.lt(e.networkFee);return e.swapType===jt.OnChain&&a&&!t&&Boolean(e.dieselStatus)&&"not-available"!==e.dieselStatus}function _c(e){var t;if(!e.tokenInSlug||void 0===e.nativeTokenInBalance)return;const n=null===(t=nn(cn(e.tokenInSlug)))||void 0===t?void 0:t.nativeToken;return n?(0,vt.CF)(e.nativeTokenInBalance,n.decimals):void 0}function xc(e){let{networkFee:t,realNetworkFee:n}=e;return void 0!==t&&void 0!==n?(0,wt.z)(t).sub(n).toString():void 0}function Lc(e,t,n){var a,o;return{...e,native:n?(0,wt.z)(null!==(a=e.native)&&void 0!==a?a:"0").add(t).toString():e.native,token:n?e.token:(0,wt.z)(null!==(o=e.token)&&void 0!==o?o:"0").add(t).toString()}}function Oc(e){return e.swapType===jt.OnChain}We("submitDappConnectRequestConfirm",(async(a,o,r)=>{let{password:i,accountId:s}=r;const{promiseId:c,permissions:d}=a.dappConnectRequest;if(null!=d&&d.isPasswordRequired&&(!i||!await(0,n.p)("verifyPassword",i)))return a=Bi(a=Re(),{error:"Wrong password, please try again."}),void Me(a);Oo()&&(a=Jr(a=Re()),Me(a)),t.bA?Mr("submitDappConnectRequestConfirm",{password:i,accountId:s}):(Wo(),o.switchAccount({accountId:s}),await(0,n.p)("confirmDappRequestConnect",c,{accountId:s,password:i}),a=Re(),e.UMQ&&(a=Zr(a)),a=_i(a),Me(a),await(0,l.v7)(250),o.getDapps())})),We("submitDappConnectRequestConfirmHardware",(async(e,n,a)=>{let{accountId:o}=a;const{proof:r}=e.dappConnectRequest;e=Bi(e=Re(),{error:void 0,state:qt.ConfirmHardware}),Me(e);const s=await Promise.all([i.e(494),i.e(612),i.e(776),i.e(432)]).then(i.bind(i,95683));try{const e=await s.signLedgerProof(o,r);if(t.bA)return void Mr("submitDappConnectHardware",{accountId:o,signature:e});n.submitDappConnectHardware({accountId:o,signature:e})}catch(e){Me(Bi(Re(),{error:"Canceled by the user"}))}})),We("submitDappConnectHardware",(async(e,t,a)=>{let{accountId:o,signature:r}=a;const{promiseId:i}=e.dappConnectRequest;t.switchAccount({accountId:o}),await(0,n.p)("confirmDappRequestConnect",i,{accountId:o,signature:r}),e=_i(e=Re()),Me(e),await(0,l.v7)(250),t.getDapps()})),We("cancelDappConnectRequestConfirm",(e=>{const{promiseId:a}=e.dappConnectRequest||{};a&&(t.bA?Mr("cancelDappConnectRequestConfirm"):(0,n.p)("cancelDappRequest",a,"Canceled by the user"),Oo()&&(e=Zr(e)),e=_i(e),Me(e))})),We("setDappConnectRequestState",((e,t,n)=>{let{state:a}=n;Me(Bi(e,{state:a}))})),We("cancelDappTransfer",(e=>{const{promiseId:a}=e.currentDappTransfer;t.bA?Mr("cancelDappTransfer"):a&&(0,n.p)("cancelDappRequest",a,"Canceled by the user"),Oo()&&(e=Zr(e)),e=Li(e),Me(e)})),We("closeDappTransfer",(e=>{e=xi(e,{state:Ht.None}),Me(e)})),We("submitDappTransferPassword",(async(a,o,r)=>{let{password:i}=r;const{promiseId:s}=a.currentDappTransfer;if(s){if(!await(0,n.p)("verifyPassword",i))return a=xi(a=Re(),{error:"Wrong password, please try again."}),void Me(a);Oo()&&(a=Jr(a=Re()),Me(a)),t.bA?Mr("submitDappTransferPassword",{password:i}):(a=xi(a=Re(),{isLoading:!0,error:void 0}),Me(a),await Wo(!0),(0,n.p)("confirmDappRequest",s,i),a=Re(),e.UMQ&&(a=Zr(a)),a=Li(a),Me(a))}})),We("submitDappTransferHardware",(async(e,a)=>{const{promiseId:o,transactions:r,vestingAddress:s}=e.currentDappTransfer;if(!o)return;e=xi(e=Re(),{isLoading:!0,error:void 0,state:Ht.ConfirmHardware}),Me(e);const l=e.currentAccountId,c=await Promise.all([i.e(494),i.e(612),i.e(776),i.e(432)]).then(i.bind(i,95683));try{const e=await c.signLedgerTransactions(l,r,{isTonConnect:!0,vestingAddress:s});if(t.bA)return void Mr("submitDappTransferHardware2",{signedMessages:e});a.submitDappTransferHardware2({signedMessages:e})}catch(t){if(t instanceof Vi.bS)return void Me(xi(Re(),{isLoading:!1,error:"$hardware_blind_sign_not_enabled"}));if(t instanceof Vi.cp)a.showError({error:"$ledger_unsupported_ton_connect"}),(0,n.p)("cancelDappRequest",o,t.message);else{if(t instanceof Vi.KB)return void Me(xi(Re(),{isLoading:!1,error:"Canceled by the user"}));(0,n.p)("cancelDappRequest",o,"Unknown error.")}e=Li(e=Re()),Me(e)}})),We("submitDappTransferHardware2",((e,t,a)=>{let{signedMessages:o}=a;const{promiseId:r}=e.currentDappTransfer;r&&((0,n.p)("confirmDappRequest",r,o),e=Li(e=Re()),Me(e))})),We("getDapps",(async(e,t)=>{const{currentAccountId:a}=e;let o=await(0,n.p)("getDapps",a);if(!o)return;const r=o.find((e=>{let{origin:t}=e;return!t}));r&&(t.deleteDapp({origin:r.origin}),o=o.filter((e=>{let{origin:t}=e;return t}))),e=function(e,t){return ai(e,{dapps:t})}(e=Re(),o),Me(e)})),We("deleteAllDapps",(e=>{const{currentAccountId:t}=e;(0,n.p)("deleteAllDapps",t),e=function(e){return ai(e,{dapps:void 0,dappLastOpenedDatesByOrigin:void 0})}(e=Re()),Me(e)})),We("deleteDapp",((e,a,o)=>{let{origin:r}=o;const{currentAccountId:i}=e;t.bA?Mr("deleteDapp",{origin:r}):(0,n.p)("deleteDapp",i,r),e=function(e,t){const{dapps:n,dappLastOpenedDatesByOrigin:a}=Je(e)||{};return a&&delete a[t],ai(e,{dapps:n.filter((e=>e.origin!==t)),dappLastOpenedDatesByOrigin:a})}(e=Re(),r),Me(e)})),We("apiUpdateDappConnect",(async(e,n,a)=>{let{accountId:o,dapp:r,permissions:i,promiseId:s,proof:c}=a;if(t.bA){if(!await(0,l.fm)((()=>Boolean(Re().dappConnectRequest)),300,5))return;e=Re()}e=Bi(e,{state:qt.Info,promiseId:s,accountId:o,dapp:r,permissions:{isAddressRequired:i.address,isPasswordRequired:i.proof},proof:c}),Me(e),n.addSiteToBrowserHistory({url:r.url})})),We("apiUpdateDappSendTransaction",(async(a,o,r)=>{let{promiseId:i,transactions:s,accountId:c,dapp:d,vestingAddress:u}=r;const{currentAccountId:m,currentDappTransfer:{promiseId:p}}=a;if(m!==c){const e=Ft(a,c);await(0,n.p)("activateAccount",c,e),a=Re(),Me(di(a,c))}if(p&&!t.bA){o.closeDappTransfer();const t=Ga()?kc:Ec;await(0,l.v7)(t+e.xB5)}if(t.bA){if(!await(0,l.fm)((()=>Re().currentDappTransfer.state!==Ht.None),300,5))return;a=Re()}const f=at(a)&&s.length>1?Ht.WarningHardware:Ht.Initial;a=xi(a=Li(a=Re()),{state:f,promiseId:i,transactions:s,dapp:d,vestingAddress:u}),Me(a)})),We("apiUpdateDappLoading",(async(e,n,a)=>{let{connectionType:o,isSse:r,accountId:i}=a;if(t.bA){if(!await(0,l.fm)((()=>(e=Re(),"connect"===o&&!!e.dappConnectRequest||"sendTransaction"===o&&e.currentDappTransfer.state!==Ht.None)),300,5))return;e=Re()}!t.bA&&i&&i!==e.currentAccountId&&n.switchAccount({accountId:i}),"connect"===o?e=Bi(e,{state:qt.Info,isSse:r}):"sendTransaction"===o&&(e=xi(e,{state:Ht.Initial,isSse:r})),Me(e)})),We("apiUpdateDappCloseLoading",(async e=>{var n;if(t.bA){if(!await(0,l.fm)((()=>(e=Re(),Boolean(e.dappConnectRequest)||e.currentDappTransfer.state!==Ht.None)),300,5))return;e=Re()}(null===(n=e.dappConnectRequest)||void 0===n?void 0:n.state)===qt.Info?e=_i(e):e.currentDappTransfer.state===Ht.Initial&&(e=Li(e)),Me(e)})),We("loadExploreSites",(async(e,t,a)=>{let{isLandscape:o}=a;const r=await(0,n.p)("loadExploreSites",{isLandscape:o});Yr(r,(e=Re()).exploreData)||(e={...e,exploreData:r},Me(e))}));let Pc={};const Dc={"Insufficient liquidity":zt.NotEnoughLiquidity,"Tokens must be different":zt.InvalidPair,"Asset not found":zt.InvalidPair,"Pair not found":zt.InvalidPair,"Too small amount":zt.TooSmallAmount};function Fc(e){var t;const{currentDexLabel:n,amountIn:a,amountOut:o,amountOutMin:r,slippage:i,networkFee:s,swapFee:l,ourFee:c,dieselFee:d,realNetworkFee:u}=e.currentSwap,m=gn(e),p=vn(e),f=Lt(m),h=Lt(p),g=a,v=o,w=Xe(e,e.currentAccountId),y=null===(t=nn(cn(m.slug)))||void 0===t?void 0:t.nativeToken,b=y?kt(e,y.slug):void 0,E=wn(e);return{from:f,to:h,fromAmount:g,toAmount:v,toMinAmount:r,slippage:i,fromAddress:(null==w?void 0:w.addressByChain[m.chain])||(null==w?void 0:w.addressByChain.ton),shouldTryDiesel:Bc({...e.currentSwap,swapType:E,nativeTokenInBalance:b}),dexLabel:n,networkFee:null!=u?u:s,swapFee:l,ourFee:c,dieselFee:d}}We("startSwap",(async(e,n,a)=>{const o=e.currentSwap.state!==$t.None;if(t.KI&&o&&(Ur("cancelSwap"),await(0,l.v7)(100),e=Re()),t.bA)return void Mr("startSwap",a);const{state:r}=null!=a?a:{},i=Ga(),s=r||(i?$t.Initial:$t.None);e=gi(e,{...a,state:s,swapId:(0,ge.A)(),inputSource:Vt.In}),Me(e),i||n.setLandscapeActionsActiveTabIndex({index:Xt.Swap})})),We("setDefaultSwapParams",((t,n,a)=>{let{tokenInSlug:o,tokenOutSlug:r}=null!=a?a:{};const{withResetAmount:i}=null!=a?a:{};o=o||e.Hfd,r=r||e.rKC,(t.currentSwap.tokenInSlug!==o||t.currentSwap.tokenOutSlug!==r||i)&&(t=gi(t,{tokenInSlug:o,tokenOutSlug:r,inputSource:Vt.In,...i?{amountIn:void 0,amountOut:void 0}:void 0}),Me(t))})),We("cancelSwap",(function(e,t){let{shouldReset:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n){const{tokenInSlug:t,tokenOutSlug:n,pairs:a}=e.currentSwap;return e=gi(e=vi(e),{tokenInSlug:t,tokenOutSlug:n,amountIn:void 0,amountOut:void 0,inputSource:Vt.In,pairs:a}),void Me(e)}Oo()&&(e=Zr(e)),e=gi(e,{state:$t.None,swapId:void 0}),Me(e)})),We("submitSwap",(async(e,t,a)=>{var o;let{password:r}=a;if(!await(0,n.p)("verifyPassword",r))return void Me(gi(Re(),{error:"Wrong password, please try again."}));e=Re(),Oo()&&(e=Jr(e)),e=gi(e,{isLoading:!0,shouldResetOnClose:void 0,error:void 0}),Me(e),await Wo(!0);const i=Fc(e),s=await(0,n.p)("swapBuildTransfer",e.currentAccountId,r,i);if(e=Re(),!s||"error"in s)return Oo()&&(e=Zr(e)),Uo(),e=gi(e,{shouldResetOnClose:!0,isLoading:!1}),Me(e),void t.showError({error:null==s?void 0:s.error});const l={id:s.id,timestamp:Date.now(),status:"pending",from:i.from,fromAmount:i.fromAmount,to:i.to,toAmount:i.toAmount,networkFee:null!==(o=e.currentSwap.realNetworkFee)&&void 0!==o?o:e.currentSwap.networkFee,swapFee:e.currentSwap.swapFee,ourFee:e.currentSwap.ourFee,txIds:[]};var c;e=gi(e,{tokenInSlug:void 0,tokenOutSlug:void 0,amountIn:void 0,amountOut:void 0,isLoading:!1,state:$t.Complete,activityId:(c=s.id,`swap:${c}`),shouldResetOnClose:!0}),Me(e),Wo();const d=await(0,n.p)("swapSubmit",e.currentAccountId,r,s.transfers,l,i.shouldTryDiesel);d&&!("error"in d)||(e=gi(e=Re(),{shouldResetOnClose:!0}),Oo()&&(e=Zr(e)),Me(e),Uo(),t.showError({error:null==d?void 0:d.error}))})),We("submitSwapCex",(async(e,t,a)=>{var o;let{password:r}=a;if(!await(0,n.p)("verifyPassword",r))return void Me(gi(Re(),{error:"Wrong password, please try again."}));e=gi(e=Re(),{isLoading:!0,error:void 0,shouldResetOnClose:void 0}),Oo()&&(e=Jr(e)),Me(e),await Wo(!0);const i=dt(e=Re(),e.currentAccountId),c=Ge(e),d=function(e){var t;return Object.keys((null===(t=Xe(e,e.currentAccountId))||void 0===t?void 0:t.addressByChain)||{ton:!0})}(e),u=e.swapTokenInfo.bySlug[e.currentSwap.tokenInSlug],m=e.swapTokenInfo.bySlug[e.currentSwap.tokenOutSlug],p="ton"===u.chain,f=i&&"tron"===u.chain,h=p||f,g=i?d.includes(u.chain):"ton"===u.chain,v=c.addressByChain.ton,w=null!==(o=null==c?void 0:c.addressByChain[m.chain])&&void 0!==o?o:e.currentSwap.toAddress,y=Fc(e),b={...(0,s.Up)(y,["from","fromAmount","to","swapFee","networkFee"]),fromAddress:v,toAddress:w},E=await(0,n.p)("swapCexCreateTransaction",e.currentAccountId,r,b);if(e=Re(),!E)return e=gi(e,{isLoading:!1,shouldResetOnClose:!0}),Oo()&&(e=Zr(e)),Uo(),Me(e),void t.showError({error:Dn.QD.Unexpected});if(e=gi(e,{isLoading:!1,state:g?$t.Complete:$t.WaitTokens,activityId:E.activity.id,payinAddress:E.swap.cex.payinAddress,payoutAddress:E.swap.cex.payoutAddress,payinExtraId:E.swap.cex.payinExtraId,shouldResetOnClose:!0}),Me(e),Wo(),h){const a={password:r,accountId:(e=Re()).currentAccountId,fee:(0,vt.UH)(E.swap.networkFee,u.decimals),amount:(0,vt.UH)(E.swap.fromAmount,u.decimals),toAddress:E.swap.cex.payinAddress,tokenAddress:i?u.tokenAddress:void 0};let o;var k;await(0,l.v7)(5e3),p?o=await(0,n.p)("submitTransfer","ton",a,!1):f&&(o=await(0,n.p)("submitTransfer","tron",a,!1)),(!o||"error"in o)&&(e=gi(e=Re(),{shouldResetOnClose:!0}),Oo()&&(e=Zr(e)),Me(e),Uo(),t.showError({error:null===(k=o)||void 0===k?void 0:k.error}))}})),We("switchSwapTokens",(e=>{const{tokenInSlug:t,tokenOutSlug:n,amountIn:a,amountOut:o}=e.currentSwap;e=gi(e,{isMaxAmount:!1,amountIn:o,amountOut:a,tokenInSlug:n,tokenOutSlug:t,inputSource:Vt.In}),Me(e)})),We("setSwapTokenIn",((e,t,n)=>{let{tokenSlug:a}=n;const{amountIn:o,amountOut:r,tokenInSlug:i,tokenOutSlug:s}=e.currentSwap,l=e.swapTokenInfo.bySlug[a],c=o?(0,vt.QQ)(o,l.decimals):o,d=a===s?i:s,u=d?e.swapTokenInfo.bySlug[d]:void 0,m=r&&u?(0,vt.QQ)(r,u.decimals):r;e=gi(e,{amountIn:"0"===c?void 0:c,amountOut:"0"===m?void 0:m,tokenInSlug:a,tokenOutSlug:d}),Me(e)})),We("setSwapTokenOut",((e,t,n)=>{let{tokenSlug:a}=n;const{amountIn:o,amountOut:r,tokenInSlug:i,tokenOutSlug:s}=e.currentSwap,l=e.swapTokenInfo.bySlug[a],c=r?(0,vt.QQ)(r,l.decimals):r,d=a===i?s:i,u=d?e.swapTokenInfo.bySlug[d]:void 0,m=o&&u?(0,vt.QQ)(o,u.decimals):o;e=gi(e,{amountOut:"0"===c?void 0:c,amountIn:"0"===m?void 0:m,tokenOutSlug:a,tokenInSlug:d}),Me(e)})),We("setSwapAmountIn",((e,t,n)=>{let{amount:a,isMaxAmount:o=!1}=n;e=gi(e,{amountIn:a,isMaxAmount:o,inputSource:Vt.In}),Me(e)})),We("setSwapAmountOut",((e,t,n)=>{let{amount:a}=n;e=gi(e,{amountOut:a,isMaxAmount:!1,inputSource:Vt.Out}),Me(e)})),We("setSlippage",((e,t,n)=>{let{slippage:a}=n;return gi(e,{slippage:a})})),We("estimateSwap",(async()=>{await async function(){const t=Re();if(!ui(t)&&!Rc)try{Rc=!0;const a=mi.bind(void 0,t),o=await((t,a)=>{var o,r;if(!pi(t))return fi(t);const i=null!==(o=null===(r=t.currentSwap.pairs)||void 0===r?void 0:r.bySlug)&&void 0!==o?o:{};return t.currentSwap.tokenOutSlug in i?wn(t)===jt.OnChain?async function(t){var a,o;const r=t.swapTokenInfo.bySlug[t.currentSwap.tokenInSlug],i=t.swapTokenInfo.bySlug[t.currentSwap.tokenOutSlug],l=tn(cn(r.slug)).nativeToken,c=r.slug===e.Tu9.slug?r.symbol:r.tokenAddress,d=i.slug===e.Tu9.slug?i.symbol:i.tokenAddress,{fromAmount:u,isFromAmountMax:m}=function(e){var t;const n=gn(e);let a=null!==(t=e.currentSwap.amountIn)&&void 0!==t?t:"0",o=!1;if(e.currentSwap.amountIn&&wn(e)===jt.OnChain&&e.currentSwap.inputSource===Vt.In&&e.currentSwap.isMaxAmount){const t=kt(e,n.slug);a=(0,vt.nI)(t,n.decimals),o=!0}return{fromAmount:a,isFromAmountMax:o}}(t),p=null!==(a=t.currentSwap.amountOut)&&void 0!==a?a:"0",f=Ge(t).addressByChain.ton,h=t.currentSwap.inputSource===Vt.In?{fromAmount:u}:{toAmount:p},g=Nt(t),v=g<(0,vt.UH)(null!==(o=t.currentSwap.networkFee)&&void 0!==o?o:"0",l.decimals),w=await(0,n.p)("swapEstimate",t.currentAccountId,{...h,from:c,to:d,slippage:t.currentSwap.slippage,fromAddress:f,shouldTryDiesel:v,isFromAmountMax:m,toncoinBalance:(0,vt.nI)(null!=g?g:0n,e.Tu9.decimals)});if(t=Re(),!w||"error"in w){var y;const e=null!==(y=Dc[null==w?void 0:w.error])&&void 0!==y?y:zt.UnexpectedError;return{...fi(t),errorType:e}}const b="0"===w.toAmount&&v?zt.NotEnoughForFee:void 0,E=function(e){var t;return[{...(0,s.Up)(e,["fromAmount","toAmount","toMinAmount","impact","dexLabel","networkFee","realNetworkFee","swapFee","swapFeePercent","ourFee","dieselFee","networkFee"])},...null!==(t=e.other)&&void 0!==t?t:[]].sort(((e,t)=>e.dexLabel.localeCompare(t.dexLabel)))}(w),k=function(e,t,n){var a,o;if(0===t.length)throw new Error("Unexpected empty `newEstimates` array");const{tokenInSlug:r,currentDexLabel:i,isDexLabelChanged:s}=e.currentSwap;if(i&&s){const e=t.find((e=>{let{dexLabel:t}=e;return t===i}));if(e)return e}const l=r?e.swapTokenInfo.bySlug[r]:void 0,c=r?kt(e,r):void 0,d=r?null===(a=nn(cn(r)))||void 0===a?void 0:a.nativeToken:void 0,u=d&&kt(e,d.slug);let m=t.filter((e=>function(e){var t;if(!e.tokenIn||void 0===e.nativeTokenInBalance)return;const n=null===(t=nn(cn(e.tokenIn.slug)))||void 0===t?void 0:t.nativeToken;if(!n)return;const a=(0,vt.UH)(e.variant.networkFee,n.decimals);if(e.nativeTokenInBalance>=a)return!0;if(e.variant.dieselFee){if(void 0===e.tokenInBalance)return;const t=(0,vt.UH)(e.variant.dieselFee,e.tokenIn.decimals);if(e.tokenInBalance>=t)return!0}return!1}({variant:e,tokenIn:l,tokenInBalance:c,nativeTokenInBalance:u})));return 0===m.length&&(m=t),null!==(o=m.find((e=>{let{dexLabel:t}=e;return t===n})))&&void 0!==o?o:m[0]}(t,E,w.dexLabel);return{...fi(t),...t.currentSwap.inputSource===Vt.In?{amountOut:k.toAmount}:{amountIn:k.fromAmount},...m?{amountIn:k.fromAmount}:void 0,bestRateDexLabel:w.dexLabel,amountOutMin:k.toMinAmount,priceImpact:k.impact,errorType:b,dieselStatus:w.dieselStatus,estimates:E,currentDexLabel:k.dexLabel,networkFee:k.networkFee,realNetworkFee:k.realNetworkFee,swapFee:k.swapFee,swapFeePercent:k.swapFeePercent,ourFee:k.ourFee,ourFeePercent:w.ourFeePercent,dieselFee:k.dieselFee}}(t):async function(t,a){var o,r;const i=t.swapTokenInfo.bySlug[t.currentSwap.tokenInSlug],s=t.swapTokenInfo.bySlug[t.currentSwap.tokenOutSlug],l=Lt(i),c=Lt(s),d=null!==(o=t.currentSwap.amountIn)&&void 0!==o?o:"0",u=wn(t),m=await(0,n.p)("swapCexEstimate",{fromAmount:d,from:l,to:c});if(a())return;if(t=Re(),!m)return{...fi(t),errorType:window.navigator.onLine?zt.InvalidPair:zt.UnexpectedError};if("error"in m){const{error:e}=m;return e.includes("requests limit")?"rateLimited":{...fi(t),errorType:zt.UnexpectedError}}const p=null===(r=t.accounts)||void 0===r?void 0:r.byId[t.currentAccountId];let f,h;if(u===jt.CrosschainFromWallet){if("ton"!==i.chain&&"tron"!==i.chain)throw new Error(`Unexpected chain ${i.chain}`);const a={ton:null==p?void 0:p.addressByChain.ton,tron:e.jt9}[i.chain],o=await(0,n.p)("checkTransactionDraft",i.chain,{accountId:t.currentAccountId,toAddress:a,tokenAddress:i.tokenAddress});o&&({networkFee:f,realNetworkFee:h}=function(e,t){const n=sn(t);let a,o;return void 0!==(null==e?void 0:e.fee)&&(a=(0,vt.nI)(e.fee,n.decimals)),void 0!==(null==e?void 0:e.realFee)&&(o=(0,vt.nI)(e.realFee,n.decimals)),{networkFee:a,realNetworkFee:o}}(o,i.chain))}return{...fi(t),amountOut:"0"===m.toAmount?void 0:m.toAmount,limits:{fromMin:m.fromMin,fromMax:m.fromMax},swapFee:m.swapFee,networkFee:f,realNetworkFee:h,ourFee:"0",ourFeePercent:0,dieselStatus:"not-available",amountOutMin:m.toAmount,errorType:(0,wt.z)(d).lt(m.fromMin)?zt.ChangellyMinSwap:(0,wt.z)(d).gt(m.fromMax)?zt.ChangellyMaxSwap:void 0}}(t,a):{...fi(t),errorType:zt.InvalidPair}})(t,(()=>{const e=Re();return ui(e)||!a(e)})),r=Re();if(!a(r))return;if("rateLimited"===o)return;Me(gi(r,{isEstimating:!1,...ui(r)?void 0:o}))}finally{Rc=!1}}()})),We("setSwapScreen",((e,t,n)=>{let{state:a}=n;a===$t.Initial&&(e=gi(e,{swapId:(0,ge.A)()})),e=gi(e,{state:a}),Me(e)})),We("clearSwapError",(e=>{e=gi(e,{error:void 0}),Me(e)})),We("loadSwapPairs",(async(t,a,o)=>{var r,i;let{tokenSlug:s,shouldForceUpdate:l}=o;const c=null===(r=t.swapTokenInfo)||void 0===r?void 0:r.bySlug[s];if(!c)return;const d=Lt(c),u=Pc[s];if(u&&Date.now()-u.timestamp<=9e5&&!l)return;const m=await(0,n.p)("swapGetPairs",d);var p;if(t=Re(),!m)return t=gi(t,{pairs:{bySlug:{...null===(p=t.currentSwap.pairs)||void 0===p?void 0:p.bySlug,[s]:{}}}}),void Me(t);const f="ton"===c.chain,h=m.reduce(((t,n)=>{const a=rn(n.slug,!0),o=Number(f)+(a?1:0),r=!(2===o||1===o&&[c.slug,n.slug].includes(e.Tu9.slug));return t[n.slug]={...r&&{isMultichain:r},...n.isReverseProhibited&&{isReverseProhibited:n.isReverseProhibited}},t}),{});Pc[s]={data:m,timestamp:Date.now()},t=gi(t,{pairs:{bySlug:{...null===(i=t.currentSwap.pairs)||void 0===i?void 0:i.bySlug,[s]:h}}}),Me(t)})),We("setSwapCexAddress",((e,t,n)=>{let{toAddress:a}=n;e=gi(e,{toAddress:a}),Me(e)})),We("clearSwapPairsCache",(()=>{Pc={}})),We("updatePendingSwaps",(async e=>{var t,a;const o=e.currentAccountId;if(!o)return;let{activities:r}=null!==(t=Ze(e,o))&&void 0!==t?t:{};if(!r)return;const i=Object.values(r.byId).filter((e=>"swap"===e.kind&&"pending"===e.status)).map((e=>{let{id:t}=e;return t}));if(!i.length)return;const l=await(0,n.p)("fetchSwaps",o,i);if(null==l||!l.swaps.length)return;const{swaps:c,nonExistentIds:d}=l;if((e=Re()).currentAccountId!==o)return;({activities:r}=null!==(a=Ze(e,o))&&void 0!==a?a:{});for(const e of l.swaps)e.isCanceled&&(e.shouldHide=!0);const u={};for(const e of d)u[e]={...r.byId[e],status:"expired",shouldHide:!0};e=oi(e,o,{activities:{...r,byId:{...r.byId,...u,...(0,s.dU)(c,"id")}}}),Me(e)})),We("setSwapDex",((e,t,n)=>{let{dexLabel:a}=n;const{estimates:o,bestRateDexLabel:r}=e.currentSwap,i=(o||[]).find((e=>e.dexLabel===a));i&&(e=gi(e,{amountIn:i.fromAmount,amountOut:i.toAmount,amountOutMin:i.toMinAmount,networkFee:i.networkFee,realNetworkFee:i.realNetworkFee,swapFee:i.swapFee,swapFeePercent:i.swapFeePercent,ourFee:i.ourFee,dieselFee:i.dieselFee,priceImpact:i.impact,currentDexLabel:a,isDexLabelChanged:a!==r||void 0},!0),Me(e))}));let Rc=!1;We("loadPriceHistory",(async(e,t,a)=>{const{slug:o,period:r,currency:i=e.settings.baseCurrency}=null!=a?a:{},s=await(0,n.p)("fetchPriceHistory",o,r,i);s&&(e=function(e,t,n){const{bySlug:a}=e.tokenPriceHistory;return{...e,tokenPriceHistory:{bySlug:{...a,[t]:{...a[t],...n}}}}}(e=Re(),o,{[r]:s}),Me(e))})),We("submitTransferInitial",(async(e,a,o)=>{if(t.KI)return void Ur("submitTransferInitial",o);const{tokenSlug:r,toAddress:i,comment:s,shouldEncrypt:l,nfts:c,withDiesel:d,stateInit:u,isGaslessWithStars:m,binPayload:p}=o;let{amount:f}=o;Me(ki(e,!0));const h=Boolean(null==c?void 0:c.length);let g;if(h)f=Wi.uS,g=await(0,n.p)("checkNftTransferDraft",{accountId:e.currentAccountId,nfts:c,toAddress:i,comment:s});else{const{tokenAddress:t,chain:a}=At(e,r);g=await(0,n.p)("checkTransactionDraft",a,{accountId:e.currentAccountId,tokenAddress:t,toAddress:i,amount:f,data:null!=p?p:s,shouldEncrypt:l,stateInit:u,isBase64Data:Boolean(p),allowGasless:!0})}var v,w;e=ki(e=Re(),!1),g&&(e=wi(e,g)),g&&!("error"in g)?Me(yi(e,{state:Ht.Confirm,error:void 0,toAddress:i,resolvedAddress:g.resolvedAddress,amount:f,comment:s,shouldEncrypt:l,tokenSlug:r,isToNewAddress:g.isToAddressNew,withDiesel:d,isGaslessWithStars:m})):(Me(e),(null===(v=g)||void 0===v?void 0:v.error)!==Dn.KL.InsufficientBalance||h?a.showError({error:null===(w=g)||void 0===w?void 0:w.error}):a.showDialog({message:"The network fee has slightly changed, try sending again."}))})),We("fetchTransferFee",(async(e,t,a)=>{var o;e=yi(e,{isLoading:!0,error:void 0}),Me(e);const{tokenSlug:r,toAddress:i,comment:s,shouldEncrypt:l,binPayload:c,stateInit:d}=a,{tokenAddress:u,chain:m}=At(e,r),p=await(0,n.p)("checkTransactionDraft",m,{accountId:e.currentAccountId,toAddress:i,data:null!=c?c:s,tokenAddress:u,shouldEncrypt:l,isBase64Data:Boolean(c),stateInit:d,allowGasless:!0});r!==(e=Re()).currentTransfer.tokenSlug||null!==(o=e.currentTransfer.nfts)&&void 0!==o&&o.length||(e=yi(e,{isLoading:!1}),p&&(e=wi(e,p)),Me(e),null!=p&&p.error&&p.error!==Dn.KL.InsufficientBalance&&t.showError({error:p.error}))})),We("fetchNftFee",(async(e,t,a)=>{var o;const{toAddress:r,nfts:i,comment:s}=a;e=yi(e,{isLoading:!0,error:void 0}),Me(e);const l=await(0,n.p)("checkNftTransferDraft",{accountId:e.currentAccountId,nfts:i,toAddress:r,comment:s});null!==(o=(e=Re()).currentTransfer.nfts)&&void 0!==o&&o.length&&(e=yi(e,{isLoading:!1}),l&&(e=wi(e,l)),Me(e),null!=l&&l.error&&t.showError({error:(null==l?void 0:l.error)===Dn.KL.InsufficientBalance?"Insufficient TON for fee.":l.error}))})),We("submitTransferPassword",(async(t,a,o)=>{var r,i;let{password:s}=o;const{resolvedAddress:l,comment:c,amount:d,promiseId:u,tokenSlug:m,shouldEncrypt:p,binPayload:f,nfts:h,withDiesel:g,diesel:v,stateInit:w,isGaslessWithStars:y}=t.currentTransfer;if(!await(0,n.p)("verifyPassword",s))return void Me(yi(Re(),{error:"Wrong password, please try again."}));if(t=Re(),t=yi(Re(),{isLoading:!0,error:void 0}),Oo()&&(t=Jr(t)),Me(t),await Wo(!0),u)return Oo()&&(t=Jr(t=Re()),Me(t)),void(0,n.p)("confirmDappRequest",u,s);const b=bn(t.currentTransfer),E=null===(r=b.fullFee)||void 0===r?void 0:r.nativeSum,k=null===(i=b.realFee)||void 0===i?void 0:i.nativeSum;let N;if(null!=h&&h.length){const a=[];for(let t=0;t<h.length;t+=e.gR8)a.push(h.slice(t,t+e.gR8));for(const e of a){const a=await(0,n.p)("submitNftTransfers",t.currentAccountId,s,e,l,c,k&&(0,yn.fC)(k,h.length/e.length));t=yi(t=Re(),{sentNftsCount:(t.currentTransfer.sentNftsCount||0)+e.length}),Me(t),N=a}}else{const{tokenAddress:e,chain:a}=At(t,m),o={accountId:t.currentAccountId,password:s,toAddress:l,amount:d,comment:null!=f?f:c,tokenAddress:e,fee:E,realFee:k,shouldEncrypt:p,isBase64Data:Boolean(f),withDiesel:g,dieselAmount:v&&kn(v),stateInit:w,isGaslessWithStars:y};N=await(0,n.p)("submitTransfer",a,o)}var C;t=yi(t=Re(),{isLoading:!1}),Me(t),!N||"error"in N?(Oo()&&(t=Zr(t=Re()),Me(t)),Uo(),a.showError({error:null===(C=N)||void 0===C?void 0:C.error})):Wo()})),We("submitTransferHardware",(async(e,t)=>{var a;const{toAddress:o,resolvedAddress:r,comment:s,amount:l,promiseId:c,tokenSlug:d,rawPayload:u,parsedPayload:m,stateInit:p,nfts:f}=e.currentTransfer,h=e.currentAccountId;Me(yi(Re(),{isLoading:!0,error:void 0,state:Ht.ConfirmHardware}));const g=await Promise.all([i.e(494),i.e(612),i.e(776),i.e(432)]).then(i.bind(i,95683));if(c){const e={toAddress:o,amount:l,rawPayload:u,payload:m,stateInit:p};try{const t=await g.signLedgerTransactions(h,[e]);(0,n.p)("confirmDappRequest",c,t)}catch(e){e instanceof Vi.KB?Me(yi(Re(),{isLoading:!1,error:"Canceled by the user"})):(0,n.p)("cancelDappRequest",c,"Unknown error.")}return}const v=null===(a=bn(e.currentTransfer).realFee)||void 0===a?void 0:a.nativeSum;let w,y;if(null!=f&&f.length)for(const t of f){const n=await g.submitLedgerNftTransfer({accountId:e.currentAccountId,nftAddress:t.address,password:"",toAddress:r,comment:s,nft:t,realFee:v&&(0,yn.fC)(v,f.length)});e=yi(e=Re(),{sentNftsCount:(e.currentTransfer.sentNftsCount||0)+1}),Me(e),w=n}else{const t=St(e,d),n={accountId:e.currentAccountId,password:"",toAddress:r,amount:l,comment:s,tokenAddress:t,realFee:v};try{w=await g.submitLedgerTransfer(n,d)}catch(e){e instanceof Vi.bS&&(y="$hardware_blind_sign_not_enabled")}}y||void 0!==w?"object"==typeof w&&"error"in w&&t.showError({error:w.error}):y="Declined",Me(yi(Re(),{isLoading:!1,error:y}))})),We("cancelTransfer",(function(e,t){let{shouldReset:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{promiseId:o,tokenSlug:r}=e.currentTransfer;if(a)return o&&(0,n.p)("cancelDappRequest",o,"Canceled by the user"),e=yi(e=bi(e),{tokenSlug:r}),void Me(e);Oo()&&(e=Zr(e)),e=yi(e,{state:Ht.None}),Me(e)})),We("fetchTransferDieselState",(async(e,t,a)=>{let{tokenSlug:o}=a;const r=St(e,o);if(!r)return;const i=await(0,n.p)("fetchEstimateDiesel",e.currentAccountId,r);if(!i)return;const s=Ze(e=Re(),e.currentAccountId);e=Ei(e,yi(e,{diesel:i})),null!=s&&s.isDieselAuthorizationStarted&&"not-authorized"!==i.status&&(e=oi(e,e.currentAccountId,{isDieselAuthorizationStarted:void 0})),Me(e)}));const Mc=t.KI?100:0;We("burnNfts",((t,n,a)=>{let{nfts:o}=a;n.startTransfer({isPortrait:Ga(),nfts:o});const r=o.some((t=>t.collectionAddress===e.KmP));setTimeout((()=>{n.submitTransferInitial({tokenSlug:e.Tu9.slug,amount:0n,toAddress:r?e.WVU[0]:e.pV9,nfts:o})}),Mc)})),We("addNftsToBlacklist",((e,t,n)=>{let{addresses:a}=n,{blacklistedNftAddresses:o=[],whitelistedNftAddresses:r=[]}=Je(e)||{};return o=(0,s.Hl)(o,a),r=(0,s.Hl)(r,a),ai(e,{blacklistedNftAddresses:[...o,...a],whitelistedNftAddresses:r})})),We("addNftsToWhitelist",((e,t,n)=>{let{addresses:a}=n,{blacklistedNftAddresses:o=[],whitelistedNftAddresses:r=[]}=Je(e)||{};return o=(0,s.Hl)(o,a),r=(0,s.Hl)(r,a),ai(e,{blacklistedNftAddresses:o,whitelistedNftAddresses:[...r,...a]})})),We("removeNftSpecialStatus",((e,t,n)=>{let{address:a}=n,{blacklistedNftAddresses:o=[],whitelistedNftAddresses:r=[]}=Je(e)||{};return o=o.filter((e=>e!==a)),r=r.filter((e=>e!==a)),ai(e,{blacklistedNftAddresses:o,whitelistedNftAddresses:r})})),We("openUnhideNftModal",((e,t,n)=>{let{address:a,name:o}=n;return ai(e,{isUnhideNftModalOpen:!0,selectedNftToUnhide:{address:a,name:o}})})),We("closeUnhideNftModal",(e=>ai(e,{isUnhideNftModalOpen:void 0,selectedNftToUnhide:void 0}))),We("openHideNftModal",((e,t,n)=>{let{addresses:a,isCollection:o}=n;return ai(e,{selectedNftsToHide:{addresses:a,isCollection:o}})})),We("closeHideNftModal",(e=>ai(e,{selectedNftsToHide:void 0}))),We("checkCardNftOwnership",(e=>{if(t.bA)return;const{byAccountId:a}=e.settings;Object.entries(a).forEach((async e=>{var t,a;let[o,r]=e;const i=null===(t=r.cardBackgroundNft)||void 0===t?void 0:t.address,s=null===(a=r.accentColorNft)||void 0===a?void 0:a.address;if(!i&&!s)return;const l=[i?(0,n.p)("checkNftOwnership",o,i):void 0,s&&s!==i?(0,n.p)("checkNftOwnership",o,s):void 0],[c,d]=await Promise.all(l);let u=Re();i&&!1===c&&(u=si(u,o,{cardBackgroundNft:void 0})),s&&(s===i&&!1===c||s!==i&&!1===d)&&(u=si(u,o,{accentColorNft:void 0,accentColorIndex:void 0})),Me(u)}))})),We("submitClaimingVesting",(async(a,o,r)=>{let{password:i}=r;const s=a.currentAccountId;if(!await(0,n.p)("verifyPassword",i))return void Me(Di(Re(),s,{error:"Wrong password, please try again."}));if(a=Re(),Oo()&&(a=Jr(a)),a=Di(a,s,{isLoading:!0,error:void 0}),Me(a),await Wo(!0),t.bA)return void Mr("submitClaimingVesting",{password:i});const l=lt(a=Re(),s),c={accountId:a.currentAccountId,password:i,toAddress:e.OKZ,amount:e.aEZ,comment:e.ZYg},d=await(0,n.p)("submitTransfer","ton",c);if(a=Di(a=Re(),s,{isLoading:!1}),Me(a),!d||"error"in d)return Oo()&&(a=Zr(a=Re()),Me(a)),Uo(),void o.showError({error:null==d?void 0:d.error});Wo(),a=Di(a=Re(),s,{isConfirmRequested:void 0,unfreezeRequestedIds:l}),Me(a),o.openVestingModal()})),We("submitClaimingVestingHardware",(async(t,n)=>{t=Di(t,t.currentAccountId,{isLoading:!0,error:void 0,unfreezeState:Qt.ConfirmHardware}),Me(t);const a=await Promise.all([i.e(494),i.e(612),i.e(776),i.e(432)]).then(i.bind(i,95683)),o=(t=Re()).currentAccountId,r=lt(t,o),s={accountId:o,password:"",toAddress:e.OKZ,amount:e.aEZ,comment:e.ZYg},l=await a.submitLedgerTransfer(s,e.Tu9.slug);t=Di(t=Re(),o,{isLoading:!1}),Me(t),l?(t=Di(t=Re(),o,{isConfirmRequested:void 0,unfreezeRequestedIds:r}),Me(t),n.openVestingModal()):n.showError({error:Dn.QD.Unexpected})})),We("loadMycoin",((t,n)=>{const{isTestnet:a}=t.settings;n.importToken({address:a?e.GX2.minterAddress:e.oUU.minterAddress})}));var Uc=i(9705);function Wc(e,t){let n=new Uc.A;return function(){return n.resolve(e),n=new Uc.A,Promise.race([t(...arguments),n.promise])}}function Hc(e,t){const n=e.pushNotifications.enabledAccounts,{[t]:a,...o}=n;return{...e,pushNotifications:{...e.pushNotifications,enabledAccounts:o}}}function $c(e){return{...e,pushNotifications:{...e.pushNotifications,enabledAccounts:{}}}}function Vc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a={...e.pushNotifications.enabledAccounts,[t]:n};return{...e,pushNotifications:{...e.pushNotifications,enabledAccounts:a}}}const zc=Wc({aborted:!0},(e=>(0,n.p)("subscribeNotifications",e))),jc=Wc({aborted:!0},(e=>(0,n.p)("unsubscribeNotifications",e)));We("registerNotifications",(async(t,a,o)=>{let{userToken:r,platform:i}=o;const{pushNotifications:s}=t;let l,c=Object.keys(s.enabledAccounts);const d=Object.keys(qe(t)||{});if(!s.userToken&&d.length?(c=d.slice(0,e.vdF),l=await(0,n.p)("subscribeNotifications",{userToken:r,platform:i,addresses:go(t,c)})):s.userToken!==r&&c.length&&([l]=await Promise.all([(0,n.p)("subscribeNotifications",{userToken:r,platform:i,addresses:go(t,c)}),(0,n.p)("unsubscribeNotifications",{userToken:s.userToken,addresses:go(t,c)})])),t=Re(),t={...t,pushNotifications:{...t.pushNotifications,userToken:r,platform:i}},!l||"error"in l)return void Me(t);const u=c.reduce(((e,n)=>{var a,o;return null!==(a=t.accounts)&&void 0!==a&&a.byId[n].addressByChain.ton&&(e[n]=l.addressKeys[null===(o=t.accounts)||void 0===o?void 0:o.byId[n].addressByChain.ton]),e}),{});Me({...t,pushNotifications:{...t.pushNotifications,enabledAccounts:u}})})),We("deleteNotificationAccount",(async(e,t,a)=>{let{accountId:o,withAbort:r}=a;const{userToken:i,enabledAccounts:s}=e.pushNotifications,l=s[o];if(!i)return;Me(Hc(e,o));const c={userToken:i,addresses:go(e,[o])},d=r?await jc(c):await(0,n.p)("unsubscribeNotifications",c);d&&"aborted"in d||(e=Re(),Me(d&&"ok"in d?Hc(e,o):Vc(e,o,l)))})),We("createNotificationAccount",(async(e,t,a)=>{let{accountId:o,withAbort:r}=a;const{userToken:i,platform:s}=e.pushNotifications;if(!i||!s)return;Me(Vc(e,o,{}));const l={userToken:i,platform:s,addresses:go(e,[o])},c=r?await zc(l):await(0,n.p)("subscribeNotifications",l);c&&"aborted"in c||(e=Re(),Me(c&&"ok"in c?function(e,t,n){const a=e.pushNotifications.enabledAccounts;return a[t]={...a[t],...n},{...e,pushNotifications:{...e.pushNotifications,enabledAccounts:a}}}(e,o,c.addressKeys[e.accounts.byId[o].addressByChain.ton]):Hc(e,o)))})),We("toggleNotifications",(async(t,n,a)=>{let{isEnabled:o}=a;const{enabledAccounts:r={},userToken:i="",platform:s,isAvailable:l}=t.pushNotifications;if(!l)return;let c;if(o){c=Object.keys(qe(t)||{}).slice(0,e.vdF);for(const e of c)t=Vc(t,e,{})}else c=Object.keys(r),t=$c(t);if(Me(t),!c.length)return;const d={userToken:i,addresses:go(t,c),platform:s},u=o?await zc(d):await jc(d);if(!u||!("aborted"in u))if(t=Re(),u&&"ok"in u){if(o&&"addressKeys"in u){const e=u.addressKeys;for(const n of c){const a=t.accounts.byId[n].addressByChain.ton;e[a]&&(t=Vc(t,n,e[a]))}}Me(t)}else{if(o)t=$c(t);else for(const e of c)t=Vc(t,e,r[e]);Me(t)}})),We("apiUpdate",((n,a,o)=>{switch(o.type){case"updateBalances":n=function(t,n,a,o){var r,i,s,l;const c={...o},d=null!==(r=null===(i=Ze(t,n))||void 0===i||null===(i=i.balances)||void 0===i?void 0:i.bySlug)&&void 0!==r?r:{},u=null!==(s=null===(l=tt(t,n))||void 0===l?void 0:l.importedSlugs)&&void 0!==s?s:[];for(const[e,t]of Object.entries(d))cn(e)!==a&&(c[e]=t);for(const t of[...u,e.rUK])t in c||(c[t]=0n);return oi(t,n,{balances:{bySlug:c}})}(n,o.accountId,o.chain,o.balances),Me(n);break;case"updateStaking":{var r,i;const{accountId:t,states:a,common:l,totalProfit:c,shouldUseNominators:d}=o,u=(0,s.dU)(a,"id");n=Ii(n=function(e,t){return{...e,stakingInfo:t}}(n=function(e,t){return{...e,stakingDefault:t}}(n,{...u[e.USn.id],balance:0n,unstakeRequestAmount:0n,tokenBalance:0n,isUnstakeRequested:!1}),l),t,{stateById:u,shouldUseNominators:d,totalProfit:c});const{stakingId:m}=null!==(r=null===(i=Ze(n,t))||void 0===i?void 0:i.staking)&&void 0!==r?r:{};if(!m){const e=[...a].sort(((e,t)=>Number(t.balance-e.balance)))[0];e&&e.balance>0n?n=Ii(n,t,{stakingId:e.id}):d&&u.nominators&&(n=Ii(n,t,{stakingId:u.nominators.id}))}Me(n);break}case"updateTokens":{const{tokens:t,baseCurrency:a}=o;n=ii(n=function(t,n){var a;let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=null===(a=t.tokenInfo)||void 0===a?void 0:a.bySlug;return n[e.Tu9.slug].quote.price||(n=Object.values(n).reduce(((e,t)=>{var n,a;return e[t.slug]={...t,quote:null!==(n=null==r||null===(a=r[t.slug])||void 0===a?void 0:a.quote)&&void 0!==n?n:t.quote},e}),{})),o&&r&&Qr(r,n)?t:{...t,tokenInfo:{...t.tokenInfo,bySlug:{...r,...n}}}}(n,t,!0),{baseCurrency:a}),Me(n);break}case"updateSwapTokens":n=function(e,t){var n;const a=null===(n=e.swapTokenInfo)||void 0===n?void 0:n.bySlug;return{...e,swapTokenInfo:{...e.swapTokenInfo,bySlug:{...a,...t}}}}(n,o.tokens),Me(n);break;case"updateNfts":{var l;const{accountId:t}=o,r=(0,s.dU)(o.nfts,"address"),i=null===(l=Ze(n=Re(),t))||void 0===l?void 0:l.nfts;n=oi(n,t,{nfts:{...i,byAddress:r,orderedAddresses:Object.keys(r)}}),o.nfts.forEach((t=>{t.collectionAddress===e.qL&&(n=Pi(n,t))})),Me(n),a.checkCardNftOwnership();break}case"nftSent":{const{accountId:t,nftAddress:r,newOwnerAddress:i}=o,s=ct(n,t,r);n=function(e,t,n){var a,o,r;const i=Ze(e,t).nfts,s=(null!==(a=null==i?void 0:i.orderedAddresses)&&void 0!==a?a:[]).filter((e=>e!==n)),l=(null!==(o=null==i?void 0:i.selectedAddresses)&&void 0!==o?o:[]).filter((e=>e!==n)),{[n]:c,...d}=null!==(r=null==i?void 0:i.byAddress)&&void 0!==r?r:{};return oi(e,t,{nfts:{...i,byAddress:d,orderedAddresses:s,selectedAddresses:l}})}(n,t,r),(null==s?void 0:s.collectionAddress)===e.qL&&(s.ownerAddress=i,n=Pi(n,s)),Me(n),a.checkCardNftOwnership();break}case"nftReceived":{const{accountId:t,nft:r}=o;n=function(e,t,n){var a;const o=n.address,r=Ze(e,t).nfts,i=(null!==(a=null==r?void 0:r.orderedAddresses)&&void 0!==a?a:[]).filter((e=>e!==o));return oi(e,t,{nfts:{...r,byAddress:{...null==r?void 0:r.byAddress,[o]:n},orderedAddresses:[o,...i]}})}(n,t,r),r.collectionAddress===e.qL&&(n=Pi(n,r)),Me(n),a.checkCardNftOwnership();break}case"nftPutUpForSale":{const{accountId:e,nftAddress:t}=o;n=function(e,t,n){const a=Ze(e,t).nfts,o=null==a?void 0:a.byAddress[n];return a&&o?oi(e,t,{nfts:{...a,byAddress:{...a.byAddress,[n]:{...o,isOnSale:!0}}}}):e}(n,e,t),Me(n);break}case"updateAccount":{const{accountId:e,partial:t}=o;n=ti(n,e,{addressByChain:{ton:t.address}}),Me(n);break}case"updateConfig":{const{isLimited:a,isCopyStorageEnabled:r,supportAccountsCount:i,countryCode:s,isAppUpdateRequired:l}=o,c=t.ZH&&a||e.TI6;n=function(e,t){return{...e,restrictions:{...e.restrictions,...t}}}(n,{isLimitedRegion:a,isSwapDisabled:c,isOnRampDisabled:c,isNftBuyingDisabled:c,isCopyStorageEnabled:r,supportAccountsCount:i,countryCode:s}),n={...n,isAppUpdateRequired:l},Me(n);break}case"updateWalletVersions":t.KI&&Ur("apiUpdateWalletVersions",o),a.apiUpdateWalletVersions(o);break;case"openUrl":Ma(o.url,{isExternal:o.isExternal,title:o.title,subtitle:o.subtitle});break;case"requestReconnectApi":a.initApi();break;case"incorrectTime":n.isIncorrectTimeNotificationReceived||a.showIncorrectTimeError();break;case"updateVesting":{const{accountId:e,vestingInfo:t}=o,a=lt(n,e);n=function(e,t,n){return Di(e,t,{info:n})}(n,e,t),Yr(a,lt(n,e))||(n=Di(n,e,{unfreezeRequestedIds:void 0})),Me(n);break}case"updatingStatus":{const{kind:e,isUpdating:t}=o,a="balance"===e?"balanceUpdateStartedAt":"activitiesUpdateStartedAt";if(t&&n[a])break;Me({...n,[a]:t?Date.now():void 0});break}case"migrateCoreApplication":{const{accountId:e,isTestnet:t,address:r,secondAddress:i,secondAccountId:s,isTonProxyEnabled:l,isTonMagicEnabled:c}=o;n=ei({global:n=ii(n,{isTestnet:t}),accountId:e,addressByChain:{ton:r}}),n=ei({global:n,accountId:s,addressByChain:{ton:i},network:t?"mainnet":"testnet"}),Me(n),requestAnimationFrame((()=>{a.tryAddNotificationAccount({accountId:e}),a.switchAccount({accountId:e,newNetwork:t?"testnet":"mainnet"}),a.afterSignIn(),c&&a.toggleTonMagic({isEnabled:!0}),l&&a.toggleTonProxy({isEnabled:!0})}))}}}));const qc=(0,On.F3)("NativeAudio",{web:()=>i.e(477).then(i.bind(i,4477)).then((e=>new e.NativeAudioWeb))}),Kc=i.p+"incoming-transaction.4ddd93d8f1ec1c4e2651.mp3",Yc=Mn.Z2,Qc=new(window.AudioContext||window.webkitAudioContext);let Gc,Xc=e.UMQ||"running"===Qc.state;function Jc(){Xc||Qc.resume().then((()=>{Xc=!0})).catch((e=>{(0,Fn.SJ)("appSounds:initializeSounds",e)}))}e.UMQ?qc.preload({assetId:"incomingTransactionSound",assetPath:"public/incoming-transaction.mp3",audioChannelNum:1,isUrl:!1}).catch((e=>{(0,Fn.SJ)("appSounds:loadSound",e)})):fetch(Kc).then((e=>e.arrayBuffer())).then((e=>Qc.decodeAudioData(e))).then((e=>{Gc=e})).catch((e=>{(0,Fn.SJ)("appSounds:loadSound",e)}));const Zc=(0,l.sg)((()=>{if(t.bA)return;if(!Xc)return void(0,Fn.MD)("appSounds:playIncomingTransactionSound","sound is not initialized");if(e.UMQ)return void qc.play({assetId:"incomingTransactionSound"}).catch((e=>{(0,Fn.SJ)("appSounds:playIncomingTransactionSound",e)}));if(!Gc)return void(0,Fn.MD)("playIncomingTransactionSound","audioBuffer is not loaded");const n=Qc.createBufferSource();n.buffer=Gc,n.connect(Qc.destination),n.start(0)}),Yc,!0,!1);We("apiUpdate",((n,a,o)=>{switch(o.type){case"newLocalTransaction":{const{accountId:e,transaction:t,transaction:{amount:r,txId:i}}=o;n=function(e,t,n){var a;const{activities:o}=Ze(e,t)||{},r=(null==o?void 0:o.idsBySlug)||{},{id:i,timestamp:s,kind:l}=n,c=[i].concat(null!==(a=null==o?void 0:o.idsMain)&&void 0!==a?a:[]);if("swap"===l){const{from:a,to:s}=n;let l=r[a]||[],d=r[s]||[];return l.includes(i)||(l=[i].concat(l)),d.includes(i)||(d=[i].concat(d)),oi(e,t,{activities:{...o,byId:{...null==o?void 0:o.byId,[i]:n},idsBySlug:{...r,[a]:l,[s]:d},idsMain:c}})}const{slug:d}=n,u=_t(i);let m=(null==o?void 0:o.newestTransactionsBySlug)||{};if(!u){const e=m[d];(!e||e.timestamp<s||e.timestamp===s&&e.txId<i)&&(m={...m,[d]:n})}let p=r[d]||[];return p.includes(i)||(p=[i].concat(p)),oi(e,t,{activities:{...o,idsMain:c,byId:{...null==o?void 0:o.byId,[i]:n},idsBySlug:{...r,[d]:p},newestTransactionsBySlug:m}})}(n,e,t),n=function(e,t,n){var a,o;const{activities:r}=Ze(e,t)||{},i=(null!==(a=null==r?void 0:r.localTransactions)&&void 0!==a?a:[]).concat(n);return oi(e,t,{activities:{...r,byId:null!==(o=null==r?void 0:r.byId)&&void 0!==o?o:{},localTransactions:i}})}(n,e,t),-r===n.currentTransfer.amount&&(n=yi(n,{txId:i,state:Ht.Complete,isLoading:!1}),Oo()&&(n=Zr(n)),rn(t.slug)&&a.fetchTransferDieselState({tokenSlug:t.slug})),Me(n);break}case"newActivities":{var r,i;t.KI&&!o.noForward&&Ur("apiUpdate",{...o,noForward:!0}),t.bA&&!o.noForward&&Mr("apiUpdate",{...o,noForward:!0});const{accountId:a,activities:l,chain:c}=o;n=function(e,t){const{activities:n}=Ze(e,t)||{};return oi(e,t,{activities:{...n||{byId:{}},isLoading:!1}})}(n,a);const d=null!==(r=function(e,t){var n,a;const o=null===(n=e.byAccountId)||void 0===n?void 0:n[t];return null==o||null===(a=o.activities)||void 0===a?void 0:a.localTransactions}(n,a))&&void 0!==r?r:[],u=l.map((t=>{if("transaction"!==t.kind)return{activity:t,localIndex:-1,groupName:"newActivities"};const n=d.findIndex((n=>{let{txId:a,amount:o,isIncoming:r,slug:i,normalizedAddress:s,inMsgHash:l}=n;return function(e){return e.endsWith("|")?e.replace("|",""):void 0}(a)===t.txId||(i===e.Tu9.slug?l===t.inMsgHash&&s===t.normalizedAddress:o===t.amount&&!r&&i===t.slug&&s===t.normalizedAddress)}));return{activity:t,localIndex:n,groupName:n>=0?"localUpdates":"newActivities"}})),m=(0,s.$z)(u,"groupName");if(null===(i=m.localUpdates)||void 0===i||i.forEach((e=>{let{activity:t,localIndex:o}=e;const[r]=d.splice(o,1),{txId:i}=t,s=r.txId;n=function(e,t,n,a){const{activities:o}=Ze(e,t)||{},{byId:r,idsBySlug:i}=o||{byId:{},idsBySlug:{}},s=r[n];if(!s||"transaction"!==s.kind)return e;const{slug:l,amount:c,timestamp:d,txId:u,shouldHide:m,fee:p}=a,f={...i};let{idsMain:h=[],newestTransactionsBySlug:g={}}=null!=o?o:{};if(l in f){const t=f[l].indexOf(n);if(-1===t)return e;f[l]=[...f[l].slice(0,t),u,...f[l].slice(t+1)];const a=h.indexOf(n);if(-1===a)return e;h=[...h.slice(0,a),u,...h.slice(a+1)]}const v={...r,[u]:{...s,id:u,txId:u,amount:c,shouldHide:m,timestamp:d,fee:p}};delete v[n];const w=g[l];return(!w||d>w.timestamp)&&(g={...g,[l]:a}),oi(e,t,{activities:{...o,idsMain:h,byId:v,idsBySlug:f,newestTransactionsBySlug:g}})}(n,a,s,t),n.currentTransfer.txId===s&&(n=yi(n,{txId:i}));const{currentActivityId:l}=Ze(n,a)||{};l===s&&(n=oi(n,a,{currentActivityId:i})),n=function(e,t,n){var a,o;const{activities:r}=Ze(e,t)||{},i=(null!==(a=null==r?void 0:r.localTransactions)&&void 0!==a?a:[]).filter((e=>{let{id:t}=e;return t!==n}));return oi(e,t,{activities:{...r,byId:null!==(o=null==r?void 0:r.byId)&&void 0!==o?o:{},localTransactions:i}})}(n,a,s)})),m.newActivities){const e=m.newActivities.map((e=>{let{activity:t}=e;return t}));n=function(e,t,n){var a,o,r,i,l;let{activities:c}=Ze(e,t)||{};const d=(0,s.dU)(n,"id"),u={...null===(a=c)||void 0===a?void 0:a.byId,...d},m=(0,s.JY)(n,"id"),p=(0,s.Am)(m.concat(null!==(o=null===(r=c)||void 0===r?void 0:r.idsMain)&&void 0!==o?o:[]));p.sort(((e,t)=>Oi(u[e],u[t])));const f=function(e){return e.reduce(((e,t)=>{const{id:n}=t;return"slug"in t&&(e[t.slug]?e[t.slug].push(n):e[t.slug]=[n]),"from"in t&&(e[t.from]?e[t.from].push(n):e[t.from]=[n]),"to"in t&&(e[t.to]?e[t.to].push(n):e[t.to]=[n]),e}),{})}(n),h=(0,s.LG)(f,((e,t)=>{var n;const a=null===(n=c)||void 0===n||null===(n=n.idsBySlug)||void 0===n?void 0:n[t];return a?(0,s.Am)(e.concat(a)):e})),g=n.filter((e=>{let{kind:t}=e;return"transaction"===t})),v={...null===(i=c)||void 0===i?void 0:i.newestTransactionsBySlug};for(const[e,t]of Object.entries((0,s.$z)(g,"slug"))){const n=t[0];(!(e in v)||n.timestamp>v[e].timestamp)&&(v[e]=n)}return c={...c,idsMain:p,byId:u,idsBySlug:{...null===(l=c)||void 0===l?void 0:l.idsBySlug,...h},newestTransactionsBySlug:v},oi(e,t,{activities:c})}(n,a,e),e.some((e=>{var t;return"transaction"===e.kind&&e.isIncoming&&n.settings.canPlaySounds&&Date.now()-e.timestamp<6e4&&!(n.settings.areTinyTransfersHidden&&Bt(e,null===(t=n.tokenInfo)||void 0===t?void 0:t.bySlug[e.slug]))&&!jr(e)}))&&Zc()}c&&(n=function(e,t,n){var a,o;const{byChain:r}=null!==(a=Ze(e,t))&&void 0!==a?a:{};return r&&null!==(o=r[n])&&void 0!==o&&o.isFirstTransactionsLoaded?e:oi(e,t,{byChain:{...r,[n]:{...null==r?void 0:r[n],isFirstTransactionsLoaded:!0}}})}(n,a,c)),Me(n);break}}})),We("apiUpdate",((n,a,o)=>{switch(o.type){case"createTransaction":{const{promiseId:t,amount:a,toAddress:r,fee:i,realFee:s,comment:l,rawPayload:c,parsedPayload:d,stateInit:u}=o;n=yi(n=bi(n),{state:Ht.Confirm,toAddress:r,amount:a,fee:i,realFee:s,comment:l,promiseId:t,tokenSlug:e.Tu9.slug,rawPayload:c,parsedPayload:d,stateInit:u}),Me(n);break}case"createSignature":{const{promiseId:e,dataHex:t}=o;n=Ci(n=function(e){return{...e,currentSignature:void 0}}(n),{promiseId:e,dataHex:t}),Me(n);break}case"showError":{const{error:e}=o;a.showError({error:e});break}case"dappConnect":t.KI&&Ur("apiUpdateDappConnect",o),a.apiUpdateDappConnect(o);break;case"dappConnectComplete":n=_i(n),Me(n);break;case"updateActiveDapp":{const{accountId:e,origin:t}=o;n=oi(n,e,{activeDappOrigin:t}),Me(n);break}case"dappDisconnect":{const{accountId:e,origin:t}=o,a=Ze(n,e);(null==a?void 0:a.activeDappOrigin)===t&&(n=Li(n=oi(n,e,{activeDappOrigin:void 0})),Me(n));break}case"dappLoading":t.KI&&Ur("apiUpdateDappLoading",o),a.apiUpdateDappLoading(o);break;case"dappCloseLoading":t.KI&&Ur("apiUpdateDappCloseLoading"),a.apiUpdateDappCloseLoading();break;case"dappSendTransactions":t.KI&&Ur("apiUpdateDappSendTransaction",o),a.apiUpdateDappSendTransaction(o);break;case"updateDapps":t.KI&&Ur("getDapps"),a.getDapps();break;case"prepareTransaction":{const{amount:t,toAddress:a,comment:r,binPayload:i}=o;n=yi(n=bi(n),{state:Ht.Initial,toAddress:a,amount:null!=t?t:0n,comment:r,tokenSlug:e.Tu9.slug,binPayload:i}),Me(n);break}case"processDeeplink":{const{url:e}=o;Za(e);break}}}));const ed=[e.dnp,e.zHL,e.zP3];function td(e){const t=`animation-level-${e}`;document.documentElement.classList.contains(t)||ed.forEach((t=>{document.documentElement.classList.toggle(`animation-level-${t}`,t===e)}))}var nd,ad,od,rd;We("init",((n,a)=>{(0,E.RK)((()=>{const{documentElement:n}=document;t.pz?n.classList.add("is-ios"):t.Ni?(n.classList.add("is-android"),t.xy&&n.classList.add("is-android-app")):t.MP?n.classList.add("is-macos"):t.H8?n.classList.add("is-windows"):t.ig&&n.classList.add("is-linux"),t.Yw&&n.classList.add("is-safari"),t.By&&n.classList.add("is-opera"),e.hL1&&n.classList.add("is-extension"),t.cp&&n.classList.add("is-electron"),e.tKX&&n.classList.add("is-telegram-app"),(0,t.v3)()&&n.classList.add("is-mobile-telegram-app"),t.bA&&n.classList.add("is-native-bottom-sheet"),(0,t.Kc)(),a.afterInit()}))})),We("afterInit",(t=>{const{theme:n,animationLevel:a,langCode:o,authConfig:r}=t.settings;zs(n),td(a),Ks({forceDarkBackground:!1}),hr(o),function(){const t=e.CV.replace(/\d+$/,""),n=Number((e.CV.match(/\d+$/)||[0])[0]);for(let e=0;e<n;e++)Qo(`${t}${0===e?"":e}`)}(),e.UMQ?async function(e){const t=!!e&&"native-biometrics"===e.kind,n=await Pn.isAvailable({isWeakAuthenticatorAllowed:t,useFallback:!1});Co=n.isAvailable,So=n.biometryType===xn.FACE_ID,Ao=n.biometryType===xn.TOUCH_ID,async function(e){const t=On.Ii.isPluginAvailable("PushNotifications");if(Me({...e,pushNotifications:{...e.pushNotifications,isAvailable:t}}),!t)return;await ho.addListener("pushNotificationActionPerformed",bo),await ho.addListener("registration",Eo),await ho.addListener("registrationError",(e=>{(0,Fn.SJ)("Registration error: ",e.error)}));let n=await ho.checkPermissions();"prompt-with-rationale"!==n.receive&&("prompt"===n.receive&&(n=await ho.requestPermissions()),"granted"===n.receive&&await ho.register())}(Re())}(r):(e.tKX&&function(e){e.isFullscreen&&Zn.requestFullscreen(),Zn.onEvent("fullscreenChanged",la),Zn.onEvent("fullscreenFailed",ca)}(t),document.addEventListener("click",Jc,{once:!0}))})),We("afterSignIn",((e,t)=>{Me({...e,appState:Mt.Main}),setTimeout((()=>{t.resetAuth(),Ja&&(Za(Ja),Ja=void 0)}),320)})),We("afterSignOut",((e,t,n)=>{var a;null!=n&&n.shouldReset&&("native-biometrics"===(null===(a=e.settings.authConfig)||void 0===a?void 0:a.kind)&&Ea(),t.resetApiSettings({areAllDisabled:!0})),t.clearSwapPairsCache()})),We("showDialog",((e,t,n)=>{const{message:a,title:o}=n,r=[...e.dialogs],i=r.findIndex((e=>e.message===a));return-1!==i&&r.splice(i,1),r.push({message:a,title:o}),{...e,dialogs:r}})),We("dismissDialog",(e=>{const t=[...e.dialogs];return t.pop(),{...e,dialogs:t}})),We("selectToken",(function(t,n){let{slug:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(a){const o=a===e.Tu9.slug,r=hn(t);(o||null!=r&&r.some((e=>e.slug===a)))&&(o?n.setDefaultSwapParams({tokenInSlug:e.rKC,tokenOutSlug:a}):n.setDefaultSwapParams({tokenOutSlug:a}),n.changeTransferToken({tokenSlug:a}))}else{var o;const a=t.byAccountId[t.currentAccountId].currentTokenSlug,r=t.currentSwap.tokenOutSlug===e.Hfd&&t.currentSwap.tokenInSlug===e.rKC;t.currentSwap.tokenOutSlug===a&&(t.currentSwap.tokenInSlug===e.Hfd&&t.currentSwap.tokenOutSlug!==e.rKC||r)&&n.setDefaultSwapParams({tokenInSlug:void 0,tokenOutSlug:void 0,withResetAmount:!0}),t.currentTransfer.tokenSlug===a&&t.currentTransfer.tokenSlug!==e.ScF&&(null===(o=t.currentTransfer.nfts)||void 0===o||!o.length)&&n.changeTransferToken({tokenSlug:e.ScF,withResetAmount:!0})}return ai(t,{currentTokenSlug:a})})),We("showError",(function(e,n){let{error:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t.bA)Mr("showError",{error:a});else switch(a){case Dn.KL.InvalidAmount:n.showDialog({message:"Invalid amount"});break;case Dn.KL.InvalidToAddress:n.showDialog({message:"Invalid address"});break;case Dn.KL.StateInitWithoutBin:n.showDialog({message:"$state_init_requires_bin"});break;case Dn.KL.InvalidStateInit:n.showDialog({message:"$state_init_invalid"});break;case Dn.KL.InsufficientBalance:n.showDialog({message:"Insufficient balance"});break;case Dn.KL.DomainNotResolved:n.showDialog({message:"Domain is not connected to a wallet"});break;case Dn.KL.WalletNotInitialized:n.showDialog({message:"Encryption is not possible. The recipient is not a wallet or has no outgoing transactions."});break;case Dn.KL.InvalidAddressFormat:n.showDialog({message:"Invalid address format. Only URL Safe Base64 format is allowed."});break;case Dn.jf.PartialTransactionFailure:n.showDialog({message:"Not all transactions were sent successfully"});break;case Dn.jf.IncorrectDeviceTime:n.showDialog({message:"The time on your device is incorrect, sync it and try again"});break;case Dn.jf.UnsuccesfulTransfer:n.showDialog({message:"Transfer was unsuccessful. Try again later."});break;case Dn.KL.InactiveContract:n.showDialog({message:"$transfer_inactive_contract_error"});break;case Dn.jf.NotSupportedHardwareOperation:n.showDialog({message:"$ledger_not_supported_operation"});break;case Dn.QD.ServerError:n.showDialog({message:window.navigator.onLine?"An error on the server side. Please try again.":"No internet connection. Please check your connection and try again."});break;case Dn.QD.DebugError:n.showDialog({message:"Unexpected error. Please let the support know."});break;case Dn.QD.Unexpected:case void 0:n.showDialog({message:"Unexpected"});break;default:n.showDialog({message:a})}})),We("showNotification",((e,n,a)=>{if(t.bA)return void Mr("showNotification",a);const{message:o,icon:r}=a,i=[...e.notifications],s=i.findIndex((e=>e.message===o));return-1!==s&&i.splice(s,1),i.push({message:o,icon:r}),{...e,notifications:i}})),We("dismissNotification",(e=>{const t=[...e.notifications];return t.pop(),{...e,notifications:t}})),We("toggleTonProxy",((e,t,a)=>{let{isEnabled:o}=a;return(0,n.p)("doProxy",o),{...e,settings:{...e.settings,isTonProxyEnabled:o}}})),We("toggleTonMagic",((e,t,a)=>{let{isEnabled:o}=a;return(0,n.p)("doMagic",o),{...e,settings:{...e.settings,isTonMagicEnabled:o}}})),We("toggleDeeplinkHook",((e,a,o)=>{let{isEnabled:r}=o;var i;return t.cp?null===(i=window.electron)||void 0===i||i.toggleDeeplinkHandler(r):(0,n.p)("doDeeplinkHook",r),{...e,settings:{...e.settings,isDeeplinkHookEnabled:r}}})),We("signOut",(async(e,a,o)=>{var r;t.bA&&Mr("signOut",o);const{level:i}=o,l=Qe(e),c=Ye(e),d=Object.keys(c),u="account"!==i,m="mainnet"===l?"testnet":"mainnet";let p=Object.keys(Ke(m,null===(r=e.accounts)||void 0===r?void 0:r.byId));if("all"===i&&p.length>0&&(await(0,n.p)("removeNetworkAccounts",m),p=[]),u||1===d.length)if(a.deleteAllNotificationAccounts({accountIds:d}),p.length){await(0,n.p)("removeNetworkAccounts",l),e=Re();const t=p[0],o=Object.entries(e.accounts.byId).reduce(((e,t)=>{let[n,a]=t;return(0,$e.c)(n).network!==l&&(e[n]=a),e}),{}),r=Object.entries(e.byAccountId).reduce(((e,t)=>{let[n,a]=t;return(0,$e.c)(n).network!==l&&(e[n]=a),e}),{}),i=Object.entries(e.settings.byAccountId).reduce(((e,t)=>{let[n,a]=t;return(0,$e.c)(n).network!==l&&(e[n]=a),e}),{});e=di(e,t),e={...e,accounts:{...e.accounts,byId:o},byAccountId:r,settings:{...e.settings,byAccountId:i}},Me(e),a.switchAccount({accountId:t,newNetwork:m}),a.closeSettings(),a.afterSignOut()}else await(0,n.p)("resetAccounts"),a.afterSignOut({shouldReset:!0}),a.init();else{const t=e.currentAccountId,o=d.find((e=>e!==t)),r=Ft(e,o);await(0,n.p)("removeAccount",t,o,r),a.deleteNotificationAccount({accountId:t}),e=Re();const i=(0,s.cJ)(e.accounts.byId,[t]),l=(0,s.cJ)(e.byAccountId,[t]),c=(0,s.cJ)(e.settings.byAccountId,[t]);e=di(e,o),e={...e,accounts:{...e.accounts,byId:i},byAccountId:l,settings:{...e.settings,byAccountId:c}},Me(e),a.afterSignOut()}})),function(e){e.Aztec="AZTEC",e.Codabar="CODABAR",e.Code39="CODE_39",e.Code93="CODE_93",e.Code128="CODE_128",e.DataMatrix="DATA_MATRIX",e.Ean8="EAN_8",e.Ean13="EAN_13",e.Itf="ITF",e.Pdf417="PDF_417",e.QrCode="QR_CODE",e.UpcA="UPC_A",e.UpcE="UPC_E"}(nd||(nd={})),function(e){e.CalendarEvent="CALENDAR_EVENT",e.ContactInfo="CONTACT_INFO",e.DriversLicense="DRIVERS_LICENSE",e.Email="EMAIL",e.Geo="GEO",e.Isbn="ISBN",e.Phone="PHONE",e.Product="PRODUCT",e.Sms="SMS",e.Text="TEXT",e.Url="URL",e.Wifi="WIFI",e.Unknown="UNKNOWN"}(ad||(ad={})),function(e){e.Front="FRONT",e.Back="BACK"}(od||(od={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.PENDING=1]="PENDING",e[e.DOWNLOADING=2]="DOWNLOADING",e[e.CANCELED=3]="CANCELED",e[e.COMPLETED=4]="COMPLETED",e[e.FAILED=5]="FAILED",e[e.INSTALLING=6]="INSTALLING",e[e.DOWNLOAD_PAUSED=7]="DOWNLOAD_PAUSED"}(rd||(rd={}));const id=(0,On.F3)("BarcodeScanner",{web:()=>i.e(215).then(i.bind(i,29215)).then((e=>new e.BarcodeScannerWeb))});var sd=i(43110),ld=i.n(sd);function cd(e){const t=e.replace("#","");return[parseInt(t.substring(0,2),16),parseInt(t.substring(2,4),16),parseInt(t.substring(4,6),16)]}function dd(e){let[t,n,a]=e.map((e=>e/255));[t,n,a]=[t,n,a].map((e=>e>.04045?((e+.055)/1.055)**2.4:e/12.92));let o=.4124*t+.3576*n+.1805*a,r=.2126*t+.7152*n+.0722*a,i=.0193*t+.1192*n+.9505*a;return[o,r,i]=[o/.95047,r,i/1.08883].map((e=>e>.008856?e**(1/3):7.787*e+16/116)),[116*r-16,500*(o-r),200*(r-i)]}const ud={light:["#31AFC7","#35C759","#FF9500","#FF2C55","#AF52DE","#5856D7","#73AAED","#FFB07A","#B76C78","#9689D1","#E572CC","#6BA07A","#338FCC","#1FC863","#929395","#E4B102","#000000"],dark:["#3AB5CC","#32D74B","#FF9F0B","#FF325A","#BF5AF2","#7977FF","#73AAED","#FFB07A","#B76C78","#9689D1","#E572CC","#6BA07A","#338FCC","#2CD36F","#C3C5C6","#DDBA00","#FFFFFF"]};function md(e,t,n){const a=n?ud[t][n]:void 0;le((()=>{const t="body"===e?document.body:e.current;t&&gc(t,{"--color-accent":a||"inherit","--color-accent-10o":a?`${a}1A`:"inherit","--color-accent-button-background":a||"inherit","--color-accent-button-background-hover":a?`${a}CC`:"inherit","--color-accent-button-text":"#FFFFFF"===a?"#000000":"inherit","--color-accent-button-text-hover":"#FFFFFF"===a?"#000000":"inherit"})}),[e,a])}async function pd(t){const n=await caches.open(e.F9m),a=await n.match(t);if(a){const e=await a.blob();return URL.createObjectURL(e)}const o=await fetch(t);if(!o.ok)throw new Error(`Image loading error: ${o.statusText}. URL: ${t}`);await n.put(t,o.clone());const r=await o.blob();return URL.createObjectURL(r)}const fd=/^\d+\.\d+(\.\d+)?$/;let hd;const gd=new Set,vd=window.matchMedia("(prefers-color-scheme: dark)"),wd=function(e){const[t,n]=re("system"===e?vd.matches?"dark":"light":e),a=Cr((()=>{n((()=>"system"===e?vd.matches?"dark":"light":e))}));return se((()=>{if("system"===e)return vd.addEventListener("change",a),()=>{vd.removeEventListener("change",a)}}),[e]),a(),t},yd=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;const[n,a]=re(e,t);return[n,de((()=>{a(!0)}),[]),de((()=>{a(!1)}),[])]};const bd=new Set(["INPUT","TEXTAREA","SELECT"]),Ed=g();function kd(e){se((()=>{if(!e)return;const t=Object.entries(e);return Ed.addCallback((function(e){(function(e){return!(e.target instanceof HTMLElement)||!bd.has(e.target.tagName)})(e)&&t.forEach((t=>{let[n,a]=t;(function(e){return t=>function(e,t){const{alt:n,ctrl:a,meta:o,mod:r,shift:i,key:s}=e,{altKey:l,ctrlKey:c,metaKey:d,shiftKey:u,key:m}=t;if(n!==l)return!1;if(r){if(!c&&!d)return!1}else{if(a!==c)return!1;if(o!==d)return!1}return i===u&&Boolean(s&&(m.toLowerCase()===s.toLowerCase()||t.code.replace("Key","").toLowerCase()===s.toLowerCase()))}(function(e){const t=e.toLowerCase().split("+").map((e=>e.trim())),n={alt:t.includes("alt"),ctrl:t.includes("ctrl"),meta:t.includes("meta"),mod:t.includes("mod"),shift:t.includes("shift")},a=["alt","ctrl","meta","shift","mod"];return{...n,key:t.find((e=>!a.includes(e)))}}(e),t)})(n)(e)&&a(e)}))}))}),[e])}function Nd(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=de(e,t);return ce((()=>"number"==typeof n?(0,l.nF)(o,n,!a):(0,l.nb)(n,o)),[o,n,a])}function Cd(e){const t=Boolean(e),{transitionClassNames:n}=Gi(t,void 0,t,"slow");return n}document.documentElement.addEventListener("keydown",Ed.runCallbacks);const Sd=me((function(e){let{url:t,alt:n,loading:a,className:o,imageClassName:r}=e;const i=ue(null),[s,l]=yd(gd.has(t)),c=Cd(s);return fe.createElement("div",{className:ji(c,o)},fe.createElement("img",{ref:i,src:t,alt:n,loading:a,className:r,draggable:!1,referrerPolicy:"same-origin",onLoad:s?void 0:()=>{l(),gd.add(t)}}))})),Ad=i.p+"add_dark.8aaf6cc3b06c8c29c0b8.tgs",Td=i.p+"add_light.be170b963afd3d68fffa.tgs",Id=i.p+"clock_dark.41e2e3e2364b65223be5.tgs",Bd=i.p+"clock_dark_blue.d3b0ddc95a2fff8a0fd2.tgs",_d=i.p+"clock_dark_gray.5696eb44c544d21e8de6.tgs",xd=i.p+"clock_dark_gray_white.53fa5cc13876fb8c17d2.tgs",Ld=i.p+"clock_dark_green.30d56a71568b4a6c2265.tgs",Od=i.p+"clock_dark_purple.44d7e54c80d7bfcdc066.tgs",Pd=i.p+"clock_dark_purple_white.b5df424559c900b23895.tgs",Dd=i.p+"clock_light.6acc80f4fc9faf536f4b.tgs",Fd=i.p+"clock_light_blue.f083ead22592adee851a.tgs",Rd=i.p+"clock_light_gray.3af0d8d0034fe5351c6e.tgs",Md=i.p+"clock_light_gray_white.1ed0a907269e5f0cdfa0.tgs",Ud=i.p+"clock_light_green.81cd8075f0eea6108c88.tgs",Wd=i.p+"clock_light_purple.38ce19dce815fecda5d9.tgs",Hd=i.p+"clock_light_purple_white.5f9e760bc1f22f84b046.tgs",$d=i.p+"core_wallet_logo.2055ba52598574ce57c1.tgs",Vd=i.p+"duck_bill.f055b12619440839e0be.tgs",zd=i.p+"duck_forges.8b2d0ebddaa6d89f49f9.tgs",jd=i.p+"duck_guard.80ca79a0dd4e872c97de.tgs",qd=i.p+"duck_happy.341e288409ae85100bda.tgs",Kd=i.p+"duck_hello.40447128d7d2e35c9513.tgs",Yd=i.p+"duck_no-data.235bf383a43e5d277cc7.tgs",Qd=i.p+"duck_run.4f00386469e72bd5f970.tgs",Gd=i.p+"duck_snitch.1de91932b48b813238a6.tgs",Xd=i.p+"duck_thumb.4ae249f4ed4f4a37176a.tgs",Jd=i.p+"duck_ton.6583e2880c36d10daee2.tgs",Zd=i.p+"duck_wait.94faee2d1128c376e8d9.tgs",eu=i.p+"duck_yeee.883032cf50944d474730.tgs",tu=i.p+"earn_dark.cc3100d59f35656a0d80.tgs",nu=i.p+"earn_dark_purple.ef283884f712c29765f8.tgs",au=i.p+"earn_light.ba7d6daf7c43c22f37c5.tgs",ou=i.p+"earn_light_purple.f5bf3ef47824c05e92a7.tgs",ru=i.p+"send_dark.a03d74d5dbf4d09aa6cd.tgs",iu=i.p+"send_light.5056ea189e9f728cbf1c.tgs",su=i.p+"swap_dark.0cca83400e60322ddc57.tgs",lu=i.p+"swap_light.f484bcd0bc90ab8c5f43.tgs",cu=i.p+"clock_dark.6c8b4d5d8ae85711ac53.svg",du=i.p+"clock_dark_blue.ad6be1bf6a3055f92995.svg",uu=i.p+"clock_dark_gray.be501331d92ab43fedaf.svg",mu=i.p+"clock_dark_gray_white.137fb6f2f9348e921293.svg",pu=i.p+"clock_dark_green.93f238675a9074c4fd47.svg",fu=i.p+"clock_dark_purple.e08f76411ffbefe55602.svg",hu=i.p+"clock_dark_purple_white.fbc63a9cd9546cfb5f54.svg",gu=i.p+"clock_light.6a7ef9938f7be2069983.svg",vu=i.p+"clock_light_blue.5282cd47826f9a86e7bf.svg",wu=i.p+"clock_light_gray.f6f92a2cb5df704b0e68.svg",yu=i.p+"clock_light_gray_white.bb9926c3e2c85743bf63.svg",bu=i.p+"clock_light_green.71f692ac565e957d540a.svg",Eu=i.p+"clock_light_purple.171b47626b50eac4fe77.svg",ku=i.p+"clock_light_purple_white.fc89347ebf34b9556bfc.svg",Nu=i.p+"core_wallet_logo.e5460356e39ce9c0ba0e.png",Cu=i.p+"duck_bill.966ff858d718072aae75.png",Su=i.p+"duck_forges.52c157bd0cc621f324e1.png",Au=i.p+"duck_guard.d4ebb8f84ebdd68f3da2.png",Tu=i.p+"duck_happy.b8afd923624d1ef9061d.png",Iu=i.p+"duck_hello.c865862ea6c03bf4088b.png",Bu=i.p+"duck_no-data.21cf5ad05a9a06aebcff.png",_u=i.p+"duck_run.a70c5e12b26ee1d82b73.png",xu={hello:Kd,snitch:Gd,bill:Vd,thumbUp:Xd,holdTon:Jd,happy:qd,noData:Yd,forge:zd,wait:Zd,run:Qd,yeee:eu,guard:jd,helloPreview:Iu,snitchPreview:i.p+"duck_snitch.b567535e9c071b993b06.png",billPreview:Cu,thumbUpPreview:i.p+"duck_thumb.8d21bd4f32485ac2c2a2.png",holdTonPreview:i.p+"duck_ton.c26fd7a7467b637009fe.png",happyPreview:Tu,noDataPreview:Bu,forgePreview:Su,waitPreview:i.p+"duck_wait.b0fe6ec6993586b30e65.png",runPreview:_u,yeeePreview:i.p+"duck_yeee.6a3e6f89a1e9cdb20fc7.png",guardPreview:Au,...e.TI6&&{coreWalletLogo:$d,coreWalletLogoPreview:Nu},light:{iconAdd:Td,iconClock:Dd,iconClockBlue:Fd,iconClockGray:Rd,iconClockGrayWhite:Md,iconClockGreen:Ud,iconClockPurple:Wd,iconClockPurpleWhite:Hd,iconEarn:au,iconEarnPurple:ou,iconSend:iu,iconSwap:lu,preview:{iconClock:gu,iconClockBlue:vu,iconClockGray:wu,iconClockGrayWhite:yu,iconClockGreen:bu,iconClockPurple:Eu,iconClockPurpleWhite:ku}},dark:{iconAdd:Ad,iconClock:Id,iconClockBlue:Bd,iconClockGray:_d,iconClockGrayWhite:xd,iconClockGreen:Ld,iconClockPurple:Od,iconClockPurpleWhite:Pd,iconEarn:tu,iconEarnPurple:nu,iconSend:ru,iconSwap:su,preview:{iconClock:cu,iconClockBlue:du,iconClockGray:uu,iconClockGrayWhite:mu,iconClockGreen:pu,iconClockPurple:fu,iconClockPurpleWhite:hu}}};function Lu(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:400;se((()=>{t.TF||n||setTimeout((()=>{var t;null===(t=e.current)||void 0===t||t.focus()}),a)}),[e,a,n])}const Ou="A4iuMrwm",Pu="lTI19L4Y",Du="Q6nK70OA",Fu="Hzc2OPCD",[Ru,Mu]=b(0);function Uu(){const e=Ru();Mu(Math.max(0,e-1))}function Wu(){return Ru()>0}const Hu=me(He((e=>{var t;const{areSettingsOpen:n,isExploreOpen:a}=e,{activeContentTab:o}=null!==(t=Je(e))&&void 0!==t?t:{};return{areSettingsOpen:n,areAssetsActive:o===Jt.Assets,isExploreOpen:a}}))((function(t){let{areSettingsOpen:n,areAssetsActive:a,isExploreOpen:o}=t;const{openSettings:r,closeSettings:i,setActiveContentTab:s,closeSiteCategory:l,selectToken:c,openExplore:d,closeExplore:u}=Ue(),m=Qi(),[p,f]=re(Wu()),h=!o&&!n;Yi((()=>Ru.subscribe((()=>{f(Wu())}))));const g=Cr((()=>{u(void 0,{forceOnHeavyAnimation:!0}),i(void 0,{forceOnHeavyAnimation:!0}),!a&&h&&(c({slug:void 0},{forceOnHeavyAnimation:!0}),s({tab:Jt.Assets},{forceOnHeavyAnimation:!0}))})),v=Cr((()=>{o&&l(void 0,{forceOnHeavyAnimation:!0}),i(void 0,{forceOnHeavyAnimation:!0}),d(void 0,{forceOnHeavyAnimation:!0})})),w=Cr((()=>{u(void 0,{forceOnHeavyAnimation:!0}),r(void 0,{forceOnHeavyAnimation:!0})}));return Il({isActive:o,onBack:g}),fe.createElement("div",{className:ji("QlVPgZym",p&&"YMl6tuqD")},fe.createElement(Ll,{isSimple:!0,className:ji(Ou,h&&Pu),onClick:g},fe.createElement("i",{className:ji(Du,"icon-wallet")}),fe.createElement("span",{className:Fu},m("Wallet"))),!e.TI6&&fe.createElement(Ll,{isSimple:!0,className:ji(Ou,o&&Pu),onClick:v},fe.createElement("i",{className:ji(Du,"icon-explore")}),fe.createElement("span",{className:Fu},m("Explore"))),fe.createElement(Ll,{isSimple:!0,className:ji(Ou,n&&Pu),onClick:w},fe.createElement("i",{className:ji(Du,"icon-settings")}),fe.createElement("span",{className:Fu},m("Settings"))))})));function $u(e){se((()=>{if(e)return function(){const e=Ru();Mu(e+1)}(),Uu}),[e])}function Vu(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(";")}let zu,ju;async function qu(){return zu||(zu=i.e(687).then(i.bind(i,17687)).then((e=>e.default)),ju=await zu),zu}function Ku(){return ju}setTimeout(qu,3e3);const Yu=g(),Qu=g();function Gu(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=Cr(e),o=Cr(t);se((()=>{if(!n)return I()&&a(),Yu.addCallback(a),Qu.addCallback(o),()=>{Qu.removeCallback(o),Yu.removeCallback(a)}}),[n,o,a])}I.subscribe((()=>{I()?Yu.runCallbacks():Qu.runCallbacks()}));const Xu=g(),Ju=g();const Zu=new Map,em=me((e=>{let{ref:n,renderId:a,className:o,style:r,tgsUrl:i,play:s,playSegment:l,speed:c,noLoop:d,size:u,shouldStretch:m,quality:p,isLowPriority:f,color:h,forceOnHeavyAnimation:v,forceInBackground:w,sharedCanvas:y,sharedCanvasCoords:b,onClick:k,onLoad:N,onEnded:C,onLoop:S}=e,A=ue(null);n&&(A=n);const T=ve(),[I,B]=re(),_=ue(),x=ue(!0),L=s||!1!==s&&l,O=Nr(s),P=Nr(l),D=ue(),F=ue(!1);se((()=>()=>{F.current=!0}),[]),ll((()=>{if(h){const[e,t,n]=cd(h);D.current=[e,t,n]}else D.current=void 0}),[h]);const R=Cr((()=>{if(_.current||F.current||!i||y&&(!b||!y.offsetWidth||!y.offsetHeight))return;const e=A.current||y;if(!e)return;const t=Ku().init(i,e,a||(0,ge.A)(),{size:u,shouldStretch:m,noLoop:d,quality:p,isLowPriority:f,coords:b},T,D.current,N,C,S);c&&t.setSpeed(c),B(t),_.current=t}));se((()=>{Ku()?R():qu().then(R)}),[R,i,y,b]);const M=Nd(R,[R],150);!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=Nr(t);se((()=>{const t=e&&"current"in e?e.current:e;if(!t||n)return;const o=e=>{let[t]=e;t.target.offsetWidth&&t.target.offsetHeight&&a.current(t)};let[r,i]=Zu.get(t)||[void 0,void 0];return r||(i=g(),r=new IntersectionObserver(i.runCallbacks),Zu.set(t,[r,i]),r.observe(t)),i.addCallback(o),()=>{i.removeCallback(o),i.hasCallbacks()||(r.unobserve(t),r.disconnect(),Zu.delete(t))}}),[n,a,e])}(y,M),se((()=>{I&&I.setColor(D.current)}),[h,I]),se((()=>()=>{var e;null===(e=_.current)||void 0===e||e.removeView(T)}),[T]);const U=Cr((function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];I&&(O.current||P.current)&&!tm(v,w)&&(P.current?I.playSegment(P.current,e,T):I.play(e,T))})),W=Cr((()=>{(0,E.YS)(U)})),H=Cr((()=>{null!=I&&I.isPlaying()&&I.pause(T)}));if(Qs((e=>{let[t]=e;void 0!==t&&d!==t&&(null==I||I.setNoLoop(d))}),[d,I]),Qs((e=>{let[t]=e;void 0!==t&&b!==t&&(null==I||I.setSharedCanvasCoords(T,b))}),[b,T,I]),se((()=>{I&&(L?tm(v,w)||U(d):H())}),[I,L,d,U,H,v,w]),se((()=>{I&&(x.current?x.current=!1:i&&(I.changeData(i),U(d)))}),[U,I,i,d]),Gu(H,U,v||t.pz||!L),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=Cr(e),o=Cr(t);se((()=>{if(!n)return Xu.addCallback(a),Ju.addCallback(o),()=>{Ju.removeCallback(o),Xu.removeCallback(a)}}),[n,a,o])}(H,U,!L),_r(H,W,!L||w),!y)return fe.createElement("div",{ref:A,className:o,style:Vu(void 0!==u&&!m&&`width: ${u}px; height: ${u}px;`,k&&!t.cp&&"cursor: pointer",r),onClick:k})}));function tm(){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&!t.pz&&I()||!e&&xr()}function nm(){return nm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},nm.apply(null,arguments)}const am=me((function(e){const{size:t,play:n=!0,noLoop:a=!0,className:o,noTransition:r,nonInteractive:i,onLoad:s,onClick:l,...c}=e,[d,u]=yd(!1),m=Cd(r||d),p=Cr((()=>{u(),null==s||s()})),[f,h]=re(String(Math.random())),g=Cr((()=>{!0===n&&h(String(Math.random())),null==l||l()}));return fe.createElement(em,nm({className:ji(o,m),size:t,play:!0===n?f:n,noLoop:a,onClick:i?void 0:g,onLoad:p},c))})),om="haM4SCte";function rm(){return rm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},rm.apply(null,arguments)}const im=new Set,sm=150,lm=me(He((t=>({noAnimation:t.settings.animationLevel===e.dnp})))((function(e){const{size:t=sm,previewUrl:n,iconPreviewClass:a,thumbDataUri:o,className:r,noAnimation:i,noPreviewTransition:s,...l}=e,[c,d]=yd(Boolean(a)||Boolean(o)||im.has(n)),u=Cd(c&&!s),[m,p,f]=yd(!1);se((()=>{i&&f()}),[f,i]);const h=Cr((()=>{d(),im.add(n)}));return fe.createElement("div",{className:ji(r,"aNPdKxlh",!s&&u),style:Vu(void 0!==t&&!l.shouldStretch&&`width: ${t}px; height: ${t}px;`),"data-preview-url":n},o&&!n&&!m&&fe.createElement("img",{src:o,className:om}),n&&!m&&fe.createElement("img",{src:n,className:om,onLoad:h}),a&&!m&&fe.createElement("i",{className:ji(om,a),"aria-hidden":!0}),!i&&fe.createElement(am,rm({size:t},l,{onLoad:p,noTransition:!0})))}))),cm="LCV_ofSL",dm="O85V9ajV",um="ijuURRdU",mm="hhZYLQar",pm="sAhrzaLV",fm="Vvta_r3C",hm="Q9N6yVvw",gm="dGKNlTrc",vm="PFA7oH6u",wm=me((function(e){let{ref:t,id:n,label:a,placeholder:o,inputMode:r,isRequired:i,isDisabled:s,isMultiline:l,hasError:c,type:d="text",error:u,value:m="",maxLength:p,inputArg:f,className:h,wrapperClassName:g,autoComplete:v,autoCorrect:w,children:y,onInput:b,onKeyDown:k,onFocus:N,onBlur:C}=e;const S=Qi(),[A,T]=re(!1),I=e=>{b(e.currentTarget.value,f)},B="text"===d||A?"text":"password",_=ji(dm,h,"password"===d&&"MawuFp3r",(c||u)&&mm,s&&pm),x=ji(gm,(c||u)&&mm,(c||u)&&"password"===d&&"i9G7zfox");return fe.createElement("div",{className:ji(cm,g)},u&&!!a&&fe.createElement("label",{className:ji(gm,vm,mm),htmlFor:n},u),!!a&&fe.createElement("label",{className:x,htmlFor:n},a),l?fe.createElement("textarea",{ref:t,id:n,className:_,value:m,disabled:s,maxLength:p,autoComplete:v,onInput:I,onChange:e=>{const{currentTarget:t}=e,{scrollHeight:n}=t;(0,E.RK)((()=>{t.style.height="0",t.style.height=`${n}px`}))},onKeyDown:k,onFocus:N,onBlur:C,tabIndex:0,required:i,placeholder:o}):fe.createElement("input",{ref:t,id:n,className:_,type:B,value:m,disabled:s,inputMode:r,maxLength:p,autoComplete:v,autoCorrect:w,spellCheck:w,onInput:I,onKeyDown:k,onFocus:N,onBlur:C,tabIndex:0,required:i,placeholder:o}),"password"===d&&fe.createElement("button",{className:ji("tXgxOPqo",a&&"uXlOxDsj"),type:"button",onClick:()=>{T(!A)},"aria-label":S("Change password visibility"),tabIndex:-1},fe.createElement("i",{className:A?"icon-eye":"icon-eye-closed","aria-hidden":!0})),u&&!a&&fe.createElement("label",{className:ji(gm,"fAnhlq4h",mm),htmlFor:n},u),y)}));function ym(e,t,n,a){return bm("animationend",e,t,n,a)}function bm(e,t,n,a,o){let r=!1;function i(){t.removeEventListener(e,s)}function s(e){r||e.target!==e.currentTarget||a&&(e instanceof TransitionEvent&&e.propertyName===a||e instanceof AnimationEvent&&e.animationName===a)||(r=!0,i(),setTimeout((()=>{n()}),50))}return t.addEventListener(e,s),o&&setTimeout((()=>{r||(i(),n())}),o),i}const Em=c.qM.easeOutCubic,km="swipe-disabled";let Nm,Cm,Sm,Am,Tm=!1;function Im(e,n){return Ss(e,{swipeThreshold:10,withNativeDrag:!0,excludedClosestSelector:`.${km}`,onSwipe(e,a,o){if(a===bs.Left){var r;null===(r=n.onSwipeLeftStart)||void 0===r||r.call(n)}else{if(a!==bs.Right)return!1;var i;null===(i=n.onSwipeRightStart)||void 0===i||i.call(n)}return t.pz&&(Tm=!0,Nm=o),!0},onDrag(e,t,n){var a;Tm&&(null===(a=Cm)||void 0===a||a(n))},onRelease(){var e;Tm&&(Tm=!1,null===(e=Sm)||void 0===e||e(n.onCancel),Cm=void 0,Sm=void 0)}})}function Bm(e,t){e.map((e=>e.getAnimations())).flat().forEach((e=>{e.currentTime=e.effect.getTiming().duration*t}))}function _m(e){const t=e.match(/([XY])\((-?\d+)(%|px)\)/);if(t)return{axis:t[1],value:Number(t[2]),units:t[3]}}const xm="jLzZScDB",Lm="oVsGIXA4",Om=me((function(e){let{value:t,children:n,className:a,isDisabled:o,onClick:r}=e;const[i,s]=re(!1);return fe.createElement("div",{onMouseDown:o?void 0:()=>{Mo(),null==r||r(t),s(!0),setTimeout((()=>{s(!1)}),200)},className:ji("lnaBx8hc",i&&"qBoIeNzV",a),role:"button",tabIndex:0},t||n)})),Pm=4,Dm=1500,Fm=me(He((e=>{const{isPinAccepted:t}=e;return{isPinAccepted:t}}),((e,t,n)=>{const{isPinAccepted:a}=e;return n(a)}))((function(e){let{isActive:n,title:a,type:o,value:r,resetStateDelayMs:i=Dm,length:s=Pm,isPinAccepted:l,className:c,isMinified:d,onBiometricsClick:u,onChange:m,onClearError:p,onSubmit:f}=e;const{clearIsPinAccepted:h}=Ue(),g=xo(),v=r.length>0,w="success"===o||l,y=sl(l),b=w||r.length===s&&"error"!==o,E=ji("r4k7w6HQ","error"===o&&xm,w&&Lm);se((()=>{y&&!l&&s===r.length&&m("")}),[l,s,m,y,r.length]),se((()=>()=>{h()}),[]),Qs((e=>{let[a]=e;t.bA&&(n?zi.clearScrollPatch():a&&zi.applyScrollPatch())}),[n]),se((()=>{if("error"!==o)return;const e=window.setTimeout((()=>{r.length===s&&m(""),null==p||p()}),i);return Uo(),()=>{window.clearTimeout(e)}}),[s,m,p,i,o,r.length]),se((()=>{if(n)return Ls(),()=>{Os()}}),[n]);const k=Cr((e=>{if(r.length!==s&&0!==r.length||null==p||p(),r.length===s)return void m(e);const t=`${r}${e}`;m(t),t.length===s&&f(t)})),N=Cr((()=>{null==p||p(),r.length&&m(r.slice(0,-1))}));return fe.createElement("div",{className:ji("Lbq2gMzt",c,km)},fe.createElement("div",{className:E},a),function(){const e=ji("__vkSP7q","error"===o&&"LI_tisFH",w&&"HnSSbC5N");return fe.createElement("div",{className:e,"aria-hidden":!0},Array.from({length:s},((e,t)=>fe.createElement("div",{key:t,className:ji("CH4h9HQz",t<r.length&&"r_kAZ0Dm","error"===o&&xm,w&&Lm)}))))}(),fe.createElement("div",{className:ji("CUQ0KIAI",d&&"MGnO4hqt")},fe.createElement(Om,{value:"1",onClick:k,isDisabled:b}),fe.createElement(Om,{value:"2",onClick:k,isDisabled:b}),fe.createElement(Om,{value:"3",onClick:k,isDisabled:b}),fe.createElement(Om,{value:"4",onClick:k,isDisabled:b}),fe.createElement(Om,{value:"5",onClick:k,isDisabled:b}),fe.createElement(Om,{value:"6",onClick:k,isDisabled:b}),fe.createElement(Om,{value:"7",onClick:k,isDisabled:b}),fe.createElement(Om,{value:"8",onClick:k,isDisabled:b}),fe.createElement(Om,{value:"9",onClick:k,isDisabled:b}),u?fe.createElement(Om,{onClick:u,isDisabled:w},fe.createElement("i",{className:ji("icon",g?"icon-face-id":"icon-touch-id"),"aria-hidden":!0})):fe.createElement("span",null),fe.createElement(Om,{value:"0",onClick:k,isDisabled:b}),fe.createElement(Om,{className:!v&&"c_i4rWyo",isDisabled:!v||w,onClick:N},fe.createElement("i",{className:"icon icon-backspace","aria-hidden":!0}))))}))),Rm=180,Mm=me(He((e=>{const{isPasswordNumeric:t,authConfig:n}=e.settings;return{isPasswordNumeric:t,isBiometricAuthEnabled:ut(e),isNativeBiometricAuthEnabled:mt(e),authConfig:n}}))((function(n){let{isActive:a,isLoading:o,operationType:r,isPasswordNumeric:i,isBiometricAuthEnabled:s,isNativeBiometricAuthEnabled:c,authConfig:d,cancelLabel:u,submitLabel:m,stickerSize:p=Rm,placeholder:f="Enter your password",error:h,help:g,resetStateDelayMs:v,containerClassName:w,children:y,withCloseButton:b,noAnimatedIcon:E,inputWrapperClassName:k,forceBiometricsInMain:N,onUpdate:C,onCancel:S,onSubmit:A}=n;const{openSettings:T}=Ue(),I=Qi(),B=ue(null),[_,x]=re(""),[L,O]=re(""),[P,D]=re(0),[F,R,M]=yd(!1),{isSmallHeight:U,isPortrait:W}=Qa(),H=!_.length,$=Oo();se((()=>{a&&(O(""),x(""),D(0))}),[a]),$u(Boolean(a));const V=Cr((async()=>{try{const e=await ka(d);e?A(e):(D(P+1),O("Biometric confirmation failed"),t.xy&&P>2&&R())}catch(e){O(e.message||I("Something went wrong."))}}));se((()=>{(!t.KI||N)&&a&&s&&(0,l.v7)(300).then(V)}),[N,V,a,s]),Lu(B,!a||s);const z=Cr((()=>{O(""),C()})),j=Cr((()=>{M(),null==S||S(),T()})),q=Cr((e=>{x(e),h&&C()})),K=Cr((()=>{A(_)}));if(se((()=>H||o?void 0:Is({onEnter:K})),[K,o,H]),$){const t=Boolean(L||h),n=function(){switch(r){case"unfreeze":return"Confirm Unfreezing";case"passcode":return"Confirm Passcode";case"transfer":case"sending":return"Confirm Sending";case"staking":return"Confirm Staking";case"unstaking":return"Confirm Unstaking";case"swap":return"Confirm Swap";case"unlock":return;case"claim":return"Confirm Rewards Claim";default:return"Confirm Action"}}(),o=I(c?xo()?"Enter code or use Face ID":Lo()?"Enter code or use Touch ID":"Enter code or use biometrics":"Enter code");return fe.createElement(fe.Fragment,null,b&&fe.createElement(Ll,{isRound:!0,className:ji(bc.closeButton,"twjZlrDJ"),ariaLabel:I("Close"),onClick:S},fe.createElement("i",{className:ji(bc.closeIcon,"icon-close"),"aria-hidden":!0})),fe.createElement("div",{className:"sftOkqxr"},W&&!E&&fe.createElement(lm,{play:a,tgsUrl:xu.guard,previewUrl:xu.guardPreview,noLoop:!1,nonInteractive:!0}),!U&&n&&fe.createElement("div",{className:"kC9WGOYP"},I(n)),y),fe.createElement(Fm,{isActive:a,title:I(t?L||h:U&&n?n:o),type:t?"error":void 0,length:e.NEx,resetStateDelayMs:v,value:_,onBiometricsClick:c?V:void 0,onChange:x,onClearError:z,onSubmit:A}))}const Y="unlock"===r,Q=ji(bc.footerButtons,Y&&bc.footerButtonFullWidth);return fe.createElement("div",{className:ji(bc.transitionContent,w)},!E&&fe.createElement(lm,{tgsUrl:xu.holdTon,previewUrl:xu.holdTonPreview,play:a,size:p,nonInteractive:!0,noLoop:!1,className:"ifHfFY2u"}),y,s?function(){const e=L||h;return e?fe.createElement("div",{className:"ZokzPDAj"},I(e)):fe.createElement("div",{className:"SDEJGboy"},I("transfer"===r?"Please confirm transaction using biometrics":"Please confirm operation using biometrics"))}():fe.createElement(fe.Fragment,null,fe.createElement(wm,{ref:B,type:"password",isRequired:!0,id:"first-password",wrapperClassName:k,inputMode:i?"numeric":void 0,error:h?I(h):L,placeholder:I(f),value:_,onInput:q,maxLength:i?e.NEx:void 0}),L&&fe.createElement("div",{className:"q8niLQND"},I(L)),g&&!h&&fe.createElement("div",{className:"C3jlHNpF"},g)),fe.createElement("div",{className:Q},S&&fe.createElement(Ll,{isLoading:o&&s,isDisabled:o&&!s,className:bc.buttonHalfWidth,onClick:S},u||I("Cancel")),s&&Boolean(L)&&fe.createElement(Ll,{isPrimary:!0,isLoading:o,isDisabled:o,className:bc.buttonHalfWidth,onClick:o?void 0:V},I("Try Again")),!s&&fe.createElement(Ll,{isPrimary:!0,isLoading:o,isDisabled:H,className:Y?bc.buttonFullWidth:bc.buttonHalfWidth,onClick:o?void 0:K},m||I("Send"))),fe.createElement(Sc,{isOpen:F,isCompact:!0,title:I("Biometric authentication failed"),onClose:M},fe.createElement("p",{className:bc.text},I("Reinstall biometrics in your device's system settings, or use a passcode.")),fe.createElement("div",{className:bc.buttons},fe.createElement(Ll,{className:bc.button,onClick:M},I("Close")),fe.createElement(Ll,{isPrimary:!0,className:bc.button,onClick:j},I("Settings")))))})));function Um(e){e.offsetWidth}const Wm=Mn.Z2,Hm="Transition_slide-active",$m="Transition_slide-from",Vm="Transition_slide-to",zm="Transition_slide-inactive",jm=Hm,qm=Vm,Km=function(t){let{ref:n,activeKey:a,nextKey:o,prevKey:r,name:i,direction:s="auto",renderCount:l,shouldRestoreHeight:d,shouldCleanup:u,cleanupExceptionKey:m,shouldWrap:p,wrapExceptionKey:f,id:h,className:g,slideClassName:v,withSwipeControl:w,onStart:y,onStop:b,onContainerClick:k,children:N}=t;const C=ue(),{animationLevel:S}=Re().settings,A=S===e.dnp;let T=ue(null);n&&(T=n);const I=ue({}),_=sl(a),x=he(),L=ue(!1),O=ue(!1),P=void 0!==_&&a!==_;!l&&P&&(I.current={[_]:I.current[_]}),I.current[a]=N,r&&(I.current[r]=N),o&&(I.current[o]=N);const D=-1===s||"auto"===s&&_>a||"inverse"===s&&_<a;le((()=>{function e(){if(!u)return;const e=void 0!==m?I.current[m]:void 0;I.current=e?{[m]:e}:{},x()}const t="slideOptimized"===i||"slideOptimizedRtl"===i,n=T.current,o=Object.keys(I.current).map(Number),r=l?_:o.indexOf(_),s=l?a:o.indexOf(a),p=Array.from(n.childNodes);if(!p.length)return;const f=Array.from(n.children);if(f.forEach((e=>{pc(e,"Transition_slide"),v&&v.split(/\s+/).forEach((t=>{pc(e,t)}))})),!P){if(L.current)return;return void f.forEach((e=>{e===p[s]?(pc(e,Hm),t&&gc(e,{transition:"none",transform:"translate3d(0, 0, 0)"})):t||pc(e,zm)}))}if(C.current=a,t){if(!p[s])return;return void function(e,t,n,a,o,r,i,s,l,c,d,u,m){if(e)return hc(s,`Transition-${t}`,!n),hc(s,`Transition-${t}Backwards`,n),c instanceof HTMLElement&&(fc(c,Hm),gc(c,{transition:"none",transform:""})),l instanceof HTMLElement&&(pc(l,Hm),gc(l,{transition:"none",transform:"translate3d(0, 0, 0)"})),void a();"slideOptimizedRtl"===t&&(n=!n),i.current=!0;const p=B();null==u||u(),hc(s,`Transition-${t}`,!n),hc(s,`Transition-${t}Backwards`,n),c instanceof HTMLElement&&gc(c,{transition:"none",transform:"translate3d(0, 0, 0)"}),l instanceof HTMLElement&&gc(l,{transition:"none",transform:`translate3d(${n?"-":""}100%, 0, 0)`}),(0,E.gm)((()=>(l instanceof HTMLElement&&Um(l),()=>{c instanceof HTMLElement&&(fc(c,Hm),gc(c,{transition:"",transform:`translate3d(${n?"":"-"}100%, 0, 0)`})),l instanceof HTMLElement&&(pc(l,Hm),gc(l,{transition:"",transform:"translate3d(0, 0, 0)"}))}))),bm("transitionend",l,(()=>{const e=l instanceof HTMLElement?l.clientHeight:void 0;(0,E.RK)((()=>{o===r.current?(c instanceof HTMLElement&&gc(c,{transition:"none",transform:""}),d&&e&&l instanceof HTMLElement&&(gc(l,{height:"auto"}),gc(s,{height:`${e}px`})),null==m||m(),p(),i.current=!1,a()):p()}))}),undefined,undefined)}(A,i,D,e,a,C,L,n,p[s],p[r],d,y,b)}if("none"===i||A||O.current)return O.current&&(O.current=!1),p.forEach(((e,t)=>{e instanceof HTMLElement&&(fc(e,$m),fc(e,Vm),hc(e,Hm,t===s),hc(e,zm,t!==s))})),void e();p.forEach(((e,t)=>{e instanceof HTMLElement&&(fc(e,Hm),hc(e,$m,t===r),hc(e,Vm,t===s),hc(e,zm,t!==r&&t!==s))})),L.current=!0;const h=B();function g(){const t=n.querySelector(`.${Hm}`),{clientHeight:o}=t||{};(0,E.RK)((()=>{a===C.current?(fc(n,`Transition-${i}`),fc(n,`Transition-${i}Backwards`),p.forEach(((e,t)=>{e instanceof HTMLElement&&(fc(e,$m),fc(e,Vm),hc(e,Hm,t===s),hc(e,zm,t!==s))})),d&&t&&(gc(t,{height:"auto"}),gc(n,{height:`${o}px`})),null==b||b(),h(),L.current=!1,e()):h()}))}null==y||y(),hc(n,`Transition-${i}`,!D),hc(n,`Transition-${i}Backwards`,D);const k="reveal"!==i&&"slideFadeAndroid"!==i||!D?p[s]:p[r];if(k)if(w&&p[r]){const e=ym(k,g);!function(e,t,n){var a;if(null===(a=Am)||void 0===a||a(),!Tm)return;const o=function(e){for(const t of e.getAnimations())if(t.effect instanceof KeyframeEffect)for(const e of t.effect.getKeyframes()){if(1!==e.offset||!e.transform)continue;const t=_m(e.transform);if(t)return t}}(e);if(!o)return;let r;e.getAnimations().forEach((e=>e.pause())),t.getAnimations().forEach((e=>e.pause())),e.style.animationTimingFunction="linear",t.style.animationTimingFunction="linear",(0,E.YS)((()=>{const a=(i=getComputedStyle(e).transform,s=o.axis,i.slice(7,-1).split(",").map(Number)["X"===s?4:5]);var i,s;const l=("px"===o.units?o.value:o.value/100*("X"===o.axis?e.offsetWidth:e.offsetHeight))-a;let d=0;Cm=n=>{let{dragOffsetX:a,dragOffsetY:i}=n;const s="X"===o.axis?a-Nm.dragOffsetX:i-Nm.dragOffsetY,c=vs(s/l,0,1);r=c>d?1:-1,d=c,Bm([e,t],d)},Sm=a=>{const o=-1===r;function i(){e.getAnimations().forEach((e=>e.cancel())),t.getAnimations().forEach((e=>e.cancel())),(0,E.RK)((()=>{e.style.animationTimingFunction="",t.style.animationTimingFunction=""}))}o||ym(e,i),Am=(0,c.Hd)({from:d,to:o?0:1,duration:300,timing:Em,onUpdate(n){Bm([e,t],n)},onEnd(){Am=void 0,(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||o)&&(i(),n(),a())}})}}))}(p[r],p[s],(()=>{e(),O.current=!0,null==b||b(),h(),L.current=!1}))}else ym(k,g,void 0,Wm);else g()}),[a,o,_,P,D,i,y,b,l,d,u,v,m,A,x,w]),se((()=>{if(!d)return;const e=T.current,t=e.querySelector(`.${Hm}`)||e.querySelector(`.${$m}`);if(!t)return;const{clientHeight:n}=t||{};n&&(0,E.RK)((()=>{gc(t,{height:"auto"}),gc(e,{height:`${n}px`,flexBasis:`${n}px`})}))}),[d,N]);const F=!l,R=I.current,M=Object.keys(l?new Array(l).fill(void 0):R).map(Number).map((e=>{const t=R[e];if(!t)return;const n="function"==typeof t?t(e===a,e===_,e,a):t;return p&&e!==f||F?fe.createElement("div",{key:e,teactOrderKey:e},n):n}));return fe.createElement("div",{ref:T,onClick:k,id:h,className:ji("Transition",g),teactFastList:F},M)},Ym="BTI1cF2x",Qm="Ut7tq0ls",Gm=i.p+"logoCoreWallet.7209423c2390840b4a91.svg",Xm=i.p+"logoDark.db78fa7a76eea19a30e7.svg",Jm=i.p+"logoLight.c9797ad4583a416a16c9.svg",Zm=["focus","mousemove","touch","wheel","keydown"],ep={capture:!0};var tp=function(e){return e[e.button=0]="button",e[e.passwordForm=1]="passwordForm",e}(tp||{});const[np,ap]=b(Date.now()),op=me(He((t=>{const{autolockValue:n,isAppLockEnabled:a}=t.settings,o=at(t),r=ut(t),i=mt(t);return{isNonNativeBiometricAuthEnabled:r&&(!i||e.tKX),autolockValue:a?n:void 0,isAppLockEnabled:a,theme:t.settings.theme,isHardwareAccount:o,isManualLockActive:t.isManualLockActive,shouldHideBiometrics:t.appLockHideBiometrics}}))((function(a){let{isNonNativeBiometricAuthEnabled:o,autolockValue:r="never",theme:i,isHardwareAccount:s,isManualLockActive:l,isAppLockEnabled:c,shouldHideBiometrics:d}=a;const{setIsPinAccepted:u,clearIsPinAccepted:m,submitAppLockActivityEvent:p,setIsManualLockActive:f}=Ue(),h=Qi(),g=wd(i),v=e.TI6?Gm:"light"===g?Jm:Xm,[w,y,b]=yd(("never"!==r||l)&&!s),[E,k,N]=yd(w),C=ue(Date.now()),[S,A]=re(xr()?tp.button:tp.passwordForm),[T,I]=re(""),B=Cr((()=>{t.bA?p():C.current=Date.now()})),_=Nd(B,[B],5e3),x=Cr((()=>{var e;N(),A(tp.button),null===(e=ls())||void 0===e||e.show(),m(),B(),f({isActive:void 0,shouldHideBiometrics:void 0}),t.KI&&zi.show()})),L=ce((()=>e.zTb.find((e=>e.value===r)).period),[r]),{transitionClassNames:O}=Gi(w,x,!0,"slow"),P=Cr((()=>{var e;y(),k(),t.KI&&zi.hide(),null===(e=ls())||void 0===e||e.hide(),A(tp.button)})),D=Cr((()=>{"never"===r&&!l||s||P()}));e.Oig&&(window.lock=D),!l||w||E||D();const F=Cr((()=>{A(tp.passwordForm)})),R=Cr((async e=>{await(0,n.p)("verifyPassword",e)?(Oo()&&(u(),await Wo(!0)),b()):I("Wrong password, please try again.")})),M=Cr((()=>I("")));Yi((()=>{for(const e of Zm)window.addEventListener(e,_,ep);return()=>{for(const e of Zm)window.removeEventListener(e,_,ep)}})),Yi((()=>{if(!t.bA)return np.subscribe(_)}));const U=Cr((e=>{qi(e),f({isActive:!0,shouldHideBiometrics:!0})}));function W(){return fe.createElement("div",{className:Qm},fe.createElement(Sd,{className:Qm,imageClassName:Qm,url:v,alt:"Logo"}))}kd(ce((()=>c&&!w?{"Ctrl+Shift+L":U,"Alt+Shift+L":U,"Meta+Shift+L":U,...t.cp&&{"Mod+L":U}}:void 0),[c,w])),se((()=>{if(t.bA)return;const e=setInterval((()=>{c&&!w&&Date.now()-C.current>L&&D()}),5e3);return()=>clearInterval(e)}),[w,L,D,c]),_r(void 0,F);const H=Number(S===tp.passwordForm)+2*Number(E);if(!t.bA)return fe.createElement(Km,{name:o&&e.tKX?"slideFade":"semiFade",onContainerClick:o?F:void 0,activeKey:H,className:ji(O,"mbuGFcLr"),shouldCleanup:!0},E?function(t){const n=o&&S===tp.button;return fe.createElement("div",{className:ji("ra8fobWi",o&&"v6O5aP3y")},n?fe.createElement(fe.Fragment,null,W(),fe.createElement("span",{className:ji(Ym,"rounded-font")},e.C39),fe.createElement(Ll,{isPrimary:!0,className:t?void 0:"YltinIdz",onClick:F},h("Unlock"))):fe.createElement(Mm,{isActive:!_o()||!d,noAnimatedIcon:!0,forceBiometricsInMain:!0,error:T,resetStateDelayMs:300,operationType:"unlock",containerClassName:"gUfrKRnP",inputWrapperClassName:"WLrzziXQ",submitLabel:h("Unlock"),onSubmit:R,onUpdate:M},W(),fe.createElement("span",{className:ji(Ym,"rounded-font")},e.C39)))}:void 0)})));function rp(t){return`${e.dmC}${t.metadata.mtwCardId}.webp`}const ip=t.xy?`${e.p8S?e.yq6:e.DvZ}/version.txt`:"version.txt";async function sp(){const t=await Promise.all([i.e(494),i.e(612),i.e(776),i.e(432)]).then(i.bind(i,95683));let n;return n=!e.UMQ&&await t.connectLedger()||!e.hL1?Kt.Connect:Kt.WaitingForBrowser,n}let lp;We("showActivityInfo",((e,n,a)=>{let{id:o}=a;if(!t.bA)return ai(e,{currentActivityId:o});Mr("showActivityInfo",{id:o})})),We("showAnyAccountTx",(async(e,n,a)=>{let{txId:o,accountId:r,network:i}=a;t.bA?Mr("showAnyAccountTx",{txId:o,accountId:r,network:i}):(await Promise.all([cs(),Fi(e,r,i)]),n.showActivityInfo({id:o}))})),We("showAnyAccountTokenActivity",(async(e,n,a)=>{let{slug:o,accountId:r,network:i}=a;t.bA?Mr("showAnyAccountTokenActivity",{slug:o,accountId:r,network:i}):(await Promise.all([cs(),Fi(e,r,i)]),n.showTokenActivity({slug:o}))})),We("closeActivityInfo",((e,t,n)=>{var a;let{id:o}=n;if((null===(a=Je(e))||void 0===a?void 0:a.currentActivityId)===o)return ai(e,{currentActivityId:void 0})})),We("addSavedAddress",((e,t,n)=>{let{address:a,name:o,chain:r}=n;const{savedAddresses:i=[]}=Je(e)||{};return ai(e,{savedAddresses:[...i,{address:a,name:o,chain:r}]})})),We("removeFromSavedAddress",((e,t,n)=>{let{address:a,chain:o}=n;const{savedAddresses:r=[]}=Je(e)||{};return ai(e,{savedAddresses:r.filter((e=>!(e.address===a&&e.chain===o)))})})),We("toggleTinyTransfersHidden",(function(e,t){let{isEnabled:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{...e,settings:{...e.settings,areTinyTransfersHidden:n}}})),We("setCurrentTokenPeriod",((e,t,n)=>{let{period:a}=n;return ai(e,{currentTokenPeriod:a})})),We("addAccount",(async(e,a,o)=>{let{method:r,password:i,isAuthFlow:s}=o;const l=et(e),c="importMnemonic"===r;if(l){if(!await(0,n.p)("verifyPassword",i))return e=Re(),e=s?Gr(e,{isLoading:void 0,error:"Wrong password, please try again."}):Xr(Re(),{isLoading:void 0,error:"Wrong password, please try again."}),void Me(e);Oo()&&(e=Jr(Re()),Me(e)),await Wo(!0)}e=Re(),e=c||!l?{...e,isAddAccountModalOpen:void 0}:Xr(e,{isLoading:!0}),Me(e),t.bA?Mr("addAccount2",{method:r,password:i}):a.addAccount2({method:r,password:i})})),We("addAccount2",((e,n,a)=>{let{method:o,password:r}=a;const i="importMnemonic"===o,s=et(e),l=s?i?Ut.importWallet:void 0:Oo()?Ut.createPin:t.uh?Ut.createBiometrics:Ut.createPassword;!i&&s||(e={...e,appState:Mt.Auth}),e=vi(e=bi(e=Gr(e,{password:r,state:l}))),Me(e),i?n.startImportingWallet():n.startCreatingWallet()})),We("renameAccount",((e,t,n)=>{let{accountId:a,title:o}=n;e={...e,shouldForceAccountEdit:!1},Me(function(e,t,n){return ti(e,t,{title:n})}(e,a,o)),t.renameNotificationAccount({accountId:a})})),We("clearAccountError",(e=>Xr(e,{error:void 0}))),We("openAddAccountModal",((e,n,a)=>{!t.bA||e.areSettingsOpen?(e={...e,isAddAccountModalOpen:!0},Me(e)):Mr("openAddAccountModal",a)})),We("closeAddAccountModal",(e=>(Oo()&&(e=Zr(e)),{...e,isAddAccountModalOpen:void 0}))),We("changeNetwork",((e,t,n)=>{let{network:a}=n;return{...e,settings:{...e.settings,isTestnet:"testnet"===a}}})),We("openSettings",(e=>(e=ii(e,{state:Gt.Initial}),{...e,areSettingsOpen:!0}))),We("openSettingsWithState",((e,n,a)=>{let{state:o}=a;!t.bA||e.areSettingsOpen?(e=ii(e,{state:o}),Me({...e,areSettingsOpen:!0})):Mr("openSettingsWithState",{state:o})})),We("setSettingsState",((e,t,n)=>{let{state:a}=n;e=ii(e,{state:a}),Me(e)})),We("closeSettings",(e=>e.currentAccountId?{...e,areSettingsOpen:!1}:e)),We("openBackupWalletModal",(e=>{if(!t.bA)return{...e,isBackupWalletModalOpen:!0};Mr("openBackupWalletModal")})),We("closeBackupWalletModal",(e=>({...e,isBackupWalletModalOpen:void 0}))),We("initializeHardwareWalletModal",(async(e,t)=>{const n=await Promise.all([i.e(494),i.e(612),i.e(776),i.e(432)]).then(i.bind(i,95683)),{isBluetoothAvailable:a,isUsbAvailable:o}=await n.detectAvailableTransports(),r=[];o&&r.push("usb"),a&&r.push("bluetooth"),0===r.length?t.showNotification({message:"Ledger is not supported on this device."}):1===r.length?t.initializeHardwareWalletConnection({transport:r[0]}):(e=ri(Re(),{availableTransports:r}),Me(e))})),We("initializeHardwareWalletConnection",(async(n,a,o)=>{if(t.KI&&o.shouldDelegateToNative)return void Ur("initializeHardwareWalletConnection",{transport:o.transport});const r=()=>{n=Re(),n=ri(Re(),{hardwareState:Kt.Connecting}),Me(n)};r();const s=await Promise.all([i.e(494),i.e(612),i.e(776),i.e(432)]).then(i.bind(i,95683));if(await s.connectLedger(o.transport))return void a.connectHardwareWallet({transport:o.transport});if(!e.hL1)return n=ri(n=Re(),{isLedgerConnected:!1,hardwareState:Kt.Failed}),void Me(n);n=ri(Re(),{hardwareState:Kt.WaitingForBrowser}),Me(n),await(0,l.v7)(500);const c=await async function(){const e=await chrome.tabs.create({url:"index.html#detached",active:!0});return await chrome.windows.update(e.windowId,{focused:!0}),hd=e.id,hd}(),d=await chrome.windows.getCurrent();!function(e){chrome.tabs.onRemoved.addListener((t=>{t===e&&(hd=void 0,(async()=>{await chrome.windows.update(d.id,{focused:!0}),await s.connectLedger(o.transport)?(r(),a.connectHardwareWallet({transport:o.transport})):a.closeHardwareWalletModal()})())}))}(c)})),We("openHardwareWalletModal",(async e=>{const t=await sp();e=ri(Re(),{hardwareState:t}),Me({...e,isHardwareModalOpen:!0})})),We("openSettingsHardwareWallet",(async e=>{const t=await sp();e=ii(e=ri(Re(),{hardwareState:t}),{state:Gt.LedgerConnectHardware}),Me(e)})),We("closeHardwareWalletModal",(e=>{Me({...e,isHardwareModalOpen:!1})})),We("toggleInvestorView",(function(e,t){let{isEnabled:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{...e,settings:{...e.settings,isInvestorViewEnabled:n}}})),We("changeLanguage",((e,t,n)=>{let{langCode:a}=n;return{...e,settings:{...e.settings,langCode:a}}})),We("toggleCanPlaySounds",(function(e,t){let{isEnabled:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{...e,settings:{...e.settings,canPlaySounds:n}}})),We("setLandscapeActionsActiveTabIndex",((e,t,n)=>{let{index:a}=n;return ai(e,{landscapeActionsActiveTabIndex:a})})),We("closeSecurityWarning",(e=>({...e,settings:{...e.settings,isSecurityWarningHidden:!0}}))),We("toggleTokensWithNoCost",((e,t,n)=>{let{isEnabled:a}=n;return ii(e,{areTokensWithNoCostHidden:a})})),We("toggleSortByValue",((e,t,n)=>{let{isEnabled:a}=n;return ii(e,{isSortByValueEnabled:a})})),We("updateOrderedSlugs",((e,t,n)=>{let{orderedSlugs:a}=n;return li(e,{...nt(e),orderedSlugs:a})})),We("toggleTokenVisibility",((e,t,n)=>{var a;let{slug:o,shouldShow:r}=n;const i=null!==(a=nt(e))&&void 0!==a?a:{},{alwaysShownSlugs:s=[],alwaysHiddenSlugs:l=[]}=i,c=new Set(s),d=new Set(l);return r?(d.delete(o),c.add(o)):(c.delete(o),d.add(o)),li(e,{...i,alwaysHiddenSlugs:Array.from(d),alwaysShownSlugs:Array.from(c)})})),We("deleteToken",((e,t,n)=>{var a,o,r,i,s,l;let{slug:c}=n;const d=null!==(a=nt(e))&&void 0!==a?a:{};return li(e,{...d,orderedSlugs:null===(o=d.orderedSlugs)||void 0===o?void 0:o.filter((e=>e!==c)),alwaysHiddenSlugs:null===(r=d.alwaysHiddenSlugs)||void 0===r?void 0:r.filter((e=>e!==c)),alwaysShownSlugs:null===(i=d.alwaysShownSlugs)||void 0===i?void 0:i.filter((e=>e!==c)),deletedSlugs:[...null!==(s=d.deletedSlugs)&&void 0!==s?s:[],c],importedSlugs:null===(l=d.importedSlugs)||void 0===l?void 0:l.filter((e=>e!==c))})})),We("checkAppVersion",(t=>{fetch(`${ip}?${Date.now()}`).then((e=>e.text())).then((n=>{(function(e,t){const n=e.trim();return!!fd.test(n)&&n!==t})(n=n.trim(),e.hl5)&&(t=Re(),t={...t,isAppUpdateAvailable:!0,latestAppVersion:n.trim()},Me(t))})).catch((t=>{e.Oig&&console.error("[checkAppVersion failed] ",t)}))})),We("requestConfetti",(t=>t.settings.animationLevel===e.dnp?t:{...t,confettiRequestedAt:Date.now()})),We("requestOpenQrScanner",(async(e,n)=>{if((0,t.v3)()){const e=ra();return void(null==e||e.showScanQrPopup({},(t=>{Wo(),e.closeScanQrPopup(),n.handleQrCode({data:t})})))}if(t.bA)return void Mr("requestOpenQrScanner");let a;e.currentTransfer.state===Ht.Initial?a={currentTransfer:e.currentTransfer}:e.currentSwap.state===$t.Blockchain&&(a={currentSwap:e.currentSwap});const{camera:o}=await id.requestPermissions();"granted"===o||"limited"===o?(e=Re(),e={...e,isQrScannerOpen:!0,currentQrScan:a},Me(e)):n.showNotification({message:fr("Permission denied. Please grant camera permission to use the QR code scanner.")})})),We("closeQrScanner",(e=>(t.bA&&Mr("closeQrScanner"),{...e,isQrScannerOpen:void 0,currentQrScan:void 0}))),We("handleQrCode",(async(e,n,a)=>{let{data:o}=a;if(t.bA)return void Mr("handleQrCode",{data:o});const{currentTransfer:r,currentSwap:i}=e.currentQrScan||{};if(r){const t=ro(o,e);return void(t?("error"in t&&n.showError({error:t.error}),Me(yi(e,{...r,...(0,s.cJ)(t,["error"])}))):Me(Ni(yi(e,r),o)))}if(i){var l;const t=ro(o,e),n=null!==(l=null==t?void 0:t.toAddress)&&void 0!==l?l:o;return void Me(gi(e,{...i,toAddress:n}))}if(await Za(o))return;const c=function(e,t){var n,a;const o=function(e,t){for(const n of Object.keys(t))if(Cn(e,n))return n}(t,null!==(n=null===(a=Ge(e))||void 0===a?void 0:a.addressByChain)&&void 0!==n?n:{});if(!o)return;const r=e.currentTransfer.tokenSlug;return{toAddress:t,tokenSlug:o!==cn(r)?sn(o).slug:r}}(e=Re(),o);c?n.startTransfer({...c,isPortrait:Ga()}):n.showDialog({title:"This QR Code is not supported",message:""})})),We("changeBaseCurrency",(async(e,a,o)=>{let{currency:r}=o;t.bA&&Mr("changeBaseCurrency",{currency:r}),await(0,n.p)("setBaseCurrency",r),await(0,n.p)("tryUpdatePrices"),await Promise.all([(0,n.p)("tryUpdateTokens"),(0,n.p)("tryUpdateSwapTokens")])})),We("setIsPinAccepted",(e=>Jr(e))),We("clearIsPinAccepted",(e=>Zr(e))),We("openOnRampWidgetModal",((e,n,a)=>{let{chain:o}=a;t.bA?Mr("openOnRampWidgetModal",{chain:o}):Me({...e,chainForOnRampWidgetModal:o})})),We("closeOnRampWidgetModal",(e=>{Me({...e,chainForOnRampWidgetModal:void 0})})),We("openMediaViewer",((e,t,n)=>{let{mediaId:a,mediaType:o,txId:r,hiddenNfts:i,noGhostAnimation:s}=n;return{...e,mediaViewer:{mediaId:a,mediaType:o,txId:r,hiddenNfts:i,noGhostAnimation:s}}})),We("closeMediaViewer",(e=>({...e,mediaViewer:{mediaId:void 0,mediaType:void 0}}))),We("openReceiveModal",(e=>{t.bA?Mr("openReceiveModal"):Me({...e,isReceiveModalOpen:!0})})),We("closeReceiveModal",(e=>{Me({...e,isReceiveModalOpen:void 0})})),We("openInvoiceModal",(e=>{t.bA?Mr("openInvoiceModal"):Me({...e,isInvoiceModalOpen:!0})})),We("closeInvoiceModal",(e=>{Me({...e,isInvoiceModalOpen:void 0})})),We("showIncorrectTimeError",((e,t)=>(t.showDialog({message:fr("Time synchronization issue. Please ensure your device's time settings are correct.")}),{...e,isIncorrectTimeNotificationReceived:!0}))),We("initLedgerPage",(e=>{e=ri(e,{isRemoteTab:!0}),Me({...e,appState:Mt.Ledger})})),We("openLoadingOverlay",(e=>{Me({...e,isLoadingOverlayOpen:!0})})),We("closeLoadingOverlay",(e=>{Me({...e,isLoadingOverlayOpen:void 0})})),We("clearAccountLoading",(e=>{Me(Xr(e,{isLoading:void 0}))})),We("authorizeDiesel",(t=>{const n=Ge(t).addressByChain.ton;Me(ai(t,{isDieselAuthorizationStarted:!0})),Ma(`https://t.me/${e.B9l}?start=auth-${n}`)})),We("submitAppLockActivityEvent",(()=>{t.bA?Mr("submitAppLockActivityEvent"):ap(Date.now())})),We("setCardBackgroundNft",((e,n,a)=>{let{nft:o}=a;t.bA?Mr("setCardBackgroundNft",{nft:o}):(e=li(e,{cardBackgroundNft:o}),Me(e))})),We("clearCardBackgroundNft",(e=>{t.bA?Mr("clearCardBackgroundNft"):(e=li(e,{cardBackgroundNft:void 0}),Me(e))})),We("installAccentColorFromNft",(async(e,t,n)=>{let{nft:a}=n;const{mtwCardType:o,mtwCardBorderShineType:r}=a.metadata;let i;if("radioactive"===r)i=13;else if("silver"===o)i=14;else if("gold"===o)i=15;else if("platinum"===o||"black"===o)i=16;else{const e=rp(a);if(!e)return;const t=await pd(e);if(i=function(e){try{const t=function(e){const t=function(e){const t=document.createElement("canvas");t.width=e.naturalWidth,t.height=e.naturalHeight;const n=t.getContext("2d");return n.drawImage(e,0,0),n.getImageData(0,0,t.width,t.height).data}(e),n=function(e,t){const n=e,a=[];for(let e,o,r,i,s,l=0;l<t;l+=1)e=4*l,o=n[e+0],r=n[e+1],i=n[e+2],s=n[e+3],(void 0===s||s>=125)&&(o>250&&r>250&&i>250||a.push([o,r,i]));return a}(t,e.naturalWidth*e.naturalHeight),a=ld()(n,2);if(a)return a.palette()}(e);if(null==t||!t.length)return;const n=t[0],a=ud.light.map((e=>function(e,t){const n=.3*(e[0]-t[0])**2,a=.59*(e[1]-t[1])**2,o=.11*(e[2]-t[2])**2;return Math.sqrt(n+a+o)}(n,cd(e)))),o=Math.min(...a);return a.indexOf(o)}catch(e){return void(0,Fn.SJ)("getAccentColorFromImage",e)}}(await(s=t,new Promise(((e,t)=>{const n=new Image;n.onload=()=>{gd.add(s),e(n)},n.onerror=t,n.src=s})))),URL.revokeObjectURL(t),!i)return}var s;e=li(e=Re(),{accentColorNft:a,accentColorIndex:i}),Me(e)})),We("clearAccentColorFromNft",(e=>li(e,{accentColorNft:void 0,accentColorIndex:void 0}))),We("closeAnyModal",(()=>{t.bA?Mr("closeAnyModal"):Cc(Date.now())})),We("openExplore",(e=>({...e,isExploreOpen:!0}))),We("closeExplore",(e=>({...e,isExploreOpen:void 0}))),We("openFullscreen",(e=>{Me({...e,isFullscreen:!0})})),We("closeFullscreen",(e=>{Me({...e,isFullscreen:void 0})})),We("clearDappConnectRequestError",(e=>{e=function(e){return{...e,dappConnectRequest:{...e.dappConnectRequest,error:void 0}}}(e),Me(e)})),We("showDappTransfer",((e,t,n)=>{const{transactionIdx:a}=n;e=xi(e,{state:Ht.Confirm,viewTransactionOnIdx:a}),Me(e)})),We("setDappTransferScreen",((e,t,n)=>{const{state:a}=n;e=xi(e,{state:a}),Me(e)})),We("submitDappTransferConfirm",((e,t)=>{Xe(e,e.currentAccountId).isHardware?(t.resetHardwareWalletConnect(),e=xi(Re(),{state:Ht.ConnectHardware})):e=xi(e,{state:Ht.Password}),Me(e)})),We("clearDappTransferError",(e=>{e=xi(e,{error:void 0}),Me(e)})),We("openBrowser",((e,t,n)=>{let{url:a,title:o,subtitle:r}=n;e={...e,currentBrowserOptions:{url:a,title:o,subtitle:r}},Me(e)})),We("closeBrowser",(e=>{e={...e,currentBrowserOptions:void 0},Me(e)})),We("addSiteToBrowserHistory",((t,n,a)=>{let{url:o}=a;const r=Je(t);t=ai(t,{browserHistory:(0,s.Am)([o,...(null==r?void 0:r.browserHistory)||[]]).slice(0,e.uSm)}),Me(t)})),We("removeSiteFromBrowserHistory",((e,t,n)=>{var a;let{url:o}=n;const r=Je(e),i=null==r||null===(a=r.browserHistory)||void 0===a?void 0:a.filter((e=>e!==o));e=ai(e,{browserHistory:null!=i&&i.length?i:void 0}),Me(e)})),We("updateDappLastOpenedAt",((e,t,n)=>{let{origin:a}=n;const{dappLastOpenedDatesByOrigin:o}=Je(e);e=ai(e,{dappLastOpenedDatesByOrigin:{...o,[a]:Date.now()}}),Me(e)})),We("openSiteCategory",((e,t,n)=>{let{id:a}=n;return ai(e,{currentSiteCategoryId:a})})),We("closeSiteCategory",(e=>ai(e,{currentSiteCategoryId:void 0}))),We("switchAccountAndOpenUrl",(async(e,n,a)=>{t.bA?Mr("switchAccountAndOpenUrl",a):(await Promise.all([cs(),a.accountId&&Fi(e,a.accountId,a.network)]),await Ma(a.url,a))})),Pe((e=>{if(!lp)return void(lp=e);const{settings:t}=lp,{settings:n}=e;n.theme!==t.theme&&zs(n.theme),n.langCode!==t.langCode&&hr(n.langCode),lp=e})),We("setAppLockValue",((e,t,n)=>{let{value:a,isEnabled:o}=n;return{...e,settings:{...e.settings,autolockValue:a,isAppLockEnabled:o}}})),We("setIsManualLockActive",((e,t,n)=>{let{isActive:a,shouldHideBiometrics:o}=n;return{...e,isManualLockActive:a,appLockHideBiometrics:o}})),We("openNftCollection",((e,t,n)=>{let{address:a}=n;const o=e.currentAccountId;return oi(e,o,{nfts:{...Ze(e,o).nfts,currentCollectionAddress:a}})})),We("closeNftCollection",(e=>ai(e,{nfts:{...Je(e).nfts,currentCollectionAddress:void 0},selectedNftsToHide:void 0}))),We("selectNfts",((e,t,n)=>{let{addresses:a}=n;e=function(e,t,n){var a;const o=Ze(e,t).nfts,r=[...null!==(a=null==o?void 0:o.selectedAddresses)&&void 0!==a?a:[],...n];return oi(e,t,{nfts:{...o,selectedAddresses:r}})}(e,e.currentAccountId,a),Me(e)})),We("selectAllNfts",((e,t,n)=>{let{collectionAddress:a}=n;const o=e.currentAccountId,{blacklistedNftAddresses:r,whitelistedNftAddresses:i}=Ze(e,o)||{},s=new Set(i),l=new Set(r),{nfts:c}=Ze(e,o),d=Object.values(c.byAddress).filter((e=>(!e.isHidden||s.has(e.address))&&!l.has(e.address)&&(void 0===a||void 0!==a&&e.collectionAddress===a)));e=oi(e,o,{nfts:{...c,selectedAddresses:d.map((e=>{let{address:t}=e;return t}))}}),Me(e)})),We("clearNftSelection",((e,t,n)=>{let{address:a}=n;e=function(e,t,n){var a;const o=Ze(e,t).nfts,r=(null!==(a=null==o?void 0:o.selectedAddresses)&&void 0!==a?a:[]).filter((e=>e!==n));return oi(e,t,{nfts:{...o,selectedAddresses:r.length?r:void 0}})}(e,e.currentAccountId,a),Me(e)})),We("clearNftsSelection",(e=>{const t=e.currentAccountId;e=oi(e,t,{nfts:{...Ze(e,t).nfts,selectedAddresses:[]}}),Me(e)})),We("openVestingModal",(e=>{Me({...e,isVestingModalOpen:!0})})),We("closeVestingModal",(e=>{Me({...e,isVestingModalOpen:void 0})})),We("startClaimingVesting",(e=>{if(t.bA)return void Mr("startClaimingVesting");const n=e.currentAccountId,{isHardware:a}=Xe(e,n);e=Di(e={...e,isVestingModalOpen:void 0},n,{isConfirmRequested:!0,unfreezeState:a?Qt.ConnectHardware:Qt.Password}),Me(e)})),We("cancelClaimingVesting",(e=>{e=Di(e,e.currentAccountId,{isConfirmRequested:void 0}),Me(e)})),We("clearVestingError",(e=>{e=Di(e,e.currentAccountId,{error:void 0}),Me(e)})),We("rebuildOrderedSlugs",(e=>{var t,n;const a=null!==(t=nt(e))&&void 0!==t?t:{},{orderedSlugs:o=[]}=a,r=(null!==(n=Et(e))&&void 0!==n?n:[]).map((e=>{let{slug:t}=e;return t})),i=(0,s.Am)([...o,...r]);return(0,s.k)(o,i)?e:li(e,{...a,orderedSlugs:i})})),We("showTokenActivity",((e,t,n)=>{let{slug:a}=n;t.selectToken({slug:a},{forceOnHeavyAnimation:!0}),t.setActiveContentTab({tab:Jt.Activity})})),We("startTransfer",((e,n,a)=>{var o,r;const i=e.currentTransfer.state!==Ht.None;if(t.bA&&!i)return void Mr("startTransfer",a);const{isPortrait:s,...l}=null!=a?a:{},c=Symbol("nft"),d=null!==(o=e.currentTransfer.nfts)&&void 0!==o&&o.length?c:e.currentTransfer.tokenSlug,u=null!=a&&null!==(r=a.nfts)&&void 0!==r&&r.length?c:null==a?void 0:a.tokenSlug,m=u&&u!==d;Me(yi(e,{state:s?Ht.Initial:Ht.None,error:void 0,...m?{fee:void 0,realFee:void 0,diesel:void 0}:{},...l})),s||n.setLandscapeActionsActiveTabIndex({index:Xt.Transfer})})),We("changeTransferToken",((e,t,n)=>{let{tokenSlug:a,withResetAmount:o}=n;const{amount:r,tokenSlug:i,nfts:s}=e.currentTransfer;if(!(null!=s&&s.length||a!==i||o))return;const l=i?e.tokenInfo.bySlug[i]:void 0,c=e.tokenInfo.bySlug[a];o?e=yi(e,{amount:void 0}):r&&(null==l?void 0:l.decimals)!==(null==c?void 0:c.decimals)&&(e=yi(e,{amount:(0,vt.UH)((0,vt.nI)(r,null==l?void 0:l.decimals),null==c?void 0:c.decimals)})),Me(yi(e,{tokenSlug:a,fee:void 0,realFee:void 0,diesel:void 0,nfts:void 0}))})),We("setTransferScreen",((e,t,n)=>{const{state:a}=n;return yi(e,{state:a})})),We("setTransferAmount",((e,t,n)=>{let{amount:a}=n;return yi(e,{amount:a})})),We("setTransferToAddress",((e,t,n)=>{let{toAddress:a}=n;return Ni(e,a)})),We("setTransferComment",((e,t,n)=>{let{comment:a}=n;return yi(e,{comment:a})})),We("setTransferShouldEncrypt",((e,t,n)=>{let{shouldEncrypt:a}=n;return yi(e,{shouldEncrypt:a})})),We("submitTransferConfirm",((e,t)=>{Xe(e,e.currentAccountId).isHardware?(t.resetHardwareWalletConnect(),e=yi(Re(),{state:Ht.ConnectHardware})):e=yi(e,{state:Ht.Password}),Me(e)})),We("clearTransferError",(e=>{Me(yi(e,{error:void 0}))})),We("setTheme",((e,t,n)=>{let{theme:a}=n;return{...e,settings:{...e.settings,theme:a}}})),We("setAnimationLevel",((e,t,n)=>{let{level:a}=n;return{...e,settings:{...e.settings,animationLevel:a}}})),We("tryAddNotificationAccount",((t,n,a)=>{let{accountId:o}=a;t.pushNotifications.isAvailable&&Object.keys(qe(t)||{}).length<=e.vdF&&n.createNotificationAccount({accountId:o})})),We("renameNotificationAccount",((e,t,n)=>{let{accountId:a}=n;const{enabledAccounts:o,isAvailable:r}=e.pushNotifications;r&&null!=o&&o[a]&&t.createNotificationAccount({accountId:a})})),We("toggleNotificationAccount",((t,n,a)=>{let{accountId:o}=a;const{enabledAccounts:r,userToken:i,platform:s}=t.pushNotifications;if(!i||!s)return;const l=r&&r[o];!l&&Object.keys(r||{}).length>=e.vdF||(l?n.deleteNotificationAccount({accountId:o,withAbort:!0}):n.createNotificationAccount({accountId:o,withAbort:!0}))})),We("deleteAllNotificationAccounts",(async(e,t,a)=>{const{enabledAccounts:o,userToken:r}=e.pushNotifications;if(!o||!r)return;const i=(null==a?void 0:a.accountIds)||Object.keys(o);await(0,n.p)("unsubscribeNotifications",{userToken:r,addresses:go(e,i)}),e=Re(),Me($c(e))}));const cp=e.UMQ?500:5e3,dp=(0,l.nF)((()=>_((()=>gp()))),cp,!1),up=()=>gp(!0);let mp,pp,fp=!1;function hp(){var e;fp&&(window.removeEventListener("blur",up),null===(e=mp)||void 0===e||e(),function(e){const t=Ce.indexOf(e);-1!==t&&Ce.splice(t,1)}(dp),fp=!1)}function gp(t){var n;if(e.UuV||!fp||!t&&I())return;const a=Re(),o={...Kr,...(0,s.Up)(a,["tokenInfo","settings","currentAccountId","stateVersion","restrictions","pushNotifications","isFullscreen","isManualLockActive","stakingDefault"]),accounts:{byId:(null===(n=a.accounts)||void 0===n?void 0:n.byId)||{}},byAccountId:vp(a)},r=JSON.stringify(o);localStorage.setItem(e.pge,r)}function vp(t){return Object.entries(t.byAccountId).reduce(((n,a)=>{let[o,r]=a;n[o]=(0,s.Up)(r,["balances","isBackupRequired","currentTokenSlug","currentTokenPeriod","savedAddresses","staking","stakingHistory","activeContentTab","landscapeActionsActiveTabIndex","browserHistory","blacklistedNftAddresses","whitelistedNftAddresses","dappLastOpenedDatesByOrigin","dapps"]);const i=Ct(t,o);return n[o].activities=function(t,n){const{idsBySlug:a,newestTransactionsBySlug:o,byId:r,idsMain:i}=t||{};if(!(n&&a&&r&&i))return;const l=n.slice(0,30).map((e=>{let{slug:t}=e;return t}));l.includes(e.Tu9.slug)||l.push(e.Tu9.slug);const c=wp(i,r),d=(0,s.LG)((0,s._E)(a,l),(e=>wp(e,r))),u=o?(0,s.Up)(o,l):void 0,m=Object.values(d).concat(c).flat();return{byId:(0,s.Up)(r,m),idsMain:c,idsBySlug:d,newestTransactionsBySlug:u}}(r.activities,i),n[o].staking=function(e){let{stakingId:t,stateById:n}=null!=e?e:{};var a;n&&Object.values(n).length&&(n=(0,s.lk)(n,hs),t&&t in n||(t=null===(a=Object.values(n)[0])||void 0===a?void 0:a.id));return{...e,stateById:n,stakingId:t}}(r.staking),n}),{})}function wp(e,t){const n=[];let a=0;return e.filter((e=>!_t(e)&&Boolean(t[e]))).forEach((e=>{20!==a&&(t[e].shouldHide||(a+=1),n.push(e))})),n}t.bA||e.UuV||(We("afterSignIn",(function(){fp||(fp=!0,Pe(dp),mp=(0,l.yu)(up,!0),window.addEventListener("blur",up),up())})),We("afterSignOut",((t,n,a)=>{qr(),null!=a&&a.shouldReset&&(pp=(0,s.Up)(t,["swapTokenInfo","tokenInfo","restrictions"]),hp(),localStorage.removeItem(e.pge))})),We("cancelCaching",hp)),We("init",((n,a)=>{const o=(0,s.mg)(Kr),r=function(n){if(e.UuV)return n;e.Oig&&console.time("global-state-cache-read");const a=localStorage.getItem(e.pge);let o=a?JSON.parse(a,yn.bk):void 0;if(e.Oig&&console.timeEnd("global-state-cache-read"),o)try{!function(n,a){if(n.settings={...a.settings,...n.settings},32!==n.stateVersion){var o;if(n.byAccountId||(n.accounts={byId:{[e.Kih]:{address:n.addresses.byAccountId[e.Kih],title:"Main Account"}}},delete n.addresses,n.byAccountId={},n.byAccountId[e.Kih]={isBackupRequired:Boolean(n.isBackupRequired),currentTokenSlug:n.currentTokenSlug,currentTokenPeriod:n.currentTokenPeriod},"balances"in n&&(n.byAccountId[e.Kih].balances=n.balances.byAccountId[e.Kih],delete n.balances),"transactions"in n&&(n.byAccountId[e.Kih].transactions=n.transactions,delete n.transactions),"nfts"in n&&(n.byAccountId[e.Kih].nfts=n.nfts,delete n.nfts),"savedAddresses"in n&&(n.byAccountId[e.Kih].savedAddresses=n.savedAddresses,delete n.savedAddresses),"backupWallet"in n&&delete n.backupWallet),n.currentAccountId&&n.byAccountId[n.currentAccountId]||!Object.keys(n.byAccountId).length||(n.currentAccountId=Object.keys(n.byAccountId)[0]),!n.stateVersion&&n.accounts&&Object.keys(n.accounts).length>0&&(n.stateVersion=1),1===n.stateVersion&&(n.stateVersion=2,null!==(o=n.tokenInfo)&&void 0!==o&&o.bySlug&&(n.tokenInfo.bySlug={toncoin:{...n.tokenInfo.bySlug.toncoin,decimals:e.Tu9.decimals}}),n.byAccountId&&Object.values(n.byAccountId).forEach((e=>{var t;null!==(t=e.balances)&&void 0!==t&&t.bySlug&&(e.balances.bySlug=(0,s.Up)(e.balances.bySlug,["toncoin"])),e.transactions&&delete e.transactions}))),2===n.stateVersion){n.stateVersion=3;const t="0",a=e.Kih;if(n.accounts&&t in n.accounts.byId&&(n.currentAccountId===t&&(n.currentAccountId=a),n.accounts.byId[a]=n.accounts.byId[t],delete n.accounts.byId[t],n.byAccountId[a]=n.byAccountId[t],delete n.byAccountId[t]),n.accounts)for(const e of Object.keys(n.accounts.byId)){const t=(0,$e.z)({...(0,$e.c)(e),network:"testnet"});n.accounts.byId[t]=(0,s.mg)(n.accounts.byId[e]),n.byAccountId[t]={}}}if(3===n.stateVersion&&(n.stateVersion=4,n.byAccountId))for(const e of Object.keys(n.byAccountId))delete n.byAccountId[e].transactions;if(4===n.stateVersion&&(n.stateVersion=5,n.staking={state:Yt.None}),5===n.stateVersion&&(n.stateVersion=6,n.byAccountId))for(const e of Object.keys(n.byAccountId))delete n.byAccountId[e].transactions;if(6===n.stateVersion&&(n.stateVersion=7,n.byAccountId))for(const e of Object.keys(n.byAccountId))delete n.byAccountId[e].transactions;if(7===n.stateVersion){if(n.byAccountId)for(const e of Object.keys(n.byAccountId))delete n.byAccountId[e].backupWallet;n.stateVersion=8}if(8===n.stateVersion&&(n.settings&&t.cp&&(n.settings.isDeeplinkHookEnabled=!0),n.stateVersion=9),9===n.stateVersion&&(r(),n.stateVersion=10),10===n.stateVersion&&(void 0===n.settings.areTokensWithNoBalanceHidden&&(n.settings.areTokensWithNoBalanceHidden=!0),n.stateVersion=11),11===n.stateVersion&&(r(),n.stateVersion=12),12===n.stateVersion){if(n.byAccountId)for(const e of Object.keys(n.byAccountId)){delete n.byAccountId[e].activities;const{balances:t}=n.byAccountId[e];t&&(t.bySlug=Object.entries(t.bySlug).reduce(((e,t)=>{let[n,a]=t;return e[n]=BigInt(a),e}),{}))}n.stateVersion=13}if(13===n.stateVersion){const{areTokensWithNoPriceHidden:e,areTokensWithNoBalanceHidden:t}=n.settings;n.settings.areTokensWithNoCostHidden=Boolean(e||t),n.stateVersion=14}if(14===n.stateVersion&&(r(),n.stateVersion=15),15===n.stateVersion&&(r(),n.stateVersion=16),16===n.stateVersion&&(r(),n.stateVersion=17),17===n.stateVersion&&(r(),n.stateVersion=18),18===n.stateVersion||19===n.stateVersion){for(const e of Object.keys(n.byAccountId))n.byAccountId[e].currentTokenPeriod="1D";n.stateVersion=20}if(20===n.stateVersion&&(r(),n.stateVersion=21),21===n.stateVersion&&(r(),n.stateVersion=22),22===n.stateVersion&&(r(),n.stateVersion=23),23===n.stateVersion&&("isSortByValueEnabled"in n.settings||(n.settings.isSortByValueEnabled=a.settings.isSortByValueEnabled),n.stateVersion=24),24===n.stateVersion){if(n.accounts){r();for(const e of Object.values(n.accounts.byId))e.addressByChain={ton:e.address},delete e.address}n.stateVersion=25}if(25===n.stateVersion){if(n.byAccountId)for(const e of Object.keys(n.byAccountId)){const t=n.byAccountId[e].savedAddresses;t&&!("length"in t)&&(n.byAccountId[e].savedAddresses=Object.keys(t).map((e=>({name:t[e],address:e,chain:"ton"}))))}n.stateVersion=26}if(26===n.stateVersion&&(r(),n.stateVersion=27),27===n.stateVersion&&(delete n.settings.dapps,n.stateVersion=28),28===n.stateVersion){const e=Object.keys(n.settings.byAccountId);for(const t of e){const e=n.settings.byAccountId[t].exceptionSlugs;n.settings.areTokensWithNoCostHidden?n.settings.byAccountId[t].alwaysShownSlugs=e:n.settings.byAccountId[t].alwaysHiddenSlugs=e}n.stateVersion=29}29===n.stateVersion&&(n.currentTransfer.tokenSlug=e.Tu9.slug,n.stateVersion=30),30===n.stateVersion&&(r(),n.stateVersion=31),31===n.stateVersion&&(n.settings.autolockValue&&"never"!==n.settings.autolockValue&&(n.settings.isAppLockEnabled=!0),n.stateVersion=32)}function r(){if(n.byAccountId)for(const e of Object.keys(n.byAccountId))delete n.byAccountId[e].activities}}(o,n),function(e){if(!e.currentAccountId)return;const{byId:t,newestTransactionsBySlug:n}=e.byAccountId[e.currentAccountId].activities||{};t&&Object.values(t).forEach((e=>{"transaction"===e.kind&&e.isIncoming&&zr(e)})),n&&Object.values(n).forEach((e=>{e.isIncoming&&zr(e)}))}(o)}catch(e){console.error(e),o=void 0}return{...n,...pp,...o}}(o);return t.bA?{...o,settings:{...o.settings,theme:r.settings.theme}}:t.Fe?(a.initLedgerPage(),{...o,settings:{...o.settings,theme:r.settings.theme}}):(function(e){return Boolean(e.currentAccountId)}(r)&&a.afterSignIn(),r)})),BigInt.prototype.toJSON=function(){return`${yn.tH}${this}`};var yp=i(75357);let bp=!1;async function Ep(){await new Promise((e=>{const t=[];let n=performance.now();(0,c.i0)((()=>{const a=performance.now();if(t.push(a-n),n=a,10===t.length){const n=t.sort()[Math.floor(t.length/2)];return e(Math.round(1e3/n)),!1}return!0}),l.IJ)}))<=35&&function(){bp=!0;const e=document.createElement("div");e.style.cssText="position: absolute; top: 0; left: 0; width: 0; height: 100%; overflow: hidden;";const t=document.createElement("div"),n=1.5*window.screen.height;t.style.cssText=`width: 0; height: ${n}px; transform: translateX(100%); transition: transform 100ms;`,t.innerHTML="&nbsp;",e.appendChild(t),document.body.appendChild(e),requestAnimationFrame((()=>{t.addEventListener("transitionend",(()=>{e.remove()})),t.style.transform=""}))}()}let kp=function(e){return e.DEEPLINK="deeplink",e.UPDATE_ERROR="update-error",e.UPDATE_DOWNLOADED="update-downloaded",e}({});const Np=function(){let e,n=!1;const a=function(t){var a;n=!0,null===(a=e)||void 0===a||a.call(this,{...t,preventScroll:!0})},o=()=>{Cp(t.Ni&&n),n=!1};return{install(){e||(e=HTMLElement.prototype.focus,HTMLElement.prototype.focus=a,window.addEventListener("focusin",o))},uninstall(){e&&(HTMLElement.prototype.focus=e,e=void 0,window.removeEventListener("focusin",o))}}}();function Cp(e){var t;const n=document.activeElement;if(!n)return;const a=null!==(t=n.dataset.focusScrollPosition)&&void 0!==t?t:"nearest";(0,E.YS)((()=>{n.scrollIntoView({block:a,behavior:e?"instant":"auto"})}))}const Sp=t.Fe||t.bA||t.cp||e.tKX,Ap=String(Date.now()+Math.random());let Tp;Sp||localStorage.setItem(e.tOu,Ap);const Ip=window.setInterval((()=>{!Sp&&Tp&&localStorage.getItem(e.tOu)!==Ap&&(Tp(),clearInterval(Ip))}),2e3),Bp=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=Cr(e);se((()=>{if(void 0===t)return;const e=setInterval(a,t);return n||a(),()=>clearInterval(e)}),[t,a,n])},_p=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const a=Cr(e);se((()=>{if("number"!=typeof t)return;const e=setTimeout((()=>a()),t);return()=>clearTimeout(e)}),[t,a,...n])},xp="T1ztMNGQ",Lp=i.p+"app-inactive.e835efd0bf0191aaa6ab.png",Op=i.p+"app-inactive.70579bd9a710cd418aff.webp",Pp=function(){const t=Qi(),n=Cr((()=>{window.location.reload()}));return fe.createElement("div",{className:"cFGCnqcA"},fe.createElement("div",{className:"sRTywfr2"},fe.createElement("picture",{className:xp},fe.createElement("source",{src:Op}),fe.createElement("img",{src:Lp,alt:"",className:xp})),fe.createElement("h3",{className:"UervEVFY"},t("Such error, many tabs")),fe.createElement("div",{className:"rO8yQetD"},qo(t("$many_tabs_error_description",{app_name:e.C39}))),fe.createElement("div",{className:"u6bKEBnR"},fe.createElement(Ll,{isText:!0,className:"eymlW7_B",onClick:n},t("Reload App")))))};function Dp(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=sl(e,arguments.length>1&&void 0!==arguments[1]&&arguments[1]);return t||null!=e?e:n}function Fp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const[t,n]=re(!0),[a,o]=re(!0);return{isAtBeginning:t,isAtEnd:a,isScrolled:!t,handleScroll:Cr((t=>{const{scrollHeight:a,scrollTop:r,clientHeight:i}=t.target;n(r<e),o(a-r-i<e)}))}}const Rp={root:"YO7I0Ma0"},Mp={"🥷":"1f977","🦄":"1f984","⚠️":"26a0"},Up=new Set,Wp=me((function(e){let{from:t}=e;const n=t in Mp?Mp[t]:t,a=`./emoji/${n}.png`,[o,r]=yd(Up.has(a)),i=Cd(o),s=Cr((()=>{r(),Up.add(a)}));return fe.createElement("img",{src:a,alt:t,className:ji(Rp.root,Rp[`key-${n}`],i),onLoad:s})})),Hp=me((function(e){let{title:t,className:n,withNotch:a,closeClassName:o,onClose:r,onBackButtonClick:i}=e;const s=Qi();return fe.createElement("div",{className:ji(bc.header,"with-notch-on-scroll",a&&"is-scrolled",!i&&bc.header_wideContent,n)},i&&fe.createElement(Ll,{isSimple:!0,isText:!0,onClick:i,className:bc.header_back},fe.createElement("i",{className:ji(bc.header_backIcon,"icon-chevron-left"),"aria-hidden":!0}),fe.createElement("span",null,s("Back"))),void 0!==t&&fe.createElement("div",{className:ji(bc.title,bc.singleTitle)},t),r&&fe.createElement(Ll,{isRound:!0,className:ji(bc.closeButton,o),ariaLabel:s("Close"),onClick:r},fe.createElement("i",{className:ji(bc.closeIcon,"icon-close"),"aria-hidden":!0})))})),$p={wrapper:"T7fZ5IMk",slide:"syDfunZP",header:"aDfdss28",withTopSpace:"dtjdV8GY",nestedTransition:"jX5Ya3FK",transitionContainer:"yVzk5dwl",developerTitle:"r6WClabQ",developerCloseButton:"yn74reot",onlyTextHeader:"CgjtBlIK",headerInsideModal:"eFeOVzRI",languageHeader:"ZrejUKsI",headerBack:"ehDj7x2p",isInsideModal:"Wccw6pgw",hidden:"yTnK4aVo",iconChevron:"Qea3kUMy",headerBackInContent:"zvnNb8eo",headerTitle:"aZVKC5O6",modalHeader:"vwHnpdwF",content:"rgMxxE39",content_noScroll:"lh0I5gIh",contentNoScroll:"lh0I5gIh",withBottomSpace:"cjfvEx15",contentFullSize:"BpFwAWae",blockTitle:"dBOj5NnG",menuIcon:"M1WSmGuc",themeWrapper:"cfK5v5m1",blockAbout:"yuZIbS8n",theme:"N5nUfRHH",theme_active:"eTa03cXj",themeActive:"eTa03cXj",themeIcon:"tZRnZj9J",themeIcon_active:"eEiBESrS",themeIconActive:"eEiBESrS",themeImg:"H_nvpBU5",block:"wJjymc4L",text:"sU0zQDmb",settingsBlockWithDescription:"xosGoD5d",settingsBlock:"_0TWKZFz4",iconChevronRight:"RHurCQ9b",item:"o1nQhJ_F",draggable:"k2juknci",item_red:"yYJCYbbd",itemRed:"yYJCYbbd",item_small:"cC1nd9dM",itemSmall:"cC1nd9dM",item_lang:"kIWs2Jxk",itemLang:"kIWs2Jxk",item_wallet_version:"tTZZHEdN",itemWalletVersion:"tTZZHEdN",item_token:"LMTs4OeN",itemToken:"LMTs4OeN",itemInfo:"S5Kk31wp",small:"gq4usdgr",version:"oGJ2X15D",languageMain:"cIO_6vYD",languageNative:"NGS7pE5c",iconQuestion:"CLKLBCVt",blockWithTooltip:"eqWsA9Ak",tooltip:"DCWmLsBA",tooltip_wide:"ESFWFyav",tooltipWide:"ESFWFyav",disconnectButton:"Wu3RiwSF",dapps:"eyE78PWW",changePasswordButton:"xBpPU4Jb",passwordFormContent:"KQuDNpn5",passwordFormContentInModal:"OzmF3O5t",sticker:"aMwtPBfB",blockDescription:"HuH8igQi",emptyList:"ThoQya6m",emptyListTitle:"lek7Y5aS",dapp:"xc0VaBDP",backButton:"QlOjly_V",logo:"LQ5MMcSf",stickerNativeBiometric:"nLxfZG3p",pinPadHeader:"tnqhb1Qi",pinPadHeaderMinified:"K1fiksuZ",pinPadTitle:"MxOcmI0_",title:"sDP2AWSj",titleLink:"r7iIIH6q",heading:"Sh2kuIH2",github:"dBqNllGm",telegram:"sggkOqTT",tokenSortIcon:"V7Nh7XEi",tokenTitle:"wkk1b7Dc",tokenDescription:"cv6gw8az",dot:"Zfi1H_we",dotLarge:"LIr9yHMx",contentRelative:"EiFz4WrA",sortableContainer:"zmQzVO7l",modalDialog:"xRqyv_rX",modalDialogWeb:"E67Qdj_t",modalContent:"mjHzkDZB",deleteText:"d8sxNodF",languageInfo:"AXAMGE3T",tokenInfo:"ll1f03qi",stickerAndTitle:"upR_yI1c",sideTitle:"atPnEcVz",aboutFooterWrapper:"EYMlspWb",aboutFooterContent:"U1sbe5pk",blockWalletVersionText:"poUctQOF",walletVersionInfo:"spNULnGc",walletVersionInfoRight:"Ez0t7GFF",walletVersionTitle:"DbBBKMBg",walletVersionTokens:"DUzHgWKY",walletVersionAddress:"xPrZcrFZ",walletVersionAmount:"nvPRmXTF",blockWalletVersionReadMore:"g3U3zj6y",nftPrimaryCell:"zpLwMrPQ",nftName:"JHu8TtpB",nftCollection:"mbtZbU1u",nftImage:"pifBd9KV",nftButtonUnhide:"_o8QIssq",account:"TXe6O6ZF",accountDisabled:"vf82b5zy"},Vp=me((function(t){let{isActive:n,handleBackClick:a,isInsideModal:o,theme:r}=t;const i=Qi();Il({isActive:n,onBack:a});const{handleScroll:s,isScrolled:l}=Fp(),c="light"===wd(r)?Jm:Xm,d=i("$about_extension_link_text",{app_name:e.C39});return fe.createElement("div",{className:$p.slide},o?fe.createElement(Hp,{title:i("About %app_name%",{app_name:e.C39}),withNotch:l,onBackButtonClick:a,className:$p.modalHeader}):fe.createElement("div",{className:ji($p.header,"with-notch-on-scroll",l&&"is-scrolled")},fe.createElement(Ll,{isSimple:!0,isText:!0,onClick:a,className:$p.headerBack},fe.createElement("i",{className:ji($p.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),fe.createElement("span",null,i("Back"))),fe.createElement("span",{className:$p.headerTitle},i("About %app_name%",{app_name:e.C39}))),fe.createElement("div",{className:ji($p.content,o&&"custom-scroll",!o&&$p.content_noScroll),onScroll:o?s:void 0},fe.createElement("img",{src:c,alt:i("Logo"),className:$p.logo}),fe.createElement("h2",{className:$p.title},e.C39," ",e.hl5," ",e.vOV,!e.TI6&&fe.createElement("a",{href:"https://mytonwallet.io/",target:"_blank",className:$p.titleLink,rel:"noreferrer"},"mytonwallet.io")),fe.createElement("div",{className:ji($p.blockAbout,!o&&"custom-scroll")},fe.createElement("p",{className:$p.text},qo(i("$about_description1"))),fe.createElement("p",{className:$p.text},qo(i("$about_description2"))),e.hL1?fe.createElement(fe.Fragment,null,fe.createElement("h3",{className:ji($p.text,$p.heading)},fe.createElement(Wp,{from:"🥷"})," ",i("What is TON Proxy?")),fe.createElement("p",{className:$p.text},qo(i("$about_extension_description1"))," ",fe.createElement("a",{href:"https://telegra.ph/TON-Sites-TON-WWW-and-TON-Proxy-09-29-2",target:"_blank",rel:"noopener noreferrer"},i("More info and demo."))),fe.createElement("h3",{className:ji($p.text,$p.heading)},fe.createElement(Wp,{from:"🦄"})," ",i("What is TON Magic?")),fe.createElement("p",{className:$p.text},qo(i("$about_extension_description2"))),fe.createElement("p",{className:$p.text},i("$about_extension_description3")," ",fe.createElement("a",{href:"https://telegra.ph/Telegram--TON-11-10",target:"_blank",rel:"noopener noreferrer"},i("More info and demo.")))):fe.createElement(fe.Fragment,null,fe.createElement("h3",{className:ji($p.text,$p.heading)},i("$about_proxy_magic_title",{ninja:fe.createElement(Wp,{from:"🥷"}),unicorn:fe.createElement(Wp,{from:"🦄"})})),fe.createElement("p",{className:$p.text},i("$about_proxy_magic_description",{extension_link:fe.createElement("a",{href:"https://mytonwallet.io/",target:"_blank",rel:"noreferrer"},qo(d))}))),fe.createElement("h3",{className:ji($p.text,$p.heading)},fe.createElement("i",{className:ji($p.github,"icon-github"),"aria-hidden":!0})," ",i("Is it open source?")),fe.createElement("p",{className:$p.text},i("$about_wallet_github",{github_link:fe.createElement("a",{href:e.V3_,target:"_blank",rel:"noreferrer"},qo(i("$about_github_link_text")))})),fe.createElement("h3",{className:$p.heading},fe.createElement("i",{className:ji($p.telegram,"icon-telegram"),"aria-hidden":!0})," ",i("Is there a community?")),fe.createElement("p",{className:$p.text},i("$about_wallet_community",{community_link:fe.createElement("a",{href:"ru"===i.code?"https://t.me/MyTonWalletRu":"https://t.me/MyTonWalletEn",target:"_blank",rel:"noreferrer"},qo(i("$about_community_link_text")))}))),fe.createElement("div",{className:$p.aboutFooterWrapper},fe.createElement("div",{className:$p.aboutFooterContent},fe.createElement("a",{href:"https://mytonwallet.io/terms-of-use",target:"_blank",rel:"noreferrer",onClick:Ua},i("Terms of Use")),fe.createElement("i",{className:$p.dotLarge,"aria-hidden":!0}),fe.createElement("a",{href:"https://mytonwallet.io/privacy-policy",target:"_blank",rel:"noreferrer",onClick:Ua},i("Privacy Policy"))))))})),zp={wrapper:"ULZ34zm7",transitionContainer:"IpdZLqJd",transitionSlide:"XE9A_oIT",container:"PaAMLiEx",container_scrollable:"Kl8WYoh1",containerScrollable:"Kl8WYoh1",container_password:"UbkFqyhU",containerPassword:"UbkFqyhU",containerAlignTop:"kjX3jz7x",containerFullSize:"TyvpW2dz",logo:"ehC1Upu8",appName:"IDG3Q9do",title:"GWv6k9kV",title_afterSmallSticker:"A9um3wzK",titleAfterSmallSticker:"A9um3wzK",titleSmallMargin:"XUVoSlvz",infoBlock:"PxIcz2Ce",text:"ehvMomrX",informationCheckbox:"EnuqqZk3",informationCheckboxContent:"GFpWMNm5",info:"WrpQj6v4",info_push:"I7MJaI4h",infoPush:"I7MJaI4h",info__space:"D8smEaJr",infoSpace:"D8smEaJr",infoPull:"NnW2gTZ2",infoSmallFont:"NNleMmCd",counter:"BMrG2A2B",counterTitle:"IFpNJ6G4",counterDigit:"FvuWBVMK",small:"I1fhFmAn",sticker:"hkc_A2ok",stickerAndTitle:"I_XB4JzC",backupNotice:"jSFFHbPH",backupNoticeButtons:"kUt_RfrB",modalSticker:"oxNcdksx",form:"VKREIrDv",formWidgets:"Vj7_u12z",passwordForm:"Stc9sPH6",errors:"vozeQrSV",passwordRules:"usE91GiK",passwordRule:"zwUB1a_J",valid:"tAmeBNo9",error:"B8vH7CYQ",buttons:"ODle5ROH",buttons__inner:"oNN6ymiQ",buttonsInner:"oNN6ymiQ",footerButton:"sarw89g5",btn:"SWvNin2D",btn_push:"W1k0H_HF",btnPush:"W1k0H_HF",btn_text:"qoCa264k",btnText:"qoCa264k",btn_about:"hc6SmKii",btnAbout:"hc6SmKii",btn_wide:"nfn0Ol3p",btnWide:"nfn0Ol3p",btn_mini:"Q2imCrap",btnMini:"Q2imCrap",btn_single:"uEEAE1sZ",btnSingle:"uEEAE1sZ",btnHalfWidth:"X7zz6SZl",modalDialog:"fGexmyHI",privateKey:"q7ZIxYSc",importingContent:"NH8rGjmE",footerError:"BZGziOTc",importButtonsBlock:"NM17kdjV",importText:"MHwkgrIZ",importButtons:"dYD_CpfV",biometricsStep:"t3qgjBKg",warning:"bs9tLaLO",biometricsError:"Es3mlsbs",stepTransition:"POUbGjea",passwordFormContainer:"t9A5nUYe",header:"iowmPhKV",headerTitle:"x58Cmt9r",pinPadHeader:"yHcMeGVS",headerBack:"ZzxVO58v",headerBackBlock:"NVF8z8CV",iconChevron:"vP8i059j",biometricsIcon:"ss3uFaAC",biometricsTitle:"VTH_ATCk",biometricsSubtitle:"C3vZhdz7",disclaimerBackupDialog:"ZjhuaYXI"},jp=me((function(e){let{isActive:t,isLoading:n,error:a,method:o}=e;const{resetAuth:r,cleanAuthError:i,addAccount:s}=Ue(),l=Qi(),c="createAccount"!==o,d=Cr((e=>{s({method:c?"importMnemonic":"createAccount",password:e,isAuthFlow:!0})}));return fe.createElement("div",{className:ji(zp.container,zp.container_scrollable,"custom-scroll")},fe.createElement(Mm,{isActive:t,isLoading:n,error:a,containerClassName:zp.passwordForm,submitLabel:l("Send"),cancelLabel:l("Back"),onSubmit:d,onCancel:r,onUpdate:i},fe.createElement("div",{className:zp.title},l("Enter your password"))))})),qp={suggestions:"wSbrkEKB",bottom:"YGdWEJ33",top:"jKY8_1nT",suggestion:"MtG_CWxm",active:"kdLCV21p"},Kp=me((function(e){let{position:t="bottom",suggestions:n,activeIndex:a,isInModal:o,onSelect:r}=e;const i=Qi(),s=e=>{e.preventDefault();const t=e.target.innerText.trim();r(t)};return n.length?fe.createElement("ul",{className:ji(qp.suggestions,qp[t],o&&qp.embedded)},n.map(((e,t)=>fe.createElement("li",{key:e,role:"button",tabIndex:0,className:ji(qp.suggestion,t===a&&qp.active),onMouseDown:s},e)))):fe.createElement("div",{className:qp.suggestions},fe.createElement("li",{className:qp.suggestion},i("No suggestions, you're on your own!")))})),Yp={wrapper:"fZW_3WXP",wrapper_focus:"sqh1ynr8",wrapperFocus:"sqh1ynr8",wrapper_error:"z4J8kfq3",wrapperError:"z4J8kfq3",input:"L1vlW70a",label:"Qg48sdUG"},Qp=me((function(t){let{id:a,nextId:o,labelText:r,className:i,value:s="",isInModal:l,suggestionsPosition:c,inputArg:d,onInput:u,onEnter:m}=t;const[p,f,h]=yd(),[g,v]=re(!1),[w,y]=re([]),[b,k]=re(0),[N,C]=re(!1),[S,A]=re([]),T=N&&s&&w.length>0;se((()=>{(0,n.p)("getMnemonicWordList").then((e=>A(null!=e?e:[])))}),[]),se((()=>{const t=!s||N&&w.length>0||function(t,n){return t.length===e.PcM||n.includes(t)}(s,S);v(!t)}),[N,w.length,s,S]);const I=e=>{const t=S.filter((t=>t.toLowerCase().startsWith(e.toLowerCase()))).slice(0,7);u(e,d),y(t),k(0),C(!0)},B=Cr((e=>{if(!s)return;m&&!N&&m();const t=w[b];t&&(u(t,d),y([t]),k(0),C(!1),N&&e.preventDefault(),o&&(0,E.YS)((()=>{(0,E.YS)((()=>{const e=document.getElementById(o);null==e||e.focus(),null==e||e.select()}))})))}));se((()=>p?Is({onEnter:B,onTab:e=>{e.shiftKey||e.ctrlKey||e.altKey||e.metaKey||B(e)},onUp:()=>{b>0&&k(b-1)},onDown:()=>{b<w.length-1&&k(b+1)}}):void 0));const _=Cr((e=>{u(e,d),C(!1),k(0),y([]),o&&(0,E.YS)((()=>{(0,E.YS)((()=>{const e=document.getElementById(o);null==e||e.focus(),null==e||e.select()}))}))}));return fe.createElement("div",{className:ji(Yp.wrapper,i,p&&Yp.wrapper_focus,g&&Yp.wrapper_error)},T&&fe.createElement(Kp,{suggestions:w,activeIndex:b,position:c,isInModal:l,onSelect:_}),fe.createElement("label",{className:Yp.label,htmlFor:a},r,"."),fe.createElement("input",{id:a,className:ji(Yp.input,""!==s&&Yp.touched),type:"text",autoCapitalize:"none",autoComplete:"off",autoCorrect:!1,spellCheck:!1,onChange:e=>{const t=e.target.value;I(t)},onFocus:e=>{I(e.target.value),f()},onBlur:e=>{e.target.blur(),h(),requestAnimationFrame((()=>{C(!1),y([])}))},onPaste:e=>{const t=e.clipboardData.getData("text");t&&I(t)},value:s,tabIndex:0,"data-focus-scroll-position":"top"===c?"end":"start"}))})),Gp="L6u18JBd",Xp="NvN6uNIF",Jp="u7rnL9q6",Zp="o4FCVeIa",ef="jCCt2XRK",tf="pfd8fIrT",nf=me((function(t){var n;let{isActive:a,isInModal:o,checkIndexes:r,mnemonic:i,descriptionClassName:l,formClassName:c,errorClassName:d,onSubmit:u}=t;const m=Qi(),[p,f]=re({}),[h,g]=re(!1),v=Cr((e=>{e.preventDefault();const t=i&&(null==r?void 0:r.map((e=>i[e])));t&&(0,s.k)(t,Object.values(p))?u():g(!0)}));se((()=>{a&&(f({}),g(!1))}),[a]);const w=Cr(((e,t)=>{f({...p,[t]:null==e?void 0:e.toLowerCase()})}));return fe.createElement(fe.Fragment,null,fe.createElement("p",{className:l},qo(m("$mnemonic_check_words_list",null==r||null===(n=r.map((e=>e+1)))||void 0===n?void 0:n.join(", ")))),fe.createElement("form",{className:c,onSubmit:v,id:"check_mnemonic_form"},r.map(((t,n)=>fe.createElement(Qp,{key:t,id:`check-mnemonic-${n}`,nextId:n+1<e.ow1?`check-mnemonic-${n+1}`:void 0,labelText:`${t+1}`,value:p[t],isInModal:o,suggestionsPosition:n<=1?"bottom":"top",inputArg:t,className:"_YK5KiZw",onInput:w})))),h&&fe.createElement("div",{className:d},qo(m("$mnemonic_check_error"))))})),af=me((function(t){let{isActive:n,checkIndexes:a,mnemonic:o}=t;const{closeCheckWordsPage:r}=Ue(),i=Cr((()=>{r({isBackupCreated:!0})})),s=Qi();return fe.createElement(fe.Fragment,null,fe.createElement(lm,{tgsUrl:xu.bill,previewUrl:xu.billPreview,size:e.lWW,play:n,nonInteractive:!0,noLoop:!1,className:Gp}),fe.createElement("p",{className:ji(Zp,tf)},qo(s("$check_words_description"))),fe.createElement(nf,{descriptionClassName:ji(Zp,tf),formClassName:"ftYLMV0R",isActive:n,mnemonic:o,checkIndexes:a,errorClassName:"WeqRS7VQ",onSubmit:i}),fe.createElement("div",{className:Xp},fe.createElement(Ll,{isPrimary:!0,forFormId:"check_mnemonic_form",className:Jp},s("Continue"))))})),of=me((e=>{let{isActive:t,mnemonic:n,checkIndexes:a}=e;const{openMnemonicPage:o}=Ue(),r=Qi();return Il({isActive:t,onBack:o}),fe.createElement("div",{className:zp.wrapper},fe.createElement("div",{className:ji(zp.container,"custom-scroll")},fe.createElement("div",{className:zp.header},fe.createElement(Ll,{isSimple:!0,isText:!0,onClick:o,className:zp.headerBackBlock},fe.createElement("i",{className:ji(zp.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),fe.createElement("span",null,r("Back"))),fe.createElement("span",{className:zp.headerTitle},r("Let's Check!"))),fe.createElement(af,{isActive:t,mnemonic:n,checkIndexes:a})))})),rf=Mn.Z2,sf=me((function(e){let{isActive:t,biometricsStep:n,error:a,isLoading:o}=e;const{afterCreateBiometrics:r,resetAuth:i,cancelCreateBiometrics:s}=Ue();_p(r,t?rf:void 0,[t]);const l=Qi(),c=Boolean(n),d=Boolean(a&&!c),u=Dp(a,!0);return Il({isActive:t,onBack:i}),fe.createElement("div",{className:ji(zp.container,zp.container_scrollable,"custom-scroll")},fe.createElement(lm,{play:t,tgsUrl:xu.guard,previewUrl:xu.guardPreview,noLoop:!1,nonInteractive:!0,className:zp.sticker}),fe.createElement("div",{className:zp.title},l("Turn On Biometrics")),c&&fe.createElement("div",{className:zp.biometricsStep},l(1===n?"Step 1 of 2. Registration":"Step 2 of 2. Verification")),d&&fe.createElement("div",{className:ji(zp.biometricsError)},fe.createElement("div",null,l(u||"Unknown error")),fe.createElement("div",null,l("Please try to confirm your biometrics again"))),fe.createElement("div",{className:zp.buttons},fe.createElement("div",{className:zp.buttons__inner},fe.createElement(Ll,{isDisabled:Boolean(n)||o,className:ji(zp.btn,zp.btnHalfWidth),onClick:s},l("Cancel")),d&&fe.createElement(Ll,{isPrimary:!0,className:ji(zp.btn,zp.btnHalfWidth),isDisabled:Boolean(n)||o,onClick:r},l("Try Again")))))})),lf=me(He((e=>({pin:e.auth.password})))((t=>{let{isActive:n,method:a,pin:o}=t;const{confirmPin:r,cancelConfirmPin:i}=Ue(),s=Qi(),[c,d]=re(""),[u,m]=re(""),[p,f]=re(!1),h="createAccount"!==a,g=Cr((()=>{i({isImporting:h})}));Il({isActive:n,onBack:g}),se((()=>{n&&(d(""),m(""),f(!1))}),[n]);const v=Cr((e=>{d(e),m("")})),w=Cr((async e=>{e===o?(f(!0),await(0,l.v7)(1500),r({isImporting:h})):m(s("Codes don't match"))}));return fe.createElement("div",{className:ji(zp.container,zp.containerFullSize)},fe.createElement(Ll,{isSimple:!0,isText:!0,onClick:g,className:zp.headerBack},fe.createElement("i",{className:ji(zp.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),fe.createElement("span",null,s("Back"))),fe.createElement("div",{className:zp.pinPadHeader},fe.createElement(lm,{play:n,tgsUrl:xu.guard,previewUrl:xu.guardPreview,noLoop:!1,nonInteractive:!0}),fe.createElement("div",{className:zp.title},s(h?"Wallet is imported!":"Wallet is ready!"))),fe.createElement(Fm,{isActive:n,title:p?s("Code set successfully"):u||s("Enter your code again"),type:p?"success":u?"error":void 0,length:e.NEx,value:c,onChange:v,onSubmit:w}))}))),cf=me((function(t){let{isActive:n}=t;const{skipCheckMnemonic:a,openAuthBackupWalletModal:o,resetAuth:r}=Ue(),i=Qi();Il({isActive:n,onBack:r});const s=!e.p8S;return fe.createElement("div",{className:zp.wrapper},fe.createElement("div",{className:ji(zp.container,"custom-scroll")},fe.createElement("div",{className:zp.header},fe.createElement(Ll,{isSimple:!0,isText:!0,onClick:r,className:zp.headerBackBlock},fe.createElement("i",{className:ji(zp.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),fe.createElement("span",null,i("Back"))),fe.createElement("span",{className:zp.headerTitle}," ")),fe.createElement(lm,{play:n,tgsUrl:xu.snitch,previewUrl:xu.snitchPreview,noLoop:!1,nonInteractive:!0,className:zp.sticker}),fe.createElement("div",{className:zp.title},i("Create Backup")),fe.createElement("div",{className:zp.info},fe.createElement("p",{className:zp.info__space},qo(i("$auth_backup_description1"))),fe.createElement("p",null,qo(i("$auth_backup_description2"))),fe.createElement("p",null,qo(i("$auth_backup_description3")))),fe.createElement("div",{className:zp.buttons},fe.createElement(Ll,{isPrimary:!0,className:ji(zp.btn,zp.btn_wide,!s&&zp.btn_single),onClick:o},i("$back_up_auth")),s&&fe.createElement(Ll,{isDestructive:!0,isText:!0,className:ji(zp.btn,zp.btn_push),onClick:a},i("Later")))))})),df=me((e=>{let{isActive:t,method:n}=e;const{startCreatingBiometrics:a,resetAuth:o,skipCreateBiometrics:r}=Ue(),i=Qi(),s="createAccount"!==n;return Il({isActive:t,onBack:o}),fe.createElement("div",{className:ji(zp.container,zp.container_scrollable,"custom-scroll")},fe.createElement(lm,{play:t,tgsUrl:xu.happy,previewUrl:xu.happyPreview,noLoop:!1,nonInteractive:!0,className:zp.sticker}),fe.createElement("div",{className:zp.title},i("Congratulations!")),fe.createElement("p",{className:zp.info},fe.createElement("b",null,i(s?"The wallet is imported":"The wallet is ready"),".")),fe.createElement("p",{className:zp.info},i("Create a password or use biometric authentication to protect it.")),fe.createElement("div",{className:zp.buttons},fe.createElement(Ll,{isPrimary:!0,className:zp.btn,onClick:a},i("Connect Biometrics")),fe.createElement(Ll,{isText:!0,className:ji(zp.btn,zp.btn_text),onClick:r},i("Use Password"))))})),uf=i.p+"settings_biometrics.507638446829e8e0d552.svg",mf=i.p+"settings_face-id.9114cd96723fdb063bc4.svg",pf=me((e=>{let{isActive:t,isLoading:n}=e;const{afterCreateNativeBiometrics:a,skipCreateNativeBiometrics:o,resetAuth:r}=Ue(),i=Qi(),s=xo(),l=Lo();return Il({isActive:t,onBack:r}),fe.createElement("div",{className:zp.container},fe.createElement(Ll,{isSimple:!0,isText:!0,onClick:r,className:zp.headerBack},fe.createElement("i",{className:ji(zp.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),fe.createElement("span",null,i("Back"))),fe.createElement("img",{src:s?mf:uf,alt:"",className:zp.biometricsIcon}),fe.createElement("div",{className:zp.biometricsTitle},i(s?"Use Face ID":l?"Use Touch ID":"Use Biometrics")),fe.createElement("div",{className:zp.biometricsSubtitle},i("You can connect your biometric data for more convenience")),fe.createElement("div",{className:zp.buttons},fe.createElement(Ll,{isPrimary:!0,className:zp.btn,isLoading:n,onClick:n?void 0:a},i(s?"Connect Face ID":l?"Connect Touch ID":"Connect Biometrics")),fe.createElement(Ll,{isText:!0,isDisabled:n,className:ji(zp.btn,zp.btn_text),onClick:o},i("Not Now"))))})),ff=/[`!@#$%^&*()_+\-=\]{};':"\\|,.<>?~]/,hf=me((function(n){let{isActive:a,isLoading:o,formId:r,onCancel:i,onSubmit:s,containerClassName:l}=n;const c=Qi(),d=t.pz||t.Ni,u=ue(null),[m,p]=re(!1),[f,h]=re(""),[g,v]=re(""),[w,y,b]=yd(!1),[E,k,N]=yd(!1),[C,S]=re(!1),[A,T]=re(!1),[I,B,_]=yd(!1),x=a&&f.length>0&&g.length>0&&!C,L=C&&!w,O=(e=>{let{firstPassword:t="",secondPassword:n="",requiredMinLength:a=8,requiredLength:o,isOnlyNumbers:r}=e;const[i,s]=re(!1),[l,c]=re(!1),[d,u]=re(!1),[m,p]=re(!1),[f,h]=re(!1),[g,v]=re(!1);return se((()=>{const e=Boolean(!o&&t.length<a||o&&t.length!==o);s(e),u(!r&&t.toLowerCase()===t),p(!r&&t.toUpperCase()===t),c(!/\d/.test(t)),v(Boolean(t&&t!==n)),h(!r&&!ff.test(t))}),[t,n,a,r,o]),{invalidLength:i,noNumber:l,noUpperCase:d,noLowerCase:m,noEqual:g,noSpecialChar:f}})({firstPassword:f,secondPassword:g,isOnlyNumbers:d,requiredLength:d?e.NEx:void 0});Lu(u,!a),$u(Boolean(a)),se((()=>{if(T(!1),""===f||!a||w)return void S(!1);const{noEqual:e,invalidLength:t}=O;I&&!m||!e||""===g?(!e||""===g||I&&!m)&&S(!1):(S(!0),T(!0)),d&&t&&!m&&S(!0)}),[a,f,g,O,I,w,m,d]);const P=Cr((e=>{h(e),m&&p(!1)})),D=Cr((e=>{v(e),m&&p(!1)})),F=Cr((e=>{if(qi(e),!x)return;if(f!==g)return p(!0),S(!0),void T(!0);const t=Object.values(O).find((e=>e));d||!t||E?(E&&N(),s(f,d)):k()}));return fe.createElement(fe.Fragment,null,fe.createElement("form",{id:r,className:ji(zp.form,l),onSubmit:F},fe.createElement("div",{className:zp.formWidgets},fe.createElement(wm,{ref:u,type:"password",isRequired:!0,id:"first-password",inputMode:d?"numeric":void 0,hasError:L,placeholder:c("Enter your password..."),value:f,autoComplete:"new-password",onInput:P,onFocus:y,onBlur:b,className:zp.input,maxLength:d?e.NEx:void 0}),fe.createElement(wm,{type:"password",isRequired:!0,id:"second-password",inputMode:d?"numeric":void 0,placeholder:c("...and repeat it"),hasError:A,value:g,autoComplete:"new-password",onInput:D,onFocus:B,onBlur:_,className:zp.input,maxLength:d?e.NEx:void 0})),function(){if(A)return fe.createElement("div",{className:ji(zp.errors,zp.error)},c("Passwords must be equal."));const{invalidLength:t,noUpperCase:n,noLowerCase:a,noNumber:o,noSpecialChar:r}=O;return d?fe.createElement("div",{className:zp.passwordRules},fe.createElement("span",{className:gf(L,t||o)},c("Password must contain %length% digits.",{length:e.NEx}))):fe.createElement("div",{className:zp.passwordRules},c("To protect your wallet as much as possible, use a password with"),fe.createElement("span",{className:gf(L,t)}," ",c("$auth_password_rule_8chars"),","),fe.createElement("span",{className:gf(L,a)}," ",c("$auth_password_rule_one_small_char"),","),fe.createElement("span",{className:gf(L,n)}," ",c("$auth_password_rule_one_capital_char"),","),fe.createElement("span",{className:gf(L,o)}," ",c("$auth_password_rule_one_digit"),","),fe.createElement("span",{className:gf(L,r)}," ",c("$auth_password_rule_one_special_char")),".")}(),fe.createElement("div",{className:bc.buttons},fe.createElement(Ll,{onClick:i,className:bc.button,isDisabled:o},c("Cancel")),fe.createElement(Ll,{isSubmit:!0,isPrimary:!0,isDisabled:A||""===f,isLoading:o,className:bc.button},c("Continue")))),fe.createElement(Sc,{isOpen:E,isCompact:!0,onClose:N,title:c("Insecure Password")},fe.createElement("p",{className:bc.text},c("Your have entered an insecure password, which can be easily guessed by scammers.")),fe.createElement("p",{className:bc.text},c("Continue or change password to something more secure?")),fe.createElement("div",{className:ji(bc.buttons,bc.buttonsNoExtraSpace)},fe.createElement(Ll,{isPrimary:!0,onClick:N,className:bc.button},c("Change")),fe.createElement(Ll,{forFormId:r,isSubmit:!0,isDestructive:!0,className:bc.button},c("Continue")))))}));function gf(e,t){return ji(zp.passwordRule,t?e?zp.invalid:void 0:zp.valid)}const vf=me((e=>{let{isActive:n,method:a,isLoading:o}=e;const{afterCreatePassword:r,resetAuth:i}=Ue(),s=Qi(),l="createAccount"!==a,c=function(e){switch(e){case"createAccount":return"auth_create_password";case"importMnemonic":return"auth_import_mnemonic_password";case"importHardwareWallet":return"auth_import_hardware_password"}}(a),d=!(t.uh||_o());Il({isActive:n,onBack:i});const u=Cr(((e,t)=>{r({password:e,isPasswordNumeric:t})}));return fe.createElement("div",{className:ji(zp.container,zp.container_scrollable,"custom-scroll")},fe.createElement(lm,{play:n,tgsUrl:xu.guard,previewUrl:xu.guardPreview,noLoop:!1,nonInteractive:!0,className:zp.sticker}),fe.createElement("div",{className:ji(zp.title,!d&&zp.titleSmallMargin)},s(d?"Congratulations!":"Create Password")),d&&fe.createElement(fe.Fragment,null,fe.createElement("p",{className:zp.info},fe.createElement("b",null,s(l?"The wallet is imported":"The wallet is ready"),".")),fe.createElement("p",{className:zp.info},s("Create a password to protect it."))),fe.createElement(hf,{isActive:n,isLoading:o,formId:c,onCancel:i,onSubmit:u}))})),wf=me((t=>{let{isActive:n,method:a}=t;const{createPin:o,resetAuth:r}=Ue(),i=Qi(),[s,c]=re(""),d="createAccount"!==a;se((()=>{n&&c("")}),[n]),Il({isActive:n,onBack:r});const u=Cr((async e=>{await(0,l.v7)(750),o({pin:e,isImporting:d})}));return fe.createElement("div",{className:ji(zp.container,zp.containerFullSize)},fe.createElement(Ll,{isSimple:!0,isText:!0,onClick:r,className:zp.headerBack},fe.createElement("i",{className:ji(zp.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),fe.createElement("span",null,i("Back"))),fe.createElement("div",{className:zp.pinPadHeader},fe.createElement(lm,{play:n,tgsUrl:xu.guard,previewUrl:xu.guardPreview,noLoop:!1,nonInteractive:!0}),fe.createElement("div",{className:zp.title},i(d?"Wallet is imported!":"Wallet is ready!"))),fe.createElement(Fm,{isActive:n,title:i("Create a code to protect it"),length:e.NEx,value:s,onChange:c,onSubmit:u}))})),yf=Mn.Z2,bf=me((e=>{let{isActive:t}=e;const n=Qi(),[a,o]=yd(),[r,i]=yd(),[s,l]=yd();_p(o,t?700:void 0),_p(i,t?700+yf:void 0),_p(l,t?700+2*yf:void 0);const c=Cd(a),d=Cd(r),u=Cd(s);return fe.createElement("div",{className:ji(zp.container,"custom-scroll")},fe.createElement(lm,{play:t,tgsUrl:xu.hello,previewUrl:xu.helloPreview,nonInteractive:!0,noLoop:!1}),fe.createElement("div",{className:zp.title},n("Creating Wallet...")),fe.createElement("div",{className:zp.counter},fe.createElement("p",{className:zp.counterTitle},n("On the count of three...")),fe.createElement("b",{className:ji(zp.counterDigit,"rounded-font",c)},"1"),fe.createElement("b",{className:ji(zp.counterDigit,"rounded-font",d)},"2"),fe.createElement("b",{className:ji(zp.counterDigit,"rounded-font",u)},"3")))})),Ef=me((function(e){let{id:t,className:n,contentClassName:a,children:o,checked:r,isDisabled:i,onChange:s}=e;const l=Cr((e=>{e.preventDefault(),s(e.currentTarget.checked)}));return fe.createElement("label",{className:ji("ydGmLQB9",n)},fe.createElement("input",{id:t,type:"checkbox",className:"aOFCdA5h",checked:r,disabled:i,tabIndex:0,onChange:i?void 0:l}),fe.createElement("div",{className:ji("ZEXtFSPZ",a)},o))})),kf=me((function(t){let{isOpen:n,onSkip:a,onClose:o}=t;const{openAuthBackupWalletModal:r}=Ue(),i=Cr((()=>{o(),r()})),s=Qi(),l=!e.p8S;return fe.createElement(Sc,{isOpen:n,onClose:o,forceBottomSheet:!0,nativeBottomSheetKey:"backup-warning",dialogClassName:zp.disclaimerBackupDialog},fe.createElement("p",{className:zp.backupNotice},qo(s("$auth_backup_warning_notice"))),fe.createElement("div",{className:zp.backupNoticeButtons},fe.createElement(Ll,{isPrimary:!0,className:ji(zp.btn,zp.btn_wide,!l&&zp.btn_single),onClick:i},s("Back Up Now")),l&&fe.createElement(Ll,{isDestructive:!0,className:ji(zp.btn,zp.btn_mini),onClick:a},s("Later"))))})),Nf=me((t=>{let{isActive:n,isImport:a}=t;const{skipCheckMnemonic:o,confirmDisclaimer:r,cancelDisclaimer:i}=Ue(),s=Qi(),[l,c,d]=yd(!1);Il({isActive:n,onBack:i});const u=Cr((e=>{e?(c(),a&&window.setTimeout(r,350)):d()}));nl("backup-warning",c);const m=Cr((()=>{u(!1)})),p=Cr((()=>{o(),m()}));return fe.createElement("div",{className:zp.wrapper},fe.createElement("div",{className:ji(zp.container,zp.container_scrollable,"custom-scroll")},fe.createElement("div",{className:zp.stickerAndTitle},fe.createElement(lm,{play:n,tgsUrl:xu.snitch,previewUrl:xu.snitchPreview,noLoop:!1,nonInteractive:!0,size:e.lWW,className:zp.sticker}),fe.createElement("div",{className:zp.title},s("Use Responsibly"))),fe.createElement("div",{className:zp.infoBlock},fe.createElement("p",{className:zp.text},qo(s("$auth_responsibly_description1",{app_name:e.C39}))),fe.createElement("p",{className:zp.text},qo(s("$auth_responsibly_description2"))),fe.createElement("p",{className:zp.text},qo(s("$auth_responsibly_description3",{app_name:e.C39}))),fe.createElement("p",{className:zp.text},qo(s("$auth_responsibly_description4")))),fe.createElement(Ef,{id:"information-confirmed",checked:l,isDisabled:a&&l,className:zp.informationCheckbox,contentClassName:zp.informationCheckboxContent,onChange:u},s("I have read and accept this information")),!a&&fe.createElement(kf,{isOpen:l,onClose:m,onSkip:p})))})),Cf=[...Array(e.xA_)].map(((e,t)=>({id:t,label:`${t+1}`}))),Sf=e.PcM,Af=me(He((e=>({error:e.auth.error,isLoading:e.auth.isLoading})))((t=>{let{isActive:a,isLoading:o,error:r}=t;const{afterImportMnemonic:i,resetAuth:l,cleanAuthError:c}=Ue(),d=Qi(),[u,m]=re({}),{isPortrait:p}=Qa(),f=Cr((t=>{var n;(e.Yyb.includes(t.length)||zo(t))&&(requestAnimationFrame((()=>{m(t)})),null!==(n=document.activeElement)&&void 0!==n&&n.id.startsWith("import-mnemonic-")&&document.activeElement.blur())})),h=Cr((e=>{var t;const n=Tf(e);if(1===n.length&&null!==(t=document.activeElement)&&void 0!==t&&t.id.startsWith("import-mnemonic-")){document.activeElement.value=n[0];const e=new Event("input");document.activeElement.dispatchEvent(e)}else f(n)}));((e,t)=>{se((()=>{if(e)return document.addEventListener("paste",n,!1),()=>{document.removeEventListener("paste",n,!1)};function n(e){if(!e.clipboardData)return;const n=e.clipboardData.getData("text").substring(0,4096);n&&(e.preventDefault(),t(n))}}),[e,t])})(Boolean(a),h);const g=ce((()=>{const t=(0,s.oE)(Object.values(u));return!e.Yyb.includes(t.length)&&!zo(t)||!!r}),[u,r]),v=Cr(((t,n)=>{c();const a=Tf(t);e.Yyb.includes(a.length)?f(a):m({...u,[n]:a[0].toLowerCase()})})),w=Cr((()=>{setTimeout((()=>{l()}),250)})),y=Cr((async()=>{if(g)return;const e=(0,s.oE)(Object.values(u));(12!==e.length||await(0,n.p)("validateMnemonic",e))&&i({mnemonic:e})}));return Il({isActive:a,onBack:w}),se((()=>g||o?void 0:Is({onEnter:{handler:y,noStopPropagation:!0}})),[y,o,g,u]),fe.createElement("div",{className:ji(zp.container,zp.container_scrollable,"custom-scroll")},fe.createElement(lm,{play:a,size:e.jzp,tgsUrl:xu.snitch,previewUrl:xu.snitchPreview,nonInteractive:!0,noLoop:!1,className:zp.sticker}),fe.createElement("div",{className:ji(zp.title,zp.title_afterSmallSticker)},d("Enter Secret Words")),fe.createElement("div",{className:ji(zp.info,zp.infoSmallFont,zp.infoPull)},qo(d(e.iAh?"$auth_import_mnemonic_description":"$auth_import_24_mnemonic_description"))),fe.createElement("div",{className:zp.importingContent},Cf.map(((t,n)=>{let{id:a,label:o}=t;return fe.createElement(Qp,{key:a,id:`import-mnemonic-${a}`,nextId:a+1<e.xA_?`import-mnemonic-${a+1}`:void 0,labelText:o,value:u[a],suggestionsPosition:If(a,p),inputArg:a,onInput:v,onEnter:n===e.xA_-1?y:void 0})}))),fe.createElement("div",{className:zp.buttons},r&&fe.createElement("div",{className:zp.footerError},d(r)),fe.createElement("div",{className:zp.buttons__inner},fe.createElement(Ll,{onClick:w,className:zp.footerButton},d("Cancel")),fe.createElement(Ll,{isPrimary:!0,isDisabled:g,isLoading:o,className:zp.footerButton,onClick:y},d("Continue")))))})));function Tf(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/(?:\r\n)+|[\r\n\s;,\t]+/g," ").trim().split(" ").map((e=>e.slice(0,Sf)))}function If(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||e>5&&e<8||e>13&&e<16||e>21?"top":void 0}const Bf=me((function(t){let{customStickerClassName:n,customButtonWrapperClassName:a,isFullSizeButton:o,isActive:r,isFirstCheckboxSelected:i,isSecondCheckboxSelected:s,isThirdCheckboxSelected:l,textFirst:c,textSecond:d,textThird:u,onFirstCheckboxClick:m,onSecondCheckboxClick:p,onThirdCheckboxClick:f,onSubmit:h}=t;const g=Qi(),v=i&&s&&l,w=Cr((()=>{v&&h()}));return fe.createElement(fe.Fragment,null,fe.createElement(lm,{tgsUrl:xu.bill,previewUrl:xu.billPreview,size:e.lWW,play:r,nonInteractive:!0,noLoop:!1,className:n||Gp}),fe.createElement(Ef,{checked:i,onChange:m},qo(c)),fe.createElement(Ef,{checked:s,onChange:p},qo(d)),fe.createElement(Ef,{checked:l,onChange:f},qo(u)),fe.createElement("div",{className:a||Xp},fe.createElement(Ll,{isPrimary:!0,isDisabled:!v,className:o?Jp:void 0,onClick:w},g("Understood"))))})),_f=me((e=>{let{isActive:t}=e;const{openCreateBackUpPage:n,openMnemonicPage:a}=Ue(),[o,r]=re(!1),[i,s]=re(!1),[l,c]=re(!1);Il({isActive:t,onBack:n});const d=Qi();return fe.createElement("div",{className:zp.wrapper},fe.createElement("div",{className:ji(zp.container,"custom-scroll")},fe.createElement("div",{className:zp.header},fe.createElement(Ll,{isSimple:!0,isText:!0,onClick:n,className:zp.headerBackBlock},fe.createElement("i",{className:ji(zp.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),fe.createElement("span",null,d("Back"))),fe.createElement("span",{className:zp.headerTitle},d("Safety Rules"))),fe.createElement(Bf,{isActive:t,isFullSizeButton:!0,textFirst:d("$safety_rules_one"),textSecond:d("$safety_rules_two"),textThird:d("$safety_rules_three"),isFirstCheckboxSelected:o,onFirstCheckboxClick:r,isSecondCheckboxSelected:i,onSecondCheckboxClick:s,isThirdCheckboxSelected:l,onThirdCheckboxClick:c,onSubmit:a})))})),xf=me((function(e){let{mnemonic:t}=e;const n=Qi();return fe.createElement(fe.Fragment,null,fe.createElement("p",{className:ji(Zp,tf)},qo(n("$mnemonic_list_description"))),fe.createElement("p",{className:ji(ef)},qo(n("$mnemonic_warning"))),fe.createElement("ol",{className:"Yaqcau6G"},null==t?void 0:t.map(((e,t)=>fe.createElement("li",{key:t,className:"qdW2OhFc"},e)))))})),Lf=me((function(t){let{isActive:n,mnemonic:a,onSubmit:o,buttonText:r}=t;return fe.createElement(fe.Fragment,null,fe.createElement(lm,{tgsUrl:xu.bill,previewUrl:xu.billPreview,size:e.lWW,play:n,nonInteractive:!0,noLoop:!1,className:Gp}),fe.createElement(xf,{mnemonic:a}),fe.createElement("div",{className:Xp},fe.createElement(Ll,{isPrimary:!0,onClick:o,className:Jp},r)))})),Of=me((e=>{let{isActive:t,mnemonic:n}=e;const{openAuthBackupWalletModal:a,openCheckWordsPage:o}=Ue(),r=Qi();Il({isActive:t,onBack:a});const i=(null==n?void 0:n.length)||0;return fe.createElement("div",{className:zp.wrapper},fe.createElement("div",{className:ji(zp.container,zp.containerAlignTop,"custom-scroll")},fe.createElement("div",{className:zp.header},fe.createElement(Ll,{isSimple:!0,isText:!0,onClick:a,className:zp.headerBackBlock},fe.createElement("i",{className:ji(zp.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),fe.createElement("span",null,r("Back"))),fe.createElement("span",{className:zp.headerTitle},r("%1$d Secret Words",i))),fe.createElement(Lf,{isActive:t,mnemonic:n,onSubmit:o,buttonText:r("Let's Check")})))})),Pf=me(He((e=>({hasAccounts:Boolean(e.currentAccountId),isLoading:e.auth.isLoading,theme:e.settings.theme})))((function(n){let{isActive:a,hasAccounts:o,isLoading:r,theme:i}=n;const{startCreatingWallet:s,startImportingWallet:l,openAbout:c,openHardwareWalletModal:d,resetAuth:u}=Ue(),m=Qi(),p="light"===wd(i)?Jm:Xm,[f,h]=yd(),{transitionClassNames:g}=Gi(f,void 0,void 0,"slow");return fe.createElement("div",{className:ji(zp.container,"custom-scroll")},o&&fe.createElement(Ll,{isSimple:!0,isText:!0,onClick:u,className:zp.headerBack},fe.createElement("i",{className:ji(zp.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),fe.createElement("span",null,m("Back"))),e.TI6?fe.createElement(lm,{play:a,tgsUrl:xu.coreWalletLogo,previewUrl:xu.coreWalletLogoPreview,noLoop:!1,nonInteractive:!0}):fe.createElement("img",{src:p,alt:e.C39,className:ji(zp.logo,g),onLoad:h}),fe.createElement("div",{className:ji(zp.appName,"rounded-font")},e.C39),fe.createElement("div",{className:zp.info},qo(m("$auth_intro"))),!e.TI6&&fe.createElement(Ll,{isText:!0,className:ji(zp.btn,zp.btn_about),onClick:c},m("More about %app_name%",{app_name:e.C39}),fe.createElement("i",{className:"icon-chevron-right","aria-hidden":!0})),fe.createElement("div",{className:zp.importButtonsBlock},fe.createElement(Ll,{isPrimary:!0,className:zp.btn,isLoading:r,onClick:r?void 0:s},m("Create Wallet")),fe.createElement("span",{className:zp.importText},m("or import from")),fe.createElement("div",{className:zp.importButtons},fe.createElement(Ll,{className:ji(zp.btn,!t.sC&&zp.btn_single),onClick:r?void 0:l},m("Secret Words")),t.sC&&fe.createElement(Ll,{className:ji(zp.btn,zp.btn_mini),onClick:r?void 0:d},m("Ledger")))))}))),Df=Object.keys(Ut).length/2,Ff=me(He((e=>({...(0,s.Up)(e.auth,["state","biometricsStep","error","mnemonic","mnemonicCheckIndexes","isLoading","method","isBackupModalOpen"]),theme:e.settings.theme})))((e=>{var n;let{state:a,biometricsStep:o,error:r,isLoading:i,mnemonic:s,mnemonicCheckIndexes:l,method:c,theme:d}=e;const{closeAbout:u}=Ue(),{isPortrait:m}=Qa(),p=null!==(n=Dp(a===Ut.ready?void 0:a,!0))&&void 0!==n?n:-1,[f,h]=re(void 0),[g,v]=re(p+1),w=Cr((()=>{v(p+1),h(p===Ut.confirmPin?Ut.createPin:void 0)}));function y(e,t,n){switch(n){case Ut.none:return fe.createElement(Pf,{isActive:e});case Ut.createWallet:return fe.createElement(bf,{isActive:e});case Ut.checkPassword:return fe.createElement(jp,{isActive:e,isLoading:i,method:"createAccount",error:r});case Ut.createPin:return fe.createElement(wf,{isActive:e,method:"createAccount"});case Ut.confirmPin:return fe.createElement(lf,{isActive:e,method:"createAccount"});case Ut.createBiometrics:return fe.createElement(df,{isActive:e,method:"createAccount"});case Ut.confirmBiometrics:return fe.createElement(sf,{isActive:e,isLoading:i,error:r,biometricsStep:o});case Ut.createNativeBiometrics:return fe.createElement(pf,{isActive:e,isLoading:i});case Ut.createPassword:return fe.createElement(vf,{isActive:e,isLoading:i,method:"createAccount"});case Ut.createBackup:return fe.createElement(cf,{isActive:e});case Ut.disclaimerAndBackup:return fe.createElement(Nf,{key:"create",isActive:e});case Ut.importWallet:return fe.createElement(Af,{isActive:e});case Ut.importWalletCreatePin:return fe.createElement(wf,{isActive:e,method:"importMnemonic"});case Ut.importWalletConfirmPin:return fe.createElement(lf,{isActive:e,method:"importMnemonic"});case Ut.importWalletCheckPassword:return fe.createElement(jp,{isActive:e,isLoading:i,method:"importMnemonic",error:r});case Ut.disclaimer:return fe.createElement(Nf,{key:"import",isActive:e,isImport:!0});case Ut.importWalletCreateNativeBiometrics:return fe.createElement(pf,{isActive:e,isLoading:i});case Ut.importWalletCreatePassword:return fe.createElement(vf,{isActive:e,isLoading:i,method:c});case Ut.importWalletCreateBiometrics:return fe.createElement(df,{isActive:e,method:c});case Ut.importWalletConfirmBiometrics:return fe.createElement(sf,{isActive:e,isLoading:i,error:r,biometricsStep:o});case Ut.about:return fe.createElement(Vp,{isActive:e,handleBackClick:u,theme:d});case Ut.safetyRules:return fe.createElement(_f,{isActive:e});case Ut.mnemonicPage:return fe.createElement(Of,{isActive:e,mnemonic:s});case Ut.checkWords:return fe.createElement(of,{isActive:e,mnemonic:s,checkIndexes:l})}}return fe.createElement(Km,{name:m?t.Ni?"slideFade":"slideLayers":"semiFade",activeKey:p,renderCount:Df,shouldCleanup:!0,className:zp.transitionContainer,slideClassName:zp.transitionSlide,prevKey:f,nextKey:g,onStop:w,shouldWrap:!0},y)})));function Rf(){return t.Ni?"slideFadeAndroid":t.pz?"slideLayers":"slideFade"}function Mf(e,t){var n;const a=null!==(n=Dp(t?e:void 0,!0))&&void 0!==n?n:-1,[o,r]=re(),i=Cr((()=>{r(t?a+1:void 0)}));return se((()=>{t&&setTimeout(i,300)}),[t,i]),{renderingKey:a,nextKey:o,updateNextKey:i}}function Uf(e){const{mtwCardType:t,mtwCardTextType:n,mtwCardBorderShineType:a}=(null==e?void 0:e.metadata)||{},o=!!t&&"standard"!==t,r="standard"!==t?void 0:"dark"===n?"MtwCard__darkText":"MtwCard__lightText";return{backgroundImageUrl:e?rp(e):void 0,withTextGradient:o,classNames:ji(t&&`MtwCard__${t}`,r),borderShineType:a}}const Wf="MelIpdSX",Hf="R6UTDxww",$f="aB938ron",Vf=function(e){let{isActive:t,accountId:n,addressByChain:a,isHardware:o,title:r,cardBackgroundNft:i,canEditAccount:s,onClick:l,onEdit:c}=e;const d=Qi(),u=Object.keys(a).length>1?d("Multichain"):Wr(a.ton,o?3:4,4),{backgroundImageUrl:m,withTextGradient:p,classNames:f}=Uf(i),h=ji("nW3c_nQf",t&&"ApT2_0sQ",m&&"q9ZqciDr",f);return fe.createElement("div",{className:h,"aria-label":d("Switch Account"),onClick:t?void 0:()=>l(n),style:Vu(m&&`--bg: url(${m})`)},r&&fe.createElement("span",{className:ji("vSsIdneH",p&&"gradientText")},r),fe.createElement("div",{className:ji("HvcgH37L",p&&"gradientText")},o&&fe.createElement("i",{className:"icon-ledger","aria-hidden":!0}),fe.createElement("span",null,u)),t&&s&&fe.createElement("div",{className:"k40niuQ5",onClick:e=>{qi(e),c()}},fe.createElement("i",{className:"icon-pen","aria-hidden":!0})))},zf={accounts:"DP7r4ob0",accounts_two:"aMoUTjsw",accountsTwo:"aMoUTjsw",account:"feJs1qiP",account_current:"LGBe77Zo",accountCurrent:"LGBe77Zo",account_disabled:"QT4AQhSL",accountDisabled:"QT4AQhSL",account_inactive:"JLVV6MK1",accountInactive:"JLVV6MK1",accounts_single:"xq8sJcx0",accountsSingle:"xq8sJcx0",accountName:"xRepCoTw",button_current:"CMlJY5eP",buttonCurrent:"CMlJY5eP",accountFooter:"aSHneDhG",iconLedger:"fQt3UNlM",accountAddress:"U1ocd7xK",accountCheckMark:"WoJjd6rF",accountCheckMark_active:"Xs5JWZXM",accountCheckMarkActive:"Xs5JWZXM"},jf=me((function(e){let{accountId:t,address:n,title:a,isHardware:o,ariaLabel:r,isActive:i,isLoading:s,className:l,withCheckbox:c,cardBackgroundNft:d,onClick:u}=e;const{backgroundImageUrl:m,withTextGradient:p,classNames:f}=Uf(d),h=ji(l,zf.account,m&&zf.customCard,f,i&&!c&&zf.account_current,s&&zf.account_disabled);return fe.createElement("div",{key:t,className:h,onClick:u,style:Vu(m&&`--bg: url(${m})`),"aria-label":r},a&&fe.createElement("span",{className:ji(zf.accountName,p&&"gradientText")},a),fe.createElement("div",{className:ji(zf.accountFooter,p&&"gradientText")},o&&fe.createElement("i",{className:ji("icon-ledger",o&&zf.iconLedger),"aria-hidden":!0}),fe.createElement("span",{className:zf.accountAddress},Wr(n,o?3:4,4))),c&&fe.createElement("div",{className:ji(zf.accountCheckMark,i&&zf.accountCheckMark_active)}))})),qf=me((function(e){let{accountLength:t,labelText:n,children:a,className:o}=e;const r=ji(o,zf.accounts,"custom-scroll",1===t&&zf.accounts_single,2===t&&zf.accounts_two);return fe.createElement(fe.Fragment,null,n&&fe.createElement("p",{className:zf.label},n),fe.createElement("div",{className:r},a))})),Kf={modalDialog:"zdmLsynF",modalDialogInsideSettings:"kYjygKEY",slide:"a2oy8Zll",container:"eM1PpsST",containerStatic:"jHYtCW5T",content:"_3mWK1CH",iconBlockSlide:"WEcWgMzV",iconBlockSlideStatic:"VCK1YGjr",iconBlock:"KE3Egymz",mobile:"kpjonisY",ledgerIcon:"iuLLqpxI",textBlock:"bn1fb2en",textBlock_gap:"bBaOfZlx",textBlockGap:"bBaOfZlx",textBlock_success:"j8GYzR5R",textBlockSuccess:"j8GYzR5R",textBlock_small:"Rt2IdHAB",textBlockSmall:"Rt2IdHAB",textIcon:"SOw0Xtct",text:"GuAw_sFJ",text_failed:"XPczA9Ds",textFailed:"XPczA9Ds",text_connected:"YyHAVq6P",textConnected:"YyHAVq6P",text_success:"tTgIgIgG",textSuccess:"tTgIgIgG",actionBlock:"hiaAxVr_",actionBlock_single:"ApwM97qB",actionBlockSingle:"ApwM97qB",button:"LZNOcG4M",button_single:"Hm4XX1NN",buttonSingle:"Hm4XX1NN",accounts:"qG6SFrZs",accounts_two:"o_4z0gP4",accountsTwo:"o_4z0gP4",account:"_Vsrbub9",account_current:"uo8yhRNU",accountCurrent:"uo8yhRNU",addAccountContainer:"E5i9UUtD",addAccountIcon:"j5VZHMly",accountName:"V6_KYxce",accountFooter:"LXgNcuuY",accountCurrencyIcon:"g_b7EuV5",accountAddress:"pL4iTSDM",accountCheckMark:"mpVXcyoe",accountCheckMark_active:"lVx2a3if",accountCheckMarkActive:"lVx2a3if",sticker:"MfAU5ZEs",declinedLabel:"aWyFXa02",declinedLabelDetailed:"q1lhwUmL",dropdownBlock:"_2MGoq5H"};var Yf=function(e){return e[e.Waiting=0]="Waiting",e[e.Error=1]="Error",e}(Yf||{});const Qf=me((function(t){let{isActive:n,text:a,error:o,onClose:r,onTryAgain:i}=t;const s=Qi(),[l,c]=re(Yf.Waiting),[d,u]=re(Yf.Error);function m(t,n,l){switch(l){case Yf.Waiting:return function(t){return fe.createElement(fe.Fragment,null,fe.createElement(Hp,{title:s("Confirm via Ledger"),onClose:r}),fe.createElement("div",{className:Kf.container},fe.createElement(lm,{size:e.igk,play:t,noLoop:!1,nonInteractive:!0,className:Kf.sticker,tgsUrl:xu.holdTon,previewUrl:xu.holdTonPreview}),fe.createElement("div",{className:ji(Kf.textBlock,Kf.textBlock_small)},fe.createElement("span",{className:Kf.text},a)),fe.createElement("div",{className:ji(Kf.actionBlock,Kf.actionBlock_single)},fe.createElement(Ll,{onClick:r,className:ji(Kf.button,Kf.button_single)},s("Cancel")))))}(t);case Yf.Error:return function(t){const n=o&&["$hardware_blind_sign_not_enabled","$hardware_blind_sign_not_enabled_internal"].includes(o);return fe.createElement(fe.Fragment,null,fe.createElement(Hp,{title:s("Confirm via Ledger"),onClose:r}),fe.createElement("div",{className:Kf.container},fe.createElement(lm,{size:e.igk,play:t,noLoop:!1,nonInteractive:!0,className:Kf.sticker,tgsUrl:xu.holdTon,previewUrl:xu.holdTonPreview}),fe.createElement("div",{className:ji(Kf.declinedLabel,n&&Kf.declinedLabelDetailed)},qo(s(o))),fe.createElement("div",{className:Kf.actionBlock},fe.createElement(Ll,{onClick:r,className:Kf.button},s("Cancel")),fe.createElement(Ll,{isPrimary:!0,onClick:i,className:Kf.button},s("Try Again")))))}(t)}}return Il({isActive:n,onBack:r}),se((()=>{o?(c(Yf.Error),u(Yf.Waiting)):(c(Yf.Waiting),u(Yf.Error))}),[o]),fe.createElement(Km,{name:Rf(),className:ji(bc.transition,"custom-scroll"),slideClassName:ji(bc.transitionSlide,Kf.slide),activeKey:l,nextKey:d},m)}));function Gf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;const[n,a]=re(e);return se((()=>{if(e===n)return;const o=window.setTimeout((()=>{a(e)}),t);return()=>{window.clearTimeout(o)}}),[e,t,n]),n}function Xf(e){return Is({onEsc:()=>{e()}})}const Jf={wrapper:"VydD7Rve",inPortal:"vcuzKHhA",bubble:"mY0hTIiL",top:"FsyRNnQH",bottom:"tkKrx8OR",left:"MvEERemq",right:"y6xJQNRF",backdrop:"gc2eH8vQ",menu:"gtd29jbF",suggestion:"BYQgxGEv",dropdown:"IxGdkmhI"},Zf=200,eh=e=>{let{children:t,isOpen:n,id:a,menuRef:o,className:r,bubbleClassName:i,style:s,positionX:l="left",positionY:c="top",transformOriginX:d,transformOriginY:u,type:m="menu",autoClose:p=!1,shouldSkipTransition:f,noBackdrop:h=!1,withPortal:g,noCloseOnBackdrop:v=!1,shouldCleanup:w,onCloseAnimationEnd:y,onClose:b,onMouseEnter:E,onMouseLeave:k}=e,N=ue(null);o&&(N=o),Il({isActive:Boolean(n&&b),onBack:b,shouldBeReplaced:!0});const{shouldRender:C,transitionClassNames:S}=Gi(n,y,f,void 0,f);se((()=>n&&b?Xf(b):void 0),[n,b]),Qs((e=>{let[t]=e;(n||!n&&!0===t)&&B(Zf)}),[n]),function(e,t,n){se((()=>{const a=e=>{const a=t.current,o=e.target;a&&o&&(a.contains(e.target)&&!o.classList.contains(Jf.backdrop)||(e.preventDefault(),e.stopPropagation(),n&&n()))};return e&&n&&document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}}),[e,t,n])}(n&&!h,N,v?void 0:b);const A=ji(Jf.bubble,i,"menu-bubble",Jf[c],Jf[l],Jf[m],S),T=void 0!==u?`${u}px`:void 0,I=void 0!==d?`${d}px`:void 0;if(w&&!C)return;const _=fe.createElement("div",{id:a,className:ji(Jf.wrapper,r,g&&Jf.inPortal),style:s,onMouseEnter:E,onMouseLeave:n?k:void 0},n&&!h&&fe.createElement("div",{className:Jf.backdrop,onClick:qi}),fe.createElement("div",{ref:N,className:A,style:`transform-origin: ${I||l} ${T||c}`,onClick:p?b:void 0},t));return g?fe.createElement(yc,null,_):_},th={button:"zVKWQb4E",item:"p6wqAx5G",wide:"r6y8uqO8",interactive:"Q9ntFVQX",label:"D1GD_LrJ",light:"soVchDDr",disabled:"pvIBCUiV",dangerous:"pGdKfZ0g",separator:"KUw9xH1F",buttonIcon:"N6o0srlb",item_selected:"RsC78CT6",itemSelected:"RsC78CT6",item_with_icon:"U_181tTH",itemWithIcon:"U_181tTH",itemIcon:"Y6vHSLLj",itemOverlayIcon:"Kyq0Mbfk",insideButton:"rpgBhur3",fontIcon:"YG4KjBia",itemName:"Mj3kpKk7",itemDescription:"SGTt7OqT",dropdownButtonWrapper:"M88J3eDx",spinner:"O6oZGmyS"},nh=me((function(e){let{isOpen:t,selectedValue:n,items:a,withPortal:o,anchorPosition:r,menuPosition:i,menuPositionHorizontal:s,menuStyle:l,transformOriginX:c,transformOriginY:d,shouldTranslateOptions:u,className:m,bubbleClassName:p,buttonClassName:f,iconClassName:h,fontIconClassName:g,shouldCleanup:v,onSelect:w,onClose:y}=e;const b=Qi(),E=ue(null),[k,N]=re(null==r?void 0:r.x);se((()=>{if(t&&E.current&&r){const e=E.current.offsetWidth,t=Kn().width;let n=null==r?void 0:r.x;n=Math.min(n,t-e-6),n=Math.max(n,6),N(n)}}),[r,t]),r&&(l=`${l||""};left: ${k}px; top: ${r.y}px;`);const C=Gf(l);return fe.createElement(eh,{menuRef:E,isOpen:t,type:"dropdown",style:l||C,withPortal:o,positionX:s,positionY:i,transformOriginX:c,transformOriginY:d,className:m,bubbleClassName:p,shouldCleanup:v,onClose:y},a.map(((e,t)=>{const a=ji(th.item,e.icon&&th.item_with_icon,e.isDisabled&&th.disabled,e.isDangerous&&th.dangerous,e.withSeparator&&t>0&&th.separator,n===e.value&&th.item_selected,f,"capture-scroll");return fe.createElement("button",{key:e.value,type:"button",className:a,disabled:e.isDisabled,onClick:t=>((e,t)=>{e.stopPropagation(),null==w||w(t),y()})(t,e.value)},e.icon&&fe.createElement("img",{src:e.icon,alt:"",className:ji("icon",th.itemIcon,h)}),e.overlayIcon&&fe.createElement("img",{src:e.overlayIcon,alt:"",className:ji("icon",th.itemOverlayIcon)}),e.fontIcon&&fe.createElement("i",{className:ji(`icon icon-${e.fontIcon}`,th.fontIcon,g),"aria-hidden":!0}),fe.createElement("span",{className:ji(th.itemName,"menuItemName")},u?b(e.name):e.name,e.description&&fe.createElement("span",{className:th.itemDescription},u?b(e.description):e.description)))})))})),ah={spinner:"o7Soo94L",inner:"fnzgQDjn",spin:"dPrfSpVS",white:"ZwvOHvLC"},oh=me((function(e){let{color:t,className:n}=e;const a=Qi(),o=ji(ah.spinner,t&&ah[t],n);return fe.createElement("div",{className:o,"aria-label":a("Loading...")},fe.createElement("i",{className:ji(ah.inner,"icon-spinner"),"aria-hidden":!0}))})),rh="caret",ih="right",sh=me((function(e){let{label:t,items:n,selectedValue:a,className:o,itemClassName:r,menuClassName:i,theme:s,arrow:l=rh,menuPosition:c,menuPositionHorizontal:d=ih,disabled:u,shouldTranslateOptions:m,onChange:p,isLoading:f=!1}=e;const h=Qi(),[g,v,w]=yd(),[y,b]=ce((()=>{var e,t;const o=n.find((e=>void 0!==a&&e.value===a));return[o,null!==(e=null!==(t=null==o?void 0:o.selectedName)&&void 0!==t?t:null==o?void 0:o.name)&&void 0!==e?e:""]}),[n,a]),E=Cr((e=>{e!==a&&(null==p||p(e))}));if(!n.length)return;const k=ji(th.buttonIcon,"chevron"===l?"icon-chevron-down":"icon-caret-down"),N=n.length>1,C=Boolean(t),S=ji(o,s&&th[s],N&&th.interactive,C&&th.wide,C&&u&&th.disabled),A=ji(th.button,N&&th.interactive,!C&&u&&th.disabled,N&&i,r);return fe.createElement("div",{className:S,onClick:C&&!u&&N?v:void 0},t&&fe.createElement("span",{className:th.label},t),f?fe.createElement(oh,{className:th.spinner}):fe.createElement("button",{type:"button",className:A,onClick:!C&&N?v:void 0,disabled:u},(null==y?void 0:y.icon)&&fe.createElement("img",{src:y.icon,alt:"",className:th.itemIcon}),(null==y?void 0:y.overlayIcon)&&fe.createElement("img",{src:null==y?void 0:y.overlayIcon,alt:"",className:ji("icon",th.itemOverlayIcon,th.insideButton)}),(null==y?void 0:y.fontIcon)&&fe.createElement("i",{className:ji(`icon-${y.fontIcon}`,th.fontIcon),"aria-hidden":!0}),fe.createElement("span",{className:ji(th.itemName,"itemName",r)},m?h(b):b),N&&fe.createElement("i",{className:k,"aria-hidden":!0})),N&&fe.createElement(nh,{isOpen:g&&!f,menuPositionHorizontal:d,menuPosition:c,items:n,shouldTranslateOptions:m,selectedValue:a,buttonClassName:r,onSelect:E,onClose:w}))})),lh=i.p+"desktop.5b697d2d91cbfdc91f29.png",ch=i.p+"desktop-dark.aacce131e03bae83c744.png",dh=i.p+"ios.e1b9f617ea2e6eb6f0e8.png",uh=i.p+"ios-dark.e8e57959fdefeffa2288.png",mh=i.p+"mobile-bluetooth.53b8a215974d8c6346e4.png",ph=i.p+"mobile-bluetooth-dark.495775c53865fef46070.png",fh=i.p+"mobile-usb.165003c19b688130909d.png",hh=i.p+"mobile-usb-dark.273f665b4cc76537f15b.png",gh={usb:"USB",bluetooth:"Bluetooth"},vh=me(He((e=>{const{availableTransports:t,lastUsedTransport:n}=e.hardware;return{availableTransports:t,lastUsedTransport:n,currentTheme:e.settings.theme}}))((function(n){let{isActive:a,isStatic:o,state:r,isLedgerConnected:i,isTonAppConnected:s,isRemoteTab:l,shouldDelegateToNative:c,availableTransports:d,lastUsedTransport:u,currentTheme:m,className:p,onConnected:f,onBackButtonClick:h,onCancel:g,onClose:v}=n;const{connectHardwareWallet:w,resetHardwareWalletConnect:y,initializeHardwareWalletModal:b,initializeHardwareWalletConnection:E}=Ue(),k=Qi(),{isPortrait:N}=Qa(),[C,S]=re(u),A=wd(m),T=!1===i,I=!1===s,B=r===Kt.ConnectedWithSingleWallet||r===Kt.ConnectedWithSeveralWallets,_=r===Kt.Connecting||r===Kt.Connect&&!T&&!I&&1===(null==d?void 0:d.length),x=r===Kt.WaitingForBrowser,L=k(B?"Ledger Connected!":"Connect Ledger"),O=!g,P=ce((()=>(d||[]).map((e=>({value:e,name:gh[e]})))),[d]),{shouldRender:D,transitionClassNames:F}=Gi(Boolean(P.length>0&&C));Il({isActive:a,onBack:null!=g?g:v}),$u(a),se((()=>{C||(null!=d&&d.length?S(null==d?void 0:d[0]):t.ZH&&S("bluetooth"))}),[d,C]),se((()=>{l||!a||t.KI&&!c||b({shouldDelegateToNative:t.KI&&c})}),[a,l,c]);const R=Cr((e=>{l||t.KI&&!c||setTimeout((()=>{f(e),setTimeout((()=>{y()}),500)}),500)}));se((()=>{r!==Kt.ConnectedWithSingleWallet&&r!==Kt.ConnectedWithSeveralWallets||R(r===Kt.ConnectedWithSingleWallet)}),[r,R]);const M=Cr((()=>{const e=O?v:g;!async function(){hd&&await chrome.tabs.query({active:!0},(()=>{hd&&chrome.tabs.remove(hd)}))}(),e()})),U=Cr((()=>{P.length>1?E({transport:C,shouldDelegateToNative:c}):w({transport:null==d?void 0:d[0]})}));function W(){const n="dark"===A,a={desktop:n?ch:lh,mobileUsb:n?hh:fh,ios:n?uh:dh,mobileBluetooth:n?ph:mh};return e.UMQ?t.pz?a.ios:"bluetooth"===C?a.mobileBluetooth:a.mobileUsb:t.Ni?a.mobileUsb:a.desktop}function H(){return x?fe.createElement(fe.Fragment,null,o?fe.createElement("div",{className:$p.header},fe.createElement(Ll,{isSimple:!0,isText:!0,onClick:M,className:$p.headerBack},fe.createElement("i",{className:ji($p.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),fe.createElement("span",null,k("Back"))),fe.createElement("span",{className:$p.headerTitle},L)):fe.createElement(Hp,{title:L,onBackButtonClick:h,onClose:h?void 0:M}),fe.createElement("div",{className:Kf.container},fe.createElement(Km,{activeKey:e.UMQ?"bluetooth"!==C?1:2:0,name:"semiFade",className:ji(Kf.iconBlock,N&&Kf.mobile),slideClassName:Kf.iconBlockSlide},fe.createElement(Sd,{url:W(),imageClassName:Kf.ledgerIcon})),fe.createElement("div",{className:ji(Kf.textBlock,Kf.textBlock_gap)},fe.createElement("span",{className:Kf.text},fe.createElement("i",{className:ji(Kf.textIcon,"icon-dot"),"aria-hidden":!0}),k("Switch to the newly opened tab to connect Ledger.")),fe.createElement("span",{className:Kf.text},fe.createElement("i",{className:ji(Kf.textIcon,"icon-dot"),"aria-hidden":!0}),k("Once connected, switch back to this window to proceed."))),fe.createElement("div",{className:ji(Kf.actionBlock,Kf.actionBlock_single)},fe.createElement(Ll,{className:ji(Kf.button,Kf.button_single),onClick:M},k(O?"Cancel":"Back"))))):fe.createElement(fe.Fragment,null,o?fe.createElement("div",{className:$p.header},fe.createElement(Ll,{isSimple:!0,isText:!0,onClick:v,className:$p.headerBack},fe.createElement("i",{className:ji($p.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),fe.createElement("span",null,k("Back"))),fe.createElement("span",{className:$p.headerTitle},L)):fe.createElement(Hp,{title:L,onBackButtonClick:h,onClose:h?void 0:v}),fe.createElement("div",{className:ji(Kf.container,o&&Kf.containerStatic,o&&"static-container")},fe.createElement(Km,{activeKey:e.UMQ?"bluetooth"!==C?1:2:0,name:"semiFade",className:ji(Kf.iconBlock,N&&Kf.mobile),slideClassName:o?Kf.iconBlockSlideStatic:Kf.iconBlockSlide},fe.createElement(Sd,{url:W(),imageClassName:Kf.ledgerIcon})),fe.createElement("div",{className:ji(Kf.textBlock,B&&Kf.textBlock_success)},fe.createElement("span",{className:ji(Kf.text,T&&Kf.text_failed,i&&Kf.text_connected,B&&Kf.text_success)},fe.createElement("i",{className:ji(Kf.textIcon,i?"icon-accept":"icon-dot"),"aria-hidden":!0}),k("Connect your Ledger")),fe.createElement("span",{className:ji(Kf.text,I&&Kf.text_failed,s&&Kf.text_connected,B&&Kf.text_success)},fe.createElement("i",{className:ji(Kf.textIcon,s?"icon-accept":"icon-dot"),"aria-hidden":!0}),k("Unlock it and open the TON App"))),D&&fe.createElement("div",{className:ji(Kf.dropdownBlock,F)},fe.createElement(sh,{label:k("Connection Type"),items:P,selectedValue:C,theme:"light",arrow:"chevron",disabled:_,className:ji(Kf.item,Kf.item_small),onChange:S})),function(){const e=r===Kt.Failed;return l&&B?fe.createElement("div",{className:ji(Kf.actionBlock,B&&Kf.actionBlock_single)},fe.createElement(Ll,{isDisabled:_,className:ji(Kf.button,B&&Kf.button_single),onClick:v},k("Continue"))):fe.createElement("div",{className:Kf.actionBlock},fe.createElement(Ll,{className:Kf.button,onClick:O?v:g},k(O?"Cancel":"Back")),fe.createElement(Ll,{isPrimary:!0,isLoading:_,isDisabled:_||B,className:Kf.button,onClick:U},k(e?"Try Again":"Continue")))}()))}return fe.createElement(Km,{name:Rf(),className:ji(bc.transition,"custom-scroll",p),slideClassName:bc.transitionSlide,activeKey:x?1:0},H)}))),wh={modalDialog:"rtKXhN4A",modalDialogExtraHeight:"ow4XXlQr",dapp:"naRjGTN0",dapp_first:"LUz47fCn",dappFirst:"LUz47fCn",dapp_push:"AxygZABC",dappPush:"AxygZABC",dappIcon:"Utxlqsar",dappLogo:"dqbsWkDq",dappLogo_icon:"RGl7OFHd",dappLogoIcon:"RGl7OFHd",transactionAccount:"ut5A6NM6",dappInfo:"cL2nTyJm",dappName:"IZ831cu4",dappUrl:"Xz5xXLpO",dappDisconnect:"Dpv9gVfh",label:"ooIjdCk3",description:"d20jMAO6",footer:"lvIWoC_b",buttons:"XvGbWtVh",button:"TBS2qSdm",dataField:"URk9skQT",receivingAddress:"NfKwqXNd",payloadField:"IpEvYlyO",payloadField_expanded:"mtQbMtDU",payloadFieldExpanded:"mtQbMtDU",payloadFieldExpand:"l7ty8x8l",payloadFieldTerm:"iNOlk2G5",transactionList:"TddQIzLn",transactionRow:"qfq9TmLL",transactionRowAmount:"rqZIiXwE",currencySymbol:"WdW2dRfZ",transactionRowAddress:"p87NWFTH",transactionRowChevron:"gKLbD42t",scam:"Kgein0KH",scamImage:"gw394drP",transactionDirection:"by1Uv_HG",accountTitle:"nBWVm1mf",accountBalance:"_ogqtbzH",transactionDapp:"Uyz5mVM_",sticker:"noPlTaoE",sticker_sizeSmall:"E9iT0WHT",stickerSizeSmall:"E9iT0WHT",descriptionContent:"LiakNgEl",dappInfoSkeleton:"wOmNbpWs",accountWrapperSkeleton:"cWnAUfkt",dappInfoIconSkeleton:"e3oGDhNq",shimmer:"IwL4cJVX",transactionDappIconSkeleton:"Q9_OlVcf",dappInfoTextSkeleton:"cAdLb2FM",nameSkeleton:"tO1IUhnj",descSkeleton:"u2wkCYw7",nameDappSkeleton:"z0IluCrP",descDappSkeleton:"JYgy9un6",transactionDirectionLeftSkeleton:"YHLHftpe",transactionDirectionRightSkeleton:"VzwVb3o_",dappInfoDataSkeleton:"L8RwZKiN",rowContainerSkeleton:"XcidIimi",rowContainerLargeSkeleton:"Lh4_AmEs",rowSkeleton:"IVSbVRoG",rowLargeSkeleton:"qNqaxuw6",rowTextSkeleton:"iLWJ6ABT",rowTextLargeSkeleton:"q_gxYI6j",skeletonTransitionWrapper:"US9q0wug",warningForPayload:"fHoMTSia",fee:"nBxdGGBZ",buttonsAfterFee:"LNrikojg",detailsModalContent:"O32mclho",detailsModalExplanation:"tFBBFIVM"},yh=me((function(e){let{iconUrl:t,name:n,url:a,origin:o,onDisconnect:r,className:i}=e;const s=Qi(),l=Boolean(r&&o),c=Cr((()=>{r(o)}));return fe.createElement("div",{className:ji(wh.dapp,i)},t?fe.createElement("img",{src:t,alt:s("Logo"),className:wh.dappLogo}):fe.createElement("div",{className:ji(wh.dappLogo,wh.dappLogo_icon)},fe.createElement("i",{className:ji(wh.dappIcon,"icon-laptop"),"aria-hidden":!0})),fe.createElement("div",{className:wh.dappInfo},fe.createElement("span",{className:wh.dappName},n),fe.createElement("span",{className:wh.dappUrl},a&&new URL(a).host)),l&&fe.createElement(Ll,{isSmall:!0,isPrimary:!0,className:wh.dappDisconnect,onClick:c},s("Disconnect")))})),bh=me((function(t){let{isActive:n,error:a,onSubmit:o,onCancel:r,onClose:i}=t;const{clearDappConnectRequestError:s}=Ue(),l=Qi();return Il({isActive:n,onBack:r}),fe.createElement(fe.Fragment,null,!Oo()&&fe.createElement(Hp,{title:l("Enter Password"),onClose:i}),fe.createElement(Mm,{isActive:n,error:a,withCloseButton:e.UMQ,submitLabel:l("Connect"),cancelLabel:l("Cancel"),onSubmit:o,onCancel:r,onUpdate:s}))})),Eh=me(He((e=>{var t;const n=Ye(e),a=void 0!==(null===(t=e.dappConnectRequest)||void 0===t?void 0:t.state),{state:o,dapp:r,error:i,accountId:s,permissions:l,proof:c}=e.dappConnectRequest||{},d=s||e.currentAccountId,{hardwareState:u,isLedgerConnected:m,isTonAppConnected:p}=e.hardware;return{state:o,hasConnectRequest:a,dapp:r,error:i,requiredPermissions:l,requiredProof:c,currentAccountId:d,accounts:n,hardwareState:u,settingsByAccountId:e.settings.byAccountId,isLedgerConnected:m,isTonAppConnected:p}}))((function(e){let{state:t,hasConnectRequest:n,dapp:a,error:o,requiredPermissions:r,requiredProof:i,accounts:s,currentAccountId:l,hardwareState:c,settingsByAccountId:d,isLedgerConnected:u,isTonAppConnected:m}=e;const{submitDappConnectRequestConfirm:p,submitDappConnectRequestConfirmHardware:f,cancelDappConnectRequestConfirm:h,setDappConnectRequestState:g}=Ue(),v=Qi(),[w,y]=re(l),[b,E,k]=yd(!1),N=n,{renderingKey:C,nextKey:S}=Mf(null!=t?t:0,N),A=ce((()=>Object.entries(s||{})),[s]),T=void 0===a;se((()=>{l&&y(l)}),[l]);const I=ce((()=>s&&Object.keys(s).length>1),[s]),{iconUrl:B,name:_,url:x}=a||{},L=Cr((()=>{k();const{isHardware:e}=s[w],{isPasswordRequired:t,isAddressRequired:n}=r||{};!i||!e&&n&&!t?(p({accountId:w}),h()):e?g({state:qt.ConnectHardware}):requestAnimationFrame((()=>{g({state:qt.Password})}))})),O=Cr((()=>{g({state:qt.Info})})),P=Cr((()=>{f({accountId:w})})),D=Cr((e=>{p({accountId:w,password:e})}));function F(){return fe.createElement(qf,{accountLength:A.length,labelText:v("Select wallet to use on this dapp")},A.map((e=>{let[t,{title:n,addressByChain:a,isHardware:o}]=e;return function(e,t,n,a){const o=e===w||T?void 0:()=>y(e),{cardBackgroundNft:r}=(null==d?void 0:d[e])||{};return fe.createElement(jf,{key:e,accountId:e,address:t,title:n,ariaLabel:v("Switch Account"),isHardware:a,isActive:e===w,isLoading:T,onClick:o,cardBackgroundNft:r})}(t,a.ton,n,o)})))}function R(e,t,n){switch(n){case qt.Info:return fe.createElement(Km,{name:"semiFade",activeKey:T?0:1,slideClassName:wh.skeletonTransitionWrapper},fe.createElement(fe.Fragment,null,fe.createElement(Hp,{title:v("Connect Dapp"),onClose:h}),T?fe.createElement("div",{className:bc.transitionContent},fe.createElement("div",{className:ji(wh.dappInfoSkeleton,wh.dapp_first)},fe.createElement("div",{className:wh.dappInfoIconSkeleton}),fe.createElement("div",{className:wh.dappInfoTextSkeleton},fe.createElement("div",{className:wh.nameSkeleton}),fe.createElement("div",{className:wh.descSkeleton}))),fe.createElement("div",{className:wh.accountWrapperSkeleton},I&&F())):fe.createElement("div",{className:bc.transitionContent},fe.createElement(yh,{iconUrl:B,name:_,url:x,className:ji(wh.dapp_first,wh.dapp_push)}),I&&F(),fe.createElement("div",{className:wh.footer},fe.createElement(Ll,{isPrimary:!0,onClick:E},v("Connect"))))));case qt.Password:return fe.createElement(bh,{isActive:e,error:o,onSubmit:D,onCancel:O,onClose:h});case qt.ConnectHardware:return fe.createElement(vh,{isActive:e,state:c,isTonAppConnected:m,isLedgerConnected:u,onConnected:P,onClose:O});case qt.ConfirmHardware:return fe.createElement(Qf,{isActive:e,text:v("Please confirm operation on your Ledger"),error:o,onTryAgain:P,onClose:O})}}return fe.createElement(fe.Fragment,null,fe.createElement(Sc,{isOpen:N,dialogClassName:wh.modalDialog,nativeBottomSheetKey:"dapp-connect",forceFullNative:C!==qt.Info,onClose:h,onCloseAnimationEnd:h},fe.createElement(Km,{name:Rf(),className:ji(bc.transition,"custom-scroll"),slideClassName:bc.transitionSlide,activeKey:C,nextKey:S},R)),fe.createElement(Sc,{isOpen:b,isCompact:!0,title:v("Dapp Permissions"),onClose:k},fe.createElement("div",{className:wh.description},v("$dapp_can_view_balance",{dappname:fe.createElement("strong",null,_)})),fe.createElement("div",{className:wh.buttons},fe.createElement(Ll,{onClick:k,className:wh.button},v("Cancel")),fe.createElement(Ll,{isPrimary:!0,onClick:L,className:wh.button},v("Connect")))))}))),kh=me(He((e=>{const{dapp:t}=e.currentDappTransfer,n=Ye(e);return{currentAccount:null==n?void 0:n[e.currentAccountId],toncoinBalance:Nt(e),dapp:t}}))((function(t){let{currentAccount:n,toncoinBalance:a,dapp:o}=t;const{cancelDappTransfer:r,setDappTransferScreen:i}=Ue(),s=Qi(),l=Cr((()=>{i({state:Ht.Initial})}));return fe.createElement("div",{className:bc.transitionContent},fe.createElement("div",{className:wh.transactionDirection},fe.createElement("div",{className:wh.transactionAccount},fe.createElement("div",{className:wh.accountTitle},null==n?void 0:n.title),fe.createElement("div",{className:wh.accountBalance},Jo((0,vt.nI)(a),e.Tu9.symbol))),fe.createElement(yh,{iconUrl:null==o?void 0:o.iconUrl,name:null==o?void 0:o.name,url:null==o?void 0:o.url,className:wh.transactionDapp})),fe.createElement("div",{className:wh.descriptionContent},fe.createElement("span",null,qo(s("$dapp_ledger_warning1"))),fe.createElement("span",null,qo(s("$dapp_ledger_warning2")))),fe.createElement("div",{className:bc.buttons},fe.createElement(Ll,{className:bc.button,onClick:r},s("Cancel")),fe.createElement(Ll,{isPrimary:!0,isSubmit:!0,className:bc.button,onClick:l},s("Agree"))))}))),Nh="DZJAgO1_",Ch="frL0b5SW",Sh="l7Jv2Ysl",Ah="cjX8maBi",Th="nfp5rpIc",Ih="qBj00Hsz",Bh=me((function(t){let{nft:n,isStatic:a,withTonExplorer:o}=t;const{openMediaViewer:r}=Ue(),i=Qi(),s=ce((()=>i("Open on %ton_explorer_name%",{ton_explorer_name:La("ton")}).join("")),[i]),l=Cr((()=>{r({mediaId:n.address,mediaType:Zt.Nft})}));if(!n)return fe.createElement("div",{className:ji(Nh,a&&Ch)},fe.createElement(lm,{play:!0,noLoop:!1,nonInteractive:!0,size:e.YO8,className:Sh,tgsUrl:xu.wait,previewUrl:xu.waitPreview}),fe.createElement("div",{className:Ah},fe.createElement("div",{className:Th},"NFT"),fe.createElement("div",{className:Ih},i("Name and collection are not available. Please check back later."))));const c=n.name||Wr(n.address);return fe.createElement("div",{role:"button",tabIndex:0,"aria-label":i("NFT"),className:ji(Nh,a&&Ch),onClick:l},fe.createElement(fe.Fragment,null,fe.createElement("img",{src:n.thumbnail,alt:c,className:Sh}),fe.createElement("div",{className:Ah},fe.createElement("div",{className:Th},c,o&&fe.createElement("i",{className:ji("DNxf1fb1","icon-tonexplorer-small"),onClick:e=>{e.stopPropagation(),Ma(Fa(n.address,Re().settings.isTestnet))},title:s,"aria-label":s,role:"button",tabIndex:0})),fe.createElement("div",{className:Ih},n.collectionName))))}));var _h=i(37448);const xh=(0,On.F3)("Filesystem",{web:()=>i.e(956).then(i.bind(i,69956)).then((e=>new e.FilesystemWeb))}),Lh=(0,On.F3)("Share",{web:()=>i.e(104).then(i.bind(i,78104)).then((e=>new e.ShareWeb))});async function Oh(t){if(!e.UMQ)return!1;try{return await Lh.share(t),!0}catch(e){if(e instanceof Error&&"Share canceled"===e.message)return!0;if(e instanceof Error&&"Can't share while sharing is in progress"===e.message)return!1;throw e}}async function Ph(e){if(!t.TF||!navigator.share)return!1;try{return await navigator.share(e),!0}catch(e){if(e instanceof Error&&"AbortError"===e.name)return!0;if(e instanceof Error&&"NotAllowedError"===e.name)return!1;throw e}}const Dh=350,Fh="r5lsJ1c8",Rh=me((function(e){let{isOpen:t,address:n,chain:a,onClose:o}=e;const{removeFromSavedAddress:r,showNotification:i}=Ue(),s=Qi(),l=Cr((()=>{r({address:n,chain:a}),i({message:s("Address removed from saved"),icon:"icon-trash"}),o()}));return fe.createElement(Sc,{title:s("Delete Saved Address"),isCompact:!0,isOpen:t,onClose:o},fe.createElement("p",{className:Fh},s("Are you sure you want to remove this address from your saved ones?")),fe.createElement("p",{className:Fh},s("You will be able to save it again via Transaction Info with this address.")),fe.createElement("div",{className:bc.buttons},fe.createElement(Ll,{onClick:o,className:bc.button},s("Cancel")),fe.createElement(Ll,{isDestructive:!0,onClick:l,className:bc.button},s("Delete"))))})),Mh={wrapper:"qrcsFk0p",button:"tQGrt_Qw",button_spoiler:"RpBIB1I4",buttonSpoiler:"RpBIB1I4",icon:"RdTchw5a",iconCaretDown:"DdQbhVKr",iconStar:"p87ao4no",iconShare:"GuQHudIr",nameInput:"lL2_LCB0",shortAddress:"hofQbGX_",scam:"nwdDECq8",revealSpoiler:"W5z38O2d",scamImage:"KBuV_80E",chainIcon:"xEGdgotG",meaningfulPart:"tKeqWu_9",menuIcon:"iyUEV5xt",dimmedPart:"NNrfqpvB",menu:"E31wd_4J",menuItem:"HbftB0iE"},Uh=i.p+"scam.8fb66536b659fd1bbfc6.svg";function Wh(){return Wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Wh.apply(null,arguments)}const Hh=me(He((e=>{const t=Je(e);return{savedAddresses:null==t?void 0:t.savedAddresses,isMultichainAccount:dt(e,e.currentAccountId),isTestnet:e.settings.isTestnet}}))((function(e){var n;let{chain:a,address:o,addressName:r,addressUrl:i,isScam:s,isTransaction:l,text:c="",spoiler:d,spoilerRevealText:u,spoilerCallback:m,copyNotification:p,noSavedAddress:f,noExplorer:h,className:g,textClassName:v,savedAddresses:w,isTestnet:y,isMultichainAccount:b,noDimming:E}=e;const{showNotification:k,addSavedAddress:N}=Ue(),C=ue(null),S=Qi(),[A,T,I]=yd(),[B,_,x]=yd(),[L,O]=re(r),[P,,D]=yd(Boolean(d)),F=ce((()=>Boolean(o&&a&&(w||[]).find((e=>e.address===o&&e.chain===a)))),[o,a,w]);i=null!==(n=i)&&void 0!==n?n:a?Da(a,o,y):void 0;const R=S(F?"Remove From Saved":"Save Address"),M=S("View on Explorer"),U=Boolean(!s&&!f&&o),W=Boolean(!h&&i);se((()=>{A&&O("")}),[A]);const H=Cr((()=>{L&&o&&a&&(N({address:o,chain:a,name:L}),k({message:S("Address was saved!"),icon:"icon-star"}),I())}));se((()=>A?Is({onEnter:H}):void 0),[H,A]),Lu(C,!A);const $=Cr((()=>{p&&(k({message:p,icon:"icon-copy"}),$o(o||c))})),V=Cr((()=>{!async function(e,t){const n={url:e,title:t};await Oh(n)||await Ph(n)||(await $o(e),Ue().showNotification({message:fr("Link was copied!"),icon:"icon-link"}))}(i,La(a))})),z=Cr((()=>{Ma(i,{title:La(a),subtitle:xa(i)})})),{menuPosition:j,isActionsMenuOpen:q,menuItems:K,handleMenuShow:Y,handleMenuItemSelect:Q,closeActionsMenu:G}=function(e,n){const[a,o]=re(),r=Cr((()=>o(void 0))),i=Boolean(a),s=ce((()=>{const{isAddressAlreadySaved:e,isWalletAddress:a,isTransaction:o,withSavedAddresses:r,withExplorer:i}=n,s=[{name:r||a?"Copy Address":o?"Copy Transaction ID":"Copy",fontIcon:"copy",withSeparator:!0,value:"copy"}];return r&&s.push({name:e?"Remove From Saved":"Save Address",fontIcon:e?"star-filled":"star",withSeparator:!0,value:"addressBook"}),o&&s.push({name:"Share Link",fontIcon:t.pz?"share-ios":"share-android",withSeparator:!0,value:"share"}),i&&s.push({name:"View on Explorer",fontIcon:"tonexplorer",withSeparator:!0,value:"explorer"}),s}),[n]),l=Cr((t=>{var n;null===(n=e[t])||void 0===n||n.call(e),r()}));return{isActionsMenuOpen:i,menuPosition:a,menuItems:s,handleMenuShow:Cr((e=>{let t;if(qi(e),e.type.startsWith("touch")){const{changedTouches:n,touches:a}=e;t=a.length>0?a[0].clientX:n[0].clientX}else t=e.clientX;const{bottom:n}=e.currentTarget.getBoundingClientRect();o({x:t,y:n+-16})})),handleMenuItemSelect:l,closeActionsMenu:r}}({copy:$,share:V,addressBook:F?_:T,explorer:z},{isAddressAlreadySaved:F,isWalletAddress:Boolean(o&&a&&f&&!l),isTransaction:l,withSavedAddresses:U,withExplorer:W}),X=!d&&t.TF&&K.length>1,J=function(e){let{onClick:t,onStart:n,onEnd:a,threshold:o=Dh}=e;const r=ue(!1),i=ue(!1),s=ue(void 0),l=de((e=>{const t="button"in e&&0===e.button||"touches"in e&&e.touches.length>0;!i.current&&t&&(i.current=!0,s.current=window.setTimeout((()=>{null==n||n(),r.current=!0}),o))}),[n,o]),c=de((e=>{i.current&&(r.current?null==a||a():null==t||t(e),r.current=!1,i.current=!1,window.clearTimeout(s.current))}),[a,t]);return Yi((()=>()=>{window.clearTimeout(s.current)})),{onMouseDown:l,onMouseUp:c,onMouseLeave:c,onTouchStart:l,onTouchEnd:c,onTouchCancel:c}}({onClick:Y,onStart:$}),Z=Cr((()=>{D(),null==m||m()}));function ee(e){let t=e;if(!E&&!l&&e===o&&e.length>12){const n=e.substring(0,6),a=e.length-6,o=e.substring(6,a),r=e.substring(a);t=fe.createElement(fe.Fragment,null,fe.createElement("span",{className:Mh.meaningfulPart},n),fe.createElement("span",{className:Mh.dimmedPart},o),fe.createElement("span",{className:Mh.meaningfulPart},r))}else!E&&l&&(t=fe.createElement("span",{className:Mh.dimmedPart},e));return fe.createElement("span",{className:ji(Mh.button,s&&Mh.scam,v),tabIndex:0,role:"button",title:X?void 0:S("Copy"),onClick:X?void 0:$},s&&fe.createElement("img",{src:Uh,alt:S("Scam"),className:Mh.scamImage}),b&&!l&&fe.createElement("i",{className:ji(Mh.chainIcon,`icon-chain-${a}`),"aria-label":a}),t,Boolean(r)&&fe.createElement("span",{className:ji(Mh.shortAddress,s&&Mh.scam)},Wr(o)),Boolean(p)&&!X&&fe.createElement("i",{className:ji(Mh.icon,"icon-copy"),"aria-hidden":!0}))}return fe.createElement(fe.Fragment,null,fe.createElement("div",Wh({className:ji(Mh.wrapper,g)},X&&!q&&{...J,tabIndex:0,role:"button"},{onContextMenu:X?qi:void 0}),function(){const e=r||o||c;if(!d)return ee(e);const t=P||!e;return fe.createElement(Km,{activeKey:t?1:0,name:"fade",className:Mh.commentContainer},t?fe.createElement("span",{className:ji(Mh.button,Mh.button_spoiler,v)},fe.createElement("i",null,d),fe.createElement("span",{onClick:Z,tabIndex:0,role:"button",className:Mh.revealSpoiler},u)):ee(e))}(),function(){if(X){const e=ji(Mh.icon,Mh.iconCaretDown,"icon-caret-down",s&&Mh.scam);return fe.createElement(fe.Fragment,null,fe.createElement("i",{className:e,"aria-hidden":!0}),fe.createElement(nh,{withPortal:!0,shouldTranslateOptions:!0,isOpen:q,items:K,anchorPosition:j,bubbleClassName:Mh.menu,buttonClassName:Mh.menuItem,fontIconClassName:Mh.menuIcon,onSelect:Q,onClose:G}))}return fe.createElement(fe.Fragment,null,U&&fe.createElement("span",{className:Mh.button,title:R,"aria-label":R,tabIndex:0,role:"button",onClick:F?_:T},fe.createElement("i",{className:ji(Mh.icon,Mh.iconStar,F?"icon-star-filled":"icon-star"),"aria-hidden":!0})),l&&fe.createElement("span",{className:Mh.button,title:S("Share Link"),"aria-label":S("Share Link"),onClick:V},fe.createElement("i",{className:ji(Mh.icon,Mh.iconShare,"icon-link"),"aria-hidden":!0})),W&&fe.createElement("a",{href:i,className:Mh.button,title:M,"aria-label":M,target:"_blank",rel:"noreferrer noopener",onClick:Ua},fe.createElement("i",{className:ji(Mh.icon,"icon-tonexplorer-small"),"aria-hidden":!0})))}()),o&&fe.createElement(fe.Fragment,null,fe.createElement(Sc,{title:S("Save Address"),isCompact:!0,isOpen:A,onClose:I},fe.createElement("p",null,S("You can save this address for quick access while sending.")),fe.createElement(wm,{ref:C,placeholder:S("Name"),onInput:O,value:L,maxLength:255,className:Mh.nameInput}),fe.createElement("div",{className:bc.buttons},fe.createElement(Ll,{onClick:I,className:bc.button},S("Cancel")),fe.createElement(Ll,{onClick:H,isPrimary:!0,isDisabled:!L,className:bc.button},S("Save")))),fe.createElement(Rh,{isOpen:B,address:o,chain:a,onClose:x})))}))),$h=me(He((e=>({tokensBySlug:e.tokenInfo.bySlug,baseCurrency:e.settings.baseCurrency})))((function(e){let{label:t,amountsBySlug:n,nftCount:a,tokensBySlug:o,baseCurrency:r}=e;const i=[];a&&i.push(fe.createElement("span",{className:wh.payloadFieldTerm},`${a} NFT${a>1?"s":""}`));for(const[e,t]of Object.entries(n)){var s,l;i.length&&i.push(" + ");const n=o[e];i.push(fe.createElement("span",{className:wh.payloadFieldTerm},Jo((0,vt.nI)(t,null!==(s=null==n?void 0:n.decimals)&&void 0!==s?s:0),null!==(l=null==n?void 0:n.symbol)&&void 0!==l?l:"")))}if(Object.keys(n).length>0){const e=function(e,t){return Object.entries(e).reduce(((e,n)=>{let[a,o]=n;const r=t[a];return r?e+(0,vt.CF)(o,r.decimals).toNumber()*r.quote.price:e}),0)}(n,o);i.push(` (${Jo(e,nr(r))})`)}return fe.createElement(fe.Fragment,null,fe.createElement("span",{className:wh.label},t),fe.createElement("div",{className:wh.payloadField},i))}))),Vh={exact:"",approximate:"~ ",lessThan:"< "},zh={slug:"__stars__",symbol:e.xFF,decimals:0},jh={slug:"__unknown__",symbol:"",decimals:0},qh={[e.Tu9.slug]:"icon-chain-ton",[e.X7T.slug]:"icon-chain-tron"},Kh=me((function(e){var t,n;let{terms:a,token:o,precision:r,shouldPreferIcons:i,termClassName:s,symbolClassName:l}=e;const c=null!==(t=null===(n=nn(cn(o.slug)))||void 0===n?void 0:n.nativeToken)&&void 0!==t?t:jh,d=[Vh[r]];return function(e){const t=[];let n;for(const[a,o]of Object.entries(e)){if(void 0===o)continue;const e={tokenType:a,amount:o};n||(n=e),Number(o)&&t.push(e)}var a;return 0===t.length&&t.push(null!==(a=n)&&void 0!==a?a:{tokenType:"native",amount:0}),t}(a).forEach(((e,t)=>{let{tokenType:n,amount:a}=e;t>0&&d.push(" + ");const r="stars"===n?zh:"native"===n?c:o,u=i?qh[r.slug]:void 0;"bigint"==typeof a&&(a=(0,vt.nI)(a,r.decimals));let m=u?fe.createElement("i",{className:ji(u,"hrsxYQfo"),"aria-label":r.symbol}):r.symbol;l&&(m=fe.createElement("span",{className:l},m)),d.push(fe.createElement("span",{className:ji("KQKXQCYl",s)},Jo(a,"",void 0,!0),m))})),d})),Yh="Ehn5yB9o",Qh="ZXtTwJ2M",Gh="wvOK88A2",Xh="ow57IO0l";function Jh(){return Jh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Jh.apply(null,arguments)}const Zh=me((function(e){let{isOpen:t,onClose:n,title:a,...o}=e;const r=Qi();return fe.createElement(Sc,{isOpen:t,onClose:n,isCompact:!0,title:null!=a?a:r("Blockchain Fee Details"),contentClassName:"ejEBAbV8"},fe.createElement(eg,Jh({onClose:n},o)))}));function eg(e){let{onClose:t,fullFee:n,realFee:a,realFeePrecision:o="exact",excessFee:r,excessFeePrecision:i="exact",token:s,extraContent:l}=e;const c=s&&cn(s.slug),d=c&&tn(c).nativeToken,u=Qi();return fe.createElement(fe.Fragment,null,fe.createElement("div",null,fe.createElement("div",{className:"SpaIcYmy"},fe.createElement("div",{className:ji(Yh,Qh)},u("Final Fee")),fe.createElement("div",{className:ji(Yh,Gh)},u("Excess"))),fe.createElement("div",{className:"f8dLAhsP"},fe.createElement("div",{className:ji(Xh,Qh)},a&&s&&fe.createElement(Kh,{terms:a,precision:o,token:s,shouldPreferIcons:!0})),fe.createElement("div",{className:ji(Xh,Gh)},void 0!==r&&s&&fe.createElement(Kh,{terms:{native:r},precision:i,token:s,shouldPreferIcons:!0})))),fe.createElement("div",{className:"Tbn84o8Q"},fe.createElement("div",null,qo(u("$fee_details",{full_fee:n&&s&&fe.createElement("b",null,fe.createElement(Kh,{terms:n,precision:"exact",token:s})),excess_symbol:fe.createElement("b",null,null==d?void 0:d.symbol),chain_name:null==c?void 0:c.toUpperCase()}))),l),fe.createElement("div",{className:bc.buttons},fe.createElement(Ll,{isPrimary:!0,className:bc.button,onClick:t},u("Got It"))))}const tg=me((function(e){let{className:t,isStatic:n,terms:a,token:o,precision:r,keepDetailsButtonWithoutFee:i,onDetailsClick:s}=e;const l=Qi();let c;return a&&o&&(c=l("exact"===r?"$fee_value_with_colon":"$fee_value",{fee:fe.createElement(Kh,{terms:a,token:o,precision:r})})),fe.createElement(ng,{className:t,isStatic:n,onDetailsClick:c||i?s:void 0,transitionKey:c?1:0},c)}));function ng(e){let{className:t,isStatic:n,onDetailsClick:a,children:o,transitionKey:r=0}=e;const i=Qi();return fe.createElement(Km,{name:"fade",activeKey:r+(a?65536:0),className:ji("fJgsdA7d",t,n&&"swvIvbGd")},o,Boolean(o)&&a&&" · ",a&&fe.createElement("span",{role:"button",tabIndex:0,className:"K7iB61lh",onClick:()=>a()},i("Details"),fe.createElement("i",{className:ji("icon-chevron-right","WDhuwtt6"),"aria-hidden":!0})))}function ag(){return ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ag.apply(null,arguments)}const og=me((function(e){let{isOpen:t,onClose:n,...a}=e;const o=Qi();return fe.createElement(Sc,{isOpen:t,onClose:n,isCompact:!0,title:o("Dapp Fee Details"),contentClassName:wh.detailsModalContent},fe.createElement(rg,ag({onClose:n},a)))}));function rg(t){let{onClose:n,fullFee:a,received:o}=t;const r=Qi();return fe.createElement(fe.Fragment,null,fe.createElement("div",{className:wh.detailsModalExplanation},fe.createElement("div",null,qo(r("$dapp_return_details",{fee_amount:fe.createElement("b",null,Jo((0,vt.nI)(a,e.Tu9.decimals),e.Tu9.symbol,void 0,!0)),received_amount:fe.createElement("b",null,"~ ",Jo((0,vt.nI)(o,e.Tu9.decimals),e.Tu9.symbol))}))),fe.createElement("div",{className:wh.warningForPayload},r("$dapp_return_disclaimer"))),fe.createElement("div",{className:bc.buttons},fe.createElement(Ll,{isPrimary:!0,className:bc.button,onClick:n},r("Got It"))))}const ig=me((function(t){let{fullFee:n,received:a}=t;const o=Qi(),[r,i,s]=yd();if(0n===a)return fe.createElement(tg,{terms:{native:n},token:e.Tu9,precision:"exact",className:wh.fee});if(n>=a){const t=n-a,l="approximate";return fe.createElement(fe.Fragment,null,fe.createElement(tg,{terms:{native:t},token:e.Tu9,precision:"approximate",onDetailsClick:i,className:wh.fee}),fe.createElement(Zh,{isOpen:r,onClose:s,fullFee:{native:n},realFee:{native:t},realFeePrecision:l,excessFee:a,excessFeePrecision:"approximate",token:e.Tu9,title:o("Dapp Fee Details"),extraContent:fe.createElement("div",{className:wh.explanationWarning},o("$dapp_return_disclaimer"))}))}const l=a-n;return fe.createElement(fe.Fragment,null,fe.createElement(ng,{className:wh.fee,onDetailsClick:i},o("$returned_value",{value:Jo((0,vt.nI)(l,e.Tu9.decimals),e.Tu9.symbol)})),fe.createElement(og,{isOpen:r,onClose:s,fullFee:n,received:a}))})),sg=me((function(t){let{transaction:n,tokensBySlug:a}=t;const o=Qi(),[r,i]=yd(!1),s=function(){const{payload:e,rawPayload:t}=n;if(e&&!pt(e)&&!ft(e))switch(e.type){case"comment":return e.comment;case"tokens:burn":{var r,i;const{slug:t,amount:n}=e,s=a[t],l=null!==(r=null==s?void 0:s.decimals)&&void 0!==r?r:Wi.fI,c=null!==(i=null==s?void 0:s.symbol)&&void 0!==i?i:"";return o("$dapp_transfer_tokens_burn",{amount:Jo((0,vt.nI)(n,l),c,2)})}case"dns:change-record":{const{record:t}=e,n="unknown"!==t.type?t.type:t.key;return"wallet"===t.type&&t.value?o("$dapp_dns_set_wallet_payload",{address:t.value}):"wallet"!==t.type||t.value?t.value?o("$dapp_dns_change_record_payload",{category:n,value:t.value}):o("$dapp_dns_delete_record_payload",{category:n}):o("$dapp_dns_delete_wallet_payload")}case"token-bridge:pay-swap":return o("$dapp_token_bridge_pay_swap_payload",{swapId:e.swapId});case"liquid-staking:deposit":return o("$dapp_liquid_staking_deposit_payload");case"liquid-staking:vote":return o("$dapp_liquid_staking_vote_payload",{votingAddress:e.votingAddress,vote:e.vote});case"single-nominator:change-validator":return o("$dapp_single_nominator_change_validator_payload",{address:e.address});case"single-nominator:withdraw":return o("$dapp_single_nominator_withdraw_payload",{amount:(0,vt.nI)(e.amount)});case"vesting:add-whitelist":return o("$dapp_vesting_add_whitelist_payload",{address:e.address});case"unknown":return t;default:return JSON.stringify(e,void 0,2).replace(`/"${yn.tH}/g`,'"')}}();return fe.createElement(fe.Fragment,null,pt(n.payload)&&fe.createElement(Bh,{nft:n.payload.nft}),fe.createElement("p",{className:wh.label},o("Receiving Address")),fe.createElement(Hh,{chain:e.Tu9.chain,address:n.displayedToAddress,isScam:n.isScam,className:ji(wh.dataField,wh.receivingAddress),copyNotification:o("Address was copied!")}),function(){if(pt(n.payload)){if(0n===n.displayedAmount)return;return fe.createElement($h,{label:o("Additional Amount Sent"),amountsBySlug:{[e.Tu9.slug]:n.displayedAmount}})}const t={};return ft(n.payload)&&(t[n.payload.slug]=n.payload.amount),t[e.Tu9.slug]=n.displayedAmount,0n===t[e.Tu9.slug]&&Object.keys(t).length>1&&delete t[e.Tu9.slug],fe.createElement($h,{label:o("Amount"),amountsBySlug:t})}(),s&&fe.createElement(fe.Fragment,null,fe.createElement("p",{className:wh.label},function(){var e;switch(null===(e=n.payload)||void 0===e?void 0:e.type){case"comment":return o("Comment");case"unknown":return o("Payload");default:return o("Nested Transaction")}}()),fe.createElement("div",{className:ji(wh.payloadField,r&&wh.payloadField_expanded)},s,!r&&fe.createElement("div",{className:wh.payloadFieldExpand,onClick:i},o("View"))),n.isDangerous&&fe.createElement("div",{className:wh.warningForPayload},o("$hardware_payload_warning"))),fe.createElement(ig,{fullFee:n.fullFee,received:n.received}))})),lg=me(He((e=>{const{isLoading:t,dapp:n,transactions:a}=e.currentDappTransfer,o=Ye(e),{amountsBySlug:r,isScam:i,isDangerous:s,fullFee:l,received:c,nftCount:d}=gt(e);return{currentAccount:null==o?void 0:o[e.currentAccountId],toncoinBalance:Nt(e),transactions:a,totalAmountsBySlug:r,totalFullFee:l,totalReceived:c,isScam:i,isDangerous:s,nftCount:d,dapp:n,isLoading:t,tokensBySlug:e.tokenInfo.bySlug}}))((function(t){let{currentAccount:n,toncoinBalance:a,transactions:o,totalAmountsBySlug:r,totalFullFee:i,totalReceived:s,isScam:l,isDangerous:c,nftCount:d,dapp:u,isLoading:m,tokensBySlug:p,onClose:f}=t;const{showDappTransfer:h,submitDappTransferConfirm:g}=Ue(),v=Qi(),w=1===(null==o?void 0:o.length),y=Dp(o,!0),b=ce((()=>function(e,t){return e?e.map(((e,n)=>({...e,index:n,sortingCost:cg(e,t)}))).sort(((e,t)=>t.sortingCost-e.sortingCost)):e}(y,p)),[y,p]);function E(t){const{payload:n}=t;let a="";if(pt(n))a="1 NFT";else if(ft(n)){const{slug:e,amount:t}=n,o=p[e];if(o){const{decimals:e,symbol:n}=o;a=Jo((0,vt.nI)(t,e),n)}}return a&&!t.displayedAmount||(a&&(a+=" + "),a+=Jo((0,vt.nI)(t.displayedAmount),e.Tu9.symbol)),fe.createElement("div",{key:t.index,className:wh.transactionRow,onClick:()=>h({transactionIdx:t.index})},t.isScam&&fe.createElement("img",{src:Uh,alt:v("Scam"),className:wh.scamImage}),fe.createElement("span",{className:ji(wh.transactionRowAmount,t.isScam&&wh.scam)},a)," ",fe.createElement("span",{className:ji(wh.transactionRowAddress,t.isScam&&wh.scam)},v("$transaction_to",{address:Wr(t.displayedToAddress)})),fe.createElement("i",{className:ji(wh.transactionRowChevron,"icon-chevron-right"),"aria-hidden":!0}))}if(y)return fe.createElement("div",{className:bc.transitionContent},fe.createElement("div",{className:wh.transactionDirection},fe.createElement("div",{className:wh.transactionAccount},fe.createElement("div",{className:wh.accountTitle},null==n?void 0:n.title),fe.createElement("div",{className:wh.accountBalance},Jo((0,vt.nI)(a),e.Tu9.symbol))),fe.createElement(yh,{iconUrl:null==u?void 0:u.iconUrl,name:null==u?void 0:u.name,url:null==u?void 0:u.url,className:wh.transactionDapp})),w?fe.createElement(sg,{transaction:y[0],tokensBySlug:p}):function(){const e=d>0||Object.keys(r).length>0;return fe.createElement(fe.Fragment,null,fe.createElement("p",{className:wh.label},v("$many_transactions",null==y?void 0:y.length,"i")),fe.createElement("div",{className:wh.transactionList},null==b?void 0:b.map(E)),e&&fe.createElement($h,{label:v("Total Amount"),amountsBySlug:r,nftCount:d}),c&&fe.createElement("div",{className:wh.warningForPayload},v("$hardware_payload_warning")),fe.createElement(ig,{fullFee:i,received:s}))}(),fe.createElement("div",{className:ji(bc.buttons,wh.buttonsAfterFee)},fe.createElement(Ll,{className:bc.button,onClick:f},v("Cancel")),fe.createElement(Ll,{isPrimary:!0,isSubmit:!0,isLoading:m,isDisabled:l,className:bc.button,onClick:l?void 0:g},v("Send"))))})));function cg(t,n){const a=(0,vt.CF)(t.displayedAmount+t.fullFee,e.Tu9.decimals).toNumber();let o=n[e.Tu9.slug].quote.priceUsd*a;if(ft(t.payload)){const{amount:e,slug:a}=t.payload,r=n[a];r&&(o+=r.quote.priceUsd*(0,vt.CF)(e,r.decimals).toNumber())}else pt(t.payload)&&(o+=1e9);return o}const dg=me(He((e=>{const{hardwareState:t,isLedgerConnected:n,isTonAppConnected:a}=e.hardware,{isDangerous:o}=gt(e);return{currentDappTransfer:e.currentDappTransfer,tokensBySlug:e.tokenInfo.bySlug,hardwareState:t,isLedgerConnected:n,isTonAppConnected:a,isMediaViewerOpen:Boolean(e.mediaViewer.mediaId),isDangerous:o}}))((function(t){var n;let{currentDappTransfer:{dapp:a,isLoading:o,viewTransactionOnIdx:r,state:i,transactions:s,error:l},tokensBySlug:c,hardwareState:d,isLedgerConnected:u,isTonAppConnected:m,isMediaViewerOpen:p,isDangerous:f}=t;const{setDappTransferScreen:h,clearDappTransferError:g,submitDappTransferPassword:v,submitDappTransferHardware:w,closeDappTransfer:y,cancelDappTransfer:b}=Ue(),E=Qi(),k=i!==Ht.None,{renderingKey:N,nextKey:C,updateNextKey:S}=Mf(i,k),A=Dp(s,!0),T=void 0===a,I=f||(null!==(n=null==s?void 0:s.length)&&void 0!==n?n:0)>4,B=Cr((()=>{i!==Ht.Confirm&&i!==Ht.Password||h({state:Ht.Initial})})),_=Cr((e=>{v({password:e})})),x=Cr((()=>{w()})),L=Cr((()=>{b(),S()}));function O(t,n,a){switch(a){case Ht.Initial:return fe.createElement(Km,{name:"semiFade",activeKey:T?0:1,slideClassName:wh.skeletonTransitionWrapper},T?function(){const e=e=>fe.createElement("div",{className:ji(wh.rowContainerSkeleton,e&&wh.rowContainerLargeSkeleton)},fe.createElement("div",{className:ji(wh.rowTextSkeleton,e&&wh.rowTextLargeSkeleton)}),fe.createElement("div",{className:ji(wh.rowSkeleton,e&&wh.rowLargeSkeleton)}));return fe.createElement(fe.Fragment,null,fe.createElement(Hp,{title:E("Send Transaction"),onClose:y}),fe.createElement("div",{className:bc.transitionContent},fe.createElement("div",{className:wh.transactionDirection},fe.createElement("div",{className:wh.transactionDirectionLeftSkeleton},fe.createElement("div",{className:ji(wh.nameSkeleton,wh.nameDappSkeleton)}),fe.createElement("div",{className:ji(wh.descSkeleton,wh.descDappSkeleton)})),fe.createElement("div",{className:wh.transactionDirectionRightSkeleton},fe.createElement("div",{className:ji(wh.dappInfoIconSkeleton,wh.transactionDappIconSkeleton)}),fe.createElement("div",{className:wh.dappInfoDataSkeleton},fe.createElement("div",{className:ji(wh.nameSkeleton,wh.nameDappSkeleton)}),fe.createElement("div",{className:ji(wh.descSkeleton,wh.descDappSkeleton)})))),e(!0),e(),e()))}():fe.createElement(fe.Fragment,null,fe.createElement(Hp,{title:E(pt(null==A?void 0:A[0].payload)?"Send NFT":"Send Transaction"),onClose:y}),fe.createElement(lg,{onClose:y})));case Ht.WarningHardware:return fe.createElement(fe.Fragment,null,fe.createElement(Hp,{title:E("Send Transaction"),onClose:y}),fe.createElement(kh,null));case Ht.Confirm:return function(){const e=void 0!==r?null==s?void 0:s[r]:void 0;return fe.createElement(fe.Fragment,null,fe.createElement(Hp,{title:E("Transaction Info"),onClose:y}),fe.createElement("div",{className:bc.transitionContent},Boolean(e)&&fe.createElement(sg,{transaction:e,tokensBySlug:c}),fe.createElement("div",{className:ji(bc.buttons,wh.buttonsAfterFee)},fe.createElement(Ll,{onClick:B},E("Back")))))}();case Ht.Password:return function(t){return fe.createElement(fe.Fragment,null,!Oo()&&fe.createElement(Hp,{title:E("Confirm Action"),onClose:y}),fe.createElement(Mm,{isActive:t,isLoading:o,error:l,withCloseButton:e.UMQ,submitLabel:E("Send"),cancelLabel:E("Back"),onSubmit:_,onCancel:B,onUpdate:g}))}(t);case Ht.ConnectHardware:return fe.createElement(vh,{isActive:t,state:d,isTonAppConnected:m,isLedgerConnected:u,onConnected:x,onClose:y});case Ht.ConfirmHardware:return fe.createElement(Qf,{text:E("Please confirm transaction on your Ledger"),error:l,onTryAgain:w,onClose:y})}}return fe.createElement(Sc,{hasCloseButton:!0,isOpen:k&&!p,noBackdropClose:!0,dialogClassName:ji(wh.modalDialog,I&&wh.modalDialogExtraHeight),nativeBottomSheetKey:"dapp-transfer",forceFullNative:I||N===Ht.Password,onClose:y,onCloseAnimationEnd:L},fe.createElement(Km,{name:Rf(),className:ji(bc.transition,"custom-scroll"),slideClassName:bc.transitionSlide,activeKey:N,nextKey:C,onStop:S},O))}))),ug=(0,On.F3)("Dialog",{web:()=>i.e(564).then(i.bind(i,94564)).then((e=>new e.DialogWeb))}),mg=me(He((e=>(0,s.Up)(e,["dialogs"])))((t=>{var n;let{dialogs:a}=t;const{dismissDialog:o}=Ue(),r=Qi(),[i,s,l]=yd(),c=a[a.length-1],d=r(null!==(n=null==c?void 0:c.title)&&void 0!==n?n:"Something went wrong");if(se((()=>{e.UMQ?c&&ug.alert({title:d,message:r(c.message)}).then((()=>{o()})):c?s():l()}),[a,r,c,s,d]),c&&!e.UMQ)return fe.createElement(Sc,{isOpen:i,isCompact:!0,title:d,onClose:l,onCloseAnimationEnd:o},fe.createElement("div",null,qo(r(c.message))),fe.createElement("div",{className:bc.footerButtons},fe.createElement(Ll,{onClick:l},r("OK"))))}))),pg=me(He((e=>{const{isAppUpdateAvailable:t}=e;return{isAppUpdateAvailable:t}}))((function(t){let{isAppUpdateAvailable:n}=t;const a=Qi(),[o,r]=re(!1),[i,s]=re(!1),[l,c]=yd(!1);se((()=>{var e,t,n;const a=null===(e=window.electron)||void 0===e?void 0:e.on(kp.UPDATE_ERROR,(()=>{r(!1)})),o=null===(t=window.electron)||void 0===t?void 0:t.on(kp.UPDATE_DOWNLOADED,(()=>{r(!0)}));return null===(n=window.electron)||void 0===n||n.getIsAutoUpdateEnabled().then(s),()=>{null==a||a(),null==o||o()}}),[]);const d=Cr((async()=>{if(!l)if(i){var t;if(o)return c(),void await(null===(t=window.electron)||void 0===t?void 0:t.installUpdate());n&&window.location.reload()}else window.open(`${e.yq6}/get`,"_blank","noopener")})),{transitionClassNames:u,shouldRender:m}=Gi(o||n);return m?fe.createElement("div",{className:ji("m3oYVPLL",u,l&&"Hz_3Tm4Q"),onClick:d},fe.createElement("div",{className:"cAAhDZj9"},fe.createElement("i",{className:ji("icon-update","O2khIMww")})),fe.createElement("div",{className:"vvQKF4lC"},a("Update %app_name%",{app_name:e.C39}))):null}))),fg="o0YiMAP8",hg="B1_vmNNd",gg="F4gGoZNE",vg="oUKLixL4",wg="Pgysk0gP",yg=me((function(n){let{children:a,withTitle:o}=n;const r=ue(null);(e=>{const n=ue(!1),a=ue(window.screenX),o=ue(window.screenY),r=ue(0);se((()=>{const i=e.current;if(!i||!t.cp||!t.MP)return;const s=e=>{r.current=0,n.current&&(e.preventDefault(),e.stopPropagation(),n.current=!1)},l=e=>{n.current&&(e.preventDefault(),e.stopPropagation())},c=e=>{1===e.buttons&&(r.current+=Math.sqrt((a.current-window.screenX)**2+(o.current-window.screenY)**2),a.current=window.screenX,o.current=window.screenY,!n.current&&r.current>5&&(n.current=!0))},d=e=>{var t;e.currentTarget===e.target&&(null===(t=window.electron)||void 0===t||t.handleDoubleClick())};return i.addEventListener("click",s),i.addEventListener("mousedown",l),i.addEventListener("mousemove",c),i.addEventListener("dblclick",d),()=>{i.removeEventListener("click",s),i.removeEventListener("mouseup",l),i.removeEventListener("mousemove",c),i.removeEventListener("dblclick",d)}}),[e])})(r);const i=Cr((()=>{var e;null===(e=window.electron)||void 0===e||e.minimize()})),s=Cr((async()=>{var e,t,n;await(null===(e=window.electron)||void 0===e?void 0:e.getIsMaximized())?null===(t=window.electron)||void 0===t||t.unmaximize():null===(n=window.electron)||void 0===n||n.maximize()})),l=Cr((()=>{var e;null===(e=window.electron)||void 0===e||e.close()})),c=Cr((()=>{var e;null===(e=window.electron)||void 0===e||e.handleDoubleClick()}));return t.H8?fe.createElement("div",{ref:r,className:fg,onDoubleClick:c},fe.createElement("div",{className:hg},Boolean(a)&&fe.createElement("div",{className:vg},a),o&&fe.createElement("div",{className:gg},e.C39)),fe.createElement("div",{className:"hKXvGlWy"},fe.createElement(pg,null),fe.createElement("div",{className:wg,onClick:i},fe.createElement("i",{className:"icon-windows-minimize"})),fe.createElement("div",{className:wg,onClick:s},fe.createElement("i",{className:"icon-windows-maximize"})),fe.createElement("div",{className:wg,onClick:l},fe.createElement("i",{className:"icon-windows-close"})))):fe.createElement("div",{ref:r,className:fg,onDoubleClick:c},fe.createElement("div",{className:hg},o&&fe.createElement("div",{className:gg},e.C39),fe.createElement("div",{className:vg},fe.createElement(pg,null),a)))})),bg=function(e){let{containerRef:t,isDisabled:n,shouldPreventDefault:a=!1,contentSelector:o}=e;se((()=>{const e=t.current;if(!n&&e)return e.addEventListener("wheel",r,{passive:!a}),()=>{e.removeEventListener("wheel",r)};function r(t){if(!t.deltaX){const n=o?e.querySelector(o):e;if(!n)return;n.scrollLeft+=t.deltaY/4,a&&t.preventDefault()}}}),[t,o,n,a])};function Eg(e){const t=ue(),n=ue();return n.current!==e&&(t.current=n.current),n.current=e,t.current}const kg=e=>{const{className:t,href:n,children:a,onClick:o,clickArg:r,isDestructive:i,isSeparator:s}=e,l=Cr((e=>{if(!o)return e.stopPropagation(),void e.preventDefault();o(e,r)})),c=Cr((e=>{if("Enter"===e.code||"Space"===e.code)return o?void o(e):(e.stopPropagation(),void e.preventDefault())})),d=ji("eMFKmXs8",t,i&&"C84vY_ER",s&&"qFOW6a6C");return n?fe.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:d},a):fe.createElement("div",{role:"button",tabIndex:0,className:d,onClick:l,onKeyDown:c},a)},Ng="dNJuuV1f",Cg="yWoCn5kk",Sg="d8pMxoBU",Ag=me((function(e){let{category:t,sites:n}=e;const{openSiteCategory:a}=Ue(),o=Qi(),[r,i]=ce((()=>n.length<=4?[n,[]]:[n.slice(0,3),n.slice(3,7)]),[n]);function s(){a({id:t.id})}return fe.createElement("div",{className:"MEbg8jIh"},fe.createElement("h3",{className:"P97rYp1K",role:"button",tabIndex:0,onClick:s},o(t.name)),fe.createElement("div",{className:"uC9KwIK7"},r.map((e=>fe.createElement("button",{key:`${e.url}-${e.name}`,type:"button",className:ji(Ng,Sg),onClick:()=>{Ma(e.url,{isExternal:e.isExternal,title:e.name,subtitle:xa(e.url)})}},fe.createElement(Sd,{url:e.icon,alt:e.name,imageClassName:Cg})))),i.length>0&&fe.createElement("div",{className:ji("qqdPrxSH",Sg),onClick:s},i.map((e=>fe.createElement(Sd,{key:`${e.url}-${e.name}`,url:e.icon,alt:e.name,className:ji(Ng,"rQOZaBwJ"),imageClassName:Cg}))))))})),Tg=[],Ig="B18NDC8N",Bg="ws8erUzz",_g=Mn.Z2,xg=[{name:"Fanzee Battles",manifestUrl:"https://battles-tg-app.fanz.ee/tc-manifest.json",originalUrl:"https://t.me/fanzeebattlesbot",replacementUrl:"https://t.me/battlescryptobot?start=myTonWallet"},{name:"Hamster Kombat",manifestUrl:"https://hamsterkombatgame.io/tonconnect-manifest.json",originalUrl:"https://hamsterkombatgame.io/",replacementUrl:"https://t.me/hamster_kombat_bot/start"},{name:"Dogs",manifestUrl:"https://cdn.onetime.dog/manifest.json",originalUrl:"https://onetime.dog",replacementUrl:"https://t.me/dogshouse_bot/join"},{name:"Earn",manifestUrl:"https://cdn.joincommunity.xyz/earn/manifest.json",originalUrl:"https://earncommunity.xyz",replacementUrl:"https://t.me/earn?startapp"}].reduce(((e,t)=>{let{originalUrl:n,replacementUrl:a}=t;return e[n]=a,e}),{}),Lg=me((function(e){let{iconUrl:t,name:n,url:a,mode:o,origin:r}=e;const{updateDappLastOpenedAt:i}=Ue(),s=Qi(),l=Cr((async()=>{await Ma(xg[a]||a),setTimeout((()=>{i({origin:r})}),_g)}));return fe.createElement("button",{type:"button",className:ji("uOCr1XIF","pill"===o?"x3JEisHt":"in10zDBl"),onClick:l},function(){const e="pill"===o?Ig:Bg;return t?fe.createElement("div",{className:e},fe.createElement(Sd,{url:t,className:e,imageClassName:"ZwXhUWQR",alt:s("Icon")})):fe.createElement("div",{className:ji(wh.dappLogo,wh.dappLogo_icon,e)},fe.createElement("i",{className:ji(wh.dappIcon,"icon-laptop"),"aria-hidden":!0}))}(),fe.createElement("span",{className:"mqKHkpx5"},n))})),Og={rootSlide:"ZqS6W7iF",slide:"FbWMWVID",list:"eHKjqPA4",landscapeList:"ajulW8PQ",suggestionsMenu:"AcA4Inhz",suggestions:"Rr_OedMn",suggestion:"goh_kbKG",suggestionIcon:"BHtFAOhh",suggestionAddress:"hX1s9Ru4",clearSuggestion:"k4u3y6_t",item:"gSQkL6Gj",trendingImage:"bIf54cAx",imageWrapperScalable:"jnZY0Ppv",trending:"dsHH5C4L",imageWrapper:"oZIOx6b0",infoWrapper:"SmLsrv__",extended:"Qe5qRpIb",withBorder:"yvQQOHrd",badge:"PI6bQC1A",image:"RpIwnHrh",title:"ToW8q6Vp",description:"kd6qUnJ8",telegram:"Y4mdR7QN",emptyList:"OLtywBQ9",emptyListLoading:"i6uQ6HHm",searchWrapper:"VQJfovbk",searchContainer:"Wr0eK8xW",searchIcon:"DdYW9BBn",searchInput:"Gy204QbI",sectionHeader:"HElxzEtm",trendingSection:"bX0D8BEZ",trendingList:"bZc6NN6v"},Pg=new Set(["https://checkin.mytonwallet.org"]),Dg=me(He((e=>{const{dapps:t=Tg}=Je(e)||{},{dappLastOpenedDatesByOrigin:n}=Je(e)||{};return{dapps:t,dappLastOpenedDatesByOrigin:n}}))((function(e){let{dapps:n,dappLastOpenedDatesByOrigin:a={}}=e;const{openSettingsWithState:o,closeExplore:r}=Ue(),i=Qi(),s=ue(null),l=ce((()=>n.slice().filter((e=>!Pg.has(e.origin))).map((e=>({...e,lastOpenedAt:a[e.origin]}))).sort(Fg)),[a,n]),c=l.length>3?"tile":"pill",d="pill"===c,u=d?Ig:Bg,m=ji("nA5QFADu",d?"YTIqRcid":"y5gkmCay",!l.length&&"RcpQnS7j","dapps-feed");if(bg({containerRef:s,isDisabled:t.TF||0===l.length,shouldPreventDefault:!0,contentSelector:".dapps-feed"}),l.length)return fe.createElement("div",{className:"_3Om0rcJ",ref:s},fe.createElement("h2",{className:Og.sectionHeader},i("Connected")),fe.createElement("div",{className:m},null==l?void 0:l.map((e=>function(e,t){const{iconUrl:n,name:a,url:o,origin:r}=e;return fe.createElement(Lg,{key:r,iconUrl:n,name:a,url:o,mode:t,origin:r})}(e,c))),!!l.length&&fe.createElement("div",{className:"kqZ8FwHA",role:"button",tabIndex:0,title:d?i("Settings"):void 0,"aria-label":d?i("Settings"):void 0,onClick:function(){r(void 0,{forceOnHeavyAnimation:!0}),o({state:Gt.Dapps},{forceOnHeavyAnimation:!0})}},fe.createElement("div",{className:ji("S5zvywKS",u)},fe.createElement("i",{className:"icon-params","aria-hidden":!0})),!d&&fe.createElement("span",{className:"CDOOWV_8"},i("Settings")))))})));function Fg(e,t){const n=e.lastOpenedAt||0,a=t.lastOpenedAt||0;return n!==a?a-n:t.connectedAt-e.connectedAt}const Rg=me((function(e){let{site:{url:t,icon:n,name:a,description:o,isExternal:r,extendedIcon:i,withBorder:s,badgeText:l},isTrending:c,className:d}=e;return fe.createElement("div",{className:ji(Og.item,i&&c&&Og.extended,c&&Og.trending,s&&Og.withBorder,d),tabIndex:0,role:"button",onClick:function(){Mo(),Ma(t,{isExternal:r,title:a,subtitle:xa(t)})}},fe.createElement(Sd,{url:i&&c?i:n,className:ji(Og.imageWrapper,!c&&Og.imageWrapperScalable),imageClassName:ji(Og.image,c&&Og.trendingImage)}),fe.createElement("div",{className:Og.infoWrapper},fe.createElement("b",{className:Og.title},a,!c&&Ra(t)&&fe.createElement("i",{className:ji(Og.telegram,"icon-telegram-filled"),"aria-hidden":!0})),fe.createElement("div",{className:Og.description},o)),l&&fe.createElement("div",{className:Og.badge},l))})),Mg=me(He((e=>{var t;return{categories:null===(t=e.exploreData)||void 0===t?void 0:t.categories}}))((function(e){let{id:t,withNotch:n,categories:a}=e;const{closeSiteCategory:o}=Ue(),r=Qi(),{isPortrait:i}=Qa(),s=ce((()=>{var e;return null===(e=a||[])||void 0===e?void 0:e.find((e=>t===e.id))}),[a,t]);return fe.createElement("div",{className:ji("xWsj5_Wk",i&&"with-notch-on-scroll",n&&"is-scrolled")},fe.createElement(Ll,{className:"P2bhPLw0",isSimple:!0,isText:!0,onClick:o},fe.createElement("i",{className:ji("FmQAR1hK","icon-chevron-left"),"aria-hidden":!0}),fe.createElement("span",null,r("Back"))),fe.createElement("h3",{className:"kW1ssngj"},r((null==s?void 0:s.name)||"")))}))),Ug=me((function(e){let{isActive:t,categoryId:n,sites:a}=e;const{closeSiteCategory:o}=Ue(),{isPortrait:r}=Qa();Il({isActive:t,onBack:o});const{handleScroll:i,isScrolled:s}=Fp();return fe.createElement("div",{onScroll:r?i:void 0,className:ji("LxPuuiTJ","custom-scroll")},r&&fe.createElement(Mg,{id:n,withNotch:s}),fe.createElement("div",{className:"Eml6INN5"},a.map((e=>fe.createElement(Rg,{key:`${e.url}-${e.name}`,site:e})))))}));var Wg=function(e){return e[e.main=0]="main",e[e.category=1]="category",e}(Wg||{});const Hg=me(He((e=>{const{browserHistory:n,currentSiteCategoryId:a}=Je(e)||{},{categories:o,sites:r}=e.exploreData||{};return{sites:r,categories:o,shouldRestrict:e.restrictions.isLimitedRegion&&(t.ZH||t.xy),browserHistory:n,currentSiteCategoryId:a}}))((function(n){let{isActive:a,categories:o,sites:r,shouldRestrict:i,browserHistory:s,currentSiteCategoryId:l}=n;const{loadExploreSites:c,getDapps:d,addSiteToBrowserHistory:u,removeSiteFromBrowserHistory:m,openSiteCategory:p,closeSiteCategory:f}=Ue(),h=ue(null),g=ue(void 0),v=ue(null),w=ue(null),y=Qi(),{isLandscape:b,isPortrait:E}=Qa(),[k,N]=re(""),[C,S,A]=yd(!1),[T,I,B]=yd(!1),{renderingKey:_}=Mf(l||0,!!a),x=Nr(Eg(_)),{handleScroll:L,isScrolled:O}=Fp();se((()=>_?Xf(f):void 0),[f,_]);const P=ce((()=>i?null==r?void 0:r.filter((e=>!e.canBeRestricted)):r),[r,i]),D=ce((()=>{const e=k.toLowerCase(),t=null==s?void 0:s.filter((t=>t.toLowerCase().includes(e))),n=e.length&&P?P.filter((t=>{let{url:n,name:a,description:o}=t;return n.toLowerCase().includes(e)||a.toLowerCase().includes(e)||o.toLowerCase().includes(e)})):void 0;return{history:t,sites:n,isEmpty:((null==t?void 0:t.length)||0)+((null==n?void 0:n.length)||0)===0}}),[s,k,P]),{trendingSites:F,allSites:R}=ce((()=>(P||[]).reduce(((e,t)=>(t.isFeatured&&e.trendingSites.push(t),e.allSites[t.categoryId]||(e.allSites[t.categoryId]=[]),e.allSites[t.categoryId].push(t),e)),{trendingSites:[],allSites:{}})),[P]);se((()=>{if(t.TF&&null!=P&&P.length)return Im(v.current,{onSwipeRightStart:f,onCancel:()=>{p({id:x.current})}})}),[null==P?void 0:P.length,x]),bg({containerRef:w,isDisabled:t.TF||0===F.length,shouldPreventDefault:!0,contentSelector:`.${Og.trendingList}`});const M=ce((()=>null==o?void 0:o.filter((e=>{var t;return(null===(t=R[e.id])||void 0===t?void 0:t.length)>0}))),[o,R]);se((()=>{a&&(d(),c({isLandscape:b}))}),[a,b]);const U=Cr((()=>{D.isEmpty||(t.Ni?g.current=window.setTimeout(I,300):I())})),W=Cr((()=>{T&&B(),window.clearTimeout(g.current)}));function H(e,t,n){let a=e;a.startsWith("http:")||a.startsWith("https:")||(a=`https://${a}`),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ba;try{if(!e.match(Ia))return!1;const n=new URL(e);return t.has(n.protocol)}catch(e){return(0,Fn.SJ)("isValidUrl",e),!1}}(a)?u({url:a}):a=`https://www.google.com/search?q=${encodeURIComponent(e)}`,Ma(a,{isExternal:t,title:n,subtitle:xa(a)})}Qs((e=>{let[t]=e;(t&&!C||D.isEmpty)&&W(),C&&!D.isEmpty&&U()}),[C,D.isEmpty]);const $=Cr(((e,t)=>{Mo(),B();const n=null==r?void 0:r.find((e=>{let{url:n}=e;return n===t}));H(t,null==n?void 0:n.isExternal,null==n?void 0:n.name)}));function V(e){N(e.target.value)}const z=Cr((()=>{var e;null===(e=h.current)||void 0===e||e.blur()}));function j(e){qi(e),z(),k.length>0&&(H(k),N(""))}function q(e,t,n){switch(n){case Wg.main:return fe.createElement("div",{className:ji(Og.slide,"custom-scroll"),onScroll:E?L:void 0},fe.createElement("div",{className:ji(Og.searchWrapper,"with-notch-on-scroll",O&&"is-scrolled")},fe.createElement("form",{action:"#",onSubmit:j,className:Og.searchContainer,autoComplete:"off"},fe.createElement("i",{className:ji(Og.searchIcon,"icon-search"),"aria-hidden":!0}),fe.createElement("input",{name:"explore-search",className:Og.searchInput,placeholder:y("Search or enter address"),value:k,autoCorrect:!1,autoCapitalize:"none",spellCheck:!1,inputMode:"url",onChange:V,onFocus:S,onBlur:A})),fe.createElement(eh,{type:"suggestion",noBackdrop:!0,isOpen:Boolean(T&&!D.isEmpty),className:Og.suggestions,bubbleClassName:Og.suggestionsMenu,onClose:z},null==D||null===(a=D.history)||void 0===a?void 0:a.map((e=>fe.createElement(kg,{key:`history-${e}`,className:Og.suggestion,onClick:$,clickArg:e},fe.createElement("i",{className:ji(Og.suggestionIcon,k.length?"icon-search":"icon-globe"),"aria-hidden":!0}),fe.createElement("span",{className:Og.suggestionAddress},xa(e)),fe.createElement("button",{className:Og.clearSuggestion,type:"button","aria-label":y("Clear"),title:y("Clear"),onMouseDown:t=>function(e,t){qi(e),m({url:t})}(t,e),onClick:qi},fe.createElement("i",{className:"icon-close","aria-hidden":!0}))))),null==D||null===(o=D.sites)||void 0===o?void 0:o.map((e=>fe.createElement(Rg,{key:`site-${e.url}-${e.name}`,className:Og.suggestion,site:e}))))),fe.createElement(Dg,null),Boolean(F.length)&&fe.createElement("div",{ref:w,className:Og.trendingSection},fe.createElement("h2",{className:Og.sectionHeader},y("Trending")),fe.createElement("div",{className:Og.trendingList},F.map((e=>fe.createElement(Rg,{key:`${e.url}-${e.name}`,site:e,isTrending:!0}))))),Boolean(null==M?void 0:M.length)&&fe.createElement(fe.Fragment,null,fe.createElement("h2",{className:Og.sectionHeader},y("All Dapps")),fe.createElement("div",{className:ji(Og.list,b&&Og.landscapeList)},M.map((e=>fe.createElement(Ag,{key:e.id,category:e,sites:R[e.id]}))))));case Wg.category:{const t=R[_];if(!t)return;return fe.createElement(Ug,{key:_,isActive:e,categoryId:_,sites:t})}}var a,o}return void 0===P?fe.createElement("div",{className:ji(Og.emptyList,Og.emptyListLoading)},fe.createElement(oh,null)):0===P.length?fe.createElement("div",{className:Og.emptyList},fe.createElement(lm,{play:a,tgsUrl:xu.happy,previewUrl:xu.happyPreview,size:e.igk,className:Og.sticker,noLoop:!1,nonInteractive:!0}),fe.createElement("p",{className:Og.emptyListTitle},y("No partners yet"))):fe.createElement(Km,{ref:v,name:Rf(),activeKey:_?Wg.category:Wg.main,withSwipeControl:!0,className:Og.rootSlide},q)}))),$g=me((function(e){let{isActive:t,isStatic:n,hardwareWallets:a,accounts:o,onBackButtonClick:r,onCancel:i,onClose:s}=e;const{afterSelectHardwareWallets:l,loadMoreHardwareWallets:c}=Ue(),d=Qi(),[u,m]=re([]),p=!i;Il({isActive:t,onBack:null!=i?i:s}),$u(Boolean(t));const f=Cr((e=>{u.includes(e)?m(u.filter((t=>t!==e))):m(u.concat([e]))})),h=Cr((()=>{l({hardwareSelectedIndices:u}),s()})),g=ce((()=>Object.values(null!=o?o:[]).map((e=>{let{addressByChain:{ton:t}}=e;return t}))),[o]),v=Cr((()=>{var e,t;const n=null!=a?a:[],o=null!==(e=null===(t=n[n.length-1])||void 0===t?void 0:t.index)&&void 0!==e?e:0;c({lastIndex:o})})),w=!u.length,y=u.length?d("%1$d Selected",u.length):d("Select Ledger Wallets");return fe.createElement(fe.Fragment,null,n?fe.createElement("div",{className:$p.header},fe.createElement(Ll,{isSimple:!0,isText:!0,onClick:s,className:$p.headerBack},fe.createElement("i",{className:ji($p.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),fe.createElement("span",null,d("Back"))),fe.createElement("span",{className:$p.headerTitle},y)):fe.createElement(Hp,{title:y,onBackButtonClick:r,onClose:r?void 0:s}),fe.createElement("div",{className:ji(Kf.container,n&&Kf.containerStatic,n&&"static-container")},function(){const e=null!=a?a:[],t=ji(Kf.accounts,1===e.length&&Kf.accounts_two,"custom-scroll");return fe.createElement("div",{className:t},e.map((e=>{let{address:t,balance:n,index:a}=e;return function(e,t,n,a){const o=a||u.includes(n);return fe.createElement("div",{key:e,className:ji(Kf.account,o&&Kf.account_current),onClick:a?void 0:()=>f(n)},fe.createElement("span",{className:Kf.accountName},fe.createElement("i",{className:ji(Kf.accountCurrencyIcon,"icon-ton"),"aria-hidden":!0}),Jo((0,vt.nI)(t),"",3)),fe.createElement("div",{className:Kf.accountFooter},fe.createElement("span",{className:Kf.accountAddress},Wr(e,4,4))),fe.createElement("div",{className:ji(Kf.accountCheckMark,o&&Kf.accountCheckMark_active)}))}(t,n,a,g.includes(t))})),fe.createElement(Ll,{className:Kf.addAccountContainer,onClick:v},d("Add Wallet"),fe.createElement("i",{className:ji(Kf.addAccountIcon,"icon-plus"),"aria-hidden":!0})))}(),fe.createElement("div",{className:Kf.actionBlock},fe.createElement(Ll,{className:Kf.button,onClick:p?s:i},d(p?"Cancel":"Back")),fe.createElement(Ll,{isPrimary:!0,isDisabled:w,onClick:h,className:Kf.button},d("Add")))))}));var Vg=function(e){return e[e.Password=0]="Password",e[e.Connect=1]="Connect",e[e.SelectWallets=2]="SelectWallets",e}(Vg||{});const zg=me(He((e=>{const t=Ye(e),{hardwareWallets:n,hardwareState:a,isLedgerConnected:o,isTonAppConnected:r,isRemoteTab:i}=e.hardware;return{accounts:t,hardwareWallets:n,hardwareState:a,isLedgerConnected:o,isTonAppConnected:r,isRemoteTab:i,areSettingsOpen:e.areSettingsOpen}}))((function(e){let{isOpen:n,onClose:a,hardwareWallets:o,accounts:r,hardwareState:i,isLedgerConnected:s,isTonAppConnected:l,isRemoteTab:c,areSettingsOpen:d}=e;const{afterSelectHardwareWallets:u,resetHardwareWalletConnect:m}=Ue(),[p,f]=re(Vg.Connect),[h]=re(Vg.SelectWallets),g=Cr((()=>{u({hardwareSelectedIndices:[o[0].index]}),a()})),v=Cr((e=>{e?g():f(Vg.SelectWallets)})),w=Cr((()=>{f(Vg.Connect),m()}));function y(e,n,d){switch(d){case Vg.Connect:return fe.createElement(vh,{isActive:e,state:i,shouldDelegateToNative:t.KI,isLedgerConnected:s,isTonAppConnected:l,isRemoteTab:c,onConnected:v,onClose:a});case Vg.SelectWallets:return fe.createElement($g,{isActive:e,accounts:r,hardwareWallets:o,onClose:a})}}return fe.createElement(Sc,{isOpen:n,hasCloseButton:!0,onClose:a,onCloseAnimationEnd:w,dialogClassName:ji(Kf.modalDialog,d&&Kf.modalDialogInsideSettings)},fe.createElement(Km,{name:Rf(),className:ji(bc.transition,"custom-scroll"),slideClassName:bc.transitionSlide,activeKey:p,nextKey:h},y))}))),jg=document.querySelector('meta[name="viewport"]'),qg=(null==jg?void 0:jg.getAttribute("content"))||"",Kg="width=device-width, initial-scale=1, shrink-to-fit=no, viewport-fit=cover";function Yg(e,t,n){const a=`ton://transfer/${e}`,o=[];return t&&o.push(`amount=${t}`),n&&o.push(`text=${encodeURIComponent(n)}`),0===o.length?a:`${a}?${o.join("&")}`}function Qg(t,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.I04,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=t.includes("."),[i="0",s]=r?t.split("."):[t],l=o?i.replace(/\d(?=(\d{3})+($|\.))/g,`$&${e.MS3}`):i,c=r?`.${(s||"").substring(0,a)}`:"",d=n?`&thinsp;${n}`:"";return`${l}${c||d?`<span class="Q68NbVRf">${c}${d}</span>`:""}`}const Gg=function(e,t){const n=ue(!1),a=ue(document.createElement("div"));return{updateFontScale:o=>{const r=e.current;(0,yp.bo)((()=>{if(null==r||!r.offsetParent)return;let{clientWidth:e}=t?r.parentElement:r;if(t){const{paddingLeft:t,paddingRight:n}=getComputedStyle(r);e-=parseFloat(t)+parseFloat(n)}a.current.className=ji(r.className,"measure-hidden"),a.current.style.width=`${e}px`,a.current.innerHTML=o,document.body.appendChild(a.current);let i=1;for(;i>.25&&(a.current.style.setProperty("--base-font-size",i.toString()),!(a.current.scrollWidth<=e));)i-=.05;n.current=i<1,document.body.removeChild(a.current),a.current.className="",r.style.setProperty("--base-font-size",i.toString())}))},isFontChangedRef:n}};function Xg(e){var t;return e&&null!==(t=e.trim().replace(",",".").replace(/[^\d.]/g,"").replace(/^0+(?=([1-9]|0\.))/,"").replace(/^0+$/,"0"))&&void 0!==t?t:""}const Jg=me((function(t){let{id:n,labelText:a,hasError:o,isLoading:r=!1,suffix:i,value:s,children:l,className:c,inputClassName:d,labelClassName:u,valueClassName:m,cornerClassName:p,onChange:f,onBlur:h,onFocus:g,onPressEnter:v,onInputClick:w,decimals:y=e.I04,disabled:b=!1,isStatic:E=!1,size:k="large"}=t;const N=ue(null),C=Qi(),[S,A,T]=yd(!1),{updateFontScale:I,isFontChangedRef:B}=Gg(N),_=ue(""),x=Cr((e=>{const t=N.current,n=Qg(e,i,y);if(n!==t.innerHTML){const e=document.activeElement===t?function(e,t){var n;const a=window.getSelection();if(!a||0===a.rangeCount)return;const o=a.getRangeAt(0);o.setStart(e,0);const r=o.toString().match(new RegExp(`(\\d+(?:[.,]\\d{0,${t}})?)`)),i=(null==r||null===(n=r[0])||void 0===n?void 0:n.length)||o.toString().length||0;return function(){try{const{node:t,position:n}=function(e,t){const n=NodeFilter.SHOW_TEXT;return{node:document.createTreeWalker(e,n,(e=>t>e.textContent.length?(t-=e.textContent.length,NodeFilter.FILTER_REJECT):NodeFilter.FILTER_ACCEPT)).nextNode()||e,position:t}}(e,i);a.removeAllRanges();const o=new Range;o.setStart(t,n),o.setEnd(t,n),a.addRange(o)}catch(e){}}}(t,y):void 0;t.innerHTML=n,null==e||e()}(e.length>5||B.current)&&I(n)}));le((()=>{const e=Xg(s);e&&_.current.startsWith(e)||(x(e),_.current=e)}),[y,_,s]);const L=Cr((()=>{b||(A(),null==g||g())})),O=Cr((()=>{b||(T(),null==h||h())})),P=ji(hm,E&&"_30fntf1",o&&mm,S&&"xJ8YLUEc",d),D=ji(dm,um,"large"===k&&fm,m,b&&pm,r&&"oLkTqd0H","rounded-font"),F=ji(gm,o&&mm,u),R=ji(p,S&&"hcCyNq6V",o&&"tRQeFT_t");return fe.createElement("div",{className:ji(cm,c)},Boolean(a)&&fe.createElement("label",{className:F,htmlFor:n,id:`${n}Label`},a),fe.createElement("div",{className:P},fe.createElement("div",{ref:N,contentEditable:!b&&!r,id:n,role:"textbox","aria-required":!0,"aria-placeholder":C("Amount value"),"aria-labelledby":a?`${n}Label`:void 0,tabIndex:0,inputMode:"decimal",className:D,onKeyDown:e=>{"Enter"===e.key&&(null==v||v(e))},onChange:function(e){var t;const n=Xg(null!==(t=e.currentTarget.textContent)&&void 0!==t?t:void 0);var a;x(n),n!==_.current&&(_.current=n,f&&(a=n,!Number.isNaN(Number(a)))&&f(n))},onFocus:L,onBlur:O,onClick:w}),l),p&&fe.createElement("div",{className:R}))})),Zg={modalDialog:"pOo4Z_aH",iosModalDialog:"q6jp1iyp",contentWrapper:"jvZQQwjc",content:"SRNIOpBE",contentTitle:"GKe6CMiw",contentTitleQr:"FleNuH6I",contentTitleLedger:"uEJfLLFI",contentTitleLedgerStatic:"zolk8bhu",tabsInModal:"kxmoYeWl",receiveHeader:"k3MxFquM",receiveHeaderNoTabs:"RJOW3R8W",contentStatic:"CDl3KL71",tabs:"Bq7mtmdH",tab:"YpO46ybD",qrCode:"Bol24ap4",qrCodeStatic:"VkwtgLpL",qrCodeHidden:"yC4eGg0t",labelForInvoice:"ykqIpMy7",addressWrapper:"aUXplGt1",copyButtonStatic:"EbsE8cY6",tokenDropdown:"N9176Gyt",invoiceComment:"U6Z9qzVb",dottedLink:"xzGjTX1X",actionButtons:"QxrwhhFf",actionButton:"ARg65twE"},ev=me(He((e=>{var t;const n=null===(t=Xe(e,e.currentAccountId))||void 0===t||null===(t=t.addressByChain)||void 0===t?void 0:t.ton;return{isOpen:e.isInvoiceModalOpen,address:n,tokens:Et(e)}}))((function(t){let{address:n,isOpen:a,tokens:o}=t;const{closeInvoiceModal:r}=Ue(),i=Qi(),[s,l]=re(void 0),[c,d]=re(""),[u,m]=re(!1),p=n?Yg(n,s,c):"",f=e.Tu9.decimals,h=ce((()=>o?o.reduce(((t,n)=>(n.slug===e.Tu9.slug&&t.push({value:n.slug,icon:n.image||ms[n.symbol.toLowerCase()],name:n.symbol}),t)),[]):[]),[o]),g=Cr((e=>{if(m(!1),!e)return void l(void 0);const t=(0,vt.UH)(e,f);t<0?m(!0):l(t)}));return fe.createElement(Sc,{isOpen:a,hasCloseButton:!0,title:i("Deposit Link"),contentClassName:Zg.content,nativeBottomSheetKey:"invoice",onClose:r},fe.createElement("div",{className:Zg.contentTitle},qo(i("$receive_invoice_description"))),fe.createElement(Jg,{key:"amount",id:"amount",hasError:u,value:void 0===s?void 0:(0,vt.nI)(s),labelText:i("Amount"),onChange:g},fe.createElement(sh,{items:h,selectedValue:e.Tu9.slug,className:Zg.tokenDropdown})),fe.createElement(wm,{value:c,label:i("Comment"),placeholder:i("Optional"),wrapperClassName:Zg.invoiceComment,onInput:d}),fe.createElement("p",{className:Zg.labelForInvoice},i("Share this URL to receive TON")),fe.createElement(Hh,{text:p,copyNotification:i("Invoice link was copied!"),className:Zg.invoiceLinkField}))}))),tv=new Map,nv={width:0,left:0,height:0,top:0};function av(e,t,n,a,o){const[r,i]=re("right"),[s,l]=re("bottom"),[c,d]=re(),[u,m]=re(),[p,f]=re(!1),[h,g]=re(""),[v,w]=re("opacity: 0;");return se((()=>{const r=t();if(!e||!r)return;let{x:s,y:c}=e;const u=s,p=c,h=a(),v=n(),{withPortal:y=!1}=(null==o?void 0:o())||{},b=h?parseInt(getComputedStyle(h).marginTop,10):void 0,{offsetWidth:E,offsetHeight:k}=h||{offsetWidth:0,offsetHeight:0},N=h?{width:E,height:k+b}:nv,C=v?v.getBoundingClientRect():nv;let S,A;s-N.width-C.left>0?(S="right",s-=3):(S="left",s=16),i(S),c+N.height<C.height+C.top?A="top":(A="bottom",c-N.height<C.top&&(c=C.top+C.height)),l(A);const T=r.getBoundingClientRect(),I=y?T.top:0,B=y?T.left:0,_=Math.min(s-T.left,C.width-N.width-16),x=("left"===S?y?Math.max(16,_):_:s-T.left)+B,L=c-T.top+I,O=C.height-12-(b||0);f(O<N.height),w(`max-height: ${O}px;`),g(`left: ${x}px; top: ${L}px`);const P=u+B-T.left-x,D=p+I-T.top-L-(b||0);d("left"===S?P:N.width+P),m("bottom"===A?N.height+D:D)}),[e,a,n,t,o]),{positionX:r,positionY:s,transformOriginX:c,transformOriginY:u,style:h,menuStyle:v,withScroll:p}}const ov="O4d43EtE",rv="QAOyOloL",iv="K0kRAFlY",sv=function(e){let{className:t,title:n,isActive:a,previousActiveTab:o,menuItems:r,onClick:i,clickArg:s,onMenuItemClick:l}=e;const c=ue(null),d=ue(null),[u,m]=re(),p=Boolean(null==r?void 0:r.length),f=Boolean(u),h=Cr((()=>d.current)),g=Cr((()=>document.body)),v=Cr((()=>document.querySelector("#portals .menu-bubble"))),w=Cr((()=>({withPortal:!0}))),y=Cr((()=>m(void 0))),{positionY:b,transformOriginX:k,transformOriginY:N,style:C}=av(u,h,g,v,w),S=Cr((()=>{if(!a||p)if(a)if(f)y();else{const{right:e,y:t,height:n}=d.current.getBoundingClientRect();m({x:e,y:t+n})}else i(s)}));return le((()=>{a&&void 0===o&&c.current&&pc(c.current,ov)}),[a,o]),se((()=>{if(!a||void 0===o)return;const e=c.current,t=e.parentElement.children[o];if(!t)return void(a&&!e.classList.contains(ov)&&(0,E.RK)((()=>{pc(e,ov)})));const n=e.querySelector(`.${rv}`),r=t.querySelector(`.${rv}`),i=r.parentElement.offsetLeft-n.parentElement.offsetLeft,s=r.clientWidth/n.clientWidth;(0,E.RK)((()=>{fc(r,iv),fc(n,iv),gc(n,{transform:`translate3d(${i}px, 0, 0) scale3d(${s}, 1, 1)`}),(0,E.gm)((()=>(Um(n),()=>{pc(n,iv),gc(n,{transform:"none"}),fc(t,ov),pc(e,ov)})))}))}),[a,o]),fe.createElement("div",{className:ji("D6as8ltx",t,p&&"MiCetFPJ"),onClick:S,ref:c},fe.createElement("span",{className:"vwr4su2y",ref:d},n,p&&a&&fe.createElement("i",{className:"icon-caret-down","aria-hidden":!0}),fe.createElement("i",{className:rv,"aria-hidden":!0})),p&&fe.createElement(nh,{isOpen:f,items:r,withPortal:!0,buttonClassName:"tUY9MzOP",menuPositionHorizontal:"right",menuPosition:b,menuStyle:C,transformOriginX:k,transformOriginY:N,onSelect:l,onClose:y}))},lv=t.pz?450:t.Ni?400:300,cv=me((function(e){let{tabs:t,activeTab:n,big:a,className:o,withBorder:r,onSwitchTab:i}=e;const s=ue(null),l=sl(n),d=ji("Jya4TQTw",a&&"lM5X6ama",r&&"edZdDyi5","no-scrollbar",o);return bg({containerRef:s,shouldPreventDefault:!0}),se((()=>{const e=s.current,{scrollWidth:t,offsetWidth:a,scrollLeft:o}=e;if(t<=a)return;const r=e.childNodes[n];if(!r)return;const{offsetLeft:i,offsetWidth:l}=r,d=i-a/2+l/2;Math.abs(d-o)<16||function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300;const a="rtl"===e.getAttribute("dir"),{scrollLeft:o,offsetWidth:r,scrollWidth:i,dataset:{scrollId:s}}=e;let l=t-o;if(l<0){const e=-o*(a?-1:1);l=Math.max(l,e)}else if(l>0){const e=i-(o+r);l=Math.min(l,e)}if(0===l)return Promise.resolve();s&&tv.has(s)&&tv.get(s)();const d=o+l;new Promise((t=>{(0,E.RK)((()=>{if(0===n)return e.scrollLeft=d,void t();let a=!1;const o=Math.random().toString();e.dataset.scrollId=o,tv.set(o,(()=>{a=!0})),e.style.scrollSnapType="none";const r=Date.now();(0,c.i0)((()=>{if(a)return!1;const i=Math.min((Date.now()-r)/n,1),s=l*(1-function(e){return 1-(1-e)**3.5}(i));return e.scrollLeft=Math.round(d-s),i>=1&&(e.style.scrollSnapType="",delete e.dataset.scrollId,tv.delete(o),t()),i<1}),E.RK)}))}))}(e,d,lv)}),[n]),fe.createElement("div",{ref:s,className:d},t.map(((e,t)=>fe.createElement(sv,{key:e.title,title:e.title,isActive:t===n,previousActiveTab:l,className:null==e?void 0:e.className,menuItems:null==e?void 0:e.menuItems,onMenuItemClick:null==e?void 0:e.onMenuItemClick,onClick:i,clickArg:e.id}))))})),dv="eWsAO42f",uv="E2TFEkdV",mv="GUHQ1MCW",pv="wOo6dgfN",fv="Zc6rtbsT",hv="onRwV8fb",gv=me(He((e=>{const{isSwapDisabled:t,isOnRampDisabled:n}=e.restrictions;return{isTestnet:e.settings.isTestnet,isSwapDisabled:t,isOnRampDisabled:n}}))((function(t){let{className:n,isStatic:a,isTestnet:o,isLedger:r,isSwapDisabled:i,isOnRampDisabled:s,onClose:l}=t;const{startSwap:c,openOnRampWidgetModal:d,openInvoiceModal:u,closeReceiveModal:m}=Ue(),p=Qi(),f=!o&&!r&&!i,h=!o&&!s,g=Cr((()=>{d({chain:"ton"}),null==l||l()})),v=Cr((()=>{c({tokenInSlug:e.Czf,tokenOutSlug:e.Tu9.slug,amountIn:"100"}),null==l||l()})),w=Cr((()=>{m(),u(),null==l||l()})),y=ji(dv,a&&uv,n);return fe.createElement("div",{className:y},h&&fe.createElement("div",{className:mv,onClick:g},fe.createElement("i",{className:ji(fv,"icon-card"),"aria-hidden":!0}),p("Buy with Card"),fe.createElement("i",{className:ji(hv,"icon-chevron-right"),"aria-hidden":!0})),f&&fe.createElement("div",{className:mv,onClick:v},fe.createElement("i",{className:ji(fv,"icon-crypto"),"aria-hidden":!0}),p("Buy with Crypto"),fe.createElement("i",{className:ji(hv,"icon-chevron-right"),"aria-hidden":!0})),fe.createElement("div",{className:mv,onClick:w},fe.createElement("i",{className:ji(fv,"icon-link"),"aria-hidden":!0}),p("Create Deposit Link"),fe.createElement("i",{className:ji(hv,"icon-chevron-right"),"aria-hidden":!0})))}))),vv=i.p+"chain_avalanche.f5a22f3024a79c2a9f7e.svg",wv=i.p+"chain_bitcoin.f45ee04748fc010b73f0.svg",yv=i.p+"chain_bitcoincash.e58775a726a28f67a7ab.svg",bv=i.p+"chain_bnb.01e2f3e1ea67de53c558.svg",Ev={avalanche:vv,bitcoin:wv,bitcoin_cash:yv,binance_smart_chain:bv,binance_dex:bv,cardano:i.p+"chain_cardano.687768b5a8564f340656.svg",cosmos:i.p+"chain_cosmos.a7db04679752fce24427.svg",dash:i.p+"chain_dash.cda178d1c80b14b84c65.svg",doge:i.p+"chain_doge.299dffe46d1d20ecb64e.svg",eos:i.p+"chain_eos.5d77746a1d3fe4f879d9.svg",ethereum:i.p+"chain_ethereum.3af0d0aca7d489e97c88.svg",ethereum_classic:i.p+"chain_ethereumclassic.7a2a50f776866f7dc57f.svg",internet_computer:i.p+"chain_internetcomputer.a779e5a83feca271c1b5.svg",iota:i.p+"chain_iota.74e7a3ff559ca5be6171.svg",litecoin:i.p+"chain_litecoin.200bd2979f34cbf91fee.svg",monero:i.p+"chain_monero.80470738ce04482ad225.svg",polkadot:i.p+"chain_polkadot.ce8946cba8f597bc6435.svg",ripple:i.p+"chain_ripple.d4675f4b4373f6c8fdf4.svg",solana:i.p+"chain_solana.3628ba06de78d3bc2018.svg",stellar:i.p+"chain_stellar.f7eb720521e4d55bb082.svg",ton:i.p+"chain_ton.65285e35dece81bdab6c.svg",tron:i.p+"chain_tron.78feaed45ec98c6779ca.svg",zcash:i.p+"chain_zcash.51dd09d4e46c4b2f1ace.svg"};function kv(e){var t;return e?null!==(t=Ev[e])&&void 0!==t?t:e:""}let Nv;function Cv(t){let{address:n,chain:a,isActive:o,hiddenClassName:r,hideLogo:s,withFormatTransferUrl:l}=t;const[c,d]=re(!!Nv),u=e.TI6?"./coreWallet/logo.svg":"./logo.svg",m=ue(null);return se((()=>{c||i.e(283).then(i.t.bind(i,97283,23)).then((e=>{let{default:t}=e;Nv=new t({width:600,height:600,image:a?kv(a):u,margin:0,type:"canvas",dotsOptions:{type:"rounded"},cornersSquareOptions:{type:"extra-rounded"},imageOptions:{imageSize:.4,margin:8,crossOrigin:"anonymous"},qrOptions:{errorCorrectionLevel:"M"},data:Yg("")}),d(!0)}))}),[a,c,u]),le((()=>{var e;o&&c&&(m.current&&r&&fc(m.current,r),m.current&&(null===(e=Nv)||void 0===e||e.append(m.current),Nv._options.image=s?void 0:a?kv(a):u))}),[o,c,r,s,a,u]),se((()=>{n&&o&&Nv&&c&&Nv.update({data:l?Yg(n):n})}),[n,o,c,l]),{qrCodeRef:m,isInitialized:c}}const Sv=me((function(e){let{isActive:t,isStatic:n,isLedger:a,address:o,onClose:r}=e;const{verifyHardwareAddress:i}=Ue(),s=Qi(),{qrCodeRef:l,isInitialized:c}=Cv({address:o,chain:"ton",isActive:t,hiddenClassName:Zg.qrCodeHidden,withFormatTransferUrl:!0}),d=ji(Zg.qrCode,n&&Zg.qrCodeStatic,!c&&Zg.qrCodeHidden);return fe.createElement("div",null,fe.createElement("div",{className:ji(Zg.contentTitle,Zg.contentTitleQr)},qo(s("$receive_ton_description"))),fe.createElement("div",{className:d,ref:l}),fe.createElement(Hh,{chain:"ton",address:o,className:n?Zg.copyButtonStatic:Zg.addressWrapper,copyNotification:s("Your address was copied!"),noSavedAddress:!0,noDimming:!0}),a&&fe.createElement("div",{className:ji(Zg.contentTitle,Zg.contentTitleLedger,n&&Zg.contentTitleLedgerStatic)},qo(s("$ledger_verify_address"))," ",fe.createElement("a",{href:"#",onClick:e=>{e.preventDefault(),e.stopPropagation(),i()},className:Zg.dottedLink},s("Verify now"))),!n&&fe.createElement(gv,{isLedger:a,onClose:r}))})),Av=me(He((e=>{const{isSwapDisabled:t,isOnRampDisabled:n,countryCode:a}=e.restrictions;return{isTestnet:e.settings.isTestnet,isSwapDisabled:t,isOnRampDisabled:n,countryCode:a}}))((function(t){let{className:n,isStatic:a,isTestnet:o,isLedger:r,isSwapDisabled:i,isOnRampDisabled:s,countryCode:l,onClose:c}=t;const{startSwap:d,openOnRampWidgetModal:u}=Ue(),m=Qi(),p="RU"!==l,f=!o&&!r&&!i,h=!o&&!s&&(p||a),g=Boolean(f||h||a),v=Cr((()=>{u({chain:"tron"}),null==c||c()})),w=Cr((()=>{d({tokenInSlug:e.iX4,tokenOutSlug:e.X7T.slug,amountIn:"10"}),null==c||c()})),y=ji(dv,a&&uv,n);if(g)return fe.createElement("div",{className:y},h&&fe.createElement("div",{className:ji(mv,!p&&pv),onClick:p?v:void 0},fe.createElement("i",{className:ji(fv,"icon-card"),"aria-hidden":!0}),m("Buy with Card"),fe.createElement("i",{className:ji(hv,"icon-chevron-right"),"aria-hidden":!0})),f&&fe.createElement("div",{className:mv,onClick:w},fe.createElement("i",{className:ji(fv,"icon-crypto"),"aria-hidden":!0}),m("Buy with Crypto"),fe.createElement("i",{className:ji(hv,"icon-chevron-right"),"aria-hidden":!0})),a&&fe.createElement("div",{className:ji(mv,pv)},fe.createElement("i",{className:ji(fv,"icon-link"),"aria-hidden":!0}),m("Create Deposit Link"),fe.createElement("i",{className:ji(hv,"icon-chevron-right"),"aria-hidden":!0})))}))),Tv=me((function(e){let{isActive:t,isStatic:n,address:a,onClose:o}=e;const r=Qi(),{qrCodeRef:i,isInitialized:s}=Cv({address:a,chain:"tron",isActive:t,hiddenClassName:Zg.qrCodeHidden,withFormatTransferUrl:!1}),l=ji(Zg.qrCode,n&&Zg.qrCodeStatic,!s&&Zg.qrCodeHidden);return fe.createElement("div",null,fe.createElement("div",{className:ji(Zg.contentTitle,Zg.contentTitleQr)},qo(r("$receive_tron_description"))),fe.createElement("div",{className:l,ref:i}),fe.createElement(Hh,{chain:"tron",address:a,className:n?Zg.copyButtonStatic:Zg.addressWrapper,copyNotification:r("Your address was copied!"),noSavedAddress:!0,noDimming:!0}),!n&&fe.createElement(Av,{onClose:o}))})),Iv=me(He((e=>{const t=Xe(e,e.currentAccountId);return{addressByChain:null==t?void 0:t.addressByChain,isLedger:Boolean(null==t?void 0:t.ledger)}}),((e,t,n)=>n(e.currentAccountId)))((function(e){let{isOpen:t,addressByChain:n,isStatic:a,isLedger:o,onClose:r}=e;const i=Qi(),{isPortrait:s}=Qa(),l=ce((()=>{const e=[];return null!=n&&n.ton&&e.push({id:0,title:"TON",className:Zg.tab}),null!=n&&n.tron&&e.push({id:1,title:"TRON",className:Zg.tab}),e}),[null==n?void 0:n.ton,null==n?void 0:n.tron]),[c,d]=re(l.length?l[0].id:0);function u(e,i,s){switch(s){case 0:return fe.createElement(Sv,{isActive:t&&e,isStatic:a,isLedger:o,address:n.ton,onClose:r});case 1:return fe.createElement(Tv,{isActive:t&&e,isStatic:a,address:n.tron,onClose:r})}}var m;if(l.length)return fe.createElement(fe.Fragment,null,a&&(1===(null===(m=l[c])||void 0===m?void 0:m.id)?fe.createElement(Av,{isStatic:!0}):fe.createElement(gv,{isStatic:!0,isLedger:o})),l.length>1&&fe.createElement(cv,{withBorder:!0,tabs:l,activeTab:c,className:ji(Zg.tabs,!a&&Zg.tabsInModal),onSwitchTab:d}),fe.createElement(Km,{key:`content_${i.code}`,activeKey:c,name:s?"slide":"slideFade",className:Zg.contentWrapper,slideClassName:ji(Zg.content,a&&Zg.contentStatic,"custom-scroll"),shouldRestoreHeight:a},u))}))),Bv=me(He((e=>{const{isSwapDisabled:t,isOnRampDisabled:n}=e.restrictions,a=Ge(e);return{isOpen:e.isReceiveModalOpen,isTestnet:e.settings.isTestnet,isSwapDisabled:t,isOnRampDisabled:n,isLedger:Boolean(null==a?void 0:a.ledger),isMultichainAccount:dt(e,e.currentAccountId)}}))((function(e){let{isOpen:n,isTestnet:a,isLedger:o,isSwapDisabled:r,isOnRampDisabled:i,isMultichainAccount:s}=e;const{closeReceiveModal:l}=Ue(),c=Qi(),{isLandscape:d}=Qa(),u=c((a||o||r)&&(a||i)?"Add":"Add / Buy");return se((()=>{n&&d&&l()}),[d,n]),fe.createElement(Sc,{isOpen:n,dialogClassName:t.ZH?Zg.iosModalDialog:Zg.modalDialog,nativeBottomSheetKey:"receive",onClose:l},fe.createElement(Hp,{title:u,className:ji(Zg.receiveHeader,!s&&Zg.receiveHeaderNoTabs),onClose:l}),fe.createElement(Iv,{isOpen:n,onClose:l}))}))),_v={wrapper:"XPeM0_U7",icon:"FoSSGfFn",small:"Zb5vM0UM",middle:"d5dxI69w",fallbackIcon:"p13LUS2n",blockchainIcon:"CMIQ9vCY"},xv=me((function(e){let{token:t,size:n,withChainIcon:a,className:o,iconClassName:r,children:i}=e;const{symbol:s,image:l,chain:c}=t,d=ms[s.toLowerCase()]||l,[u,m]=yd(!1);return fe.createElement("div",{className:ji(_v.wrapper,o)},u?fe.createElement("div",{className:ji(_v.icon,n&&_v[n],_v.fallbackIcon)},t.symbol.slice(0,1)):fe.createElement("img",{src:d,alt:s,className:ji(_v.icon,n&&_v[n],r),draggable:!1,onError:m}),a&&c&&fe.createElement("img",{src:kv(c),alt:"",className:ji(_v.blockchainIcon,n&&_v[n]),draggable:!1}),i)})),Lv={root:"o0ZmVyIN",purple:"DJCb7ytz",tokenIcon:"O2XO33Bj",chainIcon:"UKA4ZfVj",green:"IHTEYaZx",nftIcon:"kRGDvyHS",image:"Q3m3aAJ1",text:"LrHNEZly",bold:"GQC2YXcS"},Ov=me((function(e){let{tokenIn:t,imageUrl:n,text:a,withChainIcon:o,tokenOut:r,secondText:i,color:s,className:l}=e;const c=Qi(),d=ji(Lv.root,s&&Lv[s],l);return fe.createElement("div",{className:d},t&&!n&&fe.createElement(xv,{token:t,withChainIcon:o,size:"small",className:Lv.tokenIcon}),n&&fe.createElement("div",{className:Lv.nftIcon},fe.createElement("img",{src:n,alt:"",className:Lv.image}),o&&(null==t?void 0:t.chain)&&fe.createElement("img",{src:kv(t.chain),alt:"",className:Lv.chainIcon,draggable:!1})),fe.createElement("span",{className:Lv.text},i?c("%amount% to %address%",{amount:fe.createElement("span",{className:Lv.bold},a),address:fe.createElement("span",{className:Lv.bold},i)}):fe.createElement("span",{className:Lv.bold},a)),r&&fe.createElement(xv,{token:r,withChainIcon:o,size:"small",className:Lv.tokenIcon}))})),Pv={sticker:"BQ2dFF1C",amount:"ZK1jiZZ7",amount_purple:"A4q4bGl9",amountPurple:"A4q4bGl9",amount_green:"juLGV08g",amountGreen:"juLGV08g",amountSymbol:"pIw09HQw",amountFraction:"AxDVO85U",buttons:"VBRINuzy",buttonsAfterNft:"kg0TjtvC",button:"ONW_pS7t"},Dv=me((function(t){let{playAnimation:n,amount:a=0n,tokenSymbol:o=e.Tu9.symbol,decimals:r=e.Tu9.decimals,noSign:i,color:s,firstButtonText:l,secondButtonText:c,onFirstButtonClick:d,onSecondButtonClick:u}=t;const m=(0,vt.nI)(a,r),[p,f]=Zo(m,"",i,r).split(".");return fe.createElement(fe.Fragment,null,fe.createElement(lm,{play:n,noLoop:!1,nonInteractive:!0,className:Pv.sticker,tgsUrl:xu.thumbUp,previewUrl:xu.thumbUpPreview}),fe.createElement("div",{className:ji(Pv.amount,s&&Pv[`amount_${s}`],"rounded-font")},p.trim().replace(" ","").replace("-","−"),f&&fe.createElement("span",{className:Pv.amountFraction},".",f.trim()),fe.createElement("span",{className:Pv.amountSymbol},o)),function(){if(l||c)return fe.createElement("div",{className:Pv.buttons},l&&fe.createElement(Ll,{className:Pv.button,onClick:d},l),c&&fe.createElement(Ll,{className:Pv.button,onClick:u},c))}())})),Fv=(0,je.A)((e=>0===e?/^(\d+)/:new RegExp(`^(\\d+)([.,])?(\\d{1,${e}})?`))),Rv=me((function(t){let{id:n,labelText:a,value:o,error:r,suffix:i,zeroValue:s,decimals:l=e.I04,className:c,inputClassName:d,labelClassName:u,valueClassName:m,children:p}=t;const f=ue(null),h=ue(""),{updateFontScale:g,isFontChangedRef:v}=Gg(f,!0),w=Cr((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=f.current,a=Fv(l),o=e.match(a);if(null===o||o.length<4||""===o[0])return void(t||""===e?(h.current="",n.innerText=""):w(h.current,!0));const r=(null==o?void 0:o[0])||"";h.current=e;const s=Qg(e,i,l,!0);n.innerHTML=s,(r.length>5||v.current)&&g(s)}));le((()=>{o?w(o):s&&(f.current.innerHTML=s)}),[l,w,o,s]);const y=ji(hm,d),b=ji(dm,um,fm,pm,r&&mm,m,"rounded-font"),E=ji(gm,u);return fe.createElement("div",{className:ji(cm,c)},r&&fe.createElement("label",{className:ji(gm,vm,mm),htmlFor:n},r),a&&fe.createElement("label",{className:E,htmlFor:n,id:`${n}Label`},a),fe.createElement("div",{className:y},fe.createElement("div",{ref:f,id:n,className:b}),p))})),Mv={modalDialog:"oJIiPolp",welcome:"TiFPq3C6",welcome_static:"Rv6oYnJ8",welcomeStatic:"Rv6oYnJ8",welcomeInformation:"Xg9cqUJJ",welcomeInformation_static:"o_nJd5KS",welcomeInformationStatic:"o_nJd5KS",stakingApy:"HKeaaGYy",textButton:"fole9hpS",sticker:"bPhlS4F_",sticker_static:"uaQ89610",stickerStatic:"uaQ89610",stakingSafeDialog:"zNAkvVGS",ton:"dRmsmePr",tonIcon:"nWRXjyrv",tonName:"M_R_H7ar",amountTopRight:"pJIvsCMH",amountTopRight_static:"vETUxQf6",amountTopRightStatic:"vETUxQf6",amountTopRight_slide:"MiydIaDQ",amountTopRightSlide:"MiydIaDQ",Transition:"XV_Y5UzE",transition:"XV_Y5UzE","Transition_slide-from":"mUqK49u9",transitionSlideFrom:"mUqK49u9","Transition_slide-to":"PtgIoWPj",transitionSlideTo:"PtgIoWPj",amountBottomWrapper:"LEdLaJfa",amountBottomWrapper_static:"u8l2R2oR",amountBottomWrapperStatic:"u8l2R2oR",amountBottom:"MgCN1q08",amountBottomRight:"VuUMtt0r",amountBottomRight_error:"XziKGimY",amountBottomRightError:"XziKGimY",amountBottomRight_slide:"D7jfmDqZ",amountBottomRightSlide:"D7jfmDqZ",animating:"idaRXWqT",from:"w5MTAdBs",to:"OH6m_v4W",balanceError:"XV91oi_1",minAmountValue:"N25bZnkf",amountInCurrency:"QVMu65Mz",historyTotalValue:"ps_1E9fe",balanceContainer:"uPQESumk",balance:"n_5PvqB1",balanceLink:"LhvBMVJI",stakingBalance:"ZzjyhAIi",amountInput:"CVWcZDbx",inputStatic:"ckTzdegT",inputRichStatic:"tsi7Leof",balanceResultWrapper:"vtSKtwOl",balanceResultInput:"oiRjkkEM",balanceResultLabel:"h10QGypW",balanceStakedLabel:"DlWk_wtQ",balanceStakedResult:"Zvcxz1_r",balanceResult:"ANb8RM_U",stakingInfoModal:"WPEajhsz",stakingInfoModal_withHistory:"RmyjusO4",stakingInfoModalWithHistory:"RmyjusO4",stakingInfo:"jqjfDFur",stakingInfo_modal:"WPEajhsz",stakingInfoNoHistory:"JhvH7wqN",stakingInfoModalContent:"adkWFcPE",history:"vrPulHrK",historyList:"Y0yHbYn0",withBackground:"seOnXIX2",stakingInfoLoading:"FpmrUch0",stakingInfoLoadingAnimation:"HhFmzxoC",stakingInfoClose:"hUegI624",stakingInfoButtons:"p0aoyqxp",stakingInfoButtons_withMargin:"pa9mJcSA",stakingInfoButtonsWithMargin:"pa9mJcSA",stakingInfoButton:"ANY2XY_3",insufficientBalance:"rGOjgmuu",unstakeTime:"AQ56tknq",unstakeTime_purple:"LqS98rhM",unstakeTimePurple:"LqS98rhM",unstakeTimeIcon:"tyhEzoP5",history_static:"s2VvvIeZ",historyStatic:"s2VvvIeZ",historyTotal:"saWAKbAc",historyTitle:"Y0cCgJMS",historyList_static:"axMdO17j",historyListStatic:"axMdO17j",transactionBanner:"qrdHJFDS",unstakeInfo:"m1LUZiWL",tokenDropdown:"A1GMBD3_",tokenDropdownItem:"sV49vdb8",tokenDropdownMenu:"SMF4FqKo"},Uv=new Set([Yt.StakeInitial,Yt.None]),Wv=(0,l.nF)((e=>e()),1500,!0),Hv=me(He((e=>{var t;const n=e.currentAccountId,a=Je(e),o=Et(e),r=e.tokenInfo.bySlug,{state:i,isLoading:s,fee:l,error:c}=e.currentStaking,d=n?In(e,n):void 0,u=Bn(e,e.currentAccountId);return{isLoading:s&&Uv.has(i),tokens:o,tokenBySlug:r,apiError:c,fee:l,stakingState:u,states:d,shouldUseNominators:null==a||null===(t=a.staking)||void 0===t?void 0:t.shouldUseNominators}}),((e,t,n)=>n(e.currentAccountId)))((function(n){var a;let{isActive:o,isStatic:r,isLoading:i,apiError:s,tokens:l,tokenBySlug:c,fee:d,stakingState:u,states:m,shouldUseNominators:p}=n;const{submitStakingInitial:f,fetchStakingFee:h,cancelStaking:g,changeCurrentStaking:v}=Ue(),w=Qi(),[y,b,E]=yd(),[k,N]=re(),[C,S]=re(!1),[A,T]=re(!1),[I,B]=re(!1),[_,x]=re(!1),[L,O]=re(!1),{type:P,tokenSlug:D,balance:F=0n}=null!=u?u:{},R=ce((()=>{if(!D||!l||!c)return;let e=l.find((e=>{let{slug:t}=e;return t===D}));return!e&&D in c&&(e=dn(c[D])),e}),[D,l,c]),{amount:M=0n,symbol:U,decimals:W=e.Tu9.decimals}=null!=R?R:{};let{annualYield:H=0}=null!=u?u:{};"jetton"===(null==u?void 0:u.type)&&k&&(H=function(e){let{tvl:t,dailyReward:n,decimals:a}=e;if(!t)return 0;const o=(0,vt.CF)(n,a).div((0,vt.CF)(t,a)).mul(365).mul(100).toFixed(2);return Number(o)}({tvl:u.tvl+k,dailyReward:u.dailyReward,decimals:W}));const $=on(null==R?void 0:R.slug),V=ce((()=>{if(!l||!R)return;if($)return R;const e=sn(R.chain).slug;return l.find((t=>{let{slug:n}=t;return n===e}))}),[l,R,$]),z=null!==(a=null==V?void 0:V.amount)&&void 0!==a?a:0n,j=Boolean(A||s),q="nominators"===P?e.pLj:e.UAn,{gas:K,real:Y}=$i(null==u?void 0:u.type).stake,Q=$&&k?k+K:K,G=2n*K,X=$&&M>=G,J=(()=>{let e=M;return $&&e&&(e-=X?G:K),(0,yn._O)(0n,e)})(),Z=Cr((function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]||(O(!1),S(!1),T(!1),x(!1),B(!1)),void 0!==e?Number.isNaN(e)||e<0?S(!0):(e<q?x(!0):!J||e>M?T(!0):(z<K||$&&Q>M)&&B(!0),N(e)):N(void 0)})),ee=ce((()=>c&&m?ps({tokenBySlug:c,states:m,shouldUseNominators:p}):[]),[c,m,p]);se((()=>{Z(L&&J?J:k,!0)}),[k,d,L,Z,J]),se((()=>{k&&Wv((()=>{h({amount:k})}))}),[k,h]),ll((()=>{if(t.bA&&y){const e=u&&"jetton"===u.type?[`${w("$safe_staking_description_jetton1").replace("%jvault_link%","JVault")}`,`${w("$safe_staking_description_jetton2")}`]:[`1. ${w("$safe_staking_description1")}`,`2. ${w("$safe_staking_description2")}`,`3. ${w("$safe_staking_description3")}`];ug.alert({title:w("Why is staking safe?"),message:e.join("\n\n").replace(/\*\*/g,"")}).then(E)}}),[y,w,u]);const te=Cr((e=>{e.preventDefault(),e.stopPropagation(),J&&(Mo(),O(!0))})),ne=k&&J&&!C&&!_&&!I&&!A,ae=Cr((e=>{qi(e),ne&&(Mo(),f({amount:k}))})),oe=Cr((e=>{const t=e?(0,vt.UH)(e,W):void 0;Z(t)})),ie=Cr((e=>{g(),v({stakingId:e,shouldReopenModal:!r})}));return fe.createElement("form",{className:r?void 0:bc.transitionContent,onSubmit:ae},fe.createElement("div",{className:ji(Mv.welcome,r&&Mv.welcome_static)},fe.createElement(lm,{size:r?e.lWW:e.jzp,play:o,noLoop:!1,nonInteractive:!0,className:ji(Mv.sticker,r&&Mv.sticker_static),tgsUrl:xu.wait,previewUrl:xu.waitPreview}),fe.createElement("div",{className:ji(Mv.welcomeInformation,r&&Mv.welcomeInformation_static)},fe.createElement("div",null,w("Earn from your tokens while holding them",{symbol:U})),fe.createElement("div",{className:Mv.stakingApy},w("Est. %annual_yield%",{annual_yield:`${H}%`})),fe.createElement(Ll,{isText:!0,className:Mv.textButton,onClick:b},w("Why this is safe")))),function(){if(!U)return;const e=w("$max_balance",{balance:fe.createElement("div",{role:"button",tabIndex:0,className:Mv.balanceLink,onClick:te},R?Jo((0,vt.nI)(J,W),U):w("Loading..."))});return fe.createElement(Km,{className:ji(Mv.amountTopRight,r&&Mv.amountTopRight_static),slideClassName:Mv.amountTopRight_slide,name:"fade",activeKey:0},fe.createElement("div",{className:Mv.balanceContainer},fe.createElement("span",{className:Mv.balance},e)))}(),fe.createElement(Jg,{key:"staking_amount",id:"staking_amount",hasError:C||A,value:void 0===k?void 0:(0,vt.nI)(k),labelText:w("Amount"),onChange:oe,onPressEnter:ae,decimals:W,inputClassName:r?Mv.inputRichStatic:void 0,className:Mv.amountInput},fe.createElement(sh,{items:ee,selectedValue:null==u?void 0:u.id,className:Mv.tokenDropdown,itemClassName:Mv.tokenDropdownItem,onChange:ie})),fe.createElement("div",{className:ji(Mv.amountBottomWrapper,r&&Mv.amountBottomWrapper_static)},fe.createElement("div",{className:Mv.amountBottom},function(){const e=A?w("Insufficient balance"):I?w("$insufficient_fee",{fee:Jo((0,vt.nI)(K),null!==(t=null==V?void 0:V.symbol)&&void 0!==t?t:"")}):_?w("$min_value",{value:fe.createElement("span",{className:Mv.minAmountValue},Jo((0,vt.nI)(q),null!=U?U:""))}):s?w(s):void 0;var t;const n=A?0:I?1:_?2:s?3:F||j?5:4;let a=" ";return a=e?fe.createElement("span",{className:Mv.balanceError},e):R?w("$fee_value",{fee:fe.createElement(Kh,{terms:{native:Y},precision:"approximate",token:R})}):"",fe.createElement(Km,{className:ji(Mv.amountBottomRight,C&&Mv.amountBottomRight_error),slideClassName:Mv.amountBottomRight_slide,name:"fade",activeKey:n},a)}())),function(){const t=k?(0,vt.CF)(k).mul(H/100+1).round(e.Vxu).toString():"0";return fe.createElement(Rv,{labelText:w("Est. balance in a year"),zeroValue:"...",value:t,decimals:W,className:Mv.balanceResultWrapper,inputClassName:ji(Mv.balanceResultInput,r&&Mv.inputRichStatic),labelClassName:Mv.balanceResultLabel,valueClassName:Mv.balanceResult})}(),fe.createElement("div",{className:bc.buttons},fe.createElement(Ll,{isPrimary:!0,isSubmit:!0,isDisabled:!ne,isLoading:i},w("$stake_asset",{symbol:null==R?void 0:R.symbol}))),function(){if(!t.bA)return fe.createElement(Sc,{isCompact:!0,isOpen:y,title:w("Why is staking safe?"),onClose:E,dialogClassName:Mv.stakingSafeDialog},u&&"jetton"===u.type?fe.createElement(fe.Fragment,null,fe.createElement("p",{className:bc.text},qo(w("$safe_staking_description_jetton1",{jvault_link:fe.createElement("a",{href:e.dCY,target:"_blank",rel:"noreferrer"},fe.createElement("b",null,"JVault"))}))),fe.createElement("p",{className:bc.text},qo(w("$safe_staking_description_jetton2")))):fe.createElement(fe.Fragment,null,fe.createElement("p",{className:bc.text},qo(w("$safe_staking_description1"))),fe.createElement("p",{className:bc.text},qo(w("$safe_staking_description2"))),fe.createElement("p",{className:bc.text},qo(w("$safe_staking_description3")))),fe.createElement("div",{className:bc.buttons},fe.createElement(Ll,{onClick:E},w("Close"))))}())}))),$v=new Set([Yt.StakeInitial,Yt.StakePassword,Yt.StakeConnectHardware,Yt.StakeConfirmHardware,Yt.StakeComplete]),Vv=me(He((e=>{const t=e.currentAccountId,n=dt(e,t),a=Bn(e,t),o=e.tokenInfo.bySlug,{hardwareState:r,isLedgerConnected:i,isTonAppConnected:s}=e.hardware;return{...e.currentStaking,stakingState:a,tokenBySlug:o,hardwareState:r,isLedgerConnected:i,isTonAppConnected:s,isMultichainAccount:n}}))((function(t){let{state:n,stakingState:a,isLoading:o,amount:r,error:i,tokenBySlug:s,hardwareState:l,isLedgerConnected:c,isTonAppConnected:d,isMultichainAccount:u}=t;const{startStaking:m,setStakingScreen:p,cancelStaking:f,clearStakingError:h,submitStakingPassword:g,submitStakingHardware:v,openStakingInfo:w}=Ue(),{tokenSlug:y}=null!=a?a:{},b=y&&s?s[y]:void 0,E=Qi(),k=$v.has(n),[N,C]=re(r),{renderingKey:S,nextKey:A,updateNextKey:T}=Mf(n,k),I=Cr((()=>{n===Yt.StakePassword&&(h(),p({state:Yt.StakeInitial}))})),B=Cr((()=>{C(r),v()})),_=Cr((e=>{C(r),g({password:e})})),x=Cr((()=>{f(),w()}));function L(t,n,a){switch(a){case Yt.StakeInitial:return fe.createElement(fe.Fragment,null,fe.createElement(Hp,{title:E("$stake_asset",{symbol:null==b?void 0:b.symbol}),onClose:f}),fe.createElement(Hv,{isActive:t}));case Yt.StakePassword:return function(t){return fe.createElement(fe.Fragment,null,!Oo()&&fe.createElement(Hp,{title:E("Confirm Staking"),onClose:f}),fe.createElement(Mm,{isActive:t,isLoading:o,error:i,withCloseButton:e.UMQ,operationType:"staking",placeholder:"Confirm operation with your password",submitLabel:E("Confirm"),cancelLabel:E("Back"),onSubmit:_,onCancel:I,onUpdate:h},function(){if(b&&r)return fe.createElement(Ov,{tokenIn:b,withChainIcon:u,color:"purple",text:Jo((0,vt.nI)(r,b.decimals),b.symbol),className:Oo()?void 0:Mv.transactionBanner})}()))}(t);case Yt.StakeConnectHardware:return fe.createElement(vh,{isActive:t,state:l,isLedgerConnected:c,isTonAppConnected:d,onConnected:B,onClose:f});case Yt.StakeConfirmHardware:return fe.createElement(Qf,{text:E("Please confirm operation on your Ledger"),error:i,onClose:f,onTryAgain:B});case Yt.StakeComplete:return function(e){return fe.createElement(fe.Fragment,null,fe.createElement(Hp,{title:E("Coins have been staked!"),onClose:f}),fe.createElement("div",{className:bc.transitionContent},fe.createElement(Dv,{color:"purple",playAnimation:e,amount:N,tokenSymbol:null==b?void 0:b.symbol,noSign:!0,firstButtonText:E("View"),secondButtonText:E("Stake More"),onFirstButtonClick:x,onSecondButtonClick:m}),fe.createElement("div",{className:bc.buttons},fe.createElement(Ll,{onClick:f,isPrimary:!0},E("Close")))))}(t)}}return fe.createElement(Sc,{isOpen:k,hasCloseButton:!0,noBackdropClose:!0,dialogClassName:Mv.modalDialog,nativeBottomSheetKey:"stake",forceFullNative:S===Yt.StakePassword,onClose:f,onCloseAnimationEnd:T},fe.createElement(Km,{name:Rf(),className:ji(bc.transition,"custom-scroll"),slideClassName:bc.transitionSlide,activeKey:S,nextKey:A,onStop:T},L))}))),zv=new Set([Yt.ClaimPassword,Yt.ClaimConfirmHardware,Yt.ClaimConnectHardware]),jv=me(He((e=>{const t=e.currentAccountId,{addressByChain:n}=Xe(e,t)||{},a=at(e),{state:o,isLoading:r,error:i}=(null==e?void 0:e.currentStaking)||{},s=t?Bn(e,t):void 0,l=Et(e),{hardwareState:c,isLedgerConnected:d,isTonAppConnected:u}=e.hardware;return{stakingState:"jetton"===(null==s?void 0:s.type)?s:void 0,isOpen:zv.has(o),state:o,tokens:l,isLoading:r,error:i,address:null==n?void 0:n.ton,hardwareState:c,isLedgerConnected:d,isTonAppConnected:u,isHardwareAccount:a,isMultichainAccount:dt(e,t)}}))((function(t){var n;let{stakingState:a,isOpen:o,tokens:r,isLoading:i,address:s,error:l,state:c=Yt.ClaimPassword,hardwareState:d,isLedgerConnected:u,isTonAppConnected:m,isHardwareAccount:p,isMultichainAccount:f}=t;const{submitStakingClaim:h,submitStakingClaimHardware:g,cancelStakingClaim:v,clearStakingError:w}=Ue(),{tokenSlug:y,unclaimedRewards:b=0n}=null!=a?a:{},E=Qi(),k=ce((()=>null==r?void 0:r.find((e=>{let{slug:t}=e;return t===y}))),[r,y]),N=ce((()=>null==r?void 0:r.find((t=>{let{slug:n}=t;return n===e.Tu9.slug}))),[r]),C=null!==(n=null==N?void 0:N.amount)&&void 0!==n?n:0n,{gas:S,real:A}=$i("jetton").claim,T=C>S,{renderingKey:I,nextKey:B,updateNextKey:_}=Mf(c,Boolean(o)),x=!p&&!Oo(),L=Cr((e=>{T&&h({password:e})})),O=Cr((()=>{T&&g()}));function P(t,n,a){switch(a){case Yt.ClaimConnectHardware:return fe.createElement(vh,{isActive:t,state:d,isLedgerConnected:u,isTonAppConnected:m,onConnected:O,onClose:v});case Yt.ClaimConfirmHardware:return fe.createElement(Qf,{text:E("Please confirm transaction on your Ledger"),error:l,onClose:v,onTryAgain:O});case Yt.ClaimPassword:return fe.createElement(Mm,{isActive:Boolean(o),isLoading:i,withCloseButton:!0,operationType:"claim",error:T?l:E("Insufficient Balance for Fee"),submitLabel:E("Confirm"),onSubmit:L,onCancel:v,onUpdate:w},function(){const t=ji("k75dvmdJ",!Oo()&&"F2nQ3VmO");return fe.createElement(fe.Fragment,null,fe.createElement(Ov,{tokenIn:k,withChainIcon:f,text:Jo((0,vt.nI)(b,k.decimals),k.symbol,e.Vxu),className:Oo()?void 0:"yYT_DSGe",secondText:Wr(s)}),fe.createElement("div",{className:t},k&&qo(E("$fee_value_bold",{fee:fe.createElement(Kh,{terms:{native:T?A:S},precision:T?"approximate":"lessThan",token:k})}))))}())}}return fe.createElement(Sc,{isOpen:o,title:x?E("Confirm Rewards Claim"):void 0,hasCloseButton:x,forceFullNative:!0,nativeBottomSheetKey:"staking-claim",contentClassName:"FYtlcmCw",onClose:v},fe.createElement(Km,{name:Rf(),className:ji(bc.transition,"custom-scroll"),slideClassName:bc.transitionSlide,activeKey:I,nextKey:B,onStop:_},P))})));function qv(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const r=de(e,t);return ce((()=>(0,l.sg)(r,n,!a,!o)),[r,n,a,o])}function Kv(){const{width:e,height:t,screenHeight:n}=Kn(),[a,o]=re(e),[r,i]=re(t),[s,c]=re(n),[d,u]=re(!1),m=qv(u,[u],250,!0);return se((()=>{const e=(0,l.nF)((()=>{u(!0)}),250,!0),t=(0,l.nF)((()=>{const{width:e,height:t,screenHeight:n}=Kn();o(e),i(t),c(n),m(!1)}),250,!1),n=()=>{e(),t()};return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}}),[m]),ce((()=>({width:a,height:r,screenHeight:s,isResizing:d})),[r,d,s,a])}const Yv=me((function(e){let{tonToken:t,timestamp:n,profit:a}=e;const o=Qi();return fe.createElement("div",{className:"nq4YjGn3"},fe.createElement("i",{className:ji("jLdRlENh","icon-earn"),"aria-hidden":!0}),fe.createElement("div",{className:"nxAiUgO_"},fe.createElement("div",{className:"uDw7ob8E"},o("Earned")),fe.createElement("div",{className:"aJl0mknc"},(0,Mn.N5)(o,n),", ",(0,Mn.fU)(n))),fe.createElement("div",{className:"x2kd8DjZ"},Zo(a,t.symbol)))})),Qv=me(He((t=>{var n,a;const o=t.currentAccountId,r=Je(t),i=o?In(t,o):void 0,s=o?Bn(t,o):void 0,l="nominators"===(null==s?void 0:s.type)?s.end:null===(n=t.stakingInfo)||void 0===n?void 0:n.round.end,c=o?_n(t,o):void 0,d=o?function(t,n){var a,o;const r=Ze(t,n);return null!==(a=Bn(t,n).tokenSlug===e.Tu9.slug?null==r||null===(o=r.staking)||void 0===o?void 0:o.totalProfit:void 0)&&void 0!==a?a:0n}(t,o):0n;return{stakingState:s,states:i,totalProfit:d,stakingHistory:c,tokens:Et(t),tokenBySlug:t.tokenInfo.bySlug,endOfStakingCycle:l,theme:t.settings.theme,shouldUseNominators:null==r||null===(a=r.staking)||void 0===a?void 0:a.shouldUseNominators}}))((function(t){let{states:n,stakingState:a,isActive:o,isStatic:r,totalProfit:i,stakingHistory:s,tokens:l,tokenBySlug:c,endOfStakingCycle:d,theme:u,onClose:m,shouldUseNominators:p}=t;const{startStaking:f,startUnstaking:h,startStakingClaim:g,fetchStakingHistory:v,changeCurrentStaking:w}=Ue(),{id:y,tokenSlug:b,balance:E,annualYield:k=0,isUnstakeRequested:N}=null!=a?a:{},C=ce((()=>b?null==l?void 0:l.find((e=>{let{slug:t}=e;return b===t})):void 0),[b,l]),{decimals:S,symbol:A}=null!=C?C:{},T=Qi(),I=void 0===E,B=Boolean(null==s?void 0:s.length),{shouldRender:_,transitionClassNames:x}=Gi(I&&o),L=ce((()=>null==l?void 0:l.find((t=>{let{slug:n}=t;return n===e.Tu9.slug}))),[l]),O=he(),{height:P}=Kv(),D=wd(u),F="jetton"===(null==a?void 0:a.type)?a.unclaimedRewards:void 0;Bp(O,N?3e4:void 0),se((()=>{o&&v()}),[v,o]);const R=Cr((()=>{null==m||m(),f()})),M=Cr((()=>{null==m||m(),h()})),U=Cr((()=>{null==m||m(),g()}));let W="0",H="0";E&&(W=(0,vt.CF)(E).round(e.Vxu).toString(),H=(0,vt.CF)(E).mul(k/100+1).round(e.Vxu).toString());const $=ce((()=>c&&n?ps({tokenBySlug:c,states:n,shouldUseNominators:p}):[]),[c,n,p]),V=ji(Mv.stakingInfo,!r&&Mv.stakingInfo_modal,!B&&Mv.stakingInfoNoHistory,r&&"staking-info"),z=Cr((e=>{null==m||m(),w({stakingId:e,shouldReopenModal:!r})})),j=function(e,t){const n=ue(0);let a=!1;return ce((()=>{n.current+=1,a=!0}),e),t&&a&&(n.current-=1),n.current}([r,y],!r);return fe.createElement(Km,{name:"fade",activeKey:j,shouldCleanup:!0,className:Mv.stakingTransition,slideClassName:r?"staking-info":void 0},fe.createElement(fe.Fragment,null,fe.createElement("div",{className:V},!r&&fe.createElement(Hp,{title:T("Staking"),closeClassName:Mv.stakingInfoClose,onClose:m}),fe.createElement(Rv,{labelText:T("Currently Staked"),zeroValue:"...",value:W,decimals:S,className:Mv.stakingBalance,labelClassName:Mv.balanceStakedLabel,valueClassName:Mv.balanceStakedResult},fe.createElement("div",{className:Mv.stakingInfoLoading},_&&fe.createElement(oh,{className:ji(Mv.stakingInfoLoadingAnimation,x)})),fe.createElement(sh,{items:$,selectedValue:y,className:Mv.tokenDropdown,itemClassName:Mv.tokenDropdownItem,menuClassName:Mv.tokenDropdownMenu,onChange:z})),N?fe.createElement("div",{className:ji(Mv.unstakeTime,Mv.unstakeTime_purple)},fe.createElement(lm,{play:o,size:e.wg4,className:Mv.unstakeTimeIcon,nonInteractive:!0,noLoop:!1,tgsUrl:xu[D].iconClockPurple,previewUrl:xu[D].preview.iconClockPurple}),fe.createElement("div",null,Boolean(d)&&T("$unstaking_when_receive",{time:fe.createElement("strong",null,(0,Mn.YG)(T.code,d))}))):fe.createElement(fe.Fragment,null,fe.createElement(Rv,{labelText:T("Est. balance in a year"),zeroValue:"...",value:H,decimals:S,suffix:A,inputClassName:Mv.balanceResultInput,labelClassName:Mv.balanceStakedLabel,valueClassName:Mv.balanceResult}),fe.createElement("div",{className:ji(Mv.stakingInfoButtons,!!F&&Mv.stakingInfoButtonsWithMargin)},fe.createElement(Ll,{className:Mv.stakingInfoButton,isPrimary:!0,isDisabled:I,onClick:R},T("Stake More")),fe.createElement(Ll,{className:Mv.stakingInfoButton,isDisabled:I,onClick:M},T("Unstake"))),!!F&&function(){const e=(0,vt.nI)(F,S);return fe.createElement(fe.Fragment,null,fe.createElement(Rv,{labelText:T("Accumulated Rewards"),zeroValue:"...",value:e,decimals:S,suffix:A,inputClassName:Mv.balanceResultInput,labelClassName:Mv.balanceStakedLabel,valueClassName:Mv.balanceResult}),fe.createElement("div",{className:Mv.stakingInfoButtons},fe.createElement(Ll,{className:Mv.stakingInfoButton,isDisabled:I,onClick:U},T("Claim"))))}())),B&&fe.createElement("div",{className:ji(Mv.history,r&&Mv.history_static)},fe.createElement("div",{className:Mv.historyTotal},T("$total",{value:fe.createElement("span",{className:Mv.historyTotalValue},Jo((0,vt.nI)(i),e.Tu9.symbol))})),fe.createElement("div",{className:Mv.historyTitle},T("Earning History")),fe.createElement("div",{className:ji(Mv.historyList,r&&Mv.historyList_static,r&&"custom-scroll",!r&&P>=640&&"custom-scroll")},null==s?void 0:s.map((e=>fe.createElement(Yv,{key:e.timestamp,profit:e.profit,timestamp:e.timestamp,tonToken:L})))))))}))),Gv=me(He((e=>{const t=e.currentAccountId,n=t?_n(e,t):void 0,a=t?Bn(e,t):void 0;return{tokenSlug:null==a?void 0:a.tokenSlug,hasHistory:Boolean(null==n?void 0:n.length)}}))((function(t){let{isOpen:n,tokenSlug:a,hasHistory:o,onClose:r}=t;const{fetchStakingHistory:i}=Ue(),s=a!==e.Tu9.slug;return se((()=>{n&&i()}),[i,n]),fe.createElement(Sc,{isOpen:n,contentClassName:ji(Mv.stakingInfoModalContent,s&&Mv.withBackground),nativeBottomSheetKey:"staking-info",onClose:r,forceFullNative:o},fe.createElement(Qv,{isActive:n,onClose:r}))}))),Xv=new Set([Yt.UnstakeInitial,Yt.UnstakePassword,Yt.UnstakeConnectHardware,Yt.UnstakeConfirmHardware,Yt.UnstakeComplete]),Jv=new Set([Yt.UnstakePassword,Yt.UnstakeConnectHardware,Yt.UnstakeConfirmHardware]),Zv=me(He((e=>{const t=e.currentAccountId,n=Et(e),a=e.settings.baseCurrency,o=dt(e,t),r=Bn(e,t),i="nominators"===(null==r?void 0:r.type),{hardwareState:s,isLedgerConnected:l,isTonAppConnected:c}=e.hardware;return{...e.currentStaking,tokens:n,stakingInfo:e.stakingInfo,baseCurrency:a,isNominators:i,hardwareState:s,isLedgerConnected:l,isTonAppConnected:c,theme:e.settings.theme,isMultichainAccount:o,stakingState:r}}))((function(n){var a,o,r;let{state:i,isLoading:s,error:l,tokens:c,stakingInfo:d,baseCurrency:u,isNominators:m,hardwareState:p,isLedgerConnected:f,isTonAppConnected:h,isMultichainAccount:g,theme:v,amount:w,stakingState:y}=n;const{setStakingScreen:b,cancelStaking:E,clearStakingError:k,submitStakingInitial:N,submitStakingPassword:C,submitStakingHardware:S,fetchStakingHistory:A}=Ue(),{type:T,tokenSlug:I,balance:B}=null!=y?y:{},_="nominators"===(null==y?void 0:y.type)?y.end:null==d||null===(a=d.round)||void 0===a?void 0:a.end,x=Qi(),L=Xv.has(i),{gas:O,real:P}=$i(null==y?void 0:y.type).stake,D=ce((()=>null==c?void 0:c.find((t=>{let{slug:n}=t;return n===e.Tu9.slug}))),[c]),F=D&&D.amount>=O,R="liquid"===T&&null!==(o=null==d||null===(r=d.liquid)||void 0===r?void 0:r.available)&&void 0!==o?o:0n,M=ce((()=>I?null==c?void 0:c.find((e=>{let{slug:t}=e;return t===I})):void 0),[I,c]),U=M&&(ms[M.symbol.toLowerCase()]||M.image),[W,H]=re(!1),[$,V]=re(!1),[z,j]=re(!1),[q,K]=re(m?B:void 0),[Y,Q]=re(void 0),G=nr(u);se((()=>{if(!y)return;let e=!0;switch(y.type){case"nominators":e=!1;break;case"liquid":e=!w||w<R;break;case"jetton":e=!0}V(!e)}),[R,w,y]);const[X,J]=re(null!=_?_:Date.now()+e.Xhd),Z=he(),ee=wd(v),{renderingKey:te,nextKey:ne,updateNextKey:ae}=Mf(i,L),oe=M&&M.price&&q?(0,vt.CF)(q,M.decimals).mul(M.price).round(M.decimals,wt.z.roundHalfUp).toString():void 0,ie=Dp(oe,!0),le=!F||z||!q,{shouldRender:de,transitionClassNames:ue}=Gi(Boolean(oe));se((()=>{L&&(A(),K(m?B:void 0),H(!1),j(!1))}),[L,A,m,B]),ll((()=>{_&&J(_)}),[_]);const me=Cr((()=>{X<Date.now()&&A(),Z()}));Bp(me,3e4);const pe=Cr((()=>{i===Yt.UnstakePassword&&b({state:Yt.UnstakeInitial})})),ge=Cr((()=>{N({isUnstaking:!0,amount:q})})),ve=Cr((e=>{Q(w),C({password:e,isUnstaking:!0})})),we=Cr((()=>{Q(w),S({isUnstaking:!0})})),ye=Cr((function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]||(H(!1),j(!1)),void 0!==e?e<0?H(!0):((!B||e>B)&&(H(!0),j(!0)),K(e)):K(void 0)})),be=Cr((e=>{e.preventDefault(),B&&ye(B)})),Ee=Cr((e=>{const t=e?(0,vt.UH)(e,null==M?void 0:M.decimals):void 0;ye(t)}));function ke(){return fe.createElement("div",{className:ji(Mv.unstakeTime)},fe.createElement(lm,{play:L,size:e.wg4,className:Mv.unstakeTimeIcon,nonInteractive:!0,noLoop:!1,tgsUrl:xu[ee].iconClockGrayWhite,previewUrl:xu[ee].preview.iconClockGrayWhite}),fe.createElement("div",null,x("$unstaking_when_receive",{time:fe.createElement("strong",null,(0,Mn.YG)(x.code,X))})))}function Ne(n,a,o){switch(o){case Yt.UnstakeInitial:return fe.createElement(fe.Fragment,null,fe.createElement(Hp,{title:x("$unstake_asset",{symbol:null==M?void 0:M.symbol}),onClose:E}),fe.createElement("div",{className:bc.transitionContent},!m&&fe.createElement("div",{className:Mv.balanceContainer},fe.createElement("span",{className:Mv.balance},x("$all_balance",{balance:fe.createElement("a",{href:"#",onClick:be,className:Mv.balanceLink},void 0!==B?er(B,null==M?void 0:M.symbol,null==M?void 0:M.decimals):x("Loading..."))}))),fe.createElement(Jg,{key:"unstaking_amount",id:"unstaking_amount",hasError:W,value:void 0===q?void 0:(0,vt.nI)(q,null==M?void 0:M.decimals),labelText:x("Amount to unstake"),onChange:Ee,className:Mv.amountInput,decimals:null==M?void 0:M.decimals,disabled:m},fe.createElement("div",{className:Mv.ton},fe.createElement("img",{src:U,alt:"",className:Mv.tonIcon}),fe.createElement("span",{className:Mv.tonName},null==M?void 0:M.symbol))),fe.createElement("div",{className:Mv.amountBottomWrapper},fe.createElement("div",{className:Mv.amountBottom},de&&fe.createElement("span",{className:ji(Mv.amountInCurrency,ue)},"≈ ",Jo(ie||"0",G)),function(){const e=z?0:F?R?2:3:1;let t=M?x("$fee_value",{fee:fe.createElement(Kh,{terms:{native:P},precision:"approximate",token:M})}):"";if(M)if(z)t=fe.createElement("span",{className:Mv.balanceError},x("Insufficient balance"));else if(F)R&&(t=x("$unstake_up_to_information",{value:Jo((0,vt.nI)(R,M.decimals),M.symbol)}));else{var n;t=fe.createElement("span",{className:Mv.balanceError},x("$insufficient_fee",{fee:Jo((0,vt.CF)(O),null!==(n=null==D?void 0:D.symbol)&&void 0!==n?n:"")}))}return fe.createElement(Km,{className:Mv.amountBottomRight,slideClassName:Mv.amountBottomRight_slide,name:"fade",activeKey:e},t)}())),function(){const e=!z&&q;return fe.createElement(Km,{name:"fade",activeKey:e?$?2:1:0},e?$?ke():fe.createElement("div",{className:Mv.unstakeInfo},x("$unstake_information_instantly")):void 0)}(),fe.createElement("div",{className:bc.buttons},fe.createElement(Ll,{isPrimary:!0,isLoading:s,isDisabled:le,onClick:ge},x("Unstake")))));case Yt.UnstakePassword:return function(t){return fe.createElement(fe.Fragment,null,!Oo()&&fe.createElement(Hp,{title:x("Confirm Unstaking"),onClose:E}),fe.createElement(Mm,{isActive:t,isLoading:s,withCloseButton:e.UMQ,operationType:"unstaking",error:l,placeholder:"Confirm operation with your password",submitLabel:x("Confirm"),cancelLabel:x("Back"),onSubmit:ve,onCancel:pe,onUpdate:k},function(){if(M&&q)return fe.createElement(Ov,{tokenIn:M,withChainIcon:g,color:"green",text:Jo((0,vt.nI)(q,M.decimals),M.symbol),className:Oo()?void 0:Mv.transactionBanner})}()))}(n);case Yt.UnstakeConnectHardware:return fe.createElement(vh,{isActive:n,state:p,isLedgerConnected:f,isTonAppConnected:h,onConnected:we,onClose:E});case Yt.UnstakeConfirmHardware:return fe.createElement(Qf,{text:x("Please confirm operation on your Ledger"),error:l,onClose:E,onTryAgain:we});case Yt.UnstakeComplete:return function(e){return fe.createElement(fe.Fragment,null,fe.createElement(Hp,{title:(0,t.v3)()?x("Request is sent!"):x("Request for unstaking is sent!"),onClose:E}),fe.createElement("div",{className:bc.transitionContent},fe.createElement(Dv,{color:"green",playAnimation:e,amount:Y,tokenSymbol:null==M?void 0:M.symbol,noSign:!0}),$&&ke(),fe.createElement("div",{className:bc.buttons},fe.createElement(Ll,{onClick:E,isPrimary:!0},x("Close")))))}(n)}}return fe.createElement(Sc,{isOpen:L,hasCloseButton:!0,noBackdropClose:!0,dialogClassName:Mv.modalDialog,nativeBottomSheetKey:"unstake",forceFullNative:Jv.has(te),onClose:E,onCloseAnimationEnd:ae},fe.createElement(Km,{name:Rf(),className:ji(bc.transition,"custom-scroll"),slideClassName:bc.transitionSlide,activeKey:te,nextKey:ne,onStop:ae},Ne))}))),ew=me(He((e=>({isAppUpdateAvailable:e.isAppUpdateAvailable,newAppVersion:e.latestAppVersion,isAppUpdateRequired:e.isAppUpdateRequired})))((function(n){let{isAppUpdateAvailable:a,newAppVersion:o,isAppUpdateRequired:r}=n;const i=Qi(),{shouldRender:s,transitionClassNames:l}=Gi(e.VL7&&a||r);if(s)return fe.createElement("button",{type:"button",className:ji("eU8arlH4",l),onClick:()=>{var n;t.u2?window.location.reload():Ma((n=o,e.VL7?n?`${e.V3_}/releases/download/v${encodeURIComponent(n||"")}/${encodeURIComponent(e.C39)}.apk`:"https://github.com/mytonwalletorg/mytonwallet/releases/latest":t.xy?`${e.W1_}android-store`:t.ZH?`${e.W1_}ios`:t.iF?`${e.W1_}${t.pr?"edge-extension":"chrome-extension"}`:e.v5B?`${e.W1_}firefox-extension`:e.W1_),{isExternal:!0})}},fe.createElement("i",{className:ji("icon icon-download-filled","X9C5VDdJ"),"aria-hidden":!0}),i("Update %app_name%",{app_name:e.C39}))})));function tw(e,t){return e.reduce(((e,n)=>e+n.parts.reduce(((e,n)=>e+(t.includes(n.status)?n.amount:0)),0)),0).toString()}const nw="WYLJUay4",aw="af6G76Qu",ow=me(He((e=>{const t=Je(e),{info:n,unfreezeRequestedIds:a}=(null==t?void 0:t.vesting)||{};return{isOpen:e.isVestingModalOpen,vesting:n,isUnfreezeRequested:Boolean(null==a?void 0:a.length),mycoin:Tt(e),theme:e.settings.theme}}))((function(t){let{isOpen:n,isUnfreezeRequested:a,vesting:o,mycoin:r,theme:i}=t;const{fetchStakingHistory:s,closeVestingModal:l,startClaimingVesting:c}=Ue(),d=Qi(),u=he(),m=ce((()=>o?tw(o,["frozen","ready"]):"0"),[o]),p=ce((()=>o?tw(o,["ready"]):"0"),[o]),f="0"===p,h=wd(i);Bp(u,a?3e4:void 0),se((()=>{n&&s()}),[s,n]);const g=Cr((()=>{c()}));if(r)return fe.createElement(Sc,{isOpen:n,contentClassName:"Z3AdvY3j",nativeBottomSheetKey:"vesting-info",forceFullNative:!0,onClose:l},fe.createElement(fe.Fragment,null,fe.createElement("div",{className:"nmSXdbkU"},fe.createElement(Hp,{title:d("Vesting"),className:"UGaC6iSp",closeClassName:"gj76sp0s",onClose:l}),fe.createElement(Rv,{labelText:d("Vesting Balance"),zeroValue:"...",value:m||"0",decimals:e.Vxu,suffix:"MY",className:nw,labelClassName:aw,valueClassName:"W2jkzSKT"}),a?fe.createElement("div",{className:"nOY_rRWD"},fe.createElement(lm,{play:n,size:e.wg4,className:"B_mbvdNt",nonInteractive:!0,noLoop:!1,tgsUrl:xu[h].iconClockBlue,previewUrl:xu[h].preview.iconClockBlue}),fe.createElement("div",null,d("You will receive your unfrozen coins in a few minutes."))):fe.createElement(fe.Fragment,null,fe.createElement(Rv,{labelText:d("Ready to Unfreeze"),zeroValue:"...",value:p,decimals:e.Vxu,suffix:"MY",className:nw,inputClassName:"laFaO54G",labelClassName:aw,valueClassName:"Da5SKOto"}),fe.createElement("div",{className:"TDJhFbKs"},fe.createElement(Ll,{className:"q0MWzlSV",isPrimary:!0,isDisabled:f,onClick:f?void 0:g},d("Unfreeze"))))),fe.createElement("div",{className:"qVDajNe7"},fe.createElement("div",{className:"mwrjA2Wq"},d("Vesting Schedule")),fe.createElement("div",{className:ji("Gvf3taGj","custom-scroll")},null==o?void 0:o.map((function(e){return fe.createElement("div",{key:e.id,className:"N60lIj1U"},fe.createElement("div",{className:"aLa4cQLd"},fe.createElement("div",{className:"RlCMRY3O"},e.title),fe.createElement("div",{className:"A2xAIJdW"},d("%volume% in %amount% parts",{volume:fe.createElement("b",null,Jo(e.initialAmount,r.symbol,r.decimals)),amount:e.parts.length.toString()}))),e.parts.map((e=>{const t="frozen"===e.status?"icon-snow":"missed"===e.status?"icon-missed":"unfrozen"===e.status?"icon-check":"icon-fire",n="frozen"===e.status?"Frozen":"missed"===e.status?"Missed":"unfrozen"===e.status?"Unfrozen":"Ready to Unfreeze",o=!a&&"ready"===e.status,i="frozen"===e.status?e.time:"ready"===e.status?e.timeEnd:void 0;return fe.createElement("div",{key:e.id,role:o?"button":void 0,className:ji("tbB7hrjM",e.status,o&&"Fi06J8yl"),onClick:o?g:void 0},fe.createElement("i",{className:ji("Bc1llfyb",t,e.status),"aria-hidden":!0}),fe.createElement("div",{className:"SkSkSLJA"},d(n),Boolean(i)&&fe.createElement("div",{className:"F8H8tP5h"},d("until %date%",{date:fe.createElement(fe.Fragment,null,fe.createElement("span",{className:"_7RDFG6sc"},(0,Mn.TK)(d.code,i)),","," ",(0,Mn.fU)(i))}))),fe.createElement("div",{className:ji("oTZtwcWo",e.status)},Jo(e.amount,r.symbol,r.decimals)))})))}))))))}))),rw=me(He((e=>{const{addressByChain:t}=Xe(e,e.currentAccountId)||{},n=Je(e),a=at(e),{isConfirmRequested:o,info:r,isLoading:i,error:s,unfreezeState:l}=(null==n?void 0:n.vesting)||{},c=Et(e),{hardwareState:d,isLedgerConnected:u,isTonAppConnected:m}=e.hardware;return{isOpen:o,vesting:r,tokens:c,isLoading:i,error:s,address:null==t?void 0:t.ton,state:l,mycoin:Tt(e),hardwareState:d,isLedgerConnected:u,isTonAppConnected:m,isHardwareAccount:a,isMultichainAccount:dt(e,e.currentAccountId)}}))((function(t){let{isOpen:n,vesting:a,tokens:o,isLoading:r,address:i,error:s,mycoin:l,state:c=Qt.Password,hardwareState:d,isLedgerConnected:u,isTonAppConnected:m,isHardwareAccount:p,isMultichainAccount:f}=t;const{submitClaimingVesting:h,submitClaimingVestingHardware:g,cancelClaimingVesting:v,clearVestingError:w}=Ue(),y=Qi(),{amount:b}=ce((()=>null==o?void 0:o.find((t=>{let{slug:n}=t;return n===e.Tu9.slug}))),[o])||{},E=(0,vt.CF)(e.aEZ),k=!b||b<e.aEZ,{renderingKey:N,nextKey:C,updateNextKey:S}=Mf(c,Boolean(n)),A=!p&&!Oo(),T=ce((()=>a?tw(a,["ready"]):"0"),[a]),I=Cr((e=>{k||h({password:e})})),B=Cr((()=>{k||g()}));if(l)return fe.createElement(Sc,{isOpen:n,title:A?y("Confirm Unfreezing"):void 0,hasCloseButton:A,forceFullNative:!0,nativeBottomSheetKey:"vesting-confirm",contentClassName:"TSf_GkYf",onClose:v},fe.createElement(Km,{name:Rf(),className:ji(bc.transition,"custom-scroll"),slideClassName:bc.transitionSlide,activeKey:N,nextKey:C,onStop:S},_));function _(t,a,o){switch(o){case Qt.ConnectHardware:return fe.createElement(vh,{isActive:t,state:d,isLedgerConnected:u,isTonAppConnected:m,onConnected:B,onClose:v});case Qt.ConfirmHardware:return fe.createElement(Qf,{text:y("Please confirm transaction on your Ledger"),error:s,onClose:v,onTryAgain:B});case Qt.Password:return fe.createElement(Mm,{isActive:Boolean(n),isLoading:r,withCloseButton:!0,operationType:"unfreeze",error:k?y("Insufficient Balance for Fee"):s,submitLabel:y("Confirm"),onSubmit:I,onCancel:v,onUpdate:w},function(){const t=ji("V5IIeyTC",!Oo()&&"ZROURKjf");return fe.createElement(fe.Fragment,null,fe.createElement(Ov,{tokenIn:l,withChainIcon:f,text:Jo(T,l.symbol,l.decimals),className:Oo()?void 0:"pu3vP7ZP",secondText:Wr(i)}),fe.createElement("div",{className:t},qo(y("$fee_value_bold",{fee:Jo(E,e.Tu9.symbol)}))))}())}}}))),iw="m5XAGki9",sw="EeV5B584",lw="L752Cv1F",cw="aHx9_6_d",dw="IkAedzyb",uw="QPeOMoOM",mw="YzXjxATB",pw="QdMU2Tgb",fw="VGq4FFXS",hw="VLNF6T4k",gw="JTLP1WRv",vw="X2kTDRkO",ww="prVCHnG1",yw="V7p8St7r",bw="IpN3STYq",Ew="aQOSkXKG",kw="cTKYWTLL",Nw="Vbj5MEAN",Cw="Fn7oQpnQ",Sw=me((function(e){let{token:n,shouldFilter:a}=e;const{setSwapScreen:o}=Ue(),{transitionRef:r}=function(e){const n=ue(null);return le((()=>{if(!n.current||!e)return;const a=`${e.symbol.length*Tw/t.$+Aw}rem`;gc(n.current,{minWidth:a})}),[e]),{transitionRef:n}}(n),i=Cr((()=>{o({state:a?$t.SelectTokenTo:$t.SelectTokenFrom})})),s=ue(0);return ll((()=>{s.current++}),[`${null==n?void 0:n.symbol}_${null==n?void 0:n.chain}`]),l=n,fe.createElement(Km,{ref:r,name:"fade",activeKey:s.current,className:"lZebIDqX",slideClassName:"jBt5MAxL"},fe.createElement("button",{type:"button",className:"Wmj18JYJ",onClick:i},l&&fe.createElement(xv,{token:l,withChainIcon:!0,size:"middle",className:"op410kWk"}),fe.createElement("div",{className:"VH09DZnr"},fe.createElement("span",null,null==l?void 0:l.symbol),fe.createElement("i",{className:ji("icon-chevron-right","TTCQtR6c"),"aria-hidden":!0}))));var l})),Aw=70/t.$,Tw=10;function Iw(e){var t;const n=ue();return null!==(t=n.current)&&void 0!==t||(n.current=b(e)),n.current}function Bw(e,t){const n=ue(!0);n.current&&(n.current=!1,null==t||t.forEach((t=>{w(t)&&t.subscribe(e)}))),Yi((()=>()=>{!function(e){var t;null===(t=y.get(e))||void 0===t||t.forEach((e=>{e()})),y.delete(e)}(e)}))}const _w=function(e,t){var n;let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const o=t?e:()=>e;null!==(n=t)&&void 0!==n||(t=[e]);const[r,i]=Iw(),s=Nr(o);function l(){const e=s.current;a?e(i):i(e())}return ll(l,t),Bw(l,t),r};const xw=function(e,t){var n;let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const o=t?e:()=>e();null!==(n=t)&&void 0!==n||(t=[e]);const r=ue(),i=he(),s=Nr(o);function l(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=s.current;if(a)t((e=>{r.current!==e&&(r.current=e,i())}));else{const n=t();r.current!==n&&(r.current=n,e||i())}}return ll((()=>{l(!0)}),t),Bw(l,t),r.current},Lw=250+e.xB5,Ow=me((function(e){var t,n,a,o;let{tokenIn:r,tokenOut:i,amountIn:s,amountOut:l,swapType:c,isEstimating:d,isSending:u,isNotEnoughNative:m,nativeToken:p,dieselStatus:f,isPriceImpactError:h,canSubmit:g,errorType:v,limits:w}=e;const y=Qi(),b=void 0!==v,E=u&&c===jt.CrosschainToWallet,k=!g||E,N=d||E,C={[zt.UnexpectedError]:y("Unexpected Error"),[zt.InvalidPair]:y("Invalid Pair"),[zt.NotEnoughLiquidity]:y("Insufficient liquidity"),[zt.ChangellyMinSwap]:y("Minimum amount",{value:er(null!==(t=null==w?void 0:w.fromMin)&&void 0!==t?t:"0",null!==(n=null==r?void 0:r.symbol)&&void 0!==n?n:"",null==r?void 0:r.decimals)}),[zt.ChangellyMaxSwap]:y("Maximum amount",{value:er(null!==(a=null==w?void 0:w.fromMax)&&void 0!==a?a:"0",null!==(o=null==r?void 0:r.symbol)&&void 0!==o?o:"",null==r?void 0:r.decimals)}),[zt.NotEnoughForFee]:y("Not Enough %symbol%",{symbol:null==r?void 0:r.symbol}),[zt.TooSmallAmount]:y("$swap_too_small_amount")},S=Boolean(s||l);let A="$swap_from_to";S&&(b?A=C[v]:p&&(m&&"ton"===(null==r?void 0:r.chain)&&null!=r&&r.tokenAddress?"not-available"===f?A=y("Not Enough %symbol%",{symbol:"TON"}):"pending-previous"===f?A=y("Awaiting Previous Fee"):"not-authorized"===f&&(A=y("Authorize %token% Fee",{token:null==r?void 0:r.symbol})):m&&(A=y("Not Enough %symbol%",{symbol:null==p?void 0:p.symbol}))));const T=Array.isArray(A)?A.join(""):A,I=S&&!d&&(h||b||p&&m&&(!f||"not-available"===f||"pending-previous"===f)),B=ue(0),_=function(e,t){const n=function(e,t,n){return Nd((t=>{t(e())}),t,n,arguments.length>3&&void 0!==arguments[3]&&arguments[3])}((()=>e()),[e],t,arguments.length>2&&void 0!==arguments[2]&&arguments[2]);return _w(n,[n,e],!0)}(_w((()=>{const e="$swap_from_to"===T?y("$swap_from_to",{from:null==r?void 0:r.symbol,icon:fe.createElement("i",{className:ji("icon-arrow-right","Vzdj7mTH"),"aria-hidden":!0}),to:null==i?void 0:i.symbol}):T;return fe.createElement(Km,{name:"semiFade",className:"_5_NPQXE0",activeKey:B.current++},fe.createElement(Ll,{isPrimary:!0,isSubmit:!0,className:"qzfAPYMD",isDisabled:k,isLoading:N,isDestructive:I},e))}),[I,k,N,y,T,null==r?void 0:r.symbol,null==i?void 0:i.symbol]),Lw);return xw(_)})),Pw=new Set(["jWBTC","oWBTC","BTC"]),Dw=new Set(["jUSDT","oUSDT","USDT","jUSDC","oUSDC","USDC","USD₮"]),Fw=new Set(["USD","RUB","EUR","CNY"]);function Rw(t){return Fw.has(t)?5:Dw.has(t)?4:Pw.has(t)?3:t===e.Tu9.symbol?2:1}function Mw(e,t,n,a){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!(e&&t&&n&&a))return;let r,i=n.symbol,s=a.symbol;const l=new wt.z(e),c=new wt.z(t);if(l.eq(0)||c.eq(0))return;const d=Rw(i);if(Rw(s)<d){i=a.symbol,s=n.symbol;const e=l.div(t),c=o&&e.gte(1e3);r=Xo(e.toNumber(),c?0:4)}else{const t=c.div(e),n=o&&t.gte(1e3);r=Xo(t.toNumber(),n?0:4)}return{firstCurrencySymbol:i,secondCurrencySymbol:s,price:r}}const Uw="mdHmid9q",Ww="y7MeqLtP",Hw="VF77TUMq",$w="sRFnXBUF",Vw="e9qAwzfb",zw=i.p+"dedust.76618cc56dfd6341f305.png",jw=i.p+"stonfi.bf33a92c06cc67840d20.png",qw=/^\d{5,}([.,]|$)/,Kw=me(He((e=>({currentSwap:e.currentSwap})))((function(t){let{tokenIn:n,tokenOut:a,isStatic:o,currentSwap:{amountOut:r,amountIn:i,estimates:s,currentDexLabel:l,bestRateDexLabel:c,inputSource:d,ourFeePercent:u=e.YDh}}=t;const{setSwapDex:m}=Ue(),p=Qi(),[f,h,g]=yd(!1),[v,w]=re(l),y=Dp(null!=s&&s.length?s:void 0,!0),b=Dp(l,!0),E=Dp(c,!0),k=Boolean(c&&c===v),N=k?p("Use Best Rate"):p("Switch to %dex_name%",{dex_name:v?e.S7e[v]:""}),{shouldRender:C,transitionClassNames:S}=Gi(!!(null!=s&&s.length&&a&&r&&i)),A=Cr((()=>{v&&m({dexLabel:v}),g()})),{shouldRender:T,value:I}=ce((()=>function(e){let{ourFeePercent:t,decimals:n,bestRateDexLabel:a,estimates:o,inputSource:r}=e;if(!o||o.length<2)return{shouldRender:!1,value:"0"};const i=o.find((e=>{let{dexLabel:t}=e;return t===a})),s=o.find((e=>{let{dexLabel:t}=e;return t!==a}));if(!s||!i)return{shouldRender:!1,value:"0"};const l=r===Vt.In,c=l?"toAmount":"fromAmount",d=Number(i[c])/100*t,u=((0,vt.UH)(i[c],n)-(0,vt.UH)(s[c],n))*(l?1n:-1n);return{shouldRender:u-(0,vt.UH)(d,n)>0n,value:(0,vt.nI)(u,n)}}({ourFeePercent:u,decimals:d===Vt.In?null==a?void 0:a.decimals:null==n?void 0:n.decimals,estimates:s,inputSource:d,bestRateDexLabel:E})),[E,s,d,u,null==n?void 0:n.decimals,null==a?void 0:a.decimals]),B=ce((()=>{if(null!=y&&y.length&&!(y.length<2))return y.reduce(((t,o)=>{const{fromAmount:r,toAmount:i,dexLabel:s}=o,l=d===Vt.In?i:r,c=d===Vt.In?a:n;if(qw.test(l)){const n=function(t,n){const a=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.Tu9.decimals;const a=Fv(n);return t.match(a)||void 0}(t,e.Vxu);if(!a)return;const[,o,r,i]=a,s=i||r?`.${(i||"").substring(0,e.Vxu)}`:"",l=o.replace(/\d(?=(\d{3})+($))/g,`$&${e.MS3}`);return fe.createElement(fe.Fragment,null,l,fe.createElement("span",{className:"jQ6cgMjD"},s," ",n.symbol))}(l,c);n&&(t[s]=n)}else t[s]=Jo(l,c.symbol);return t}),{})}),[d,y,n,a]);if(!C||null==y||!y.length)return;const _=fe.createElement(fe.Fragment,null,E===b&&y.length>1&&fe.createElement("span",{className:"Er8PXP6e"},fe.createElement("span",{className:"IIv2eCYK"},p("Best Rate"))),p("via %dex_name%",{dex_name:fe.createElement("strong",null,e.S7e[b])}),y.length>1&&fe.createElement("i",{className:ji("icon-chevron-right","jDHaQfBV"),"aria-hidden":!0}));return 1===y.length?fe.createElement("div",{className:ji(Uw,S)},fe.createElement("div",{className:Ww},fe.createElement("span",{className:ji("M5luQatq",o&&Hw)},_))):fe.createElement("div",{className:ji(Uw,S)},fe.createElement("div",{className:Ww},fe.createElement("button",{type:"button",className:ji("bmtS8v9y",o&&Hw),onClick:function(){f?g():(w(l),h())}},_),fe.createElement(Sc,{isOpen:f,isCompact:!0,title:p("Built-in DEX Aggregator"),onClose:g},fe.createElement("div",{className:"NlzL4Voz"},y.map((t=>function(t){const o=Mw(t.fromAmount,t.toAmount,n,a);return fe.createElement("div",{key:t.dexLabel,tabIndex:0,role:"button",className:ji("lL1VFeQA",E===t.dexLabel&&"AC6eCyuu",v===t.dexLabel&&"_F70O58C"),onClick:()=>{w(t.dexLabel)}},fe.createElement("div",{className:"YT_HY2ps"},fe.createElement("img",{src:"dedust"===t.dexLabel?zw:jw,alt:e.S7e[t.dexLabel],className:"V0Td82aA"}),e.S7e[t.dexLabel]),fe.createElement("div",{className:"J5iGiLKz"},null==B?void 0:B[t.dexLabel]),fe.createElement("div",{className:"JAHr4SCc"},o?fe.createElement(fe.Fragment,null,o.firstCurrencySymbol," ≈ ",o.price," ",o.secondCurrencySymbol):void 0),t.dexLabel===E&&fe.createElement("span",{className:"gq26TBf_"},p("Best")))}(t)))),fe.createElement("p",{className:ji($w,!k&&Vw)},qo(p("$swap_dex_chooser_rate_title"))),T&&(d===Vt.Out?fe.createElement("p",{className:ji($w,!k&&Vw)},qo(p("You will spend %amount% **less**.",{amount:fe.createElement("strong",null,Jo(I,n.symbol))}))):fe.createElement("p",{className:ji($w,!k&&Vw)},qo(p("You will receive %amount% **more**.",{amount:fe.createElement("strong",null,Jo(I,a.symbol))})))),fe.createElement("div",{className:ji(bc.buttons,"IfkI_jwY")},fe.createElement(Km,{activeKey:k?0:1,name:"semiFade",slideClassName:"i8eq5QM3"},fe.createElement(Ll,{isPrimary:!0,className:ji(bc.buttonFullWidth,k&&"MevYjouy"),onClick:A},N))))))}))),Yw="DsxlgjFS",Qw=.6875*t.$,Gw=2*t.$,Xw=me((e=>{let{message:n,emoji:a,iconClassName:o,tooltipClassName:r}=e;const[i,s,l]=yd(),{transitionClassNames:c,shouldRender:d}=Gi(i),u=ue(null),m=ue(null),p=ue(),f=ue(),h=ve(),g=Cr((e=>{e.target.closest(`[data-tooltip-key="${h}"]`)||l()}));return se((()=>{if(i)return document.addEventListener("touchstart",g),()=>{document.removeEventListener("touchstart",g)}}),[i,l,g]),se((()=>{if(!u.current||!m.current)return;const{top:e,left:t,width:n}=u.current.getBoundingClientRect(),{width:a,height:o}=m.current.getBoundingClientRect(),r=(window.innerWidth-a)/2,i=t-r+n/2-Qw/2,s=i<Gw?Gw-i:0,l=`top: ${e-o-Qw}px;`,c=`left: ${r-s}px;`,d=`left: ${i+s}px;`,h=`top: ${o-Qw/2-1}px;`;p.current=`${l} ${c}`,f.current=`${h} ${d}`}),[d]),fe.createElement("div",{className:"nLt5kPU7","data-tooltip-key":h},d&&fe.createElement(yc,null,fe.createElement("div",{className:ji("DL3GDV2h",c),onClick:qi,style:p.current},fe.createElement("div",{ref:m,className:ji("pPTN8epJ",r)},n),fe.createElement("div",{className:"mw4HrHNN",style:f.current}))),a?fe.createElement("div",{ref:u,className:ji(Yw,o),onClick:t.TF?qi:void 0,onMouseEnter:s,onMouseLeave:l},fe.createElement(Wp,{from:a})):fe.createElement("i",{ref:u,className:ji(Yw,"icon-question",o),onClick:t.TF?qi:void 0,onMouseEnter:s,onMouseLeave:l}))}));function Jw(){return Jw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Jw.apply(null,arguments)}const Zw=[.5,1,2,5,10],ey=me(He((e=>{var t;const{tokenInSlug:n,amountIn:a,amountOut:o,networkFee:r,realNetworkFee:i,slippage:s,priceImpact:l,amountOutMin:c,ourFee:d,ourFeePercent:u,dieselStatus:m,dieselFee:p}=e.currentSwap,f=n?null===(t=nn(cn(n)))||void 0===t?void 0:t.nativeToken:void 0,h=f?kt(e,f.slug):void 0;return{amountIn:a,amountOut:o,networkFee:r,realNetworkFee:i,swapType:wn(e),tokenIn:gn(e),tokenOut:vn(e),slippage:s,priceImpact:l,amountOutMin:c,ourFee:d,ourFeePercent:u,dieselStatus:m,dieselFee:p,nativeTokenInBalance:h}}))((function(t){var n;let{onClose:a,amountIn:o,amountOut:r,swapType:i,tokenIn:s,tokenOut:l,slippage:c,priceImpact:d,networkFee:u,realNetworkFee:m,amountOutMin:p,ourFee:f,ourFeePercent:h=e.YDh,dieselStatus:g,dieselFee:v,nativeTokenInBalance:w,showFullNetworkFee:y,onNetworkFeeClick:b}=t;const{setSlippage:E}=Ue(),k=Qi(),N=i===jt.OnChain,[C,S,A]=yd(),[T,I]=re(c),B=(null!=d?d:0)>=5,_=void 0===T?"Slippage not specified":T>50?"Slippage too high":"",x=Cr((()=>{E({slippage:T}),a()})),L=Cr((e=>{const t=e?Number(e):void 0;I(t)})),O=ce((()=>Tc({swapType:i,tokenInSlug:null==s?void 0:s.slug,networkFee:u,realNetworkFee:m,ourFee:f,dieselStatus:g,dieselFee:v,nativeTokenInBalance:w})),[i,s,u,m,f,g,v,w]);return fe.createElement(fe.Fragment,null,N&&fe.createElement("div",{className:"uWjxL_tL"},function(){const e=Zw.map(((e,t)=>fe.createElement("div",{key:e,className:"nnFruaI2"},fe.createElement("div",{role:"button",tabIndex:0,onClick:()=>I(e),className:cw},e,"%"),t+1!==Zw.length&&fe.createElement("i",{className:"ru4rAllW","aria-hidden":!0}))));return fe.createElement("div",{className:"jiH3u0SA"},fe.createElement("span",{className:"K4rGLITC"},e))}(),fe.createElement(Jg,{labelText:fe.createElement(fe.Fragment,null,k("Slippage"),fe.createElement(Xw,{message:fe.createElement("div",{className:hw},fe.createElement("span",null,k("$swap_slippage_tooltip1")),fe.createElement("span",null,k("$swap_slippage_tooltip2"))),tooltipClassName:fw,iconClassName:ji(pw,_&&vw)})),labelClassName:"BCxUm5xP",value:null==T?void 0:T.toString(),hasError:Boolean(_),decimals:2,suffix:C?"":"%",size:"normal",onChange:L,onFocus:S,onBlur:A}),fe.createElement("div",{className:"NW_aag3U"},fe.createElement("span",null,k(_)))),fe.createElement("div",{className:"dx6Hf2xp"},function(){const e=Mw(o,r,s,l,!0);return fe.createElement("div",{className:uw},fe.createElement("span",{className:mw},k("Exchange Rate")),fe.createElement("span",{className:gw},e?`${e.firstCurrencySymbol} ≈ ${e.price} ${e.secondCurrencySymbol}`:fe.createElement(ny,null)))}(),function(){const e=y?O.fullFee:O.realFee;let t=e&&s&&fe.createElement(Kh,{terms:e.networkTerms,precision:e.precision,token:s});return t&&b&&(t=fe.createElement("span",{role:"button",tabIndex:0,className:"NlT_I8kT",onClick:()=>b()},fe.createElement("span",null,t),fe.createElement("i",{className:ji("icon-chevron-right","A0XDmIY2"),"aria-hidden":!0}))),fe.createElement("div",{className:uw},fe.createElement("span",{className:mw},k("Blockchain Fee")),fe.createElement("span",{className:gw},t||fe.createElement(ny,null)))}(),O.shouldShowOurFee&&fe.createElement("div",{className:uw},fe.createElement("span",{className:mw},k("Aggregator Fee"),fe.createElement(Xw,{message:fe.createElement("div",{className:hw},fe.createElement("span",null,qo(k("$swap_aggregator_fee_tooltip",{percent:`${h}%`})))),tooltipClassName:fw,iconClassName:pw})),fe.createElement("span",{className:gw},void 0!==f?Jo(f,null!==(n=null==s?void 0:s.symbol)&&void 0!==n?n:"",void 0,!0):fe.createElement(ny,null))),i===jt.OnChain&&fe.createElement(fe.Fragment,null,fe.createElement("div",{className:uw},fe.createElement("span",{className:ji(mw,B&&vw)},k("Price Impact"),fe.createElement(Xw,{message:fe.createElement("div",{className:hw},fe.createElement("span",null,k("$swap_price_impact_tooltip1")),fe.createElement("span",null,k("$swap_price_impact_tooltip2"))),tooltipClassName:fw,iconClassName:ji(pw,B&&vw)})),fe.createElement("span",{className:ji(gw,B&&vw)},void 0!==d?`${d}%`:fe.createElement(ny,null))),fe.createElement("div",{className:uw},fe.createElement("span",{className:mw},k("Minimum Received"),fe.createElement(Xw,{message:fe.createElement("div",{className:hw},fe.createElement("span",null,k("$swap_minimum_received_tooltip1")),fe.createElement("span",null,k("$swap_minimum_received_tooltip2"))),tooltipClassName:fw,iconClassName:pw})),fe.createElement("span",{className:gw},void 0!==p&&l?Jo(p,l.symbol):fe.createElement(ny,null))))),fe.createElement("div",{className:bc.buttons},fe.createElement(Ll,{className:bc.button,onClick:a},k("Close")),N&&fe.createElement(Ll,{isPrimary:!0,isDisabled:Boolean(_),className:bc.button,onClick:x},k("Save"))))})));function ty(e){let{isOpen:t,onClose:n,...a}=e;const o=Qi();return fe.createElement(Sc,{isOpen:t,onClose:n,isCompact:!0,title:o("Swap Details")},fe.createElement(ey,Jw({onClose:n},a)))}function ny(){const e=Qi();return fe.createElement("span",{className:"vvtzW7L0"},e("No Data"))}const ay=me(He((e=>{const t=Ge(e);return{accountId:e.currentAccountId,currentSwap:e.currentSwap,tokens:hn(e),addressByChain:null==t?void 0:t.addressByChain,isMultichainAccount:dt(e,e.currentAccountId),swapType:wn(e)}}),((e,t,n)=>n(e.currentAccountId)))((function(t){var n,a,o,r,i,s,l,c;let{currentSwap:{tokenInSlug:d,tokenOutSlug:u,amountIn:m,amountOut:p,errorType:f,isEstimating:h,networkFee:g,realNetworkFee:v,priceImpact:w=0,inputSource:y,limits:b,isLoading:E,pairs:k,dieselStatus:N,ourFee:C,ourFeePercent:S,dieselFee:A},accountId:T,addressByChain:I,tokens:B,isActive:_,isStatic:x,isMultichainAccount:L,swapType:O}=t;const{setDefaultSwapParams:P,setSwapAmountIn:D,setSwapAmountOut:F,switchSwapTokens:R,estimateSwap:M,setSwapScreen:U,loadSwapPairs:W,setSwapCexAddress:H,authorizeDiesel:$,showNotification:V}=Ue(),z=Qi(),j=ue(null),q=ue(null),K=null!=d?d:e.Tu9.slug,Y=null!=u?u:e.rKC,Q=function(e){const t=ue(0);return ll((()=>{t.current++}),[e]),t.current}(null!=K?K:""),G=sl(T,!0),X=ce((()=>null==B?void 0:B.find((e=>e.slug===K))),[K,B]),J=ce((()=>null==B?void 0:B.find((e=>e.slug===Y))),[Y,B]),Z=L||"ton"===(null==X?void 0:X.chain)?null===(n=nn(null==X?void 0:X.chain))||void 0===n?void 0:n.nativeToken.slug:void 0,ee=ce((()=>null==B?void 0:B.find((e=>e.slug===Z))),[Z,B]),te=null!==(a=null==ee?void 0:ee.amount)&&void 0!==a?a:0n,ne=m&&X?(0,vt.UH)(m,X.decimals):void 0,ae=p&&J?(0,vt.UH)(p,J.decimals):void 0,oe=null!==(o=null==X?void 0:X.amount)&&void 0!==o?o:0n,ie=ce((()=>Tc({swapType:O,tokenInSlug:d,networkFee:g,realNetworkFee:v,ourFee:C,dieselStatus:N,dieselFee:A,nativeTokenInBalance:te})),[O,d,g,v,C,N,A,te]),le=Ic({swapType:O,tokenInBalance:oe,tokenIn:X,fullNetworkFee:null===(r=ie.fullFee)||void 0===r?void 0:r.networkTerms,ourFeePercent:S}),de=function(e){var t,n;const{swapType:a,amountIn:o,tokenInBalance:r,nativeTokenInBalance:i,tokenIn:s,fullNetworkFee:l}=e;if(a===jt.CrosschainToWallet)return!0;if(void 0===o||!s||void 0===r||void 0===i||!l)return;const c=null===(t=nn(cn(s.slug)))||void 0===t?void 0:t.nativeToken;if(!c)return;const d=Ic(e);if(void 0===d)return;const u=(0,vt.UH)(o,s.decimals),m=(0,vt.UH)(null!==(n=l.native)&&void 0!==n?n:"0",c.decimals);return u<=d&&m<=i}({swapType:O,tokenInBalance:oe,tokenIn:X,fullNetworkFee:null===(i=ie.fullFee)||void 0===i?void 0:i.networkTerms,ourFeePercent:S,amountIn:m,nativeTokenInBalance:te}),me=void 0!==g&&ee?(0,vt.UH)(g,ee.decimals):0n,pe=te>=me,he=ie.isGasless&&"not-authorized"===N,ge=he||(null!=ne?ne:0n)>0n&&(null!=ae?ae:0n)>0n&&de&&(!ie.isGasless||"available"===N||"stars-fee"===N)&&!h&&void 0===f,ve=void 0!==ne&&void 0!==le&&ne>le,we=(null!=ne?ne:0n)<=0n&&y===Vt.In?"":null==p?void 0:p.toString(),ye=!1===de&&!(void 0!==oe&&void 0!==ne&&ne>oe)&&"not-authorized"!==N&&"pending-previous"!==N,be=w>=5,Ee=O===jt.CrosschainFromWallet||O===jt.CrosschainToWallet,[ke,Ne]=function(e,t,n,a,o,r){var i;const s=e||(null==t||null===(i=t[n])||void 0===i||null===(i=i[a])||void 0===i?void 0:i.isReverseProhibited);return[s,ce((()=>s?()=>{Mo(),o({message:r("$swap_reverse_prohibited")})}:void 0),[s,r,o])]}(Ee,null==k?void 0:k.bySlug,K,Y,V,z),Ce=Cr((()=>{(_&&!xr()||h)&&M()})),Se=qv(D,[D],500,!0),Ae=qv(F,[F],500,!0),[Te,Ie,Be,_e]=function(e){var t;const n="exact"!==(null===(t=e.realFee)||void 0===t?void 0:t.precision),[a,o]=re();return[a,Cr((()=>o("settings"))),ce((()=>n?()=>o("feeDetails"):void 0),[n]),Cr((()=>o(void 0)))]}(ie);se((()=>{d||u||P()}),[d,u]),se((()=>{h&&Ce();const e=setInterval(Ce,1e3);return()=>clearInterval(e)}),[h]),se((()=>{const e=T!==G;K&&W({tokenSlug:K,shouldForceUpdate:e}),Y&&W({tokenSlug:Y,shouldForceUpdate:e})}),[T,G,K,Y]);const xe=Cr((e=>{Se({amount:e||void 0})})),Le=Cr((e=>{Ae({amount:e||void 0})})),Oe=Cr((e=>{if(qi(e),ge)if(he)$();else{if(Mo(),Ee)return H({toAddress:""}),void(O===jt.CrosschainToWallet?U({state:$t.Password}):L&&I[X.chain]&&I[J.chain]?(H({toAddress:I[J.chain]}),U({state:$t.Password})):U({state:$t.Blockchain}));U({state:$t.Password})}})),Pe=Cr((()=>{Mo(),R()}));return fe.createElement(fe.Fragment,null,fe.createElement("form",{className:x?void 0:bc.transitionContent,onSubmit:Oe},fe.createElement("div",{className:"dQUuISOK"},fe.createElement("div",{ref:j,className:dw},fe.createElement(Km,{name:"fade",activeKey:Q},void 0!==le&&fe.createElement("div",{className:"fwq9FYcS"},fe.createElement("span",{className:"UT26q2A_"},z("$max_balance",{balance:fe.createElement("div",{role:"button",tabIndex:0,onClick:e=>{if(e.preventDefault(),void 0===le)return;Mo();const t=(0,vt.nI)(le,X.decimals);D({amount:t,isMaxAmount:!0})},className:cw},Jo((0,vt.nI)(le,null==X?void 0:X.decimals),X.symbol))})))),fe.createElement(Jg,{id:"swap-sell",labelText:z("You sell"),className:"SZC58ifv",hasError:ve,value:null==m?void 0:m.toString(),isLoading:h&&y===Vt.Out,onChange:xe,onPressEnter:Oe,decimals:null==X?void 0:X.decimals,labelClassName:sw,inputClassName:lw,cornerClassName:ji("csDd7Ni1",x&&"B7ECmlJ1"),isStatic:x},fe.createElement(Sw,{token:X}))),fe.createElement("div",{className:ji("eEwTqlEP",x&&"z1UgQ2yi")},fe.createElement(oy,{onClick:Pe})),fe.createElement("div",{ref:q,className:dw},fe.createElement(Jg,{id:"swap-buy",labelText:z("You buy"),className:"uBBR78Gi",value:we,isLoading:h&&y===Vt.In,disabled:ke,onChange:Le,onPressEnter:Oe,onInputClick:Ne,decimals:null==J?void 0:J.decimals,labelClassName:sw,inputClassName:lw,cornerClassName:ji("xyxUxtsY",x&&"WuHn_HeC"),isStatic:x},fe.createElement(Sw,{token:J,shouldFilter:!0})))),fe.createElement(Kw,{tokenIn:X,tokenOut:J,isStatic:x}),fe.createElement("div",{className:ji("yPmfwG9j",x&&"Edk19FlP")},function(){let e,t="exact";if(m&&p||(m||p)&&f){const n=ye?ie.fullFee:void 0;n&&({terms:e,precision:t}=n)}return fe.createElement(tg,{isStatic:x,terms:e,token:X,precision:t,keepDetailsButtonWithoutFee:!0,onDetailsClick:Ie,className:"vz3aF88G"})}(),function(){if(w&&be&&!Ee)return fe.createElement("div",{className:ji("nwwHhwFa",x&&"eoiWwJ0m"),onClick:Ie},fe.createElement(lm,{play:_,tgsUrl:xu.run,previewUrl:xu.runPreview,noLoop:!1,nonInteractive:!0,size:e.YO8,className:"YaZn9OUh"}),fe.createElement("div",{className:"UUOZvXZT"},fe.createElement("span",{className:"sbyrAyQC"},z("The exchange rate is below market value!",{value:`${w}%`}),fe.createElement("i",{className:ji("cEk2aQ7Z","icon-arrow-right-swap"),"aria-hidden":!0})),fe.createElement("span",{className:"olGNOU3k"},z("We do not recommend to perform an exchange, try to specify a lower amount."))))}(),function(){if(Ee)return fe.createElement("div",{className:ji("gCMqbJwS",x&&"EvrCvWOD")},fe.createElement("span",{className:"fwJQ9lpO"},fe.createElement("i",{className:ji("icon-changelly","ieB34P8k"),"aria-hidden":!0}),z("Cross-chain exchange provided by Changelly")),fe.createElement("span",{className:"Y38OidS3"},z("$swap_changelly_agreement_message",{terms:fe.createElement("a",{href:e.Kq_,target:"_blank",rel:"noreferrer"},z("$swap_changelly_terms_of_use")),policy:fe.createElement("a",{href:e.kuw,target:"_blank",rel:"noreferrer"},z("$swap_changelly_privacy_policy")),kyc:fe.createElement("a",{href:e.BZS,target:"_blank",rel:"noreferrer"},"Changelly AML/KYC")})))}(),fe.createElement(Ow,{tokenIn:X,tokenOut:J,amountIn:m,amountOut:p,swapType:O,isEstimating:h,isNotEnoughNative:!pe,nativeToken:ee,dieselStatus:N,isSending:E,isPriceImpactError:be,canSubmit:ge,errorType:f,limits:b}))),fe.createElement(ty,{isOpen:"settings"===Te,onClose:_e,onNetworkFeeClick:Be,showFullNetworkFee:ye}),fe.createElement(Zh,{isOpen:"feeDetails"===Te,onClose:_e,fullFee:null===(s=ie.fullFee)||void 0===s?void 0:s.networkTerms,realFee:null===(l=ie.realFee)||void 0===l?void 0:l.networkTerms,realFeePrecision:null===(c=ie.realFee)||void 0===c?void 0:c.precision,excessFee:ie.excessFee,excessFeePrecision:"approximate",token:X}))})));function oy(t){let{onClick:n}=t;const a=Re().settings.animationLevel===e.zP3,[o,r,i]=yd(!1),s=Cr((()=>{a&&(r(),window.setTimeout((()=>{i()}),350)),null==n||n()}));function l(e){return fe.createElement("div",{className:ji("abK4XtWe",e&&"OSP7z62u")},fe.createElement("div",{className:"ZktBDvds"},fe.createElement("i",{className:"icon-arrow-up-swap","aria-hidden":!0})),fe.createElement("div",{className:ji("G_2MIwOh",o&&"PpIbnc8v")},fe.createElement("i",{className:"icon-arrow-up-swap","aria-hidden":!0})),fe.createElement("div",{className:ji("Z8CqJe5c",o&&"STVPF9rF")},fe.createElement("i",{className:"icon-arrow-up-swap","aria-hidden":!0})))}return fe.createElement("div",{className:"hrHymNJu",onClick:s},l(),l(!0))}let ry=(0,t.v3)();function iy(){const t=he();return Yi((()=>{e.UMQ&&!ry&&id.isSupported().then((e=>{ry=e.supported,t()}))})),ry}const sy=me((function(e){let{nfts:t,isStatic:n}=e;const a=Qi(),[o,,r]=yd(!0),i=o&&t.length>11,s=ce((()=>i?t.slice(0,10):t),[i,t]);return fe.createElement("div",{className:ji("OW45fd9i",n&&"h6wiRr_r","custom-scroll")},s.map((function(e){return fe.createElement("div",{key:e.address,className:"HmnTdlh8"},fe.createElement("img",{src:e.thumbnail,alt:e.name,className:"H3EA9Tak"}),fe.createElement("span",{className:"_gZbYTeY"},e.name||e.address))})),i&&fe.createElement("button",{type:"button",className:"T7bQHi3K",onClick:()=>r()},"+",a("%amount% NFTs",{amount:t.length-10})))})),ly="AryS2PDZ",cy="erx70q4_",dy="Jag9KEHr",uy="fVQ8S1pD",my="Pne6FnQc",py="eBKrZtom",fy="RJsBtjCe",hy="U6ZAbMe2",gy="pUMdj3j5",vy=[{value:"raw",name:"Comment or Memo"},{value:"encrypted",name:"Encrypted Message"}],wy=new Set([Ht.Initial,Ht.None]),yy=Mn.Z2,by="input-clear-button",Ey=(0,l.sg)((e=>e()),500,!1);function ky(e,t){const n=t.toLowerCase(),{address:a,name:o}=e;return a.toLowerCase().startsWith(n)||a.toLowerCase().endsWith(n)||o.toLowerCase().split(/\s+/).some((e=>e.startsWith(n)))}const Ny=me(He((e=>{const{toAddress:t,amount:n,comment:a,shouldEncrypt:o,fee:r,realFee:i,tokenSlug:s,isLoading:l,state:c,nfts:d,binPayload:u,isMemoRequired:m,diesel:p,stateInit:f}=e.currentTransfer,h=at(e),g=Je(e),v=e.settings.baseCurrency;return{toAddress:t,amount:n,comment:a,shouldEncrypt:o,fee:r,realFee:i,nfts:d,tokenSlug:s,binPayload:u,stateInit:f,tokens:Et(e),savedAddresses:null==g?void 0:g.savedAddresses,isEncryptedCommentSupported:!(h||null!=d&&d.length||m),isMemoRequired:m,isLoading:l&&wy.has(c),baseCurrency:v,currentAccountId:e.currentAccountId,accounts:Ye(e),diesel:p,isDieselAuthorizationStarted:null==g?void 0:g.isDieselAuthorizationStarted,isMultichainAccount:dt(e,e.currentAccountId)}}),((t,n,a)=>{let{isStatic:o}=n;if(!o)return a(t.currentAccountId);const{nfts:r,tokenSlug:i=e.Tu9.slug}=t.currentTransfer,s=null!=r&&r.length?`${r[0].address}_${r.length}`:i;return a(`${t.currentAccountId}_${s}`)}))((function(n){var a,o,r,i,s;let{isStatic:l,tokenSlug:c,toAddress:d="",amount:u,comment:m="",shouldEncrypt:p,tokens:f,fee:h,realFee:g,savedAddresses:v,accounts:w,currentAccountId:y,isEncryptedCommentSupported:b,isMemoRequired:E,isLoading:k,baseCurrency:N,nfts:C,binPayload:S,stateInit:A,diesel:T,isDieselAuthorizationStarted:I,isMultichainAccount:B}=n;const{submitTransferInitial:_,showNotification:x,fetchTransferFee:L,fetchNftFee:O,changeTransferToken:P,setTransferAmount:D,setTransferToAddress:F,setTransferComment:R,setTransferShouldEncrypt:M,cancelTransfer:U,requestOpenQrScanner:W,showDialog:H,authorizeDiesel:$,fetchTransferDieselState:V}=Ue(),z=Boolean(null==C?void 0:C.length);z&&(c=e.Tu9.slug,u=void 0);const j=ue(null),q=ue(null),K=Qi(),Y=ce((()=>null==f?void 0:f.find((e=>e.slug===c))),[c,f]),{amount:Q,decimals:G,price:X,symbol:J,chain:Z,codeHash:ee}=Y||{},[te,ne]=re(t.Et),[ae,oe,ie]=yd(),[le,de,me]=yd(),[pe,he]=re(),[ge,ve]=re(),we=d.length>22?Wr(d,11)||"":d,ye=Z?Cn(d,Z):void 0,be=ce((()=>w?Object.keys(w).filter((e=>e!==y)):[]),[y,w]),Ee=ce((()=>be.length>0||v&&v.length>0),[be.length,v]),ke=ce((()=>null==f?void 0:f.find((e=>!e.tokenAddress&&e.chain===Z))),[f,Z]),Ne=c===e.Tu9.slug,Ce=!(d||m||S||p||(z?l:void 0!==u)),Se=iy(),Ae=X&&u?(0,vt.CF)(u,G).mul(X).round(G,wt.z.roundHalfUp).toString():void 0,Te=Dp(Ae,!0),Ie=te&&""===d,Be=!!d.length,_e=nr(N),xe=ce((()=>bn({fee:h,realFee:g,diesel:T,tokenSlug:c})),[h,g,T,c]),Le=function(e){var t,n;let{tokenBalance:a,nativeTokenBalance:o,transferAmount:r,fullFee:i,canTransferFullBalance:s}=e;if(void 0===r||void 0===a||void 0===o||!i)return;const l=r===a&&s,c=(null!==(t=i.token)&&void 0!==t?t:0n)+(l?0n:r),d=null!==(n=i.native)&&void 0!==n?n:0n;return c<=a&&d<=o}({tokenBalance:Q,nativeTokenBalance:ke.amount,transferAmount:z?0n:u,fullFee:null===(a=xe.fullFee)||void 0===a?void 0:a.terms,canTransferFullBalance:xe.canTransferFullBalance}),Oe=!z&&!u,Pe=ue(!1),De=En({tokenBalance:Q,tokenSlug:c,fullFee:null===(o=xe.fullFee)||void 0===o?void 0:o.terms,canTransferFullBalance:xe.canTransferFullBalance}),Fe="not-authorized"===(null==T?void 0:T.status),Re=Fe&&I?yy:void 0,{shouldRender:Me,transitionClassNames:We}=Gi(Boolean(Ae)),He=Cr((()=>{V({tokenSlug:c})}));Bp(He,Re);const $e=ce((()=>f?f.reduce(((e,t)=>((t.amount>0&&!t.isDisabled||t.slug===c)&&e.push({value:t.slug,icon:ms[t.symbol.toLowerCase()]||t.image,overlayIcon:B?kv(t.chain):void 0,name:t.symbol}),e)),[]):[]),[B,c,f]);se((()=>{Ne&&Q&&u&&h&&u<Q&&h<Q&&u+h>=Q&&D({amount:Q-h})}),[Ne,u,Q,h]),se((()=>{if(Oe||!ye)return;const e=()=>{z?O({toAddress:d,comment:m,nfts:null!=C?C:[]}):L({tokenSlug:c,toAddress:d,comment:m,shouldEncrypt:p,binPayload:S,stateInit:A})};Pe.current?(Pe.current=!1,e()):Ey(e)}),[Oe,S,m,p,ye,z,C,A,d,c]),se((()=>{(e.Svl.has(c)||e.kuH.has(null!=ee?ee:""))&&H({title:K("Warning!"),message:K("$service_token_transfer_warning")})}),[c,ee,K]);const Ve=Cr((e=>{P({tokenSlug:e})})),ze=Cr((()=>{Ee&&le&&(me(),q.current&&window.clearTimeout(q.current))})),je=Cr((()=>{const e=j.current;requestAnimationFrame((()=>{const t=e.selectionStart;oe(),requestAnimationFrame((()=>{const n=t<=14?t:Math.max(0,e.value.length-(we.length-t));e.setSelectionRange(n,n),n>22&&(e.scrollLeft=e.scrollWidth-e.clientWidth)}))})),Ee&&(t.Ni?q.current=window.setTimeout(de,300):de())})),qe=Cr((e=>{var t;ie(),(null===(t=e.relatedTarget)||void 0===t?void 0:t.id)!==by?((0,Nn.iy)(d)&&d!==d.toLowerCase()?F({toAddress:d.toLowerCase().trim()}):d!==d.trim()&&F({toAddress:d.trim()}),requestAnimationFrame((()=>{ze()}))):ze()})),Ke=Cr((e=>{F({toAddress:e})})),Ye=Cr((()=>{F({toAddress:void 0})})),Qe=Cr((()=>{W(),U()})),Ge=Cr((()=>{l?U({shouldReset:!0}):(Ye(),D({amount:void 0}),R({comment:void 0}),M({shouldEncrypt:!1}))})),Xe=Cr((async()=>{try{const{type:e,text:t}=await Vo();"text/plain"===e&&(Pe.current=!0,F({toAddress:t.trim()}))}catch(e){x({message:K("Error reading clipboard")}),ne(!1)}})),Je=Cr((e=>{Pe.current=!0,F({toAddress:e}),me()})),Ze=Cr((e=>{he(e),ve(Z),me()})),et=Cr((()=>{he(void 0),ve(void 0)})),tt=Cr((e=>{const t=e?(0,vt.UH)(e,G):void 0;(void 0===t||t>=0)&&D({amount:t})})),nt=Cr((e=>{e.preventDefault(),Q&&(Mo(),Pe.current=!0,D({amount:De}))})),at=Cr((()=>{Pe.current=!0})),ot=Cr((e=>{R({comment:Cy(e,5e3)})})),rt=d.length>0&&!ye,it=!z&&void 0!==Q&&void 0!==u&&u>Q,st=!1===Le&&!it&&"not-authorized"!==(null==T?void 0:T.status)&&"pending-previous"!==(null==T?void 0:T.status),lt=!z&&void 0!==u&&(void 0!==De&&u>De||st),ct=Boolean(d)&&E,dt=Fe||Boolean(ye&&!Oe&&!lt&&Le&&!(ct&&!m)&&(!xe.isGasless||"available"===(null==T?void 0:T.status)||"stars-fee"===(null==T?void 0:T.status))&&!(z&&(null==C||!C.length))),ut=Cr((e=>{var t;qi(e),Fe?$():dt&&(Mo(),_({tokenSlug:c,amount:null!==(t=u)&&void 0!==t?t:0n,toAddress:d,comment:m,binPayload:S,shouldEncrypt:p,nfts:C,withDiesel:xe.isGasless,isGaslessWithStars:"stars-fee"===(null==T?void 0:T.status),stateInit:A}))})),mt=Cr((e=>{M({shouldEncrypt:"encrypted"===e})})),[pt,ft,ht]=function(e){var t;const n="exact"!==(null===(t=e.realFee)||void 0===t?void 0:t.precision),[a,o,r]=yd(!1);return[a,n?o:void 0,r]}(xe),gt=ce((()=>{if(v&&0!==v.length)return v.filter((e=>(!z||"ton"===e.chain)&&ky(e,d))).map((e=>Sy({key:`saved-${e.address}-${e.chain}`,address:e.address,name:e.name,chain:B?e.chain:void 0,deleteLabel:K("Delete"),onClick:Je,onDeleteClick:Ze})))}),[v,z,d,B,K]),yt=ce((()=>{var t;if(0===be.length)return;const n=null!==(t=null==v?void 0:v.map((e=>`${e.chain}:${e.address}`)))&&void 0!==t?t:[],a=new Set;return be.reduce(((t,o)=>{const r=w[o];return Object.keys(r.addressByChain).forEach((o=>{const i=r.addressByChain[o],s=`${o}:${i}`;a.has(s)||z&&"ton"!==o||!B&&o!==e.Tu9.chain||n.includes(`${o}:${i}`)||(a.add(s),t.push({name:r.title||Wr(i),address:i,chain:o,isHardware:r.isHardware}))})),t}),[]).filter((e=>ky(e,d))).map((e=>{let{address:t,name:n,chain:a,isHardware:o}=e;return Sy({key:`address-${t}-${a}`,address:t,name:n,chain:B?a:void 0,isHardware:o,onClick:Je})}))}),[be,v,w,B,z,d]),bt=!(null==gt||!gt.length)||!(null==yt||!yt.length),Et=Se||Ie||Be,kt=le&&bt;return fe.createElement(fe.Fragment,null,fe.createElement("form",{className:l?void 0:bc.transitionContent,onSubmit:ut,onPaste:at},1===(null==C?void 0:C.length)&&fe.createElement(Bh,{nft:C[0],isStatic:l}),Boolean(null==C?void 0:C.length)&&C.length>1&&fe.createElement(sy,{nfts:C,isStatic:l}),fe.createElement(wm,{ref:j,className:ji(l&&fy,Et&&"uMO1BRcS"),isRequired:!0,label:K("Recipient Address"),placeholder:K("Wallet address or domain"),value:ae?d:we,error:rt&&!kt?K("Incorrect address"):void 0,autoCorrect:!1,onInput:Ke,onFocus:je,onBlur:qe},fe.createElement(Km,{className:"lRz9la7D",activeKey:d.length?0:1,name:"fade"},d.length?fe.createElement(Ll,{isSimple:!0,id:by,className:ji(ly,"P0VxxOpY"),onClick:Ye,ariaLabel:K("Clear")},fe.createElement("i",{className:"icon-close-filled","aria-hidden":!0})):fe.createElement(fe.Fragment,null,Se&&fe.createElement(Ll,{isSimple:!0,className:ji(ly,Ie&&"KYWbK7EG"),onClick:Qe,ariaLabel:K("Scan QR Code")},fe.createElement("i",{className:"icon-qr-scanner-alt","aria-hidden":!0})),Ie&&fe.createElement(Ll,{isSimple:!0,className:ly,onClick:Xe,ariaLabel:K("Paste")},fe.createElement("i",{className:"icon-paste","aria-hidden":!0}))))),Ee&&function(){if(bt)return fe.createElement(eh,{positionX:"right",type:"suggestion",noBackdrop:!0,bubbleClassName:"keyC_8Hs",isOpen:le,onClose:me},gt,yt)}(),function(){if(J&&!z)return fe.createElement("div",{className:"E0ipzM4y"},fe.createElement("span",{className:"Xbj3_5WF"},K("$max_balance",{balance:fe.createElement("div",{role:"button",tabIndex:0,onClick:nt,className:"GAcZr7Wf"},void 0!==De?Jo((0,vt.nI)(De,G),J):K("Loading..."))})))}(),!z&&fe.createElement(fe.Fragment,null,fe.createElement(Jg,{key:"amount",id:"amount",hasError:lt,value:void 0===u?void 0:(0,vt.nI)(u,G),labelText:K("Amount"),onChange:tt,onPressEnter:ut,decimals:G,className:"lJJMNmjc",inputClassName:l?"BrNIQCUa":void 0},fe.createElement(sh,{items:$e,selectedValue:c,className:"NHWRtRzL",itemClassName:"Qkrt8RTy",onChange:Ve})),fe.createElement("div",{className:"pzJTzb6I"},fe.createElement("div",{className:"NwaO39Nr"},Me&&fe.createElement("span",{className:ji("GgT8dw74",We)},"≈ ",Jo(Te||"0",_e,void 0,!0)),function(){let e=0,t=" ";return u&&(it?(e=1,t=fe.createElement("span",{className:dy},K("Insufficient balance"))):st&&(e=2,t=fe.createElement("span",{className:dy},K("Insufficient fee")))),fe.createElement(Km,{className:ji("Zkzr1Luh",l&&"EY9Piz6P"),slideClassName:"M4tMPnH0",name:"fade",activeKey:e},t)}()))),"ton"===Z&&(S||A?fe.createElement(fe.Fragment,null,S&&fe.createElement(fe.Fragment,null,fe.createElement("div",{className:cy},K("Signing Data")),fe.createElement(Hh,{text:S,copyNotification:K("Data was copied!"),className:uy})),A&&fe.createElement(fe.Fragment,null,fe.createElement("div",{className:cy},K("Contract Initialization Data")),fe.createElement(Hh,{text:A,copyNotification:K("Data was copied!"),className:uy})),fe.createElement("div",{className:gy},qo(K("$signature_warning")))):fe.createElement(wm,{wrapperClassName:py,className:l?fy:void 0,label:fe.createElement(sh,{items:b?vy:[vy[0]],selectedValue:vy[p?1:0].value,theme:"light",disabled:"tron"===Z,menuPositionHorizontal:"left",shouldTranslateOptions:!0,className:"SXy2g5zj",onChange:mt}),placeholder:K(ct?"Required":"Optional"),value:m,isMultiline:!0,isDisabled:"tron"===Z,onInput:ot,isRequired:ct})),fe.createElement("div",{className:ji("yVExFE73",l&&"ton"!==Z&&"NGWUkuR3")},function(){let e,t="exact";if(!Oe){const n=st?xe.fullFee:xe.realFee;n&&({terms:e,precision:t}=n)}return fe.createElement(tg,{isStatic:l,terms:e,token:Y,precision:t,onDetailsClick:ft})}(),fe.createElement("div",{className:"oMCN3Z8P"},fe.createElement(Ll,{isDisabled:Ce||k,className:hy,onClick:Ge},K("Clear")),fe.createElement(Ll,{isPrimary:!0,isSubmit:!0,isDisabled:!dt,isLoading:k,className:hy},"not-authorized"===(null==T?void 0:T.status)?K("Authorize %token% Fee",{token:J}):"pending-previous"===(null==T?void 0:T.status)?K("Awaiting Previous Fee"):K("$send_token_symbol",z?"NFT":J||"TON"))))),fe.createElement(Rh,{isOpen:Boolean(pe),address:pe,chain:ge,onClose:et}),fe.createElement(Zh,{isOpen:pt,onClose:ht,fullFee:null===(r=xe.fullFee)||void 0===r?void 0:r.terms,realFee:null===(i=xe.realFee)||void 0===i?void 0:i.terms,realFeePrecision:null===(s=xe.realFee)||void 0===s?void 0:s.precision,excessFee:xe.excessFee,excessFeePrecision:"approximate",token:Y}))})));function Cy(e,t){const n=new TextDecoder("utf-8"),a=(new TextEncoder).encode(e);return n.decode(a.slice(0,t)).replace(/\uFFFD/g,"")}function Sy(e){let{key:n,address:a,name:o,chain:r,isHardware:i,deleteLabel:s,onClick:l,onDeleteClick:c}=e;const d=!!c,u=e=>{e.preventDefault(),e.stopPropagation(),c(a)};return fe.createElement("div",{key:n,tabIndex:-1,role:"button",onMouseDown:t.TF?void 0:()=>l(a),onClick:t.TF?()=>l(a):void 0,className:"WI13wV5I"},fe.createElement("span",{className:"ZEsl45OR"},fe.createElement("span",{className:"HLnOPUyB"},o||Wr(a)),i&&fe.createElement("i",{className:ji("bdYXzf2H","icon-ledger"),"aria-hidden":!0})),d&&fe.createElement("span",{className:"ozjjQpYQ"},fe.createElement("span",{tabIndex:-1,role:"button",className:"UWDrZutz",onMouseDown:u},s)),o&&fe.createElement("span",{className:"sDGTQ4jr"},r&&fe.createElement("i",{className:ji("g2vfXFiv",`icon-chain-${r}`),"aria-hidden":!0}),Wr(a)),d&&fe.createElement("span",{className:"rO6SGoH9",role:"button",tabIndex:-1,onMouseDown:u,onClick:qi,"aria-label":s},fe.createElement("i",{className:"icon-trash","aria-hidden":!0})))}const Ay={container:"oiB1R7GB",tabs:"Sue0UN3j",notAllTabs:"QLxHVfeT",tab:"qUqbpDN6",active:"PSKCyspY",tab_purple:"Hw7rCAOU",tabPurple:"Hw7rCAOU",tab_purpleText:"Y4BNELoX",tabPurpleText:"Y4BNELoX",tabDelimiter:"CLfyAuI6",tabDecoration:"SSnDTAfy",tabIcon:"nIk_Y_3d",tabText:"IfCQ498V",contentHeader:"LzaI7YWC",firstActive:"G0Sd_POg",contentHeaderInner:"rWtZ588N",lastActive:"Y80L38VI",contentBg:"ibE61V3n",contentFooter:"WvrNEDxt",contentSlideStaked:"F0M6K6CS","tab-0":"NmGloXOI",tab0:"NmGloXOI","tab-1":"S7XD0emA",tab1:"S7XD0emA",slideContent:"bTsglo_e",transitionContent:"YJuoqMiV",slideContentAddBuy:"QO6jMpRA",transferSlideContent:"PkpRKi3Q",spinner:"KCsGLTLM"},Ty=[Xt.Receive,Xt.Transfer,Xt.Swap,Xt.Stake];let Iy=0;const By=me(He((t=>{var n,a;const o=null!==(n=Ze(t,t.currentAccountId))&&void 0!==n?n:{},{isSwapDisabled:r,isOnRampDisabled:i}=t.restrictions,{nfts:s,tokenSlug:l}=t.currentTransfer,c=cn(l)===e.Tu9.chain;return{activeTabIndex:null==o?void 0:o.landscapeActionsActiveTabIndex,isTestnet:t.settings.isTestnet,nfts:s,tokenSlug:l,isTransferWithComment:c,isSwapDisabled:r,isOnRampDisabled:i,accentColorIndex:null===(a=nt(t))||void 0===a?void 0:a.accentColorIndex}}),((e,t,n)=>n(e.currentAccountId)))((function(n){let{stakingStatus:a,isLedger:o,theme:r,activeTabIndex:i=e.Dde,nfts:s,tokenSlug:l,isTransferWithComment:c,isTestnet:d,isSwapDisabled:u,isOnRampDisabled:m,accentColorIndex:p}=n;const{setLandscapeActionsActiveTabIndex:f}=Ue(),h=Qi(),g=i===Xt.Stake&&"inactive"!==a,{renderedBgHelpers:v,transitionRef:w}=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=ue(null),r=ue(null),i=ue(null),s=ue(),l=Cr((function(){var n,l;let c=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const d=`.${e}.${jm}`,u=a?" .staking-info":"",m=`${d} .${t}.${qm}, ${d} .${t}.${jm}`,p=`.${e}.${qm}${u}, ${d}${u}`,f=((null===(n=o.current)||void 0===n?void 0:n.querySelector(m))||(null===(l=o.current)||void 0===l?void 0:l.querySelector(p))).getBoundingClientRect(),h=!s.current||c;s.current!==f.height&&r.current&&(0,E.RK)((()=>{if(!r.current||!i.current)return;const e=r.current.style,t=i.current.style;h&&(e.transition="none",t.transition="none"),e.transform=`scaleY(calc(${f.height} / 100))`,t.transform=`translateY(${Math.floor(f.height)}px)`,h&&(0,E.RK)((()=>{r.current&&i.current&&(r.current.style.transition="",i.current.style.transition="")})),s.current=f.height}))}));se((()=>{l(!0);const e=new ResizeObserver((e=>{e.length&&l()}));return o.current&&e.observe(o.current),()=>{e.disconnect()}}),[l]);return{renderedBgHelpers:ce((()=>fe.createElement(fe.Fragment,null,fe.createElement("div",{ref:r,className:ji(Ay.contentBg,n)}),fe.createElement("div",{ref:i,className:ji(Ay.contentFooter,n)}))),[n]),transitionRef:o}}(Ay.slideContent,Ay.transferSlideContent,g?Ay.contentSlideStaked:void 0,g),y=!d&&!o&&!u,b=!d&&!m,k=!d&&!e.OuE,N=!y||!k,C=!k&&!y&&i===Xt.Transfer||!k&&y&&i===Xt.Swap||k&&i===Xt.Stake,S=ce((()=>(null==s?void 0:s.map((e=>e.address)).join(","))||l),[s,l]),[A,T,I]=yd(),[B,_,x]=yd(),[L,O,P]=yd(),[D,F,R]=yd(),M=wd(r),U=xu[M],W=p?ud[M][p]:void 0,H=ue(0);function $(e,t){switch(i){case Xt.Receive:return fe.createElement("div",{className:ji(Ay.slideContent,Ay.slideContentAddBuy)},fe.createElement(Iv,{isOpen:e,isStatic:!0}));case Xt.Transfer:return fe.createElement("div",{className:ji(Ay.slideContent,Ay.slideContentTransfer)},fe.createElement(Km,{activeKey:Iy,name:t?"semiFade":"none",direction:c?void 0:"inverse",shouldCleanup:!0,slideClassName:Ay.transferSlideContent},fe.createElement(Ny,{key:Iy,isStatic:!0})));case Xt.Swap:return fe.createElement("div",{className:Ay.slideContent},fe.createElement(ay,{isStatic:!0,isActive:e}));case Xt.Stake:return fe.createElement("div",{className:Ay.slideContent},fe.createElement("inactive"===a?Hv:Qv,{isStatic:!0,isActive:e}));default:return}}function V(e,n){t.TF&&n(),f({index:e},{forceOnHeavyAnimation:!0})}return ll((()=>{H.current++}),[W]),ll((()=>{Iy+=1}),[S]),se((()=>{(!y&&i===Xt.Swap||!k&&i===Xt.Stake)&&f({index:Xt.Transfer})}),[i,d,o,y,k]),fe.createElement("div",{className:Ay.container},fe.createElement("div",{className:ji(Ay.tabs,N&&Ay.notAllTabs)},fe.createElement("div",{className:ji(Ay.tab,i===Xt.Receive&&Ay.active),onMouseEnter:t.TF?void 0:T,onClick:()=>{V(Xt.Receive,T)}},fe.createElement(lm,{play:A,size:e.lk4,speed:2,className:Ay.tabIcon,key:W,color:W,nonInteractive:!0,forceOnHeavyAnimation:!0,tgsUrl:U.iconAdd,iconPreviewClass:"icon-action-add",onEnded:I}),fe.createElement("span",{className:Ay.tabText},h(y||b?"Add / Buy":"Add")),fe.createElement("span",{className:Ay.tabDecoration,"aria-hidden":!0})),fe.createElement("div",{className:ji(Ay.tab,i===Xt.Transfer&&Ay.active),onMouseEnter:t.TF?void 0:_,onClick:()=>{V(Xt.Transfer,_)}},fe.createElement(lm,{play:B,size:e.lk4,speed:2,className:Ay.tabIcon,key:W,color:W,nonInteractive:!0,forceOnHeavyAnimation:!0,tgsUrl:U.iconSend,iconPreviewClass:"icon-action-send",onEnded:x}),fe.createElement("span",{className:Ay.tabText},h("Send")),fe.createElement("span",{className:Ay.tabDecoration,"aria-hidden":!0}),fe.createElement("span",{className:Ay.tabDelimiter,"aria-hidden":!0})),y&&fe.createElement("div",{className:ji(Ay.tab,i===Xt.Swap&&Ay.active),onMouseEnter:t.TF?void 0:O,onClick:()=>{V(Xt.Swap,O)}},fe.createElement(lm,{play:L,size:e.lk4,speed:2,className:Ay.tabIcon,key:W,color:W,nonInteractive:!0,forceOnHeavyAnimation:!0,tgsUrl:U.iconSwap,iconPreviewClass:"icon-action-swap",onEnded:P}),fe.createElement("span",{className:Ay.tabText},h("Swap")),fe.createElement("span",{className:Ay.tabDecoration,"aria-hidden":!0}),fe.createElement("span",{className:Ay.tabDelimiter,"aria-hidden":!0})),k&&fe.createElement("div",{className:ji(Ay.tab,i===Xt.Stake&&Ay.active,g&&Ay.tab_purple,"inactive"!==a&&Ay.tab_purpleText),onMouseEnter:t.TF?void 0:F,onClick:()=>{V(Xt.Stake,F)}},fe.createElement(lm,{play:D,size:e.lk4,speed:2,className:Ay.tabIcon,key:W,color:W,nonInteractive:!0,forceOnHeavyAnimation:!0,tgsUrl:U["inactive"!==a?"iconEarnPurple":"iconEarn"],iconPreviewClass:ji("icon-action-earn","inactive"!==a&&Ay.tab_purpleText),onEnded:R}),fe.createElement("span",{className:Ay.tabText},h({inactive:"Earn",active:"Earning",unstakeRequested:"Unstaking"}[a])),fe.createElement("span",{className:Ay.tabDecoration,"aria-hidden":!0}),fe.createElement("span",{className:Ay.tabDelimiter,"aria-hidden":!0}))),fe.createElement("div",{className:ji(Ay.contentHeader,i===Xt.Receive&&Ay.firstActive,C&&Ay.lastActive)},fe.createElement("div",{className:ji(Ay.contentHeaderInner,g&&Ay.contentSlideStaked)})),v,fe.createElement(Km,{ref:w,name:"slideFade",activeKey:i,renderCount:Ty.length,className:ji(Ay.transitionContent,"static-container")},$))}))),_y="f9uDJdvE",xy="iQddp8Ac",Ly=me((function(t){let{isTestnet:n,stakingStatus:a,onEarnClick:o,isLedger:r,isSwapDisabled:i,isOnRampDisabled:s}=t;const{startTransfer:l,startSwap:c,openReceiveModal:d}=Ue(),u=Qi(),m=!n&&!r&&!i,p=!n&&!s,f=!n&&!e.OuE,h=e.TI6?"Receive":m||p?"Add / Buy":"Add",g=Cr((()=>{Mo(),c()})),v=Cr((()=>{Mo(),l({isPortrait:!0})})),w=Cr((()=>{Mo(),d()})),y=Cr((()=>{Mo(),o()}));return fe.createElement("div",{className:"oAYeit4x"},fe.createElement("div",{className:"Xw7VtigI"},fe.createElement(Ll,{isSimple:!0,className:_y,onClick:w},fe.createElement("i",{className:ji(xy,"icon-action-add"),"aria-hidden":!0}),u(h)),fe.createElement(Ll,{isSimple:!0,className:_y,onClick:v},fe.createElement("i",{className:ji(xy,"icon-action-send"),"aria-hidden":!0}),u("Send")),m&&fe.createElement(Ll,{isSimple:!0,className:_y,onClick:g},fe.createElement("i",{className:ji(xy,"icon-action-swap"),"aria-hidden":!0}),u("Swap")),f&&fe.createElement(Ll,{isSimple:!0,className:ji(_y,"inactive"!==a&&"DSist0sY"),onClick:y},fe.createElement("i",{className:ji(xy,"icon-action-earn"),"aria-hidden":!0}),u({inactive:"Earn",active:"Earning",unstakeRequested:"Unstaking"}[a]))))})),Oy={containerWrapper:"wKxh3a3S",isLoading:"iGGNu8pc",center:"JhiFICIH",container:"DeiKNEF2",backstage:"Z0VKHxKs",tokenCard:"lPzc1tFZ",containerInner:"CJuAKeNp",balanceTransition:"Q_lPdCwD",primaryValue:"_jSits6S",primaryFractionPart:"L4sI_b_K",iconCaret:"S_WiTJlv",iconCaretSmall:"AyZvbJo1",iconCaretFraction:"UPrAgVuY",currencySwitcher:"JRDSCLUm",addressContainer:"Hscx8f3y",address:"xtFe1Hpt",icon:"Z4odaM4f",menuItem:"DYEcCh8V",menuIcon:"reCfAfE0",menuItemName:"XG4JwTZX",menuFontIcon:"SR492iSb",menuExplorerIcon:"F5fuBEwJ",explorerButton:"a6nY4qXV",change:"p0ADnah2",changeCourseUp:"_4aE_WOLG",changeCourseDown:"YOGTFZhO",tokenInfo:"bGU6MKkV",tokenLogo:"KjXvLECZ",tokenInfoHeader:"JX6roGM_",tokenInfoSubheader:"RxOFnjoX",tokenAmount:"eIbQBxJS",tokenName:"BnrECUAN",tokenValue:"FJv4OzYN",tokenChange:"GGm5XDND",tokenTitle:"RmC9TfSK",tokenHistoryPrice:"_4dlU8cE",tokenCurrentPrice:"gV90_PgX",tokenPriceDate:"iPGWJEAe",apy:"NuM0o0NU",tokenExplorerButton:"OG4bpDUn",chart:"lKplVEJ6",chartImg:"RidGreTo",backButton:"rzhYg9wP",periodChooser:"fJhqjFVE",periodChooserHidden:"xPL1t22b",periodItem:"il0Zz8yE",periodItem_active:"fcYKEjig",periodItemActive:"fcYKEjig",periodInput:"PIahT0n2",dapp:"LHIzI0Gu",dappIcon:"dwmUjn3W",loadingDotsContainer:"iRUbIPAX",cardCustomBackground:"A2ptDHpn",visible:"aEg2wczx",black:"ah_6og0J",platinum:"nnklDXWY",gold:"c4y77fMq",silver:"M9_HMKD7",borderShine_down:"VoOVf4tq",borderShineDown:"VoOVf4tq",borderShine_left:"dWc8MTsx",borderShineLeft:"dWc8MTsx",borderShine_up:"k8VOGUyt",borderShineUp:"k8VOGUyt",borderShine_right:"tqABUy73",borderShineRight:"tqABUy73"};function Py(e,t){const n=(0,s.dU)(null!=t?t:[],"tokenSlug"),a=e.reduce(((e,t)=>{const a=n[t.slug];if(a){let n=(0,vt.CF)(a.balance,t.decimals);"jetton"===a.type&&(n=n.plus((0,vt.CF)(a.unclaimedRewards,t.decimals))),e=e.plus(n.mul(t.price))}return e.plus(t.totalValue)}),(0,wt.z)(0)),[o,r]=Xo(a).split("."),i=e.reduce(((e,t)=>{return e.plus((n=t.totalValue,a=t.change24h,n=(0,wt.z)(n),a=(0,wt.z)(a),n.minus(n.div(a.plus(1)))));var n,a}),(0,wt.z)(0)).round(4).toNumber(),l=ys(a?i/(a.toNumber()-i)*100:0,2),c=l>0?Oy.changeCourseUp:l<0?Oy.changeCourseDown:void 0,d=i>0?"↑":i<0?"↓":void 0;return{primaryValue:a.toString(),primaryWholePart:o,primaryFractionPart:r,changeClassName:c,changePrefix:d,changePercent:l,changeValue:i}}function Dy(e){const[t,n]=re(!1);return Bp((()=>{if(!e)return void n(!1);const t=Date.now()-e;n(t>2e3)}),1e3,!1),t}let Fy=0;const Ry=(0,l.Fe)((()=>{Fy=0})),My=me((t=>{let{text:n,isDisabled:a}=t;const o=Re().settings.animationLevel,{isRtl:r}=Qi(),i=sl(n),s=he(),l=!(!(!a&&o===e.zP3&&void 0!==i&&i!==n)||Fy>=10||(0===Fy&&Ry(),Fy++,0)),c=ce((()=>l?function(e,t){var n;const a=[],o=e.length,r=null!==(n=null==t?void 0:t.length)&&void 0!==n?n:0;for(let n=0;n<=o;n++){const c=o-n,d=r-n;var i,s,l;t&&d>=0&&e[c]!==t[d]?a.unshift(fe.createElement("div",{className:"o6dPPa5S"},fe.createElement("div",{className:"wT7hwE_a"},null!==(i=e[c])&&void 0!==i?i:""),fe.createElement("div",{className:"pSP5fUMh"},t[d]),fe.createElement("div",{className:"FtEeojTc"},null!==(s=e[c])&&void 0!==s?s:""))):a.unshift(fe.createElement("span",null,null!==(l=e[c])&&void 0!==l?l:""))}return a}(n,i):n),[l,i,n]);return se((()=>{if(!l)return;const e=window.setTimeout((()=>{s()}),200);return()=>{window.clearTimeout(e)}}),[l,n]),fe.createElement("span",{className:!a&&"UizaBW8F",dir:r?"rtl":void 0},c)})),Uy=me(He((e=>{const{isFullscreen:t,shouldForceAccountEdit:n,walletVersions:a,settings:{isAppLockEnabled:o,byAccountId:r}}=e,i=Ye(e),s=e.currentAccountId;return{currentAccountId:s,currentAccount:null==i?void 0:i[s],accounts:i,shouldForceAccountEdit:n,currentWalletVersion:null==a?void 0:a.currentVersion,isAppLockEnabled:o,settingsByAccountId:r,isFullscreen:t}}),((e,t,n)=>n(e.currentAccountId)))((function(e){let{currentAccountId:n,currentAccount:a,canEdit:o,forceClose:r,accountClassName:i,accountSelectorClassName:s,menuButtonClassName:l,noSettingsButton:c,withAccountSelector:d,accounts:u,isInsideSticky:m,shouldForceAccountEdit:p,currentWalletVersion:f,isAppLockEnabled:h,isFullscreen:g,settingsByAccountId:v}=e;const{switchAccount:w,renameAccount:y,openAddAccountModal:b,openSettings:E,requestOpenQrScanner:k,openSettingsWithState:N,setIsManualLockActive:C}=Ue(),S=ue(null),A=ue(null),T=Qi(),[I,B,_]=yd(!1),[x,L,O]=yd(p),{shouldRender:P,transitionClassNames:D}=Gi(I&&!x,void 0,void 0,"slow"),[F,R]=re((null==a?void 0:a.title)||""),M=iy(),U=Boolean(null==a?void 0:a.addressByChain.tron),W=c||m&&M,H=!("W5"===f||null!=a&&a.isHardware||U),$=ce((()=>Object.keys(u||{}).length),[u]);se((()=>{I&&r&&_()}),[r,I]),Qs((e=>{let[t]=e;t&&!p&&O()}),[p]),se((()=>P?Xf(_):void 0),[_,I,P]),se((()=>x?Xf(O):void 0),[O,x]),se((()=>P&&S.current?Ps(S.current):void 0),[P]),Lu(A,!x),se((()=>{x&&R((null==a?void 0:a.title)||"")}),[null==a?void 0:a.title,x]);const V=Cr((e=>{Mo(),_(),w({accountId:e})})),z=Cr((()=>{y({accountId:n,title:F.trim()}),_(),O()})),j=Cr((()=>{Mo(),_(),b()}));se((()=>{x&&m&&z()}),[x,m]);const q=Cr((()=>{Mo(),_(),N({state:Gt.WalletVersion})})),K=Cr((e=>{"Enter"===e.code?z():R(e.currentTarget.value)})),Y=Cr((()=>{k(),_()})),Q=Cr((()=>{var e,t;g?null===(e=ra())||void 0===e||e.exitFullscreen():null===(t=ra())||void 0===t||t.requestFullscreen()})),G=Cr((()=>{C({isActive:!0,shouldHideBiometrics:!0})})),X=ji("PpBNJGXa",D,s),J=ji("OmlnPb32",d&&"Fldd4MBh",i,M&&!W&&"qroBIVHK");return fe.createElement(fe.Fragment,null,!x&&fe.createElement(fe.Fragment,null,fe.createElement("div",{className:J,onClick:d?()=>{B()}:void 0},fe.createElement("span",{className:"YGITDXg2"},(null==a?void 0:a.title)||Wr((null==a||null===(Z=a.addressByChain)||void 0===Z?void 0:Z.ton)||"")),d&&fe.createElement("i",{className:ji("icon icon-caret-down","npqBgt0Z"),"aria-hidden":!0})),fe.createElement("div",{className:ji("vqWRGYSE",m&&"W68g0iId")},h&&!m&&fe.createElement(Ll,{className:ji(Wf,l),isText:!0,isSimple:!0,kind:"transparent",ariaLabel:T("App Lock"),onClick:G},fe.createElement("i",{className:"icon-manual-lock","aria-hidden":!0})),!W&&fe.createElement(Ll,{className:ji(Wf,l),isText:!0,isSimple:!0,kind:"transparent",ariaLabel:T("Main menu"),onClick:E},fe.createElement("i",{className:"icon-cog","aria-hidden":!0})),M&&fe.createElement(Ll,{className:ji(Wf,l),isText:!0,isSimple:!0,kind:"transparent",ariaLabel:T("Scan QR Code"),onClick:Y},fe.createElement("i",{className:"icon-qr-scanner","aria-hidden":!0})),(0,t.v3)()&&fe.createElement(Ll,{className:ji(Wf,l),isText:!0,isSimple:!0,kind:"transparent",ariaLabel:T("Toggle fullscreen"),onClick:Q},fe.createElement("i",{className:g?"icon-fullscreen-exit":"icon-fullscreen","aria-hidden":!0})))),x&&!m&&fe.createElement("div",{className:ji("XNPgjyNM","account-edit-input")},fe.createElement("input",{ref:A,className:"b5kkV6B7",value:F,onKeyDown:K,onChange:e=>R(e.target.value)}),fe.createElement(Ll,{isSimple:!0,className:"BIi0915d",onClick:z},T("Done"))),P&&function(){const e=ji("rSsbSpKy",$<=2&&"aMGXe7oo");return fe.createElement("div",{ref:S,className:X,tabIndex:-1,role:"dialog"},fe.createElement("div",{className:"qHXAdLTy",onClick:()=>_()}),fe.createElement("div",{className:e},u&&Object.entries(u).map((e=>{let[t,{title:a,addressByChain:r,isHardware:i}]=e;return function(e,t,a,r){const{cardBackgroundNft:i}=(null==v?void 0:v[e])||{};return fe.createElement(Vf,{key:e,accountId:e,addressByChain:t,isHardware:a,isActive:e===n,title:r,canEditAccount:o,cardBackgroundNft:i,onClick:V,onEdit:L})}(t,r,i,a)})),H&&fe.createElement(Ll,{className:Hf,onClick:q},T("Switch to W5"),fe.createElement("i",{className:ji($f,"icon-versions"),"aria-hidden":!0})),fe.createElement(Ll,{className:Hf,onClick:j},T("Add Wallet"),fe.createElement("i",{className:ji($f,"icon-plus"),"aria-hidden":!0}))))}());var Z}))),Wy=me(He((e=>{const{addressByChain:t,isHardware:n}=Xe(e,e.currentAccountId)||{};return{addressByChain:t,isTestnet:e.settings.isTestnet,isHardwareAccount:n}}))((function(e){let{addressByChain:t,isTestnet:n,isHardwareAccount:a,withTextGradient:o}=e;const{showNotification:r}=Ue(),i=Qi(),[s,l,c]=yd(!1),d=ce((()=>Object.keys(t||{})),[t]),u=i("View on Explorer"),m=ce((()=>{if(!(d.length<2))return d.map((e=>({value:t[e],name:Wr(t[e]),icon:kv(e),fontIcon:"copy",chain:e,label:i("View address on %ton_explorer_name%",{ton_explorer_name:La(e)}).join("")})))}),[t,d,i]),p=Cr((e=>{r({message:i("Address was copied!"),icon:"icon-copy"}),$o(e)})),f=Cr(((e,t)=>{p(t),c()})),h=Cr(((e,t,a)=>{Ma(Da(t,a,n)),c()}));if(m)return fe.createElement("div",{className:Oy.addressContainer},fe.createElement("button",{type:"button",className:ji(Oy.address,o&&"gradientText"),onClick:()=>l()},fe.createElement("span",{className:ji(Oy.itemName,"itemName")},i("Multichain")),fe.createElement("i",{className:ji(Oy.icon,"icon-caret-down"),"aria-hidden":!0})),fe.createElement(eh,{isOpen:s,type:"dropdown",onClose:c},m.map(((e,t)=>{const n=ji(th.button,t>0&&th.separator,Oy.menuItem);return fe.createElement("div",{key:e.value,className:n},fe.createElement("img",{src:e.icon,alt:"",className:ji("icon",th.itemIcon,Oy.menuIcon)}),fe.createElement("span",{className:ji(th.itemName,Oy.menuItemName),tabIndex:0,role:"button",onClick:t=>f(t,e.value)},e.name,fe.createElement("i",{className:ji(`icon icon-${e.fontIcon}`,th.fontIcon,Oy.menuFontIcon),"aria-hidden":!0})),fe.createElement("i",{tabIndex:0,role:"button",className:ji(th.close,"icon icon-tonexplorer-small",Oy.menuExplorerIcon),"aria-label":e.label,onClick:t=>h(t,e.chain,e.value)}))}))));const g=d[0];return g?fe.createElement("div",{className:Oy.addressContainer},a&&fe.createElement("i",{className:ji(Oy.icon,"icon-ledger"),"aria-hidden":!0}),fe.createElement("button",{type:"button",className:ji(Oy.address,o&&"gradientText"),"aria-label":i("Copy wallet address"),onClick:()=>p(t[g])},Wr(t[g]),fe.createElement("i",{className:ji(Oy.icon,"icon-copy"),"aria-hidden":!0})),fe.createElement("a",{href:Da(g,t[g],n),className:Oy.explorerButton,title:u,"aria-label":u,target:"_blank",rel:"noreferrer noopener"},fe.createElement("i",{className:ji(Oy.icon,"icon-tonexplorer-small"),"aria-hidden":!0}))):void 0}))),Hy=me(He((e=>({currentCurrency:e.settings.baseCurrency})))((function(t){let{isOpen:n,currentCurrency:a,excludedCurrency:o,menuPositionHorizontal:r,onClose:i,onChange:s}=t;const{changeBaseCurrency:l}=Ue(),c=ce((()=>e.PiQ.filter((e=>e.value!==o))),[o]),d=Cr((e=>{i(),e!==a&&(l({currency:e}),null==s||s(e))}));return fe.createElement(nh,{isOpen:n,onClose:i,items:c,shouldTranslateOptions:!0,selectedValue:a,menuPositionHorizontal:r,onSelect:d})}))),$y={root:"UUXTSSNb",sticky:"GydVN6zu",image:"GnuUYTcY",borderShine_down:"eZtdmQCz",borderShineDown:"eZtdmQCz",borderShine_left:"u_5j0LEw",borderShineLeft:"u_5j0LEw",borderShine_up:"DBu8v2wg",borderShineUp:"DBu8v2wg",borderShine_right:"iOyJF5OB",borderShineRight:"iOyJF5OB",borderShine_radioactive:"omctwMWw",borderShineRadioactive:"omctwMWw",shadow:"rm7OVuVh"},Vy=me((function(e){var t;let{isSticky:n,nft:a,noShowAnimation:o,shouldHide:r,onLoad:i,onTransitionEnd:s}=e;const{imageUrl:l}=function(e){const{result:t}=((e,t,n)=>{const[a,o]=re(!1),[r,i]=re(),[s,l]=re(n);return se((()=>{o(!0);let t=!1;return e().then((e=>{t||(o(!1),l(e))}),(e=>{t||(o(!1),i(e))})),()=>{t=!0}}),t),{isLoading:a,error:r,result:s}})((()=>e?pd(e):Promise.resolve(void 0)),[e]);return se((()=>t?()=>{URL.revokeObjectURL(t)}:void 0),[t]),{imageUrl:t}}(a?rp(a):void 0),[c,d]=yd(),u=Cd(o||c&&!r),{borderShineType:m,withTextGradient:p,classNames:f}=Uf(a),h=ji($y.root,n&&$y.sticky,f,m&&$y[`borderShine_${m}`],c&&!r&&$y.loaded,r&&$y.hide),g="standard"===(null===(t=a.metadata)||void 0===t?void 0:t.mtwCardType);return fe.createElement("div",{className:ji(h,u),onTransitionEnd:s},l&&fe.createElement("img",{src:l,alt:a.name,className:$y.image,onLoad:function(){d(),null==i||i(p,f)}}),g&&fe.createElement("div",{className:$y.shadow}))})),zy=me((function(e){let{isSticky:t,nft:n,onCardChange:a}=e;const o=ue(void 0),r=he();((e,t)=>{const n=ue();ll((()=>{const a=n.current;return n.current=t,e(a||[])}),t)})((e=>{let[t,r]=e;(null==n?void 0:n.address)!==r&&(o.current=t),n||a(!1,void 0)}),[n,null==n?void 0:n.address]);const i=o.current,s=ue(!0),l=n&&s.current;s.current=!1;const c=Cr((()=>{o.current=void 0,r()}));return fe.createElement("div",{teactFastList:!0},i&&fe.createElement(Vy,{key:i.address,isSticky:t,nft:i,shouldHide:!n,onTransitionEnd:c}),n&&fe.createElement(Vy,{key:n.address,isSticky:t,nft:n,noShowAnimation:l,onLoad:a,onTransitionEnd:c}))})),jy={green:[80,135,51],orange:[173,84,54],pink:[154,60,144],purple:[104,48,149],red:[156,52,75],sea:[43,116,123],tegro:[3,93,229],blue:[47,108,173]},qy={[e.Tu9.slug]:"blue",[e.X7T.slug]:"red",[e.QSz]:"green",[e.vsz]:"green",[e.Bqy]:"green"};const Ky=me((function(e){let{width:t,height:n,prices:a,selectedIndex:o,className:r,imgClassName:i,onSelectIndex:s,isUpdating:l}=e;const c=Qi(),d=ce((()=>{const e=a.map((e=>{let[,t]=e;return t})),t=Math.min(...e),n=Math.max(...e);return{width:a.length-1,height:Math.max(1e-9,n-t),min:t}}),[a]),u=ce((()=>{const e=t/d.width,o=n/d.height;return a.map(((t,n)=>{let[,a]=t;return{x:n*e+3,y:(a-d.min)*o+3}}))}),[d.height,d.min,d.width,n,t,a]);function m(e){const t=u.length-1,n=e<0?0:e>t?t:e,a=u[n],o=.9999,r=n/t,i=u[0],s=u[t].x-i.x,l=u[t].y-i.y;return{x:o*a.x+(1-o)*(i.x+r*s),y:o*a.y+(1-o)*(i.y+r*l)}}function p(e){const t=m(e),n=m(e-1),a=m(e-2);return`C ${(2*a.x+n.x)/3} ${(2*a.y+n.y)/3} ${(a.x+2*n.x)/3} ${(a.y+2*n.y)/3} ${(a.x+4*n.x+t.x)/6} ${(a.y+4*n.y+t.y)/6}`}function f(e){const{x:t,width:n}=e.currentTarget.getBoundingClientRect(),{clientX:a}="touches"in e?e.touches[0]:e,o=a-t-n/u.length/2,r=Math.max(0,Math.min(Math.round(u.length*(o/n)),u.length-1));s(r)}function h(){s(-1)}return fe.createElement("div",{className:r,onMouseMove:f,onMouseLeave:h,onTouchStart:f,onTouchMove:f,onTouchEnd:h,onTouchCancel:h},fe.createElement(Km,{activeKey:l?1:0,name:"semiFade",shouldCleanup:!0},fe.createElement("img",{src:function(){const e=u[o]||u[u.length-1];return`data:image/svg+xml;utf8,<svg viewBox="0 0 ${t+6} ${n+6}" height="${n+6}" width="${t+6}"\n        xmlns="http://www.w3.org/2000/svg" style="transform: scale(1,-1)">\n        <g fill="none" stroke="white">\n          <path stroke-linejoin="round" stroke-width="1.5" d="${function(){let e=u.reduce(((e,t,n)=>{const a=p(n);return 0===n?`M ${t.x} ${t.y} `:`${e} ${a} `}),"");return e+=p(u.length),e+=`L ${(t=u[u.length-1]).x} ${t.y}`,e;var t}()}" style="stroke-linecap: round" />\n          <circle r="2.5" fill="white" cx="${e.x}" cy="${e.y}" />\n        </g>\n      </svg>`}(),className:ji(i,l&&"glare-image"),alt:c("Currency History")})))})),Yy=e.Kfi.map((e=>({value:e,name:"ALL"===e?"All":e}))),Qy=me(He((e=>{const t=Je(e);return{currentPeriod:null==t?void 0:t.currentTokenPeriod}}))((function(e){let{isOpen:t,currentPeriod:n,onClose:a,onChange:o}=e;const{setCurrentTokenPeriod:r}=Ue(),i=Cr((e=>{a(),e!==n&&(Mo(),r({period:e}),null==o||o(e))}));return fe.createElement(nh,{isOpen:t,onClose:a,items:Yy,className:"Lfs6oB99",bubbleClassName:"EJsuJXfx",buttonClassName:"J7O_MmwF",selectedValue:n,menuPositionHorizontal:"right",onSelect:i})}))),Gy=i.p+"ton.93b235d12cedc24e0b6b.svg",Xy=12e4,Jy=5*Mn.Z2,Zy=e.Kfi[0],eb=me(He(((e,t)=>{var n;const a=t.token.slug,o=Je(e),r=null===(n=e.tokenInfo.bySlug[a])||void 0===n?void 0:n.tokenAddress,i=In(e,e.currentAccountId);return{isTestnet:e.settings.isTestnet,period:null==o?void 0:o.currentTokenPeriod,baseCurrency:e.settings.baseCurrency,historyPeriods:e.tokenPriceHistory.bySlug[t.token.slug],tokenAddress:r,stakingStates:i}}))((function(n){var a,o,r;let{isTestnet:i,token:s,classNames:l,period:c=Zy,isUpdating:d,onYieldClick:u,onClose:m,baseCurrency:p,historyPeriods:f,tokenAddress:h,stakingStates:g}=n;const{loadPriceHistory:v}=Ue(),w=Qi(),y=he(),[b,E,k]=yd(!1),[N,C,S]=yd(!1),A=void 0===p||p===s.symbol,T=nr(A?e.wOb:p),[I,B]=re(-1);ll((e=>{let[n]=e;t.pz&&void 0!==n&&Mo()}),[I]);const{slug:_,symbol:x,amount:L,image:O,name:P,price:D,decimals:F}=s,{annualYield:R,yieldType:M,id:U}=null!==(a=ce((()=>{if(!e.TI6)return null==g?void 0:g.reduce(((e,t)=>t.tokenSlug===_&&(!e||t.balance>e.balance)?t:e),void 0)}),[g,_]))&&void 0!==a?a:{},W=_===e.Tu9.slug?Gy:O||ms[x.toLowerCase()],H=Cr((e=>{v({slug:_,period:null!=e?e:c})})),$=Cr((e=>{v({slug:_,period:c,currency:e})}));Bp(H,Jy);const V=null==f?void 0:f[c],z=null!=V&&V.length?1e3*V[V.length-1][0]:void 0,j=null!=V&&V.length?V[V.length-1][1]:D,q=null==V?void 0:V[I],K=null!==(o=null!==(r=null==q?void 0:q[1])&&void 0!==r?r:A?j:void 0)&&void 0!==o?o:D,Y=!z||Date.now()-z>Xy,Q=q?(0,Mn.mf)(w.code,1e3*q[0],!0,!0):Y&&z?(0,Mn.mf)(w.code,z,!0,!1):w("Now");_p(y,Y?void 0:Xy,[z]);const G=ce((()=>{var e;return null==V||null===(e=V.find((e=>{let[,t]=e;return Boolean(t)})))||void 0===e?void 0:e[1]}),[V]),X=G&&K?K-G:0,J=(0,vt.CF)(L,F).mul(K).toString(),Z=void 0===X?X:X>0?"↑":X<0?"↓":0,ee=X?Math.abs(yt(X,4)):0,te=X?Math.abs(yt(X/G*100,2)):0,ne=Boolean(void 0!==X),ae=null!=V&&V.length?new Date(1e3*V[0][0]):void 0,oe=Boolean(s.cmcSlug||h),ie=!(null!=V&&V.length)&&0===s.priceUsd,se=ce((()=>function(e){let t="blue",n=1/0;if(!e)return t;if(qy[e.slug])return qy[e.slug];if(!e.color)return t;const a=cd(e.color);return Object.entries(jy).forEach((e=>{let[o,r]=e;const i=function(e,t){const[n,a,o]=dd(e),[r,i,s]=dd(t),l=Math.sqrt(a*a+o*o),c=l-Math.sqrt(i*i+s*s),d=a-i,u=o-s,m=(n-r)/1,p=c/(1+.045*l),f=Math.sqrt(d*d+u*u-c*c)/(1+.015*l);return Math.sqrt(m*m+p*p+f*f)}(a,r);i<n&&(n=i,t=o)})),n>35?"blue":t}(s)),[s]);return fe.createElement("div",{className:ji(Oy.container,Oy.tokenCard,l,se,"token-card")},fe.createElement("div",{className:Oy.tokenInfo},fe.createElement(Ll,{className:Oy.backButton,isSimple:!0,onClick:m,ariaLabel:w("Back")},fe.createElement("i",{className:"icon-chevron-left","aria-hidden":!0})),fe.createElement("img",{className:Oy.tokenLogo,src:W,alt:s.name}),fe.createElement("div",{className:Oy.tokenInfoHeader},fe.createElement("b",{className:Oy.tokenAmount},Jo((0,vt.nI)(L,s.decimals),x)),ne&&fe.createElement("div",{className:Oy.tokenValue},fe.createElement("div",{className:Oy.currencySwitcher,role:"button",tabIndex:0,onClick:E},"≈ ",Jo(J,T,void 0,!0),fe.createElement("i",{className:ji("icon","icon-caret-down",Oy.iconCaretSmall),"aria-hidden":!0})),fe.createElement(Hy,{isOpen:b,menuPositionHorizontal:"right",excludedCurrency:s.symbol,onClose:k,onChange:$}))),fe.createElement("div",{className:Oy.tokenInfoSubheader},fe.createElement("span",{className:Oy.tokenTitle},fe.createElement("span",{className:Oy.tokenName},P),M&&fe.createElement("span",{className:Oy.apy,onClick:()=>u(U)},M," ",R,"%")),ne&&Boolean(ee)&&fe.createElement("div",{className:Oy.tokenChange},Z," ",Math.abs(te),"% · ",Jo(Math.abs(ee),T)))),fe.createElement(Km,{activeKey:V?V.length?e.Kfi.indexOf(c)+1:-1:0,name:"fade"},V?null!=V&&V.length?fe.createElement(fe.Fragment,null,fe.createElement(Ky,{className:Oy.chart,imgClassName:Oy.chartImg,width:300,height:64,prices:V,selectedIndex:I,onSelectIndex:B,isUpdating:d}),fe.createElement("div",{className:Oy.tokenHistoryPrice},Jo(V[0][1],T,2,!0),fe.createElement("div",{className:Oy.tokenPriceDate},(0,Mn.mf)(w.code,ae)))):void 0:fe.createElement("div",{className:ji(Oy.isLoading)},fe.createElement(oh,{color:"white",className:Oy.center}))),fe.createElement("span",{className:ji(Oy.periodChooser,ie&&Oy.periodChooserHidden),role:"button",tabIndex:0,onClick:C},"ALL"===c?"All":c,fe.createElement("i",{className:ji("icon","icon-caret-down",Oy.iconCaretSmall),"aria-hidden":!0}),fe.createElement(Qy,{isOpen:N,onChange:H,onClose:S})),fe.createElement("div",{className:Oy.tokenCurrentPrice},Jo(K,T,-1===I?2:4,!0),fe.createElement("div",{className:Oy.tokenPriceDate},Q,oe&&function(){const e=function(e,t,n,a){if(t||n)return n?function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return _a[e].explorer.replace("{base}",Oa(e,t))}(e,a).replace("{address}",n):`https://coinmarketcap.com/currencies/${t}/`}(s.chain,s.cmcSlug,h,i);if(!e)return;const t=w("Open on %ton_explorer_name%",{ton_explorer_name:La(s.chain)}).join("");return fe.createElement(fe.Fragment,null," · ",fe.createElement("a",{href:e,title:t,"aria-label":t,target:"_blank",rel:"noreferrer",className:Oy.tokenExplorerButton,onClick:Ua},fe.createElement("i",{className:"icon-tonexplorer-small","aria-hidden":!0})))}())))}))),tb=me(He((e=>{const t=Je(e),n=In(e,e.currentAccountId),{cardBackgroundNft:a}=nt(e)||{};return{tokens:Et(e),activeDappOrigin:null==t?void 0:t.activeDappOrigin,currentTokenSlug:null==t?void 0:t.currentTokenSlug,baseCurrency:e.settings.baseCurrency,stakingStates:n,balanceUpdateStartedAt:e.balanceUpdateStartedAt,cardNft:a}}),((e,t,n)=>n(e.currentAccountId)))((function(n){let{ref:a,tokens:o,activeDappOrigin:r,currentTokenSlug:i,forceCloseAccountSelector:s,onTokenCardClose:l,onYieldClick:c,baseCurrency:d,stakingStates:u,balanceUpdateStartedAt:m,cardNft:p}=n;const f=nr(d),[h,g]=re(void 0),[v,w]=re(!1),{isPortrait:y}=Qa(),b=Dy(m),[E,k,N]=yd(!1),C=Dp(ce((()=>o?o.find((e=>e.slug===i)):void 0),[i,o]),!0),{shouldRender:S,transitionClassNames:A}=Gi(Boolean(i),void 0,!0),T=Cr(((e,t)=>{g(t),w(e)})),I=ce((()=>{if(!r)return;let e;try{e=new URL(r).hostname}catch(t){e=Wr(r)}return e}),[r]),B=Dp(I,!0),_=ce((()=>o?Py(o,u):void 0),[o,u]),{shouldRender:x,transitionClassNames:L}=Gi(Boolean(I)),O=e.hL1&&x;Il({isActive:Boolean(i),onBack:l}),se((()=>S?Xf(l):void 0),[S,l]);const{primaryValue:P,primaryWholePart:D,primaryFractionPart:F,changeClassName:R,changePrefix:M,changePercent:U,changeValue:W}=_||{};return fe.createElement("div",{ref:a,className:Oy.containerWrapper},fe.createElement(Km,{activeKey:b?1:0,name:"fade",shouldCleanup:!0,className:Oy.loadingDotsContainer},b?fe.createElement(_l,{isActive:!0,isDoubled:!0}):void 0),fe.createElement("div",{className:ji(Oy.container,i&&Oy.backstage,h)},fe.createElement(zy,{nft:p,onCardChange:T}),fe.createElement("div",{className:ji(Oy.containerInner,h)},fe.createElement(Uy,{withAccountSelector:!e.TI6,noSettingsButton:y,accountClassName:ji(v&&"gradientText"),forceClose:s,canEdit:!e.TI6}),O&&fe.createElement("div",{className:ji(Oy.dapp,L)},fe.createElement("i",{className:ji(Oy.dappIcon,"icon-laptop"),"aria-hidden":!0}),B),_?function(){const e=ji("icon","icon-caret-down",F||f.length>1?Oy.iconCaretFraction:Oy.iconCaret),n=!b||t.Yw||t.pz;return fe.createElement(fe.Fragment,null,fe.createElement(Km,{activeKey:b?1:0,name:"fade",shouldCleanup:!0,className:Oy.balanceTransition},fe.createElement("div",{className:ji(Oy.primaryValue,"rounded-font")},fe.createElement("span",{className:ji(Oy.currencySwitcher,b&&"glare-text",!b&&v&&"gradientText"),role:"button",tabIndex:0,onClick:k},1===f.length&&f,fe.createElement(My,{isDisabled:n,text:null!=D?D:""}),F&&fe.createElement("span",{className:Oy.primaryFractionPart},fe.createElement(My,{isDisabled:n,text:`.${F}`})),f.length>1&&fe.createElement("span",{className:Oy.primaryFractionPart}," ",f),fe.createElement("i",{className:e,"aria-hidden":!0})))),fe.createElement(Hy,{isOpen:E,onClose:N}),"0"!==P&&fe.createElement("div",{className:ji(Oy.change,R,"rounded-font")},M," ",fe.createElement(My,{text:`${Math.abs(U)}%`})," · ",fe.createElement(My,{text:Jo(Math.abs(W),f)})))}():fe.createElement("div",{className:ji(Oy.isLoading)},fe.createElement(oh,{color:"white",className:Oy.center})),fe.createElement(Wy,{withTextGradient:v}))),S&&fe.createElement(eb,{token:C,classNames:A,isUpdating:b,onYieldClick:c,onClose:l}))}))),nb="kBYrVlBo",ab=me(He((e=>{const{cardBackgroundNft:t}=nt(e)||{},n=In(e,e.currentAccountId);return{tokens:Et(e),baseCurrency:e.settings.baseCurrency,cardNft:t,stakingStates:n}}),((e,t,n)=>n(e.currentAccountId)))((function(n){let{classNames:a,tokens:o,baseCurrency:r,stakingStates:i,cardNft:s}=n;const[l,c]=re(void 0),[d,u]=re(!1),[m,p,f]=yd(!1),h=ce((()=>o?Py(o,i):void 0),[o,i]),g=Cr(((e,t)=>{c(t),u(e)})),v=nr(r),{primaryWholePart:w,primaryFractionPart:y}=h||{},b=ji("icon","icon-caret-down","EDC1Bcor",y&&"uTPq0gij");return fe.createElement("div",{className:"d8E3jNRv"},fe.createElement("div",{className:ji("sWp81HgH",s&&"MHtSlPVW",a)},!e.TI6&&fe.createElement(zy,{isSticky:!0,nft:s,onCardChange:g}),fe.createElement("div",{className:ji("duM9JHY8",l)},fe.createElement(Uy,{isInsideSticky:!0,accountClassName:ji("NEB0Tl4P",d&&"gradientText"),accountSelectorClassName:"sticky-card-account-selector",menuButtonClassName:"ucgPS0OB",noSettingsButton:!0,withAccountSelector:!(t.cp&&t.MP||e.TI6)}),fe.createElement("div",{className:"EDIvoE0D"},fe.createElement("span",{role:"button",tabIndex:0,className:ji("JdDnaL44",d&&"gradientText"),onClick:p},1===v.length&&v,w,y&&fe.createElement("span",{className:nb},".",y),v.length>1&&fe.createElement("span",{className:nb}," ",v),fe.createElement("i",{className:b,"aria-hidden":!0})),fe.createElement(Hy,{isOpen:m,onClose:f})))))}))),ob=me((function(e){let{isOpen:t,selectedNftsToHide:n}=e;const{addNftsToBlacklist:a,closeNftCollection:o,closeHideNftModal:r}=Ue(),i=Qi(),s=Cr((()=>{a({addresses:n.addresses}),null!=n&&n.isCollection&&o(),r()}));return fe.createElement(Sc,{isOpen:t,isCompact:!0,onClose:r,title:i("Hide NFTs")},fe.createElement("p",{className:bc.text},null!=n&&n.isCollection?i("Are you sure you want to hide this NFT collection containing %number% NFTs?",{number:null==n?void 0:n.addresses.length}):i("Are you sure you want to hide these %number% NFTs?",{number:null==n?void 0:n.addresses.length})),fe.createElement("div",{className:bc.buttons},fe.createElement(Ll,{onClick:r,className:bc.button},i("Cancel")),fe.createElement(Ll,{isDestructive:!0,onClick:s,className:bc.button},i("Hide"))))}));function rb(e,t,n,a){const{length:o}=e,r=a?e.indexOf(a):0,i=t===en.Forwards?r:r+1||o,s=Math.max(0,i-n),l=i+n-1,c=e.slice(Math.max(0,s),l+1);let d,u;switch(t){case en.Forwards:d=i>=0,u=s>=0;break;case en.Backwards:d=i<o,u=l<=o-1}return{newViewportIds:c,areSomeLocal:d,areAllLocal:u,newIsOnTop:c[0]===e[0]}}const ib=function(e,t){var n;let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30,r=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6];const c=ue(),d=ue();if(!d.current&&t&&!a){const{newViewportIds:e,newIsOnTop:n}=rb(t,en.Forwards,o,t[0]);d.current={viewportIds:e,isOnTop:n}}const u=he();a&&(c.current={});const m=Eg(r),p=Cr((()=>{if(null==t||!t.length)return;const{newViewportIds:e,newIsOnTop:n}=rb(t,en.Forwards,o,t[0]);d.current={viewportIds:e,isOnTop:n},c.current={}}));ll((()=>{(r!==m||l&&!i)&&p()}),[i,m,r,l]);const f=sl(t),h=sl(a);if(!t||a||t===f&&a===h)t||(d.current=void 0);else{const{viewportIds:e,isOnTop:n}=d.current||{},a=e&&!n?e[Math.round(e.length/2)]:void 0,r=a&&t.includes(a)?a:t[0],{offsetId:i=r,direction:l=en.Forwards}=c.current||{},{newViewportIds:u,newIsOnTop:m}=rb(t,l,o,i);c.current={},e&&(0,s.k)(e,u)||(d.current={viewportIds:u,isOnTop:m})}const g=Cr((n=>{let{direction:a}=n;if(!i)return;const{viewportIds:r}=d.current||{},l=r?a===en.Backwards?r[r.length-1]:r[0]:void 0;if(c.current={direction:a,offsetId:l},!t)return void(e&&e({offsetId:l}));const{newViewportIds:m,areSomeLocal:p,areAllLocal:f,newIsOnTop:h}=rb(t,a,o,l);!p||r&&(0,s.k)(r,m)||(d.current={viewportIds:m,isOnTop:h},u()),!f&&e&&e({offsetId:l})}));return a?[t]:[null===(n=d.current)||void 0===n?void 0:n.viewportIds,g,p]},sb=".ListItem",lb=20,cb=800,db=e=>{let{ref:n,style:a,className:o,items:r,itemSelector:i=sb,preloadBackwards:s=lb,sensitiveArea:c=cb,withAbsolutePositioning:d,maxHeight:u,noScrollRestore:m=!1,noScrollRestoreOnTop:p=!1,noFastList:f,cacheBuster:h,beforeChildren:g,scrollContainerClosest:v,children:w,onLoadMore:y,onScroll:b,onWheel:k,onClick:N,onKeyDown:C,onDragOver:S,onDragLeave:A}=e,T=ue(null);n&&(T=n);const I=ue({}),[B,_]=ce((()=>y?[(0,l.sg)((()=>{y({direction:en.Backwards})}),Mn.Z2,!0,!1),(0,l.sg)((()=>{y({direction:en.Forwards})}),Mn.Z2,!0,!1)]:[]),[y,r]);se((()=>{if(!B)return;if(s>0&&(!r||r.length<s))return void B();const e=v?T.current.closest(v):T.current,{scrollHeight:t,clientHeight:n}=e;n&&t<=n&&B()}),[r,B,s,v]),((e,t,n)=>{const a=ue();le((()=>{const n=a.current;return a.current=t,e(n||[])}),t,n)})((e=>{let[n]=e;const a=v?T.current.closest(v):T.current,o=I.current,r=a.querySelectorAll(i);o.listItemElements=r,null!=n&&n.length&&(0,E.gm)((()=>{let e;if(o.currentAnchor&&Array.from(r).includes(o.currentAnchor)){const{scrollTop:t}=a,n=o.currentAnchor.getBoundingClientRect().top;e=t+(n-o.currentAnchorTop)}else{const e=r[0];e&&(o.currentAnchor=e,o.currentAnchorTop=e.getBoundingClientRect().top)}if(d||m)return;const{scrollTop:n}=a;return p&&0===n?void 0:()=>{((e,n)=>{t.pz&&(e.style.overflow="hidden"),void 0!==n&&(e.scrollTop=n),t.pz&&(e.style.overflow="")})(a,e),o.isScrollTopJustUpdated=!0}}))}),[r,i,m,p,h,d,v]);const x=Cr((e=>{if(_&&B){const{isScrollTopJustUpdated:e,currentAnchor:t,currentAnchorTop:n}=I.current,a=I.current.listItemElements;if(e)return void(I.current.isScrollTopJustUpdated=!1);const o=a.length,r=v?T.current.closest(v):T.current,{scrollTop:i,scrollHeight:s,offsetHeight:l}=r,d=i<=(o?a[0].offsetTop:0)+c,u=(o?a[o-1].offsetTop+a[o-1].offsetHeight:s)-(i+l)<=c;let m=!1;if(d){const e=a[0];if(e){const a=e.getBoundingClientRect().top,o=null!=t&&t.offsetParent&&t!==e?t.getBoundingClientRect().top:a;t&&void 0!==n&&o>n&&(I.current.currentAnchor=e,I.current.currentAnchorTop=a,m=!0,_())}}if(u){const e=a[o-1];if(e){const a=e.getBoundingClientRect().top,o=null!=t&&t.offsetParent&&t!==e?t.getBoundingClientRect().top:a;t&&void 0!==n&&o<n&&(I.current.currentAnchor=e,I.current.currentAnchorTop=a,m=!0,B())}}if(!m)if(null!=t&&t.offsetParent)I.current.currentAnchorTop=t.getBoundingClientRect().top;else{const e=a[0];e&&(I.current.currentAnchor=e,I.current.currentAnchorTop=e.getBoundingClientRect().top)}}b&&b(e)}));return le((()=>{if(!v)return;const e=T.current.closest(v);if(!e)return;const t=e=>x(e);return e.addEventListener("scroll",t),()=>{e.removeEventListener("scroll",t)}}),[x,v]),fe.createElement("div",{ref:T,className:o,onScroll:x,onWheel:k,teactFastList:!f&&!d,onKeyDown:C,onDragOver:S,onDragLeave:A,onClick:N,style:a},g,d&&null!=r&&r.length?fe.createElement("div",{teactFastList:!f,style:Vu("position: relative",t.Ni&&`height: ${u}px`)},w):w)},ub={container:"k3PjQTgC",panel:"ZX_ET6v1",emptyList:"y3OrMGkQ",text:"W7PJUQAi",header:"vhx2gdHr",description:"iQxbUd1C"},mb=me((function(t){let{isActive:n,isMutlichainAccount:a,mode:o}=t;const r=Qi();return fe.createElement("div",{className:ji(ub.container,ub[o])},fe.createElement(lm,{play:n,tgsUrl:xu.hello,previewUrl:xu.helloPreview,nonInteractive:!0,noLoop:!1,size:"emptyList"===o?e.igk:e.jzp}),fe.createElement("div",{className:ub.text},fe.createElement("p",{className:ub.header},r(a?"You have just created a new multichain wallet":"You have just created a new wallet")),fe.createElement("p",{className:ub.description},r(a?"Now you can transfer tokens from your TON and TRON wallets.":"You can now transfer your tokens from another wallet or exchange."))))})),pb="dtfXKrc1",fb="s5rKiBWU",hb="Lj95SXyq",gb="_ICqu0z2",vb="sjVip3sq",wb="ysalRrTJ",yb="mn7fmzAk",bb="cQDrPzK7",Eb="Rymf6Lfn",kb="SFuQDDGL",Nb="eBNgO37m",Cb="XhetBWmN",Sb="LuAdiHBF",Ab=new Set(["new","waiting","confirming","exchanging","sending","hold"]),Tb=new Set(["failed","expired","refunded","overdue"]),Ib=new Set(["expired","failed"]),Bb=me((function(t){var n,a;let{ref:o,tokensBySlug:r,activity:i,isLast:s,isActive:l,appTheme:c,addressByChain:d,onClick:u}=t;const m=Qi(),{id:p,timestamp:f,status:h,from:g,to:v,cex:w}=i,y=ce((()=>{if(g&&r)return Ot(r,g)}),[g,r]),b=ce((()=>{if(v&&r)return Ot(r,v)}),[v,r]),E=Number(i.fromAmount),k=Number(i.toAmount),N="pending"===h||Ab.has(null!==(n=null==w?void 0:w.status)&&void 0!==n?n:""),C=Ib.has(h)||Tb.has(null!==(a=null==w?void 0:w.status)&&void 0!==a?a:""),S="hold"===(null==w?void 0:w.status),A=g===e.Tu9.slug,T=Dt({from:y,to:b,toAddress:null==w?void 0:w.payoutAddress,addressByChain:d}),I=Cr((()=>{u(p)})),B=ji("icon-swap","ZfCaWqB1",C&&"Q65FM3J4"),_=ji(gb,B);return fe.createElement(Ll,{ref:o,key:p,className:ji(pb,s&&hb,l&&fb),onClick:I,isSimple:!0},fe.createElement("i",{className:_,"aria-hidden":!0}),N&&fe.createElement(lm,{play:!0,size:e.wg4,className:vb,nonInteractive:!0,noLoop:!1,forceOnHeavyAnimation:!0,tgsUrl:xu[c].iconClockGreen,previewUrl:xu[c].preview.iconClockGreen}),C&&fe.createElement("i",{className:ji("mGFBcSmx","icon-close-filled"),"aria-hidden":!0}),fe.createElement("div",{className:wb},fe.createElement("div",{className:bb},m(S||C?"SwapTitle":N?"Swapping":"Swapped")),function(){const t=ji(kb,"enfXRStc");return fe.createElement("div",{className:t},fe.createElement("span",{className:ji("tnzn3bEs",C&&Cb)},Zo(Math.abs(E),(null==y?void 0:y.symbol)||e.Tu9.symbol,!0)),fe.createElement("i",{className:ji("ZcG2fXCw","icon-arrow-right",C&&Cb,S&&Sb),"aria-hidden":!0}),fe.createElement("span",{className:ji("Q2WugE4t",C&&Cb,S&&Sb)},Zo(Math.abs(k),(null==b?void 0:b.symbol)||e.Tu9.symbol,!0)))}()),fe.createElement("div",{className:yb},function(){const t=(0,Mn.fU)(f);let n="";const a=null==w?void 0:w.status;return"expired"===a||"overdue"===a?n=m("Expired"):"refunded"===a?n=m("Refunded"):"hold"===a?n=m("On Hold"):"failed"===a||C?n=m("Failed"):"waiting"!==a||A||T?N&&(n=m("In Progress")):n=m("Waiting for Payment"),fe.createElement("div",{className:ji(C&&"shgP3pO5")},t,n?`${e.MS3}∙${e.MS3}${n}`:"")}(),function(e,t,n){const a=Mw(e.fromAmount,e.toAmount,t,n);return fe.createElement("div",{className:Eb},a&&fe.createElement(fe.Fragment,null,a.firstCurrencySymbol," ≈ ",fe.createElement("span",{className:Nb},a.price," ",a.secondCurrencySymbol)))}(i,y,b)))})),_b=me((function(t){let{ref:n,tokensBySlug:a,transaction:o,isActive:r,annualYield:i,yieldType:s,savedAddresses:l,isLast:c,appTheme:d,withChainIcon:u,onClick:m}=t;const{openMediaViewer:p}=Ue(),f=Qi(),{txId:h,amount:g,fromAddress:v,toAddress:w,timestamp:y,comment:b,encryptedComment:E,isIncoming:k,type:N,metadata:C,slug:S,nft:A}=o,T="stake"===N,I="unstake"===N,B="unstakeRequest"===N,_=T||I||B,x="nftTransferred"===N||"nftReceived"===N||Boolean(A),L=null==a?void 0:a[S],{chain:O}=L||{},P=k?v:w,D=ce((()=>{var e;return P&&O&&(null==l||null===(e=l.find((e=>e.address===P&&e.chain===O)))||void 0===e?void 0:e.name)}),[P,O,l])||(null==C?void 0:C.name),F=_t(h),R=k&&jr(o)||Boolean(null==C?void 0:C.isScam),M=Cr((()=>{m(h)})),U=Cr((e=>{e.stopPropagation(),p({mediaId:A.address,mediaType:Zt.Nft,txId:h})})),W=ji(_&&"icon-earn",T&&"SQWZ9Oez",_&&"gTKLXaB3",!_&&(k?"icon-receive-alt":"icon-send-alt")),H=ji(gb,k&&"GmWiDZkI",W),$=T?"iconClockPurpleWhite":k?"iconClockGreen":"iconClockGray";return fe.createElement(Ll,{ref:n,key:h,className:ji(pb,c&&hb,r&&fb),onClick:M,isSimple:!0},fe.createElement("i",{className:H,"aria-hidden":!0}),F&&fe.createElement(lm,{play:!0,size:e.wg4,className:vb,nonInteractive:!0,noLoop:!1,forceOnHeavyAnimation:!0,tgsUrl:xu[d][$],previewUrl:xu[d].preview[$]}),fe.createElement("div",{className:wb},fe.createElement("div",{className:bb},f(T?"Staked":B?"Unstake Requested":I?"Unstaked":k?"Received":"Sent"),R&&fe.createElement("img",{src:Uh,alt:f("Scam"),className:"TqSKLa3F"})),function(){const t=ji(kb,k?"hOJqc3Zk":T?"WAuCiqJm":"p3a9Uamy");return fe.createElement("div",{className:t},x?"NFT":Zo((0,vt.nI)(_?(0,yn.wg)(g):g,L.decimals),(null==L?void 0:L.symbol)||e.Tu9.symbol,_))}()),fe.createElement("div",{className:yb},(0,Mn.fU)(y),fe.createElement("div",{className:Eb},!_&&f(k?"$transaction_from":"$transaction_to",{address:fe.createElement("span",{className:Nb},u&&Boolean(O)&&fe.createElement("i",{className:ji("taalmW1o",`icon-chain-${O.toLowerCase()}`),"aria-label":O}),D||Wr(P,e.bOf))}),T&&f("at %annual_yield%",{annual_yield:fe.createElement("span",{className:Nb},s," ",i,"%")}),(I||B)&&" ")),A&&fe.createElement("div",{className:ji("ak_LCBLa",k&&"x4oZwp8K",b&&"KZh31z_P","transaction-nft"),onClick:U,"data-nft-address":null==A?void 0:A.address,"data-tx-id":h},fe.createElement("img",{src:A.thumbnail,alt:A.name,className:"sjeAoWgh"}),fe.createElement("div",{className:"qHIX_uIs"},fe.createElement("div",{className:"eCN9f1Sr"},A.name),fe.createElement("div",{className:"EoWXh7mx"},A.collectionName))),function(){if(!_&&!R&&(b||E))return fe.createElement("div",{className:ji("m3tsD5Lh",k?"RK0krKoG":"cSX4gOae")},E&&fe.createElement("i",{className:ji("axmClUqA","icon-lock"),"aria-hidden":!0}),E?fe.createElement("i",null,f("Encrypted Message")):b)}())})),xb="qI7nEtyA",Lb="t2U79mme",Ob=Mn.Z2,Pb=2.5*t.$,Db=2.1875*t.$,Fb=4*t.$,Rb=4*t.$,Mb=me(He((e=>{var t,n;const a=e.currentAccountId,o=Ge(e),r=Je(e),i=nt(e),s=function(e,t){var n,a;const{byChain:o}=null!==(n=Ze(e,t))&&void 0!==n?n:{},{addressByChain:r}=null!==(a=Xe(e,t))&&void 0!==a?a:{};return!(!o||!r)&&Object.keys(r).every((e=>{var t;return null===(t=o[e])||void 0===t?void 0:t.isFirstTransactionsLoaded}))}(e,e.currentAccountId),l=function(e,t){var n,a;const{activities:o}=null!==(n=Je(e))&&void 0!==n?n:{};return(null==o||null===(a=o.idsMain)||void 0===a||!a.length)&&t}(e,s),c=null==r?void 0:r.currentTokenSlug,d=a?In(e,a):void 0,{idsBySlug:u,byId:m,isMainHistoryEndReached:p,isHistoryEndReachedBySlug:f,idsMain:h}=null!==(t=null==r?void 0:r.activities)&&void 0!==t?t:{};return{isMultichainAccount:dt(e,e.currentAccountId),currentAccountId:e.currentAccountId,slug:c,byId:m,isNewWallet:l,idsBySlug:u,idsMain:h,tokensBySlug:e.tokenInfo.bySlug,swapTokensBySlug:null===(n=e.swapTokenInfo)||void 0===n?void 0:n.bySlug,areTinyTransfersHidden:e.settings.areTinyTransfersHidden,savedAddresses:null==r?void 0:r.savedAddresses,isMainHistoryEndReached:p,isHistoryEndReachedBySlug:f,currentActivityId:null==r?void 0:r.currentActivityId,alwaysShownSlugs:null==i?void 0:i.alwaysShownSlugs,activitiesUpdateStartedAt:e.activitiesUpdateStartedAt,theme:e.settings.theme,isFirstTransactionsLoaded:s,addressByChain:null==o?void 0:o.addressByChain,stakingStates:d}}),((t,n,a)=>{let{totalTokensAmount:o}=n;const r=Je(t),i=o<=(Ga()?e.nj6:e.hUs);return a(((null==r?void 0:r.activeContentTab)===Jt.Activity||(null==r?void 0:r.activeContentTab)===Jt.Assets&&i)&&t.currentAccountId)}))((function(t){let{isActive:n,currentAccountId:a,isNewWallet:o,isMultichainAccount:r,addressByChain:i,slug:l,idsBySlug:c,idsMain:d,byId:u,tokensBySlug:m,swapTokensBySlug:p,areTinyTransfersHidden:f,currentActivityId:h,savedAddresses:g,isMainHistoryEndReached:v,isHistoryEndReachedBySlug:w,alwaysShownSlugs:y,activitiesUpdateStartedAt:b=0,theme:E,isFirstTransactionsLoaded:k,stakingStates:N}=t;const{fetchTokenTransactions:C,fetchAllTransactions:S,showActivityInfo:A}=Ue(),T=Qi(),{isLandscape:I}=Qa(),B=ue(null),_=Dy(b),x=wd(E),L=ce((()=>N?(0,s.dU)(N,"tokenSlug"):{}),[N]),O=ce((()=>{let e;if(u)if(l){var t;e=null!==(t=(null!=c?c:{})[l])&&void 0!==t?t:[];const n=(0,s.Uk)(e,(e=>!_t(e)&&!xt(e)));if(n){const t=u[n].timestamp-36e5;e=e.filter((e=>u[e].timestamp>=t))}}else e=d;if(e)return e}),[u,l,c,d]),P=ce((()=>{if(!O)return;const e=O.map((e=>null==u?void 0:u[e])).filter((e=>{return(null==e||!e.shouldHide)&&("swap"===(null==e?void 0:e.kind)?Boolean(!l||e.from===l||e.to===l):Boolean((null==e?void 0:e.slug)&&(!l||e.slug===l)&&(!f||l&&0===(null===(t=m[e.slug])||void 0===t?void 0:t.quote.priceUsd)||!Bt(e,m[e.slug])||(null==y?void 0:y.includes(e.slug)))&&!jr(e)));var t}));return e.length?e:[]}),[f,u,y,O,l,m]),{activityIds:D,activitiesById:F}=ce((()=>{const e=[],t={};return null==P||P.forEach((n=>{e.push(n.id),t[n.id]=n})),{activityIds:e,activitiesById:t}}),[P]),R=ce((()=>l?!(null==w||!w[l]):!!v),[w,v,l]),M=Cr((()=>{l?C({slug:l,limit:60,shouldLoadWithBudget:!0}):S({limit:60,shouldLoadWithBudget:!0})})),U=Nd(M,[M],Ob,!0),[W,H,$]=ib(U,D,void 0,30,l,n),V=!P||!P.length,z=ce((()=>{const e={};let t=0,n=0,a=0,o=0;return D.forEach(((r,i)=>{var s;const l=F[r];if(!l)return;e[r]={offset:0,offsetNext:0,dateCount:0,commentCount:0,nftCount:0,date:o};const c=Ub(i,t,a,n),d=(0,Mn.CS)(l.timestamp),u=o!==d,m="transaction"===l.kind&&("nftTransferred"===l.type||"nftReceived"===l.type||Boolean(l.nft)),p="transaction"===l.kind&&(!l.type||m);u&&(o=d,t+=1),!p||!l.comment&&!l.encryptedComment||null!==(s=l.metadata)&&void 0!==s&&s.isScam||(a+=1),m&&l.nft&&(n+=1),e[r]={...e[r],offset:c,offsetNext:Ub(i+1,t,a,n),dateCount:t,commentCount:a,nftCount:n}})),e}),[F,D]),j=ce((()=>{var e;const t=W[W.length-1];return(null===(e=z[t])||void 0===e?void 0:e.offsetNext)||0}),[z,W]);le((()=>{const e=B.current;e&&gc(e,{height:I?"":`${j}px`})}),[I,j]),se((()=>{!R&&O&&V&&U()}),[O,V,R,U]),se((()=>{n||I||null==$||$()}),[n,I,$]);const q=Cr((e=>{A({id:e})}));if(a)return V&&!k?fe.createElement("div",{className:ji(xb,"BUMeW3vl")},fe.createElement(oh,null)):o?fe.createElement("div",{className:ji(I&&"HZCBxAlC")},fe.createElement(mb,{isActive:n,isMutlichainAccount:r,mode:I?"emptyList":"panel"})):R&&V?fe.createElement("div",{className:xb},fe.createElement(lm,{play:n,tgsUrl:xu.noData,previewUrl:xu.noDataPreview,size:e.igk,className:"L93gae4c",noLoop:!1,nonInteractive:!0}),fe.createElement("p",{className:"ddnxH_YM"},T("No Activity"))):fe.createElement(db,{ref:B,className:ji("custom-scroll","fUr4n5dv"),scrollContainerClosest:!I&&n?".app-slide-content":void 0,items:W,preloadBackwards:30,withAbsolutePositioning:!0,maxHeight:j,onLoadMore:H},W.map(((e,t)=>{const n=z[e],a=W[t+1],o=F[e],s=F[a];if(!o)return;const l=(0,Mn.CS)(o.timestamp),c=n.date!==l,d=0===t,u=l!==(s?(0,Mn.CS)(s.timestamp):0),f=o.id===h;return fe.createElement("div",{key:e,style:`top: ${n.offset}px`,className:ji("ListItem","ebD9lZA7")},c&&function(e,t){const n=(0,Mn.N5)(T,e),a=fe.createElement("div",{className:Lb},n);if(!t)return a;const o=fe.createElement("div",{className:ji(Lb,"vFLWFB14")},n,fe.createElement(_l,{isActive:!0,isDoubled:!0,className:"Ig34AhI2"}));return fe.createElement(Km,{name:"semiFade",activeKey:_?1:0,className:"ubrkPkql",slideClassName:"rHTS83Rc"},_?o:a)}(l,d),function(e,t,n){return"swap"===e.kind?fe.createElement(Bb,{key:e.id,activity:e,tokensBySlug:p,isLast:t,isActive:n,appTheme:x,addressByChain:i,onClick:q}):fe.createElement(_b,{key:e.id,transaction:e,tokensBySlug:m,isActive:n,annualYield:null===(a=L[e.slug])||void 0===a?void 0:a.annualYield,yieldType:null===(o=L[e.slug])||void 0===o?void 0:o.yieldType,isLast:t,savedAddresses:g,withChainIcon:r,appTheme:x,onClick:q});var a,o}(o,u,f))})))})));function Ub(e,t,n,a){return e*Rb+t*Pb+n*Db+a*Fb}const Wb="vKLHR9fe",Hb="JLnToFoo",$b="MWjR4yCQ",Vb="zBTGbg76",zb="v9EXZKHv",jb="IJaceq0j",qb="JMnoFXEt",Kb="yB7hzLme",Yb="Fy56cR9i",Qb="ka5acfM4",Gb="osD2vwqW",Xb="zJntRecr",Jb="jN5w9AWO",Zb="B9HfGrEc",eE="BcTpLjhN",tE="rE0JGav4",nE="LHgVJV2I",aE=7*Mn.d_,oE=me((function(t){let{token:n,amount:a,stakingId:o,stakingStatus:r,vestingStatus:i,unfreezeEndDate:s,annualYield:l,isInvestorView:c,classNames:d,style:u,appTheme:m,isActive:p,baseCurrency:f,withChainIcon:h,onClick:g,yieldType:v}=t;const{name:w,symbol:y,slug:b,amount:E,price:k,change24h:N,decimals:C}=n,S=Qi(),A=Boolean(null==i?void 0:i.length),T=null!=a?a:(0,vt.nI)(E,C,!0),I=(0,wt.z)(T).mul(k).toString(),B=N>0?"VR0vGdiX":N<0?Gb:void 0,_=Math.abs(yt((x=Number(I))-x/(1+N),4));var x;const L=Math.abs(yt(100*N,2)),O=!e.TI6&&void 0!==l,P=ji("y_zyRtG4",p&&"gcp9pSal",d),D=nr(f),F=Boolean(!A&&e.OZB[b]),{shouldRender:R,transitionClassNames:M}=Gi(O),U=Cr((()=>{g(null!=o?o:b)}));function W(){const e=ji(Jb,"xWg00BgF",r&&"UeDUf_9U",M);return fe.createElement("span",{className:e},v," ",l,"%")}function H(){if(0!==N)return fe.createElement("i",{className:ji("zzgzZR90",N>0?"icon-arrow-up":"icon-arrow-down"),"aria-hidden":!0})}function $(){return"active"===r?fe.createElement("i",{className:ji("icon-percent",Hb),"aria-hidden":!0}):fe.createElement(lm,{play:!0,size:e.wg4,className:Hb,nonInteractive:!0,noLoop:!1,tgsUrl:xu[m].iconClockPurple,previewUrl:xu[m].preview.iconClockPurple})}return c?fe.createElement(Ll,{className:P,isSimple:!0,style:u,onClick:U},fe.createElement(xv,{token:n,withChainIcon:h,className:eE},fe.createElement(fe.Fragment,null,r&&$(),i&&fe.createElement("i",{className:ji("frozen"===i?"icon-snow":"icon-fire",Wb),"aria-hidden":!0}))),fe.createElement("div",{className:$b},fe.createElement("div",{className:jb},fe.createElement("span",{className:qb},w),R&&W(),F&&fe.createElement("span",{className:ji(Jb,Zb)},e.OZB[b])),fe.createElement("div",{className:zb},fe.createElement(My,{text:Jo(T,y)}),fe.createElement("i",{className:Xb,"aria-hidden":!0}),fe.createElement(My,{text:Jo(k,D,void 0,!0)}))),fe.createElement("div",{className:Vb},fe.createElement("div",{className:ji(Kb,r&&Yb,A&&tE,A&&"readyToUnfreeze"===i&&nE)},fe.createElement(My,{text:Jo(I,D)})),s?fe.createElement("div",{className:ji(Qb,s-Date.now()<aE&&Gb)},S("Unfreeze")," ",S("until %date%",{date:`${(0,Mn.TK)(S.code,s)}`})):fe.createElement("div",{className:ji(Qb,B)},H(),fe.createElement(My,{text:String(L)}),"%",fe.createElement("i",{className:Xb,"aria-hidden":!0}),fe.createElement(My,{text:Jo(_,D,void 0,!0)})))):function(){const t=(0,wt.z)(T).mul(k),a=void 0!==l;return fe.createElement(Ll,{className:P,style:u,onClick:U,isSimple:!0},fe.createElement(xv,{token:n,withChainIcon:h,className:eE},fe.createElement(fe.Fragment,null,r&&$(),i&&fe.createElement("i",{className:ji("frozen"===i?"icon-snow":"icon-fire",Wb),"aria-hidden":!0}))),fe.createElement("div",{className:$b},fe.createElement("div",{className:jb},fe.createElement("span",{className:qb},w),a&&W(),F&&fe.createElement("span",{className:ji(Jb,Zb)},e.OZB[b])),fe.createElement("div",{className:zb},fe.createElement(My,{text:Jo(k,D,void 0,!0)}),!r&&fe.createElement(fe.Fragment,null,fe.createElement("i",{className:Xb,"aria-hidden":!0}),s?fe.createElement("span",{className:s-Date.now()<aE&&Gb},S("Unfreeze")," ",S("until %date%",{date:`${(0,Mn.TK)(S.code,s)}`})):fe.createElement("span",{className:B},H(),fe.createElement(My,{text:String(L)}),"%")))),fe.createElement("div",{className:Vb},fe.createElement("div",{className:ji(Kb,r&&Yb,A&&tE,A&&"readyToUnfreeze"===i&&nE)},fe.createElement(My,{text:Jo(T,y)})),fe.createElement("div",{className:zb},t.gt(0)?"≈":""," ",fe.createElement(My,{text:Jo(t,D,void 0,!0)}))))}()})),rE={wrapper:"EmokOdHM",wrapperLoading:"QP7e6eAO",emptyList:"XSZ9FBiN",emptyListSeparate:"SHa5wmx_",noTokens:"KNRqFMNX",noTokens_text:"XwRCmsa8",noTokensText:"XwRCmsa8",noTokens_header:"qDi9Fjks",noTokensHeader:"qDi9Fjks",noTokens_description:"Lxfq6_5v",noTokensDescription:"Lxfq6_5v",openSettingsButton:"L2IEb5c3"},iE=me(He((e=>{var t;const n=e.currentAccountId,a=Et(e),o=Je(e),{isInvestorViewEnabled:r}=e.settings,i=In(e,n);return{tokens:a,vesting:null==o||null===(t=o.vesting)||void 0===t?void 0:t.info,isInvestorViewEnabled:r,currentTokenSlug:null==o?void 0:o.currentTokenSlug,baseCurrency:e.settings.baseCurrency,mycoin:Tt(e),isMultichainAccount:dt(e,e.currentAccountId),theme:e.settings.theme,states:i}}),((e,t,n)=>n(e.currentAccountId)))((function(n){let{isActive:a,tokens:o,vesting:r,isInvestorViewEnabled:i,isSeparatePanel:l,currentTokenSlug:c,onTokenClick:d,onStakedTokenClick:u,baseCurrency:m,mycoin:p,isMultichainAccount:f,theme:h,states:g}=n;const v=Qi(),{openSettingsWithState:w}=Ue(),y=ue(null),b=Dp(o,!0),E=Dp(p,!0),k=ce((()=>{if(b&&E)return b.find((e=>{let{slug:t}=e;return t===E.slug}))}),[E,b]),{isLandscape:N,isPortrait:C}=Qa(),S=wd(h),A=ce((()=>{var t;return e.TI6?[]:null!==(t=null==g?void 0:g.filter(hs))&&void 0!==t?t:[]}),[g]),T=ce((()=>A.reduce(((e,t)=>{const n=null==o?void 0:o.find((e=>{let{slug:n}=e;return n===t.tokenSlug}));return n&&(e[t.tokenSlug]={token:n,state:t}),e}),{})),[o,A]),{shouldRender:I,transitionClassNames:B}=Gi(Boolean(Object.keys(T).length)),{shouldRender:_,transitionClassNames:x,amount:L,vestingStatus:O,unfreezeEndDate:P,onVestingTokenClick:D}=function(e){let{vesting:t,userMycoin:n,isDisabled:a}=e;const{loadMycoin:o,openVestingModal:r}=Ue(),i=!a&&Boolean(null==t?void 0:t.length),s=Boolean(n);se((()=>{!s&&i&&o()}),[i,s]);const l=ce((()=>{if(i)return tw(t,["frozen","ready"])}),[i,t]),c=ce((()=>{if(i)for(const{parts:e}of t)for(const t of e)if("ready"===t.status)return new Date(t.timeEnd).getTime()}),[i,t]),{shouldRender:d,transitionClassNames:u}=Gi(Boolean(i&&s&&n&&"0"!==l));return{shouldRender:d,transitionClassNames:u,amount:l,vestingStatus:c?"readyToUnfreeze":"frozen",unfreezeEndDate:c,onVestingTokenClick:Cr((()=>{r()}))}}({vesting:r,userMycoin:k,isDisabled:e.TI6}),F=ce((()=>null==b?void 0:b.filter((e=>{let{isDisabled:t}=e;return!t})).map((e=>{let{slug:t}=e;return t}))),[b]),[R,M]=ib(void 0,F,void 0,void 0,void 0,a,C),U=ce((()=>{if(!R)return-1;let e=F.indexOf(R[0]);return I&&(e+=Object.keys(T).length),_&&e++,e}),[I,_,F,R,T]),W=ce((()=>b?(0,s.dU)(b,"slug"):void 0),[b]),H=F&&F.length>30,$=ce((()=>{if(H&&null!=R&&R.length&&!(U<0))return 4*(U+R.length)*t.$}),[U,null==R?void 0:R.length,H]);le((()=>{const e=y.current;e&&gc(e,{height:$&&!N?`${$}px`:""})}),[N,$]);const V=Cr((()=>{w({state:Gt.Assets})})),z=(0,s.dU)(null!=g?g:[],"tokenSlug");return _||I||null!=F&&F.length?fe.createElement(db,{ref:y,className:ji(rE.wrapper,l&&!b&&rE.wrapperLoading),scrollContainerClosest:!N&&a?".app-slide-content":void 0,items:R,itemSelector:".token-list-item",withAbsolutePositioning:H,maxHeight:$,onLoadMore:M},!b&&fe.createElement("div",{key:"loading",className:l?rE.emptyListSeparate:rE.emptyList},fe.createElement(oh,null)),_&&fe.createElement(oE,{key:"vesting",token:k,vestingStatus:O,unfreezeEndDate:P,amount:L,isInvestorView:i,classNames:x,baseCurrency:m,appTheme:S,onClick:D}),I&&Object.values(T).map((e=>{let{state:t,token:n}=e;const{annualYield:a,yieldType:o,balance:r,id:s}=t,l=fs(t);return fe.createElement(oE,{key:`staking-${s}`,token:n,stakingId:s,stakingStatus:l,annualYield:a,yieldType:o,amount:(0,vt.nI)(r,n.decimals),isInvestorView:i,classNames:B,baseCurrency:m,appTheme:S,onClick:u})})),null==R?void 0:R.map(((e,t)=>function(e,t){const n=H?`position: absolute; top: ${4*(U+t)}rem`:void 0,{annualYield:a,yieldType:o}=!(e.slug in T)&&z[e.slug]||{};return fe.createElement(oE,{classNames:"token-list-item",style:n,key:e.slug,token:e,annualYield:a,yieldType:o,isInvestorView:i,isActive:e.slug===c,baseCurrency:m,withChainIcon:f,appTheme:S,onClick:d})}(W[e],t)))):fe.createElement("div",{className:rE.noTokens},fe.createElement(lm,{tgsUrl:xu.noData,previewUrl:xu.noDataPreview,size:e.jzp,nonInteractive:!0,noLoop:!1,className:rE.sticker}),fe.createElement("div",{className:rE.noTokensText},fe.createElement("span",{className:rE.noTokensHeader},v("No tokens yet")),fe.createElement("span",{className:rE.noTokensDescription},v("$no_tokens_description")),fe.createElement(Ll,{onClick:V,isPrimary:!0,isSmall:!0,className:rE.openSettingsButton},v("Add Tokens"))))}))),sE="aKYq5U9K",lE="_XXYEoWI",cE="bCLB_xx7",dE="ADFSqjjF",uE="L1JCMSY4",mE="vvSB5YmR",pE="X205Pp2C",fE="S3NdyNSK",hE=[{name:"Send All",value:"sendAll"},{name:"Getgems",value:"getgems",fontIcon:"external"},{name:La("ton"),value:"tonExplorer",fontIcon:"external"},...e.TI6?[]:[{name:"Hide All",value:"hideAll"}],{name:"Burn All",value:"burnAll",isDangerous:!0},{name:"Select All",value:"selectAll",withSeparator:!0}],gE=me(He((e=>{var t;const{byAddress:n,currentCollectionAddress:a}=(null===(t=Je(e))||void 0===t?void 0:t.nfts)||{};return{isTestnet:e.settings.isTestnet,nfts:n,currentCollectionAddress:a}}))((function(t){let{isTestnet:n,nfts:a,currentCollectionAddress:o}=t;const{closeNftCollection:r,selectNfts:i,startTransfer:s,burnNfts:l,openHideNftModal:c}=Ue(),d=Qi(),[u,m]=re(),p=Boolean(u),f=ue(null),h=ce((()=>{if(o&&a)return Object.values(a).find((e=>e.collectionAddress===o))}),[o,a]),g=ce((()=>{if(o&&a)return Object.values(a).reduce(((e,t)=>t.collectionAddress===o?e+1:e),0)}),[o,a]),v=Dp(h,!0),w=Dp(g,!0),y=Boolean(o);Il({isActive:y,onBack:r}),se((()=>y?Xf(r):void 0),[y]);const b=Cr((()=>f.current)),E=Cr((()=>document.body)),k=Cr((()=>document.querySelector("#portals .menu-bubble"))),N=Cr((()=>({withPortal:!0}))),{positionY:C,transformOriginX:S,transformOriginY:A,style:T}=av(u,b,E,k,N),I=Cr((t=>{switch(t){case"sendAll":{const e=Object.values(a).filter((e=>e.collectionAddress===o&&!e.isOnSale));s({nfts:e,isPortrait:Ga()});break}case"getgems":Ma(`${n?e.PKm:e.wln}collection/${null==v?void 0:v.collectionAddress}`);break;case"tonExplorer":{const e=function(e,t){if(e)return`${Oa("ton",t)}nft/${e}`}(null==v?void 0:v.collectionAddress,n);e&&Ma(e);break}case"selectAll":{const e=Object.values(a||{}).filter((e=>e.collectionAddress===o&&!e.isOnSale)).map((e=>e.address));i({addresses:e});break}case"burnAll":{const e=Object.values(a).filter((e=>e.collectionAddress===o&&!e.isOnSale));l({nfts:e});break}case"hideAll":{const e=Object.values(a).filter((e=>e.collectionAddress===o)).map((e=>e.address));c({addresses:e,isCollection:!0})}}})),B=Cr((()=>{const{right:e,bottom:t}=f.current.getBoundingClientRect();m({x:e,y:t})})),_=Cr((()=>{m(void 0)}));if(v)return fe.createElement("div",{className:sE},fe.createElement(Ll,{className:lE,isSimple:!0,isText:!0,onClick:r},fe.createElement("i",{className:ji(cE,"icon-chevron-left"),"aria-hidden":!0}),fe.createElement("span",null,d("Back"))),fe.createElement("div",{className:dE},fe.createElement("div",{className:uE},(null==v?void 0:v.collectionName)||d("Unnamed Collection")),fe.createElement("div",{className:"hsn7RdaK"},w>1?d("%amount% NFTs",{amount:w}):d("1 NFT"))),fe.createElement(Ll,{isSimple:!0,ref:f,className:mE,onClick:B,ariaLabel:d("Open Menu")},fe.createElement("i",{className:"icon-menu-dots","aria-hidden":!0})),fe.createElement(nh,{isOpen:p,withPortal:!0,shouldTranslateOptions:!0,menuPositionHorizontal:"right",menuPosition:C,menuStyle:T,transformOriginX:S,transformOriginY:A,buttonClassName:fE,bubbleClassName:pE,items:hE,onSelect:I,onClose:_}))})));const vE=me((function(e){let{id:t,name:n,value:a,isChecked:o,className:r,onChange:i}=e;return fe.createElement("div",{className:ji("OyHWXuOj",r,o&&"BCTrjQeD")},fe.createElement("input",{id:t,type:"radio",name:n,className:"visually-hidden",value:a,checked:o,onChange:i}))})),wE={name:"Cannot be sent",value:"send",description:"NFT is for sale",isDisabled:!0},yE={name:"Configure DNS",value:"tondns",fontIcon:"external"},bE={name:"Send",value:"send"},EE={name:"Fragment",value:"fragment",fontIcon:"external"},kE={name:"Getgems",value:"getgems",fontIcon:"external"},NE={name:La("ton"),value:"tonExplorer",fontIcon:"external"},CE={name:"Collection",value:"collection"},SE={name:"Hide",value:"hide"},AE={name:"Not Scam",value:"not_scam"},TE={name:"Unhide",value:"unhide"},IE={name:"Burn",value:"burn",isDangerous:!0},BE={name:"Select",value:"select",withSeparator:!0},_E={name:"Install Card",value:"installCard"},xE={name:"Reset Card",value:"resetCard"},LE={name:"Apply Palette",value:"installAccentColor"},OE={name:"Reset Palette",value:"resetAccentColor"};function PE(t){let{nft:n,isNftBlacklisted:a,isNftWhitelisted:o,isNftInstalled:r,isNftAccentColorInstalled:i}=t;const{startTransfer:s,selectNfts:l,openNftCollection:c,burnNfts:d,addNftsToBlacklist:u,addNftsToWhitelist:m,closeMediaViewer:p,openUnhideNftModal:f,setCardBackgroundNft:h,clearCardBackgroundNft:g,installAccentColorFromNft:v,clearAccentColorFromNft:w}=Ue(),y=Cr((t=>{const{isTestnet:a}=Re().settings;switch(t){case"send":s({isPortrait:Ga(),nfts:[n]}),p();break;case"tonExplorer":Ma(Fa(n.address,a));break;case"getgems":{const t=a?e.PKm:e.wln;Ma(n.collectionAddress?`${t}collection/${n.collectionAddress}/${n.address}`:`${t}nft/${n.address}`);break}case"tondns":Ma(`https://dns.ton.org/#${(n.name||"").replace(/\.ton$/i,"")}`);break;case"installCard":h({nft:n}),v({nft:n});break;case"resetCard":g(),w();break;case"installAccentColor":v({nft:n});break;case"resetAccentColor":w();break;case"fragment":{let e;const{collectionName:t,name:a,metadata:{fragmentUrl:o}}=n;e=o||(null!=t&&t.toLowerCase().includes("numbers")?`https://fragment.com/number/${null==a?void 0:a.replace(/[^0-9]/g,"")}`:`https://fragment.com/username/${encodeURIComponent((null==a?void 0:a.substring(1))||"")}`),Ma(e);break}case"collection":c({address:n.collectionAddress},{forceOnHeavyAnimation:!0});break;case"hide":u({addresses:[n.address]}),p();break;case"not_scam":f({address:n.address,name:n.name});break;case"unhide":m({addresses:[n.address]}),p();break;case"burn":d({nfts:[n]}),p();break;case"select":l({addresses:[n.address]})}}));return{menuItems:ce((()=>{if(!n)return[];const{collectionAddress:t,isOnSale:s,isOnFragment:l,isScam:c}=n,d=n.collectionAddress===e.nQN,u=!e.TI6&&n.collectionAddress===e.qL;return[...d?[yE]:[],...u?[r?xE:_E]:[],...u?[i?OE:LE]:[],{...s?wE:bE,...u&&{withSeparator:!0}},...l?[EE]:[],kE,NE,...t?[CE]:[],...e.TI6?[]:[...!c&&!a||o?[SE]:[],...c&&!o?[AE]:[],...!c&&a?[TE]:[]],...s?[]:[IE,BE]]}),[n,r,i,a,o]),handleMenuItemSelect:y}}const DE=me(He((e=>{const{blacklistedNftAddresses:t,whitelistedNftAddresses:n}=Je(e)||{},{cardBackgroundNft:a,accentColorNft:o}=nt(e)||{};return{blacklistedNftAddresses:t,whitelistedNftAddresses:n,cardBackgroundNft:a,accentColorNft:o}}))((function(e){let{nft:t,menuPosition:n,onOpen:a,onClose:o,blacklistedNftAddresses:r,whitelistedNftAddresses:i,cardBackgroundNft:s,accentColorNft:l}=e;const c=ce((()=>null==r?void 0:r.includes(t.address)),[t,r]),d=ce((()=>null==i?void 0:i.includes(t.address)),[t,i]),u=Gf(t&&t.address===(null==s?void 0:s.address),Zf),m=Gf(t&&t.address===(null==l?void 0:l.address),Zf),{menuItems:p,handleMenuItemSelect:f}=PE({nft:t,isNftBlacklisted:c,isNftWhitelisted:d,isNftInstalled:u,isNftAccentColorInstalled:m}),h=ue(null),g=Boolean(n),v=Cr((()=>h.current)),w=Cr((()=>document.body)),y=Cr((()=>document.querySelector("#portals .menu-bubble"))),b=Cr((()=>({withPortal:!0}))),E=Qi(),{positionY:k,transformOriginX:N,transformOriginY:C,style:S}=av(n,v,w,y,b);return fe.createElement(fe.Fragment,null,fe.createElement("button",{ref:h,type:"button",className:"Zwrm7aDb","aria-label":E("NFT Menu"),onClick:e=>{qi(e),g?o():a()}},fe.createElement("i",{className:ji("lGtsxpv1","icon-menu-dots"),"aria-hidden":!0})),fe.createElement(nh,{isOpen:g,withPortal:!0,menuPositionHorizontal:"right",menuPosition:k,menuStyle:S,transformOriginX:N,transformOriginY:C,items:p,shouldTranslateOptions:!0,className:"Pc0Y7YGI",bubbleClassName:"UhvMK8mg",buttonClassName:"AZjbQROQ",shouldCleanup:!0,onClose:o,onSelect:f}))}))),FE="ITYna3lB",RE="P5UTNS9t",ME="wvB9itFX",UE="xeApkBtH",WE=me((function(e){let{nft:n,selectedAddresses:a,observeIntersection:o}=e;const{openMediaViewer:r,selectNfts:i,clearNftSelection:s}=Ue(),l=Qi(),c=ue(null),{isLottie:d,shouldPlay:u,noLoop:m,markHover:p,unmarkHover:f}=function(e,n,a){var o;const r=Boolean(null===(o=e.metadata)||void 0===o?void 0:o.lottie),i=function(e,t,n){const[a,o]=re(!t);return function(e,t,n){const a=Cr(n);se((()=>t?t(e.current,a):void 0),[a,t,e])}(e,t,(e=>{o(e.isIntersecting),n&&n(e)})),a}(n,r?a:void 0),[s,l,c]=yd();if(!r)return{isLottie:r};return{isLottie:r,shouldPlay:i||s,noLoop:!s,...!(t.pz||t.Ni)&&{markHover:l,unmarkHover:c}}}(n,c,o),[h,g]=re(),v=!!a&&a.length>0,w=ce((()=>null==a?void 0:a.includes(n.address)),[a,n.address]),y=Boolean(h),{shouldRender:b,transitionClassNames:E}=Gi(v&&n.isOnSale),k=ji("wdIabR9U",!v&&n.isOnSale&&"TcBQN9hf",y&&"AFzPXqVX",v&&n.isOnSale&&"O3ePb4wF"),N=Cr((()=>{const{right:e,y:t}=c.current.getBoundingClientRect();g({x:e,y:t})})),C=Cr((()=>{g(void 0)}));return fe.createElement("div",{key:n.address,ref:c,"data-nft-address":n.address,className:k,onMouseEnter:p,onMouseLeave:f,onClick:v&&n.isOnSale?void 0:function(){v?w?s({address:n.address}):i({addresses:[n.address]}):(Mo(),r({mediaId:n.address,mediaType:Zt.Nft}))}},v&&!n.isOnSale&&fe.createElement(vE,{isChecked:w,name:"nft",value:n.address,className:"VqbpRLGL"}),!v&&fe.createElement(DE,{nft:n,menuPosition:h,onOpen:N,onClose:C}),d?fe.createElement("div",{className:ME},fe.createElement(lm,{shouldStretch:!0,play:u,noLoop:m,tgsUrl:n.metadata.lottie,previewUrl:n.thumbnail,noPreviewTransition:!0,className:ji(RE,w&&UE)})):fe.createElement(Sd,{url:n.thumbnail,className:ME,imageClassName:ji(RE,w&&UE)}),b&&fe.createElement("div",{className:ji("qtSm9QOQ",E)},l("For sale. Cannot be sent and burned")),fe.createElement("div",{className:"v0SE1VHL"},fe.createElement("b",{className:"KokxXqZI"},n.name||Wr(n.address,4))),fe.createElement("div",{className:"_xEjK2pw"},n.collectionName))})),HE=me(He((e=>{var t;const{orderedAddresses:n,byAddress:a,currentCollectionAddress:o,selectedAddresses:r}=(null===(t=Je(e))||void 0===t?void 0:t.nfts)||{},{isNftBuyingDisabled:i}=e.restrictions,{blacklistedNftAddresses:s,whitelistedNftAddresses:l}=Je(e)||{};return{orderedAddresses:n,selectedAddresses:r,byAddress:a,currentCollectionAddress:o,blacklistedNftAddresses:s,whitelistedNftAddresses:l,isNftBuyingDisabled:i}}),((e,t,n)=>{var a;const{currentCollectionAddress:o}=(null===(a=Je(e))||void 0===a?void 0:a.nfts)||{};return n(`${e.currentAccountId}_${o||"all"}`)}))((function(t){let{isActive:n,orderedAddresses:a,selectedAddresses:o,byAddress:r,currentCollectionAddress:i,isNftBuyingDisabled:s,blacklistedNftAddresses:c,whitelistedNftAddresses:d}=t;const{clearNftsSelection:u}=Ue(),m=Qi(),{isPortrait:p,isLandscape:f}=Qa(),h=Boolean(null==o?void 0:o.length);se(u,[u,n,i]),se((()=>h?Xf(u):void 0),[h]);const g=ce((()=>{if(!a||!r)return;const e=new Set(c),t=new Set(d);return a.map((e=>r[e])).filter((e=>!(!e||i&&e.collectionAddress!==i))).filter((n=>(!n.isHidden||t.has(n.address))&&!e.has(n.address)))}),[r,i,a,c,d]),{observe:v}=function(e,t){let{rootRef:n,throttleMs:a,throttleScheduler:o,debounceMs:r,shouldSkipFirst:i,margin:s,threshold:c,isDisabled:d}=e;const u=ue(),m=ue(),p=ue(0),f=ue();m.current=t;const h=Cr((()=>{p.current++})),g=Cr((()=>{p.current&&(p.current--,!p.current&&f.current&&(f.current(),f.current=void 0))}));Gu(h,g),se((()=>{if(!d)return()=>{u.current&&(u.current.observer.disconnect(),u.current.callbacks.clear(),u.current=void 0)}}),[d]);const v=Cr(((e,t)=>{u.current||function(){const e=new Map,t=new Map;let d;function h(){if(p.current)return void(f.current=d);const n=Array.from(t.values());n.forEach((t=>{const a=e.get(t.target);a&&a(t,n)})),m.current&&m.current(n),t.clear()}d="function"==typeof o?(0,l.nb)(o,h):a?(0,l.nF)(h,a,!i):r?(0,l.sg)(h,r,!i):h;const g=new IntersectionObserver((e=>{e.forEach((e=>{t.set(e.target,e)})),p.current?f.current=d:d()}),{root:null==n?void 0:n.current,rootMargin:s?`${s}px`:void 0,threshold:c});u.current={observer:g,callbacks:e}}();const d=u.current;return d.observer.observe(e),t&&d.callbacks.set(e,t),()=>{t&&d.callbacks.delete(e),d.observer.unobserve(e)}}));return{observe:v,freeze:h,unfreeze:g}}({throttleMs:200,isDisabled:!(null!=g&&g.length)});return void 0===g?fe.createElement("div",{className:ji(FE,"AmFNUCBn")},fe.createElement(oh,null)):0===g.length?fe.createElement("div",{className:FE},fe.createElement(lm,{play:n,tgsUrl:xu.happy,previewUrl:xu.happyPreview,size:p?e.jzp:e.igk,className:"e1KDXttI",noLoop:!1,nonInteractive:!0}),fe.createElement("div",{className:"VvA3zcqe"},fe.createElement("p",{className:"dfDaqpor"},m("No NFTs yet")),!s&&fe.createElement(fe.Fragment,null,fe.createElement("p",{className:"T93VHAYd"},qo(m("$nft_explore_offer"),p?["simple_markdown"]:void 0)),fe.createElement("button",{type:"button",className:"MQHqPBS8",onClick:function(t){qi(t),Ma(e.FgL,{title:e.Ia6,subtitle:xa(e.FgL)})}},m("Open %nft_marketplace%",{nft_marketplace:e.Ia6}))))):fe.createElement(Km,{name:"fade",activeKey:g.length,shouldCleanup:!0,slideClassName:ji("dpiMguJa",f&&"UaTzvOas")},g.map((e=>fe.createElement(WE,{key:e.address,nft:e,selectedAddresses:o,observeIntersection:v}))))}))),$E=[{name:"Send",value:"send"},...e.TI6?[]:[{name:"Hide",value:"hide"}],{name:"Burn",value:"burn",isDangerous:!0},{name:"Select All",value:"select-all",withSeparator:!0}],VE=me(He((e=>{var t;const{selectedAddresses:n,byAddress:a,currentCollectionAddress:o}=(null===(t=Je(e))||void 0===t?void 0:t.nfts)||{};return{selectedAddresses:n,byAddress:a,currentCollectionAddress:o}}))((function(e){var t;let{selectedAddresses:n,byAddress:a,currentCollectionAddress:o}=e;const{selectAllNfts:r,clearNftsSelection:i,startTransfer:s,burnNfts:l,openHideNftModal:c}=Ue(),d=Qi(),u=null!==(t=null==n?void 0:n.length)&&void 0!==t?t:1,m=Boolean(null==n?void 0:n.length);Il({isActive:m,onBack:i}),se((()=>m?Xf(i):void 0),[m]);const p=Cr((()=>{var e;const t=null!==(e=n.map((e=>a[e])))&&void 0!==e?e:[];i(),s({isPortrait:Ga(),nfts:t})})),f=Cr((()=>{var e;const t=null!==(e=n.map((e=>a[e])))&&void 0!==e?e:[];i(),l({nfts:t})})),h=Cr((()=>{i(),c({addresses:n,isCollection:!1})})),[g,v]=re(),w=Boolean(g),y=ue(null),b=Cr((()=>{const{right:e,bottom:t}=y.current.getBoundingClientRect();v({x:e,y:t})})),E=Cr((()=>{v(void 0)})),k=Cr((()=>y.current)),N=Cr((()=>document.body)),C=Cr((()=>document.querySelector("#portals .menu-bubble"))),S=Cr((()=>({withPortal:!0}))),{positionY:A,transformOriginX:T,transformOriginY:I,style:B}=av(g,k,N,C,S),_=Cr((e=>{switch(e){case"send":p();break;case"hide":h();break;case"burn":f();break;case"select-all":r({collectionAddress:o})}}));return fe.createElement("div",{className:sE},fe.createElement(Ll,{className:lE,isSimple:!0,isText:!0,onClick:i},fe.createElement("i",{className:ji(cE,"icon-chevron-left"),"aria-hidden":!0}),fe.createElement("span",null,d("Back"))),fe.createElement("div",{className:dE},fe.createElement("div",{className:uE},u>1?d("%amount% NFTs Selected",{amount:u}):d("1 NFT Selected"))),fe.createElement("div",null,fe.createElement(Ll,{isSimple:!0,ref:y,className:mE,onClick:b,ariaLabel:d("Open Menu")},fe.createElement("i",{className:"icon-menu-dots","aria-hidden":!0})),fe.createElement(nh,{isOpen:w,withPortal:!0,shouldTranslateOptions:!0,menuPositionHorizontal:"right",menuPosition:A,menuStyle:B,transformOriginX:T,transformOriginY:I,buttonClassName:fE,bubbleClassName:pE,items:$E,onSelect:_,onClose:E})))}))),zE="Sd0JpmLp";let jE=0;const qE=me(He((e=>{var t,n;const a=e.currentAccountId,{activeContentTab:o,blacklistedNftAddresses:r,whitelistedNftAddresses:i,selectedNftsToHide:s,vesting:l,nfts:{byAddress:c,currentCollectionAddress:d,selectedAddresses:u}={},currentSiteCategoryId:m}=null!==(t=Je(e))&&void 0!==t?t:{},p=Et(e),f=it(e.currentAccountId)(p),h=Boolean(null==l||null===(n=l.info)||void 0===n?void 0:n.length);return{nfts:c,currentCollectionAddress:d,selectedAddresses:u,tokensCount:f,activeContentTab:o,blacklistedNftAddresses:r,whitelistedNftAddresses:i,selectedNftsToHide:s,states:a?In(e,a):void 0,hasVesting:h,currentSiteCategoryId:m,isFullscreen:e.isFullscreen}}),((e,t,n)=>n(e.currentAccountId)))((function(n){let{activeContentTab:a,tokensCount:o,nfts:r,currentCollectionAddress:i,selectedAddresses:s,onStakedTokenClick:l,blacklistedNftAddresses:c,whitelistedNftAddresses:d,selectedNftsToHide:u,states:m,hasVesting:p,isFullscreen:f,currentSiteCategoryId:h}=n;const{selectToken:g,showTokenActivity:v,setActiveContentTab:w,openNftCollection:y,closeNftCollection:b,openSettingsWithState:k}=Ue(),N=Qi(),{isPortrait:C}=Qa(),S=ue(null),A=Boolean(null==s?void 0:s.length),T=ce((()=>{var e;return null!==(e=null==m?void 0:m.filter(hs).length)&&void 0!==e?e:0}),[m]);ll((()=>{i?jE+=1:jE=0}),[i]);const I=Cr((e=>{y({address:e},{forceOnHeavyAnimation:!0})})),B=Cr((e=>{"hidden_nfts"===e?k({state:Gt.HiddenNfts}):I(e)})),_=ce((()=>{const e=new Set(c),t=new Set(d),n=Object.values(null!=r?r:{}).filter((n=>(!n.isHidden||t.has(n.address))&&!e.has(n.address))).reduce(((e,t)=>(t.collectionAddress&&(e[t.collectionAddress]=t.collectionName||N("Unnamed collection")),e)),{}),a=Object.keys(n);return a.sort(((e,t)=>n[e].localeCompare(n[t]))),a.map((e=>({id:e,name:n[e],value:e})))}),[N,r,c,d]),x=ce((()=>{if(e.TI6)return!1;const t=new Set(c);return Object.values(null!=r?r:{}).some((e=>t.has(e.address)||e.isHidden))}),[c,r]),L=ue(null),O=o+(p?1:0)+T,P=O<=(C?e.nj6:e.hUs),D=ce((()=>[...P?[]:[{id:Jt.Assets,title:N("Assets"),className:zE}],{id:Jt.Activity,title:N("Activity"),className:zE},...C||e.TI6?[]:[{id:Jt.Explore,title:N("Explore"),className:zE}],{id:Jt.Nft,title:N("NFT"),className:zE,menuItems:x?[..._,{name:N("Hidden NFTs"),value:"hidden_nfts",withSeparator:!0}]:_,onMenuItemClick:B},..._.some((t=>{let{value:n}=t;return n===e.KmP}))?[{id:Jt.NotcoinVouchers,title:"NOT Vouchers",className:zE}]:[]]),[N,_,P,x,C]),F=ce((()=>{const e=D.findIndex((e=>e.id===a));return-1===e?Jt.Assets:e}),[D,a]);Yi((()=>{void 0===a&&w({tab:Jt.Assets})}));const R=Cr((t=>{if(t===Jt.NotcoinVouchers)return g({slug:void 0},{forceOnHeavyAnimation:!0}),w({tab:Jt.Nft}),void I(e.KmP);g({slug:void 0},{forceOnHeavyAnimation:!0}),w({tab:t})}));Il({isActive:0!==F,onBack:()=>R(Jt.Assets)}),se((()=>{const n=S.current;if(!C||!n)return;const a=e.UMQ?Bo():e.tKX?ra().safeAreaInset.top+ra().contentSafeAreaInset.top:Kn().safeAreaTop,o=t.XS-a-1,r=new IntersectionObserver((e=>{let[t]=e;(0,E.RK)((()=>{t.target.classList.toggle("dFLD_EZz",t.intersectionRatio<1)}))}),{rootMargin:`${o}px 0px 0px 0px`,threshold:[1]});return r.observe(n),()=>{r.unobserve(n)}}),[C,S,f]),se((()=>{if(t.TF)return Ss(L.current,{includedClosestSelector:".swipe-container",excludedClosestSelector:".dapps-feed",onSwipe:(e,t)=>{if(t===bs.Left){const e=D[Math.min(D.length-1,F+1)];return R(e.id),!0}if(t===bs.Right){if(i)b();else{const e=D[Math.max(0,F-1)];R(e.id)}return!0}return!1},selectorToPreventScroll:".custom-scroll"})}),[D,R,F,i]);const M=Cr((e=>{v({slug:e})})),U=ji("wmmKI_Q8",t.TF&&"swipe-container",C?"joLgqn25":"xwYhKvej");function W(e){if(0===F&&P)return fe.createElement(Mb,{isActive:e,totalTokensAmount:O});switch(D[F].id){case Jt.Assets:return fe.createElement(iE,{isActive:e,onTokenClick:M,onStakedTokenClick:l});case Jt.Activity:return fe.createElement(Mb,{isActive:e,totalTokensAmount:O});case Jt.Nft:return fe.createElement(Km,{activeKey:jE,name:C?"slide":"slideFade",className:"nfts-container"},fe.createElement(HE,{key:i||"all",isActive:e}));case Jt.Explore:return fe.createElement(Hg,{isActive:e});default:return}}return fe.createElement("div",{className:U},P&&fe.createElement("div",{className:"LsCBKsIM"},fe.createElement(iE,{isActive:!0,isSeparatePanel:!0,onStakedTokenClick:l,onTokenClick:M})),fe.createElement("div",{className:ji(C?"i_rtpHaE":"UzEmZry2")},fe.createElement(fe.Fragment,null,fe.createElement("div",{ref:S,className:"qxl4O9Cg"},fe.createElement(Km,{activeKey:A||!C&&h?2:i?1:0,name:"slideFade",className:"VjN3P9Zv"},A?fe.createElement(VE,null):!C&&h?fe.createElement(Mg,{id:h}):i?fe.createElement(gE,{key:"collection"}):fe.createElement(cv,{tabs:D,activeTab:F,onSwitchTab:R,className:ji("q8lTUtx5","content-tabslist")}))),fe.createElement(Km,{ref:L,name:C?"slide":"slideFade",activeKey:F,renderCount:D.length,className:ji("vxe8iSc4","content-transition"),slideClassName:ji("MU2eE1B1","custom-scroll")},W))),fe.createElement(ob,{isOpen:Boolean(null==u?void 0:u.addresses.length),selectedNftsToHide:u}))})));function KE(e){let t=document.querySelector(`meta[name="theme-color"][media="(prefers-color-scheme: ${e?"light":"dark"})"]`);return t||(t=document.createElement("meta"),t.setAttribute("name","theme-color"),t.setAttribute("media",`(prefers-color-scheme: ${e?"light":"dark"})`),document.getElementsByTagName("head")[0].appendChild(t)),t}const YE="PUMHiqAW",QE="j9PIExiC",GE="l3sBnS54",XE="WFekTm0y",JE=me(He((e=>({theme:e.settings.theme})),((e,t,n)=>n(e.currentAccountId)))((function(e){let{isRequired:t,theme:n,onOpenBackupWallet:a}=e;const{shouldRender:o,transitionClassNames:r}=Gi(t,void 0,!0),{isLandscape:i}=Qa(),s=Qi();if(function(e){let{isActive:t,currentTheme:n,lightColor:a,darkColor:o}=e;se((()=>{const e=KE(!0),r=KE(),i="dark"===n?o:a,s="light"===n?a:o;return t&&(e.setAttribute("content",i),r.setAttribute("content",s)),()=>{e.remove(),r.remove()}}),[a,t,o,n])}({isActive:t,currentTheme:n,lightColor:"#F36A6B",darkColor:"#C44646"}),o)return fe.createElement("div",{className:ji(YE,i&&QE,r),onClick:()=>{a()}},s("Wallet is not backed up"),fe.createElement("i",{className:ji(GE,"icon-chevron-right"),"aria-hidden":!0}),fe.createElement("p",{className:XE},s("Back up wallet to have full access to it")))}))),ZE=me(He((e=>({isSecurityWarningHidden:e.settings.isSecurityWarningHidden})))((function(t){let{isSecurityWarningHidden:n}=t;const{closeSecurityWarning:a}=Ue(),{shouldRender:o,transitionClassNames:r}=Gi(!n,void 0,!0),{isLandscape:i}=Qa(),s=Qi(),l=Cr((e=>{e.stopPropagation(),a()}));if(o)return fe.createElement("div",{className:ji(YE,i&&QE,r),onClick:function(){Ma(e.tpB)}},s("Consider More Secure Version"),fe.createElement("i",{className:ji(GE,"icon-chevron-right"),"aria-hidden":!0}),fe.createElement("p",{className:XE},s("Install our native app or browser extension.")),fe.createElement("button",{type:"button",className:"tQS1IhkF","aria-label":s("Close"),onClick:l},fe.createElement("i",{className:"icon-close","aria-hidden":!0})))}))),ek=!(e.TI6||t.cp||e.hL1||t.pz||t.Ni||e.tKX),tk=me(He((e=>{var t;return{isBackupRequired:Boolean(null===(t=Je(e))||void 0===t?void 0:t.isBackupRequired),isTestnet:e.settings.isTestnet}}),((e,t,n)=>n(e.currentAccountId)))((function(e){let{isBackupRequired:t,isTestnet:n,onOpenBackupWallet:a}=e;const{isPortrait:o}=Qa(),r=Qi();return fe.createElement(fe.Fragment,null,n&&fe.createElement("div",{className:o?"nDlx2B3w":"H35Oa6Xc"},fe.createElement("div",{className:"FeOh0iRA"},r("Testnet Version"))),fe.createElement(JE,{isRequired:t,onOpenBackupWallet:a}),ek&&fe.createElement(ZE,null))}))),nk=me(He((e=>{var t,n;const{ledger:a}=Ge(e)||{},o=Je(e),{currentTokenSlug:r}=null!=o?o:{},{isSwapDisabled:i,isOnRampDisabled:s}=e.restrictions;return{stakingState:e.currentAccountId?Bn(e,e.currentAccountId):void 0,currentTokenSlug:r,isTestnet:e.settings.isTestnet,isLedger:Boolean(a),isStakingInfoModalOpen:e.isStakingInfoModalOpen,isMediaViewerOpen:Boolean(null===(t=e.mediaViewer)||void 0===t?void 0:t.mediaId),isSwapDisabled:i,isOnRampDisabled:s,theme:e.settings.theme,accentColorIndex:null===(n=nt(e))||void 0===n?void 0:n.accentColorIndex}}),((e,t,n)=>n(e.currentAccountId)))((function(n){let{isActive:a,currentTokenSlug:o,stakingState:r,isTestnet:i,isLedger:s,isStakingInfoModalOpen:l,isSwapDisabled:c,isOnRampDisabled:d,isMediaViewerOpen:u,theme:m,accentColorIndex:p}=n;const{selectToken:f,openBackupWalletModal:h,setActiveContentTab:g,closeStakingInfo:v,openStakingInfoOrStart:w,changeCurrentStaking:y,setLandscapeActionsActiveTabIndex:b,loadExploreSites:E,openReceiveModal:k,updatePendingSwaps:N}=Ue(),C=ue(null),S=ue(null),A=ue(null),[T,I]=re(!1),[B,_]=re(!1),x=e.UMQ?Bo():Kn().safeAreaTop,[L,O,P]=yd(!xr()),D=r?fs(r):"inactive";_r(P,O),nl("receive",k),function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];se((()=>{if(t.TF){if(!e)return null==jg||jg.setAttribute("content",qg),t.pz&&!t._7&&document.addEventListener("gesturestart",qi),()=>{null==jg||jg.setAttribute("content",Kg),t.pz&&!t._7&&document.removeEventListener("gesturestart",qi)};null==jg||jg.setAttribute("content",Kg)}}),[e])}(u);const{isPortrait:F,isLandscape:R}=Qa(),{shouldRender:M,transitionClassNames:U}=Gi(T);Yi((()=>{e.TI6||E({isLandscape:R})})),se((()=>{Ks({forceDarkBackground:B})}),[B]),Bp(N,L?3e3:15e3),se((()=>{if(!F||!a)return void I(!1);const e=t.XS-x,n=new IntersectionObserver((e=>{const{isIntersecting:t,boundingClientRect:{left:n,width:a}}=e[0];I(e.length>0&&!t&&n<a)}),{rootMargin:`${e}px 0px 0px`}),o=new IntersectionObserver((e=>{const{isIntersecting:t}=e[0];_(!t)}),{rootMargin:`-${x}px 0px 0px`,threshold:[1]}),r=C.current;return r&&(n.observe(r),o.observe(r)),()=>{r&&(n.unobserve(r),o.unobserve(r),_(!1))}}),[a,F,x]);const W=Cr((()=>{f({slug:void 0}),g({tab:Jt.Assets})}));se((()=>{if(t.TF&&F&&S.current&&o)return Ss(S.current,{excludedClosestSelector:".token-card",onSwipe:(e,t)=>t===bs.Right&&(W(),!0)})}),[o,W,F]);const H=wd(m);md(F?S:A,H,p);const $=Cr((e=>{e&&y({stakingId:e}),F?w():b({index:Xt.Stake})}));return fe.createElement(fe.Fragment,null,!t.bA&&(F?fe.createElement("div",{ref:S,className:"c4YKj_bz"},fe.createElement("div",{className:"rfAUzAO1"},fe.createElement(tk,{onOpenBackupWallet:h}),fe.createElement(tb,{ref:C,forceCloseAccountSelector:M,onTokenCardClose:W,onYieldClick:$}),M&&fe.createElement(ab,{classNames:U}),fe.createElement(Ly,{isTestnet:i,stakingStatus:D,isLedger:s,isSwapDisabled:c,isOnRampDisabled:d,onEarnClick:$})),fe.createElement(qE,{onStakedTokenClick:$})):fe.createElement("div",{ref:A,className:"nZyFvDbE"},fe.createElement("div",{className:ji("mpB6taR7","custom-scroll")},fe.createElement(tk,{onOpenBackupWallet:h}),fe.createElement(tb,{onTokenCardClose:W,onYieldClick:$}),fe.createElement(By,{stakingStatus:D,isLedger:s,theme:m})),fe.createElement("div",{className:"Sr6Y7sw5"},fe.createElement(qE,{onStakedTokenClick:$})))),fe.createElement(Vv,null),fe.createElement(Gv,{isOpen:l,onClose:v}),fe.createElement(Bv,null),fe.createElement(ev,null),fe.createElement(Zv,null),fe.createElement(jv,null),fe.createElement(ow,null),fe.createElement(rw,null),!t.cp&&!t.bA&&fe.createElement(ew,null))}))),ak=me((function(t){let{isActive:n,isLoading:a,error:o,onClearError:r,onSubmit:i,onBack:s,onClose:l}=t;const c=Qi();return Il({isActive:n,onBack:s}),fe.createElement(fe.Fragment,null,!Oo()&&fe.createElement(Hp,{title:c("Enter Password"),onClose:l}),fe.createElement(Mm,{isActive:n,isLoading:a,error:o,operationType:"passcode",withCloseButton:e.UMQ,submitLabel:c("Send"),cancelLabel:c("Back"),onSubmit:i,onCancel:s,onUpdate:r}))})),ok="LBe89K7I",rk="MTmELA24";var ik=function(e){return e[e.Initial=0]="Initial",e[e.Password=1]="Password",e[e.ConnectHardware=2]="ConnectHardware",e[e.SelectAccountsHardware=3]="SelectAccountsHardware",e}(ik||{});const sk=me(He((e=>{var t,n,a;const o=Ye(e),r=et(e),{byId:i}=null!==(t=e.walletVersions)&&void 0!==t?t:{},s=null==i?void 0:i[e.currentAccountId],l=!(null==s||!s.length),{hardwareWallets:c,hardwareState:d,isLedgerConnected:u,isTonAppConnected:m}=e.hardware;return{isOpen:e.isAddAccountModalOpen,isLoading:null===(n=e.accounts)||void 0===n?void 0:n.isLoading,error:null===(a=e.accounts)||void 0===a?void 0:a.error,accounts:o,firstNonHardwareAccount:r,hardwareState:d,hardwareWallets:c,isLedgerConnected:u,isTonAppConnected:m,isOtherVersionsExist:l}}))((function(n){let{isOpen:a,isLoading:o,error:r,hardwareWallets:i,firstNonHardwareAccount:s,accounts:l,hardwareState:c,isLedgerConnected:d,isTonAppConnected:u,isOtherVersionsExist:m}=n;const{addAccount:p,clearAccountError:f,closeAddAccountModal:h,afterSelectHardwareWallets:g,openSettingsWithState:v,clearAccountLoading:w}=Ue(),y=Qi(),[b,E]=re(ik.Initial),[k,N]=re(!1),C=Cr((()=>{E(ik.Initial),f()})),S=Cr((()=>{E(ik.Initial),N(!1),w()})),A=Cr((()=>{s?(E(ik.Password),N(!1)):p({method:"createAccount",password:""})})),T=Cr((()=>{s?(E(ik.Password),N(!0)):p({method:"importMnemonic",password:""})})),I=Cr((()=>{E(ik.ConnectHardware)})),B=Cr((()=>{g({hardwareSelectedIndices:[i[0].index]}),h()})),_=Cr((e=>{e?B():E(ik.SelectAccountsHardware)})),x=Cr((e=>{p({method:k?"importMnemonic":"createAccount",password:e})})),L=Cr((()=>{h(),v({state:Gt.WalletVersion})}));function O(n,a,s){switch(s){case ik.Initial:return function(n){return fe.createElement(fe.Fragment,null,fe.createElement(Hp,{title:y("Add Wallet"),onClose:h}),fe.createElement(lm,{size:e.igk,play:n,noLoop:!1,nonInteractive:!0,className:"EZgbjNjA",tgsUrl:xu.forge,previewUrl:xu.forgePreview}),fe.createElement("p",{className:"KUwFv7ti"},qo(y("$add_account_description1",{app_name:e.C39}))),fe.createElement("div",{className:"cYtg8tBc"},fe.createElement(Ll,{isPrimary:!0,className:ji(ok,rk),onClick:A},y("Create Wallet")),fe.createElement("span",{className:"nnhxqZYR"},y("or import from")),fe.createElement("div",{className:ji("Gnbk4xJi",!m&&"yX8s5GFD")},fe.createElement(Ll,{className:ji(ok,!t.sC&&rk),onClick:T},y("Secret Words")),t.sC&&fe.createElement(Ll,{className:ji(ok,"BB2l0HAn"),onClick:I},y("Ledger"))),m&&fe.createElement("div",{className:"Ai_X8CqD"},fe.createElement("span",null,y("$wallet_switch_version_1",{action:fe.createElement("div",{role:"button",tabIndex:0,onClick:L,className:"d8gw7TAv"},y("$wallet_switch_version_2"))})))))}(n);case ik.Password:return fe.createElement(ak,{isActive:n,isLoading:o,error:r,onClearError:f,onSubmit:x,onBack:C,onClose:h});case ik.ConnectHardware:return fe.createElement(vh,{isActive:n,state:c,isLedgerConnected:d,isTonAppConnected:u,onConnected:_,onCancel:C,onClose:h});case ik.SelectAccountsHardware:return fe.createElement($g,{accounts:l,hardwareWallets:i,onCancel:C,onClose:h})}}return fe.createElement(Sc,{hasCloseButton:!0,isOpen:a,noBackdropClose:!0,dialogClassName:"ZNc8nV1w",contentClassName:"BGrP96yj",nativeBottomSheetKey:"add-account",forceFullNative:b===ik.Password,onCloseAnimationEnd:S,onClose:h},fe.createElement(Km,{name:Rf(),className:ji(bc.transition,"custom-scroll"),slideClassName:bc.transitionSlide,activeKey:b,nextKey:b===ik.Initial?ik.Password:void 0},O))}))),lk=me((function(e){let{isActive:t,isInModal:n,mnemonic:a,checkIndexes:o,buttonLabel:r,onCancel:i,onSubmit:s,onClose:l}=e;const c=Qi();return Il({isActive:t,onBack:i}),fe.createElement("div",{className:bc.transitionContentWrapper},fe.createElement(Hp,{title:c("Let's Check!"),onClose:l}),fe.createElement("div",{className:ji(bc.transitionContent,"custom-scroll")},fe.createElement("p",{className:ji(zp.info,zp.small)},c("Let’s make sure your secrets words are recorded correctly.")),fe.createElement(nf,{descriptionClassName:ji(zp.info,zp.small),isActive:t,mnemonic:a,checkIndexes:o,isInModal:n,errorClassName:ji(zp.error,zp.small),onSubmit:s}),fe.createElement("div",{className:bc.buttons},fe.createElement(Ll,{onClick:i,className:bc.button},c("Back")),fe.createElement(Ll,{isPrimary:!0,forFormId:"check_mnemonic_form",className:bc.button},r))))})),ck=me((function(e){let{isActive:t,mnemonic:n,onNext:a,onClose:o}=e;const r=Qi(),i=(null==n?void 0:n.length)||0;return Il({isActive:t,onBack:o}),fe.createElement("div",{className:bc.transitionContentWrapper},fe.createElement(Hp,{title:r("%1$d Secret Words",i),onClose:o}),fe.createElement("div",{className:ji(zp.mnemonicContainer,bc.transitionContent,"custom-scroll")},fe.createElement(xf,{mnemonic:n}),a&&fe.createElement("div",{className:bc.buttons},fe.createElement(Ll,{isPrimary:!0,onClick:a},r("Let's Check")))))})),dk=me((function(e){let{isActive:t,privateKeyHex:n,onClose:a}=e;const o=Qi();return Il({isActive:t,onBack:a}),fe.createElement("div",{className:bc.transitionContentWrapper},fe.createElement(Hp,{title:o("Private Key"),onClose:a}),fe.createElement("div",{className:ji(zp.mnemonicContainer,bc.transitionContent,"custom-scroll")},fe.createElement("p",{className:ji(zp.info,zp.small)},fe.createElement(Wp,{from:"⚠️"})," ",qo(o("$mnemonic_warning"))),fe.createElement("p",{className:zp.privateKey},n)))})),uk=me((function(e){let{isActive:t,onSubmit:n,onClose:a}=e;const o=Qi(),[r,i]=re(!1),[s,l]=re(!1),[c,d]=re(!1),u=r&&s&&c,m=Cr((()=>{u&&n()}));return fe.createElement("div",{className:bc.transitionContentWrapper},fe.createElement(Hp,{title:o("Safety Rules"),onClose:a}),fe.createElement("div",{className:ji(bc.transitionContent,"custom-scroll")},fe.createElement(Bf,{customStickerClassName:zp.modalSticker,customButtonWrapperClassName:bc.buttons,isFullSizeButton:!1,isActive:t,isFirstCheckboxSelected:r,isSecondCheckboxSelected:s,isThirdCheckboxSelected:c,textFirst:o("$safety_rules_one"),textSecond:o("$safety_rules_two"),textThird:o("$safety_rules_three"),onFirstCheckboxClick:i,onSecondCheckboxClick:l,onThirdCheckboxClick:d,onSubmit:m})))}));var mk=function(e){return e[e.confirm=0]="confirm",e[e.password=1]="password",e[e.mnemonic=2]="mnemonic",e[e.check=3]="check",e}(mk||{});const pk=me(He((e=>{const{isBackupRequired:t}=Je(e)||{};return{currentAccountId:e.currentAccountId,isBackupRequired:t}}))((function(t){let{isOpen:a,currentAccountId:o,onClose:r,isBackupRequired:i}=t;const{setIsBackupRequired:s,setIsPinAccepted:l,clearIsPinAccepted:c}=Ue(),d=Qi(),[u,m]=re(mk.confirm),[p,f]=re(mk.password),[h,g]=re([]),[v,w]=re(!1),[y,b]=re(),E=ue(void 0),k=u===mk.confirm||u===mk.password;se((()=>{E.current=void 0}),[a]);const N=Cr((()=>{m(mk.password),f(mk.mnemonic)})),C=Cr((async e=>{if(w(!0),E.current=await(0,n.p)("fetchMnemonic",o,e),!E.current)return b("Wrong password, please try again."),w(!1),void Uo();Oo()&&(l(),await Wo(!0),c()),w(!1),f(mk.check),m(mk.mnemonic)})),S=Cr((()=>{b(void 0)})),A=Cr((()=>{var t;g(Ri((null===(t=E.current)||void 0===t?void 0:t.length)||e.xA_)),m(mk.check),f(void 0)})),T=Cr((()=>{m(mk.mnemonic),f(mk.check)})),I=Cr((()=>{w(!1),b(void 0),m(mk.confirm),f(mk.password)})),B=Cr((()=>{s({isMnemonicChecked:!0}),r()}));function _(t,n,a){const o=E.current;switch(a){case mk.confirm:return fe.createElement(uk,{isActive:t,onSubmit:N,onClose:r});case mk.password:return fe.createElement(fe.Fragment,null,!Oo()&&fe.createElement(Hp,{title:d("Enter Password"),onClose:r}),fe.createElement(Mm,{isActive:t,isLoading:v,error:y,withCloseButton:e.UMQ,submitLabel:d("$back_up_auth"),cancelLabel:d("Cancel"),onSubmit:C,onCancel:r,onUpdate:S}));case mk.mnemonic:return o&&zo(o)?fe.createElement(dk,{privateKeyHex:o[0],onClose:r}):fe.createElement(ck,{isActive:t,mnemonic:o,onNext:i?A:void 0,onClose:r});case mk.check:return fe.createElement(lk,{isActive:t,isInModal:!0,mnemonic:E.current,checkIndexes:h,buttonLabel:d("Done"),onSubmit:B,onCancel:T,onClose:r})}}return fe.createElement(Sc,{isOpen:a,hasCloseButton:!0,dialogClassName:"S7OzI0EB",nativeBottomSheetKey:"backup",forceFullNative:u===mk.password,noResetFullNativeOnBlur:k,onClose:r,onCloseAnimationEnd:I},fe.createElement(Km,{name:Rf(),className:ji(bc.transition,"custom-scroll"),slideClassName:bc.transitionSlide,activeKey:u,nextKey:p},_))}))),fk=me(He((e=>{const{addressByChain:t}=Xe(e,e.currentAccountId)||{},{countryCode:n}=e.restrictions,{chainForOnRampWidgetModal:a}=e;return{chain:a,address:a&&(null==t?void 0:t[a]),countryCode:n,theme:e.settings.theme}}))((function(e){let{chain:t,address:a,countryCode:o,theme:r}=e;const{closeOnRampWidgetModal:i,showError:s}=Ue(),l=Boolean(t)&&Boolean(a),c=Qi(),d=ue(),[u,m]=re(!0),[p,f]=re(!0),[h,g]=re(""),v=wd(r);se((()=>(l||(m(!0),f(!0),g("")),()=>window.clearTimeout(d.current))),[l]),se((()=>{l&&("RU"!==o?(async()=>{const e=await(0,n.p)("getMoonpayOnrampUrl",t,a,v);e&&"error"in e?s({error:e.error}):g((null==e?void 0:e.url)||"")})():g(`https://dreamwalkers.io/ru/mytonwallet/?wallet=${a}&give=CARDRUB&take=TON&type=buy`))}),[a,v,t,o,l]);const w=()=>{f(!1),d.current=window.setTimeout((()=>{m(!1)}),200)};return fe.createElement(Sc,{hasCloseButton:!0,isOpen:l,title:c("Buy with Card"),dialogClassName:"LcOFGyVq",forceFullNative:!0,nativeBottomSheetKey:"onramp-widget",onClose:i},fe.createElement("div",{className:"ccR1JZvK"},fe.createElement("div",{className:ji("RfEkSEyB",!p&&"X5xveqOQ",!u&&"m3F53tk6")},fe.createElement(oh,null)),function(){if(h)return fe.createElement("iframe",{title:"On Ramp Widget",onLoad:w,className:ji("l_Jb77z9",!p&&"ZRxV9CWH"),width:"100%",height:"100%",frameBorder:"none",allow:"autoplay; camera; microphone; payment",src:h},c("Cannot load widget"))}()))}))),hk="Fq9FxTrz",gk=t.pz?160:360,vk=t.pz?650:500,wk=t.pz?250:500,yk=me((function(e){let{isOpen:n,onClose:a}=e;const{handleQrCode:o}=Ue(),[r,i]=re(!1),[s,c]=re(!1),[d,u]=re(!1),m=Qi(),p=ue(null);Yi((()=>{id.isTorchAvailable().then((e=>{i(e.available)})),id.isTorchEnabled().then((e=>{c(e.enabled)}))}));const f=Cr((async()=>{fc(document.documentElement,hk),await id.stopScan()})),h=Cr((()=>{u(!1),a()})),g=Cr((async()=>{const e={formats:[nd.QrCode]},n=function(e){if(!e)return;const n=e.getBoundingClientRect(),a={left:n.left*t.Lv,right:n.right*t.Lv,top:n.top*t.Lv,bottom:n.bottom*t.Lv,width:n.width*t.Lv,height:n.height*t.Lv};return[[a.left,a.top],[a.left+a.width,a.top],[a.left+a.width,a.top+a.height],[a.left,a.top+a.height]]}(p.current);await id.removeAllListeners();const a=await id.addListener("barcodeScanned",(async e=>{let{cornerPoints:r}=e.barcode;r=r?function(e){e.sort(((e,t)=>e[1]-t[1]));const t=e.slice(0,2),n=e.slice(2);return t.sort(((e,t)=>t[0]-e[0])),n.sort(((e,t)=>e[0]-t[0])),[...t,...n]}(r):void 0,n&&r&&!function(e,t){return e[0][0]>t[0][0]||e[0][1]>t[0][1]||e[1][0]<t[1][0]||e[1][1]>t[1][1]||e[2][0]<t[2][0]||e[2][1]<t[2][1]||e[3][0]>t[3][0]||e[3][1]<t[3][1]}(n,r)&&(await a.remove(),await Wo(),o({data:e.barcode.rawValue}),h(),await(0,l.v7)(wk),t.pz&&fc(document.documentElement,hk))}));u(!0),await id.startScan(e)}));Qs((e=>{let a,o,[r]=e;if(!t.KI)return n?(a=window.setTimeout(g,gk),o=window.setTimeout((()=>{pc(document.documentElement,hk)}),vk)):r&&h(),()=>{a&&window.clearTimeout(a),o&&window.clearTimeout(o)}}),[n,h,g]);const v=Cr((async()=>{s?await id.disableTorch():await id.enableTorch(),c(!s)})),w=ji("GRYD1l1J",s&&"om10jZuu");return fe.createElement(Sc,{isOpen:n,onClose:h,nativeBottomSheetKey:"qr-scanner",forceFullNative:!0,onCloseAnimationEnd:f},fe.createElement("div",{className:ji("D8GViz8d",d&&"MmIKemUX")},fe.createElement("div",{className:"CxvvAWsI","aria-label":m("Close"),role:"button",tabIndex:0,onClick:h},fe.createElement("i",{className:ji(bc.closeIcon,"icon-close"),"aria-hidden":!0})),r&&fe.createElement("div",{className:w,onClick:v,"aria-label":m("Toggle Flashlight"),role:"button",tabIndex:0},fe.createElement("i",{className:"icon-flashlight","aria-hidden":!0})),fe.createElement("div",{className:"D1xdmb1p"},m("Scan QR Code")),fe.createElement("div",{className:"cQ9fX2T7",ref:p},fe.createElement("div",{className:"Y5_NorwC"}))))}));var bk=function(e){return e[e.confirm=0]="confirm",e[e.password=1]="password",e[e.complete=2]="complete",e}(bk||{});const Ek=me(He((e=>{const{dataHex:t,error:n,isSigned:a}=e.currentSignature||{};return{dataHex:t,error:n,isSigned:a}}))((function(e){let{dataHex:t,error:n,isSigned:a}=e;const{submitSignature:o,clearSignatureError:r,cancelSignature:i}=Ue(),s=Qi(),[l,c,d]=yd(!1),[u,m]=re(bk.confirm),[p,f]=re(bk.password);le((()=>{t&&(m(bk.confirm),f(bk.password),c())}),[t,c]),le((()=>{a&&(m(bk.complete),f(void 0))}),[a]),se((()=>u===bk.complete?Is({onEnter:d}):void 0),[d,u]);const h=Cr((()=>{m(bk.password),f(bk.complete)})),g=Cr((e=>{o({password:e})}));function v(e,a,o){switch(o){case bk.confirm:return fe.createElement(fe.Fragment,null,fe.createElement(Hp,{title:s("Confirmation"),onClose:d}),fe.createElement("div",{className:bc.transitionContent},fe.createElement("div",{className:cy},s("Signing Data")),fe.createElement("div",{className:my},t),fe.createElement("div",{className:"IHEwWBxd"},qo(s("$signature_warning"))),fe.createElement("div",{className:bc.buttons},fe.createElement(Ll,{className:bc.button,onClick:d},s("Cancel")),fe.createElement(Ll,{isPrimary:!0,className:bc.button,onClick:h},s("Sign")))));case bk.password:return function(e){return fe.createElement(fe.Fragment,null,fe.createElement(Hp,{title:s("Enter Password"),onClose:d}),fe.createElement(Mm,{isActive:e,error:n,submitLabel:s("Sign"),cancelLabel:s("Cancel"),onSubmit:g,onCancel:d,onUpdate:r}))}(e);case bk.complete:return function(e){return fe.createElement(fe.Fragment,null,fe.createElement(Hp,{title:s("Done!"),onClose:d}),fe.createElement("div",{className:ji(bc.transitionContent,bc.transitionContent_simple)},fe.createElement(lm,{play:e,noLoop:!1,nonInteractive:!0,className:"wlPR2AOa",tgsUrl:xu.thumbUp,previewUrl:xu.thumbUpPreview}),fe.createElement("div",{className:"bgrj6VK3"},s("Signing was confirmed!")),fe.createElement("div",{className:bc.buttons},fe.createElement(Ll,{isPrimary:!0,onClick:d},s("Close")))))}(e)}}return fe.createElement(Sc,{hasCloseButton:!0,isOpen:l,dialogClassName:"nrINNy28",onClose:d,onCloseAnimationEnd:i},fe.createElement(Km,{name:Rf(),className:ji(bc.transition,"custom-scroll"),slideClassName:bc.transitionSlide,activeKey:u,nextKey:p},v))}))),kk={binance_smart_chain:"Binance Smart Chain",internet_computer:"Internet Computer",ethereum_classic:"Ethereum Classic",bitcoin_cash:"Bitcoin Cash",binance_dex:"Binance Dex",ton:"TON",bitcoin:"Bitcoin",ethereum:"Ethereum",solana:"Solana",tron:"TRON",stellar:"Stellar",doge:"DOGE",eos:"EOS",avalanche:"Avalanche",cardano:"Cardano",monero:"Monero",dash:"Dash",ripple:"Ripple",cosmos:"Cosmos",litecoin:"Litecoin",zcash:"Zcash",polkadot:"Polkadot",iota:"IOTA"};function Nk(e){var t;return e?null!==(t=kk[e])&&void 0!==t?t:e:""}function Ck(e,t){const n=sl(e,!0),a=ue(),o=he(),r=null!=e,i=null!=n;return r&&a.current&&(clearTimeout(a.current),a.current=void 0),ll((()=>{t&&!r&&i&&!a.current&&(a.current=window.setTimeout((()=>{a.current=void 0,o()}),t))}),[t,o,r,i]),a.current&&t&&!r?n:e}const Sk=me((function(e){let{timestamp:t,deadline:n,onCompleted:a}=e;Qi();const o=Math.floor((t+n-Date.now())/Mn.Z2),[r,i]=re(Math.max(o,0)),s=r<=300;return se((()=>{const e=setTimeout((()=>{r<=0||i(Math.floor((t+n-Date.now())/Mn.Z2))}),Mn.Z2);return r<=0&&(null==a||a()),()=>clearTimeout(e)}),[r,a,t,n]),fe.createElement("span",{className:ji("AsvSkk14",s&&"CZBR69BT")},function(e,t){const n=e=>e.toString().padStart(2,"0"),a=Math.floor(t/3600),o=Math.floor(t%3600/60),r=t%60;let i=a>0?`${a}:`:"";return i+=`${a>0?n(o):o}:`,i+=n(r),i}(0,r))})),Ak={infoBlock:"DqUj918m",infoRow:"suN_Ci9f",noIcon:"SUjgosvS",noCurrency:"RjCLBwiu",infoRowIcon:"kaMx21E_",infoRowToken:"iNWWwjqK",label:"uLUQH_M3",infoRowChain:"NcAsWeQk",infoRowAmount:"TzvDf_Jl",infoRowAmountGreen:"I6xrY9jc",infoRowAmountError:"iiFYcyID",infoRowCurrency:"zab5hSsH",infoRowCurrencyValue:"Q3pxLMbG",infoSeparator:"ZO00ZPul",infoSeparatorIcon:"fPy_1zLl",infoSeparatorIconError:"GP0AJq0W"},Tk=me((function(t){let{tokenIn:n,amountIn:a,tokenOut:o,amountOut:r,isError:i=!1}=t;function s(t){var s;let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0",c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const d=c?l:-l,u=Boolean(t&&e.OZB[t.slug]);return fe.createElement("div",{className:ji(Ak.infoRow,!t&&Ak.noIcon,c&&Ak.noCurrency)},Boolean(t)&&fe.createElement(xv,{token:t,withChainIcon:!0,className:Ak.infoRowIcon}),fe.createElement("span",{className:Ak.infoRowToken},null==t?void 0:t.name,u&&fe.createElement("span",{className:ji(Ak.label,Ak.chainLabel)},e.OZB[t.slug])),fe.createElement("span",{className:ji(Ak.infoRowAmount,c&&Ak.infoRowAmountGreen,i&&Ak.infoRowAmountError)},Zo(d,null!==(s=null==t?void 0:t.symbol)&&void 0!==s?s:"")),fe.createElement("span",{className:Ak.infoRowChain},Nk(null==t?void 0:t.chain)),!c&&function(e,t,n,a){const o=Mw(e,t,n,a);return o?fe.createElement("span",{className:Ak.infoRowCurrency},o.firstCurrencySymbol," ≈",fe.createElement("span",{className:Ak.infoRowCurrencyValue},o.price," ",o.secondCurrencySymbol)):void 0}(a,r,n,o))}return fe.createElement("div",{className:Ak.infoBlock},s(n,a),fe.createElement("div",{className:Ak.infoSeparator},fe.createElement("i",{className:ji(Ak.infoSeparatorIcon,i&&Ak.infoSeparatorIconError,i?"icon-close":"icon-arrow-down"),"aria-hidden":!0})),s(o,r,!0))})),Ik="rQ0tvCAk",Bk="VtMfi0Xs",_k="eww3tEAs",xk="ND5LbWGY",Lk="yadTct7r",Ok="J16GqrT7",Pk="fiJguUso",Dk="gaMgEGEN",Fk="A8497ra1",Rk="lXDi3LO1",Mk="IgVxAVQB",Uk="EOk33hg6",Wk="L9e2rlZo",Hk=new Set(["new","waiting"]),$k=new Set(["new","waiting","confirming","exchanging","sending"]),Vk=new Set(["failed","expired","refunded","overdue"]),zk=new Set(["failed","expired"]),jk=me(He((e=>{var t,n;const a=Je(e),o=Ge(e),{isSwapDisabled:r}=e.restrictions,i=null==a?void 0:a.currentActivityId,s=i?null==a||null===(t=a.activities)||void 0===t?void 0:t.byId[i]:void 0;return{activity:"swap"===(null==s?void 0:s.kind)?s:void 0,tokensBySlug:null===(n=e.swapTokenInfo)||void 0===n?void 0:n.bySlug,theme:e.settings.theme,addressByChain:null==o?void 0:o.addressByChain,isSwapDisabled:r||e.settings.isTestnet}}))((function(t){let{activity:n,tokensBySlug:a,theme:o,addressByChain:r,isSwapDisabled:i}=t;const{startSwap:s,closeActivityInfo:l}=Ue(),c=Qi(),{isPortrait:d}=Qa(),u=Boolean(n),m=Re().settings.animationLevel===e.dnp?0:(d?kc:Ec)+e.xB5,p=Ck(n,m),f=wd(o),{txIds:h,timestamp:g,networkFee:v="0",ourFee:w="0"}=null!=p?p:{},{payinAddress:y,payoutAddress:b,payinExtraId:E}=(null==p?void 0:p.cex)||{};let k="0",N="0",C=!0,S=!1,A=!1,T=!1,I=!1,B=!1,_=!1,x=!1,L="",O="",P="",D=!0,F=!1;const R=ce((()=>{if(null!=p&&p.from&&a)return Ot(a,p.from)}),[null==p?void 0:p.from,a]),M=ce((()=>{if(null!=p&&p.to&&a)return Ot(a,p.to)}),[null==p?void 0:p.to,a]),U=Dt({from:R,to:M,toAddress:b,addressByChain:r});if(p){const{status:t,from:n,cex:a}=p;if(k=p.fromAmount,N=p.toAmount,D=n===e.Tu9.slug,a?(F=!!g&&g+e.JWy-Date.now()<0,x=Hk.has(a.status)&&F,A="finished"!==a.status,C=!x&&$k.has(a.status),_=C,T=x||Vk.has(a.status),I="hold"===a.status,B="waiting"===a.status&&!x&&!U&&!D,L=a.transactionId):(C="pending"===t,S=zk.has(t)),C)O=c("Swapping");else if(I)O=c("Swap On Hold");else if(T){var W;const{status:e}=null!==(W=p.cex)&&void 0!==W?W:{};"expired"===e||"overdue"===e?(O=c("Swap Expired"),P=c("You have not sent the coins to the specified address.")):"refunded"===e?(O=c("Swap Refunded"),P=c("Exchange failed and coins were refunded to your wallet.")):O=c("Swap Failed")}else O=c(S?"Swap Failed":"Swapped")}const H=ln("ton",(null==h?void 0:h[0])||""),$=Pa("ton",H),V=!E&&"ton"===(null==M?void 0:M.chain)&&!U,{qrCodeRef:z,isInitialized:j}=Cv({address:y,isActive:Boolean(y),hiddenClassName:Wk,hideLogo:!0}),q=Cr((()=>{l({id:p.id})})),K=Cr((()=>{l({id:n.id}),s({tokenInSlug:R.slug,tokenOutSlug:M.slug,amountIn:k})}));function Y(){if(E)return fe.createElement("div",{className:Dk},fe.createElement("span",{className:Rk},c("Memo")),fe.createElement(Hh,{address:E,copyNotification:c("Memo was copied!"),noSavedAddress:!0,noExplorer:!0,className:Fk}))}function Q(){if(!Number(v)||!R)return;const e="pending"===(null==n?void 0:n.status)?"approximate":"exact",t=D?{native:(0,wt.z)(v).add(w).toString()}:{native:v,token:w};return fe.createElement("div",{className:Dk},fe.createElement("span",{className:Rk},c("Fee")),fe.createElement("div",{className:"hufzN6qP"},fe.createElement("span",null,fe.createElement(Kh,{terms:t,token:R,precision:e}))))}return fe.createElement(Sc,{hasCloseButton:!0,title:fe.createElement("div",{className:"uAQ2u0Hd"},fe.createElement("div",{className:Ok},O,C&&fe.createElement(lm,{play:u,size:e.wg4,nonInteractive:!0,noLoop:!1,tgsUrl:xu[f].iconClock,previewUrl:xu[f].preview.iconClock})),!!g&&fe.createElement("div",{className:Pk},(0,Mn.TK)(c.code,g),", ",(0,Mn.fU)(g))),titleClassName:Lk,isOpen:u,nativeBottomSheetKey:"swap-activity",onClose:q},fe.createElement("div",{className:bc.transitionContent},fe.createElement(Tk,{tokenIn:R,amountIn:k,tokenOut:M,amountOut:N,isError:S||T}),fe.createElement("div",{className:"NGumnj62"},function(){if(B){var t;if(U)return;const n=Pt(null==R?void 0:R.chain)?R.chain:void 0;return fe.createElement("div",{className:"IZsujzDG"},Q(),fe.createElement("span",{className:Mk},c("$swap_changelly_to_ton_description1",{value:fe.createElement("span",{className:Uk},Zo(Number(k),null!==(t=null==R?void 0:R.symbol)&&void 0!==t?t:"",!0)),blockchain:fe.createElement("span",{className:Uk},Nk(null==R?void 0:R.chain)),time:fe.createElement(Sk,{timestamp:null!=g?g:0,deadline:e.JWy})})),fe.createElement(Hh,{chain:n,address:y,copyNotification:c("Address was copied!"),noSavedAddress:!0,noExplorer:!0,className:Fk}),Y(),V&&fe.createElement("div",{className:ji("DfLLakci",!j&&Wk),ref:z}))}return fe.createElement(fe.Fragment,null,Q(),!U&&function(){if(!y)return;const e=D?M:R,t=Pt(null==e?void 0:e.chain)?e.chain:void 0;return fe.createElement("div",{className:"UGOei_Ih"},fe.createElement("span",{className:Rk},D?c("Your %blockchain% Address",{blockchain:null==M?void 0:M.name}):c("Address for %blockchain% transfer",{blockchain:null==R?void 0:R.name})),fe.createElement(Hh,{chain:t,address:D?b:y,copyNotification:c("Address was copied!"),noSavedAddress:!0,noExplorer:!0}))}(),!U&&Y())}(),A&&(I?fe.createElement("div",{className:Dk},fe.createElement("span",{className:Mk},c("$swap_changelly_kyc_security",{email:fe.createElement("span",{className:Uk},e.gpw)})),L&&fe.createElement(Hh,{text:L,copyNotification:c("Transaction ID was copied!"),noSavedAddress:!0,noExplorer:!0,className:Fk})):fe.createElement("div",{className:ji(Dk,"mVgCbbey")},P&&fe.createElement("span",{className:"uSKXuCCa"},P),_&&fe.createElement("span",{className:ji(Mk)},c("Please note that it may take up to a few hours for tokens to appear in your wallet.")),F&&fe.createElement(fe.Fragment,null,fe.createElement("span",{className:Mk},c("$swap_changelly_support",{livechat:fe.createElement("a",{href:e.o$d,target:"_blank",rel:"noreferrer",className:Uk},c("Changelly Live Chat")),email:fe.createElement("span",{className:Uk},e.HWN)})),L&&fe.createElement(Hh,{text:L,copyNotification:c("Transaction ID was copied!"),noSavedAddress:!0,noExplorer:!0,className:Fk})))),$&&fe.createElement("div",{className:Dk},fe.createElement("span",{className:Rk},c("Transaction ID")),fe.createElement(Hh,{noSavedAddress:!0,chain:"ton",address:H,addressUrl:$,isTransaction:!0,copyNotification:c("Transaction ID was copied!"),className:Fk}))),!i&&fe.createElement("div",{className:Ik},function(){let e=!0,t="Swap Again";if(B)return fe.createElement(Ll,{onClick:q,className:_k},c("Close"));if(I)e=!1;else if(T){var n;const{status:e}=null!==(n=null==p?void 0:p.cex)&&void 0!==n?n:{};"expired"!==e&&"refunded"!==e&&"overdue"!==e||(t="Try Again")}return e?fe.createElement(Ll,{onClick:K,className:_k},c(t)):void 0}())))}))),qk="cuIyqZ4t",Kk="zrLwT6fF",Yk=me((function(t){let{isIncoming:n,isScam:a,amount:o,decimals:r,tokenSymbol:i,status:s}=t;const l=(0,vt.nI)(o,r),[c,d]=Zo(l,"",!1,r).split(".");function u(){return fe.createElement("div",{className:ji("Qy2zkhK5",s&&"MeZ5UFq3",n&&!a&&qk,a&&Kk,"rounded-font")},c.trim().replace(" ",""),d&&fe.createElement("span",{className:"F1teTrIV"},".",d.trim()),fe.createElement("span",{className:"AgH98knQ"},i||e.Tu9.symbol))}return s?fe.createElement("div",{className:"U9_RaiXr"},u(),fe.createElement("div",{className:ji("COF5DpZg",n&&!a&&qk,a&&Kk)},s)):u()})),Qk=me((function(e){let{amount:t,label:n,currency:a="",symbol:o,feeText:r,className:i,labelClassName:s}=e;const l=Qi();return fe.createElement(fe.Fragment,null,fe.createElement("div",{className:ji("vEby849g",s)},n),fe.createElement("div",{className:ji("ghrNkOZk",i)},Zo(t,a,!0),o&&fe.createElement("span",{className:"LPchTYAT"},o),Boolean(r)&&fe.createElement(fe.Fragment,null,fe.createElement("div",{className:"XPUDvAqg"},l("Fee")),fe.createElement("span",{className:"SkacqSTU"},r))))}));var Gk=function(e){return e[e.initial=0]="initial",e[e.password=1]="password",e}(Gk||{});const Xk=me(He((e=>{var t,n;const a=e.currentAccountId,o=Je(e),r=null==o?void 0:o.currentActivityId,i=r?null==o||null===(t=o.activities)||void 0===t?void 0:t.byId[r]:void 0,s=null==o?void 0:o.savedAddresses,l=e.stakingInfo,c=In(e,a);return{transaction:"transaction"===(null==i?void 0:i.kind)?i:void 0,tokensBySlug:null===(n=e.tokenInfo)||void 0===n?void 0:n.bySlug,savedAddresses:s,isTestnet:e.settings.isTestnet,isLongUnstakeRequested:null==o?void 0:o.isLongUnstakeRequested,isMediaViewerOpen:Boolean(e.mediaViewer.mediaId),theme:e.settings.theme,stakingInfo:l,stakingStates:c}}))((function(t){var a,o,r,i;let{transaction:s,tokensBySlug:l,savedAddresses:c,isTestnet:d,stakingInfo:u,stakingStates:m,isLongUnstakeRequested:p,isMediaViewerOpen:f,theme:h}=t;const{startTransfer:g,startStaking:v,startUnstaking:w,closeActivityInfo:y,setIsPinAccepted:b,clearIsPinAccepted:E,setLandscapeActionsActiveTabIndex:k}=Ue(),N=Qi(),{isPortrait:C}=Qa(),[S,A]=re(Gk.initial),[T,I]=re(Gk.password),B=Re().settings.animationLevel===e.dnp?0:(C?kc:Ec)+e.xB5,_=Ck(s,B),[x,L]=re(Date.now()+e.Xhd),O=wd(h),{fromAddress:P,toAddress:D,amount:F,comment:R,encryptedComment:M,fee:U,id:W,isIncoming:H,slug:$,timestamp:V,nft:z}=_||{},j=Boolean(W&&_t(W)),q="stake"===(null==_?void 0:_.type)||"unstake"===(null==_?void 0:_.type),K="unstake"===(null==_?void 0:_.type),Y="nftTransferred"===(null==_?void 0:_.type)||"nftReceived"===(null==_?void 0:_.type)||Boolean(null==_?void 0:_.nft),Q=$?null==l?void 0:l[$]:void 0,G=null==Q?void 0:Q.chain,X=Q?sn(Q.chain):void 0,J=H?P:D,Z=ce((()=>{var e;return J&&G&&(null==c||null===(e=c.find((e=>e.address===J&&e.chain===G)))||void 0===e?void 0:e.name)}),[J,G,c])||(null==s||null===(a=s.metadata)||void 0===a?void 0:a.name),ee=H&&jr(_),te=ee||Boolean(null==s||null===(o=s.metadata)||void 0===o?void 0:o.isScam),ne=Boolean(s)&&!f,ae=G&&W?ln(G,W):void 0,[oe,ie]=re(),[le,de]=re(),ue=G?Pa(G,ae,d):void 0,[me,pe]=re(!1),{shouldRender:he,transitionClassNames:ge}=Gi(Boolean((!j||"tron"===G)&&ue)),ve=ce((()=>null==m?void 0:m.find((t=>t.tokenSlug===e.Tu9.slug&&t.balance>0n))),[m]),we=ve&&fs(ve),ye="nominators"===(null==ve?void 0:ve.type)?ve.start:null==u||null===(r=u.round)||void 0===r?void 0:r.start,be="nominators"===(null==ve?void 0:ve.type)?ve.end:null==u||null===(i=u.round)||void 0===i?void 0:i.end;se((()=>{if("unstakeRequest"!==(null==s?void 0:s.type)||!ye)return;const e=Boolean("unstakeRequested"===we||p)&&s.timestamp>=ye;pe(e)}),[we,ye,s,p]);const{shouldRender:Ee,transitionClassNames:ke}=Gi(me);ll((()=>{_&&ie(void 0)}),[_]),ll((()=>{be&&L(be)}),[be]);const Ne=Cr((()=>{de(void 0)})),Ce=Cr((()=>{A(Gk.password),I(void 0)})),Se=Cr((()=>{A(Gk.initial),I(Gk.password),Ne()})),Ae=Cr((()=>{M&&Ce()})),Te=Cr((()=>{y({id:W}),g({isPortrait:C,tokenSlug:$||e.Tu9.slug,toAddress:J,amount:(0,yn.wg)(F),comment:H?void 0:R})})),Ie=Cr((()=>{y({id:W}),C?v():k({index:Xt.Stake})})),Be=Cr((()=>{y({id:W}),C||k({index:Xt.Stake}),w()})),_e=Cr((async e=>{const t=await(0,n.p)("decryptComment",Re().currentAccountId,M,P,e);t?(Oo()&&(b(),await Wo(!0)),Se(),ie(t)):de("Wrong password, please try again.")})),xe=Cr((()=>{y({id:W}),Oo()&&E()}));function Le(t,n,a){switch(a){case Gk.initial:return fe.createElement(fe.Fragment,null,fe.createElement("div",{className:ji(bc.header,bc.header_wideContent)},fe.createElement("div",{className:ji(bc.title,Lk)},fe.createElement("div",{className:Ok},N(function(e){return K?e?"Unstaking":"Unstaked":H?"Received":e?"Sending":"Sent"}(j)),j&&fe.createElement(lm,{play:ne,size:e.wg4,nonInteractive:!0,noLoop:!1,tgsUrl:xu[O].iconClock,previewUrl:xu[O].preview.iconClock}),te&&H&&fe.createElement("img",{src:Uh,alt:N("Scam"),className:"BASL0DzO"})),!!V&&fe.createElement("div",{className:Pk},(0,Mn.TK)(N.code,V),", ",(0,Mn.fU)(V))),fe.createElement(Ll,{isRound:!0,className:bc.closeButton,ariaLabel:N("Close"),onClick:xe},fe.createElement("i",{className:ji(bc.closeIcon,"icon-close"),"aria-hidden":!0}))),fe.createElement("div",{className:bc.transitionContent},Y?fe.createElement(Bh,{nft:z,withTonExplorer:!0}):fe.createElement(Yk,{isIncoming:H,isScam:te,amount:null!=F?F:0n,decimals:null==Q?void 0:Q.decimals,tokenSymbol:null==Q?void 0:Q.symbol,status:K&&!Ee?N("Successfully"):void 0}),ee&&fe.createElement("div",{className:"OAz9rga6"},N("This address mimics another address that you previously interacted with.")),!K&&fe.createElement(fe.Fragment,null,fe.createElement("div",{className:cy},N(H?"Sender":"Recipient")),fe.createElement(Hh,{chain:G,addressName:Z,address:J,isScam:te&&!H,copyNotification:N("Address was copied!"),className:Bk,textClassName:te&&H?"km7wfY2m":void 0})),function(){if(!H&&U&&X)return fe.createElement(Qk,{label:N("Fee"),amount:(0,vt.nI)(U,X.decimals),currency:X.symbol})}(),function(){if(!R&&!M||null!=s&&s.type&&!Y)return;const e=M?N("Message is encrypted."):te?N("Scam comment is hidden."):void 0;return fe.createElement(fe.Fragment,null,fe.createElement("div",{className:cy},N("Comment")),fe.createElement(Hh,{text:M?oe:R,spoiler:e,spoilerRevealText:N(M?"Decrypt":"Display"),spoilerCallback:Ae,copyNotification:N("Comment was copied!"),className:Bk,textClassName:"jxc6euua"}))}(),he&&fe.createElement("div",{className:ji(Dk,ge)},fe.createElement("span",{className:Rk},N("Transaction ID")),fe.createElement(Hh,{noSavedAddress:!0,chain:G,address:ae,addressUrl:ue,isTransaction:!0,copyNotification:N("Transaction ID was copied!"),className:Fk})),Ee&&fe.createElement("div",{className:ji("hDTeTwua",ke)},fe.createElement(lm,{play:ne,size:e.wg4,className:"tZ2WbGH0",nonInteractive:!0,noLoop:!1,tgsUrl:xu[O].iconClockGray,previewUrl:xu[O].preview.iconClockGray}),fe.createElement("div",null,N("$unstaking_when_receive",{time:fe.createElement("strong",null,(0,Mn.YG)(N.code,x))}))),fe.createElement("div",{className:Ik},!q&&!H&&!Y&&fe.createElement(Ll,{onClick:Te,className:_k},N("Repeat")),!e.TI6&&q&&fe.createElement(Ll,{onClick:Ie,className:ji(_k,K&&"active"===we&&xk)},N("Stake Again")),K&&"active"===we&&fe.createElement(Ll,{onClick:Be,className:ji(_k,xk)},N("Unstake More")))));case Gk.password:if(!M)return;return fe.createElement(fe.Fragment,null,!Oo()&&fe.createElement(Hp,{title:N("Enter Password"),onClose:xe}),fe.createElement(Mm,{isActive:t,error:le,withCloseButton:e.UMQ,containerClassName:e.UMQ?"KL1uqo4o":"CZ9Kse33",submitLabel:N("Send"),onSubmit:_e,onCancel:Se,onUpdate:Ne}))}}return fe.createElement(Sc,{isOpen:ne,hasCloseButton:!0,nativeBottomSheetKey:"transaction-info",forceFullNative:S===Gk.password,dialogClassName:ji("E6N6MD3z",K&&"gnNvHGfL"),onClose:xe,onCloseAnimationEnd:Se},fe.createElement(Km,{name:Rf(),className:ji(bc.transition,"custom-scroll"),slideClassName:bc.transitionSlide,activeKey:S,nextKey:T},Le))}))),Jk=me(He((e=>{var t;const{isUnhideNftModalOpen:n,selectedNftToUnhide:a}=null!==(t=Je(e))&&void 0!==t?t:{};return{isOpen:n,nftAddress:null==a?void 0:a.address,nftName:null==a?void 0:a.name}}))((function(e){let{isOpen:t,nftAddress:n,nftName:a}=e;const{addNftsToWhitelist:o,closeUnhideNftModal:r}=Ue(),i=Qi(),s=Cr((()=>{o({addresses:[n]}),r()}));return fe.createElement(Sc,{isOpen:t,isCompact:!0,onClose:r,title:i("Unhide NFT")},fe.createElement("p",{className:bc.text},i("$unhide_nft_warning",{name:fe.createElement("b",null,a)})),fe.createElement("div",{className:bc.buttons},fe.createElement(Ll,{onClick:r,className:bc.button},i("Cancel")),fe.createElement(Ll,{isDestructive:!0,onClick:s,className:bc.button},i("Unhide"))))}))),Zk=e=>{let{icon:n,message:a,containerId:o,onDismiss:r}=e;const[i,s]=re(!0),l=ue(null),{transitionClassNames:c}=Gi(i),d=Cr((()=>{s(!1),setTimeout(r,250)}));se((()=>i?Xf(d):void 0),[i,d]),se((()=>(l.current=window.setTimeout(d,5e3),()=>{l.current&&(clearTimeout(l.current),l.current=void 0)})),[d]);const u=Cr((()=>{l.current&&(clearTimeout(l.current),l.current=void 0)})),m=Cr((()=>{l.current=window.setTimeout(d,5e3)}));return fe.createElement(yc,{className:ji("h7PLFJQu",t.cp&&"I0vM5N9Z"),containerId:o},fe.createElement("div",{className:ji("cBuXIi04",c),onClick:d,onMouseEnter:u,onMouseLeave:m},fe.createElement("div",{className:"FOpmIM3s"},n&&fe.createElement("i",{className:ji("yRP0zVnL",n),"aria-hidden":!0}),a)))},eN=me(He((e=>(0,s.Up)(e,["notifications"])))((function(e){let{notifications:t}=e;const{dismissNotification:n}=Ue();if(t.length)return fe.createElement("div",{id:"Notifications"},t.map((e=>{let{message:t,icon:a}=e;return fe.createElement(Zk,{key:t,icon:a,message:t,onDismiss:n})})))}))),tN="Gbi50r5P",nN="iX71Jk4y",aN="piyY_yBE",oN="sCCso48U",rN="BA7uSk12",iN="XeanWEkZ",sN="mO73YmbZ",lN="FjT6eSrl",cN="GUrvismB",dN="oGeErVyy",uN=200,mN=14*t.$;function pN(e,t,n,a){let o,r;var i;return e===Zt.Nft&&(r=document.querySelector(n?`.transaction-nft[data-tx-id="${n}"][data-nft-address="${t}"]`:a?`.hidden-nfts-${a} [data-nft-address="${t}"]`:`.nfts-container > .Transition_slide-active [data-nft-address="${t}"]`),o=null===(i=r)||void 0===i?void 0:i.querySelector("img, canvas")),{container:r,image:o}}function fN(e){var t;const n=document.createElement("div");n.classList.add(lN);const a=new Image;return a.classList.add("oaQkWH7i"),a.draggable=!1,a.oncontextmenu=qi,a.src=e instanceof HTMLImageElement?e.src:(null===(t=e.parentElement)||void 0===t||null===(t=t.parentElement)||void 0===t?void 0:t.dataset.previewUrl)||"",n.appendChild(a),n}function hN(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t===Zt.Nft&&e.classList.add(n?cN:dN)}const gN=e=>{let{isOpen:t,isHidden:n,isCustom:a,id:o,className:r,onClick:i,children:s,noCloseTransition:l,shouldAnimateFirstRender:c,style:d,ref:u}=e;const m=sl(t),p=sl(s),f=ue(),h=void 0===m,{shouldRender:g,transitionClassNames:v}=Gi(t&&!n,void 0,h&&!c,!a&&void 0,l);return m&&!t&&(f.current=p),(g||n)&&fe.createElement("div",{id:o,ref:u,className:ji(r,v),onClick:i,style:d},t?s:f.current)},vN=me(He(((e,t)=>{var n;let{mediaId:a}=t;const{mediaType:o=Zt.Nft}=e.mediaViewer||{};if(!a||o!==Zt.Nft)return{};const{byAddress:r}=(null===(n=Je(e))||void 0===n?void 0:n.nfts)||{},i=null==r?void 0:r[a];if(!i)return{};const{blacklistedNftAddresses:s,whitelistedNftAddresses:l}=Je(e)||{},{cardBackgroundNft:c,accentColorNft:d}=nt(e)||{};return{nft:i,blacklistedNftAddresses:s,whitelistedNftAddresses:l,cardBackgroundNft:c,accentColorNft:d}}))((function(e){let{onClose:t,nft:n,blacklistedNftAddresses:a,whitelistedNftAddresses:o,cardBackgroundNft:r,accentColorNft:i}=e;const s=Qi(),[l,c,d]=yd(),u=ce((()=>null==a?void 0:a.includes(n.address)),[n,a]),m=ce((()=>null==o?void 0:o.includes(n.address)),[n,o]),p=Gf(n&&n.address===(null==r?void 0:r.address),Zf),f=Gf(n&&n.address===(null==i?void 0:i.address),Zf),{menuItems:h,handleMenuItemSelect:g}=PE({nft:n,isNftBlacklisted:u,isNftWhitelisted:m,isNftInstalled:p,isNftAccentColorInstalled:f}),v=Cr((e=>{"send"===e&&t(),g(e)}));return fe.createElement("div",{className:"U5k3MGwt"},fe.createElement("button",{type:"button","aria-label":s("More actions"),className:ji(nN,"g5Mpmfqz",l&&"Jb3ZSQ8D"),onClick:c},fe.createElement("i",{className:"icon icon-more","aria-hidden":!0})),fe.createElement(nh,{isOpen:l,items:h,menuPosition:"top",menuPositionHorizontal:"right",shouldTranslateOptions:!0,onClose:d,className:"component-theme-dark",buttonClassName:"nZ_OU1oY",onSelect:v}),fe.createElement("button",{type:"button","aria-label":s("Close"),className:nN,onClick:t},fe.createElement("i",{className:ji("icon-windows-close","TYO_mnqL"),"aria-hidden":!0})))}))),wN=me(He(((t,n)=>{var a;let{mediaId:o}=n;const{mediaType:r=Zt.Nft}=t.mediaViewer||{};if(!o||r!==Zt.Nft)return{};const i=t.settings.isTestnet?e.PKm:e.wln,{byAddress:s}=(null===(a=Je(t))||void 0===a?void 0:a.nfts)||{},l=null==s?void 0:s[o];return l?{title:l.name||Wr(l.address,4),description:l.collectionName,descriptionUrl:`${i}collection/${l.collectionAddress}`}:{}}))((function(e){let{title:t,description:n,descriptionUrl:a}=e;const o=Qi();return fe.createElement("div",{className:"lzTnItyh"},fe.createElement("span",{className:"Iork7lBy"},t),fe.createElement("a",{href:a,target:"_blank","aria-label":o("Open NFT Collection"),className:"gVhA_SZL",rel:"noreferrer",onClick:Ua},fe.createElement("span",{className:"VjBacQN8"},n),fe.createElement("i",{className:ji("icon-tooltip","j_sdE8In"),"aria-hidden":!0})))})));function yN(e){const t=ue(e());return Yi((()=>e.subscribe((()=>{t.current=e()})))),t}const[bN,EN]=b(1);function kN(){return se((()=>()=>{EN(1)}),[]),[bN,EN]}const NN=me(He(((e,t)=>{var n,a;let{mediaId:o}=t;const{mediaType:r=Zt.Nft}=e.mediaViewer||{};if(r!==Zt.Nft)return{};const{byAddress:i}=(null===(n=Je(e))||void 0===n?void 0:n.nfts)||{},s=null==i?void 0:i[o];if(!s)return{};const{whitelistedNftAddresses:l}=Je(e)||{};return{alt:s.name,thumbnail:s.thumbnail,image:s.image,lottie:null===(a=s.metadata)||void 0===a?void 0:a.lottie,description:s.description,isScam:s.isScam,whitelistedMediaIds:l}}))((function(e){let{mediaId:t,alt:n,thumbnail:a,image:o,lottie:r,description:i,isScam:s,whitelistedMediaIds:l}=e;const c=Qi(),d=o||a,u=ue(null),{isPortrait:m}=Qa();se((()=>{const e=u.current,{height:t}=e.getBoundingClientRect();(0,E.RK)((()=>{e.style.setProperty("--max-height",`${t}px`)}))}),[m]);const p=ce((()=>null==l?void 0:l.includes(t)),[t,l]);return fe.createElement("div",{className:"BjD2X1I7"},r?fe.createElement(lm,{size:250,shouldStretch:!0,play:!0,noLoop:!1,tgsUrl:r,previewUrl:d,className:rN,noPreviewTransition:!0}):fe.createElement("img",{src:d,alt:n,className:rN}),fe.createElement("div",{className:iN,ref:u},i&&fe.createElement("div",{className:"fJxRvPrW"},fe.createElement("div",{className:ji("gAnXMdfd","custom-scroll"),dir:"auto"},s&&!p&&fe.createElement("img",{src:Uh,alt:c("Scam"),className:"HAC1deVa"}),i))))})));var CN=function(e){return e[e.Horizontal=0]="Horizontal",e[e.Vertical=1]="Vertical",e}(CN||{});const SN=t.TF?40:0,AN=350,{easeOutCubic:TN,easeOutQuart:IN}=c.qM;let BN,_N;const xN=me((function(e){let{isOpen:n,mediaId:a,selectMedia:o,getMediaId:r,withAnimation:i,onClose:s}=e;const d=Qi(),u=ue(null),m=ue(null),p=ue(null),f=ue(null),h=ue({x:0,y:0,scale:1}),g=ue(void 0),v=ue(void 0),w=ue(!1),[y]=kN(),b=ue(y()),[E,k]=re(!1),[N,C]=Iw({x:0,y:0,scale:1}),S=yN(N),[A,T]=Iw(a),I=yN(A),B=xw((()=>1!==N().scale),[N]),_=xw(A),{height:x,width:L,isResizing:O}=Kv();Il({isActive:n,onBack:s,shouldBeReplaced:!0});const P=qv(o,[o],350,!0),D=qv((()=>{g.current=void 0}),[],500,!0),F=t.TF?40:L/10;se((()=>{const{scale:e,x:t,y:n}=S.current;0===t&&0===n&&1===e&&T(a)}),[a,T,S]),le((()=>{const{x:e,y:t,scale:n}=N();p.current&&(p.current.style.transform=LN(-L+e-SN)),m.current&&(m.current.style.transform=LN(e,t,n)),f.current&&(f.current.style.transform=LN(L+e+SN))}),[N,L]);const R=Cr((function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=h.current;const a=r(I.current,e);if(t)return void 0!==a;if(void 0===a)return!1;const o=(L+SN)*e,s=S.current.x+o;return T(a),P(a),n={x:0,y:0,scale:1},i?(BN=(0,c.Hd)({from:s,to:0,duration:AN,timing:TN,onUpdate:e=>C({y:0,x:e,scale:1})}),!0):(C(n),!0)})),M=Cr((()=>R(1))),U=Cr((()=>R(-1)));if(se((()=>{if(!u.current||void 0===I.current)return;let e=h.current;const n={x:0,y:0},a={x:0,y:0},o={x:0,y:0};let i,d=Date.now();const p=(0,l.sg)((()=>{d=Date.now()}),500,!1,!0),f=e=>{const{scale:n}=S.current;if(1!==n)return[!1,!1];let a=0;return x-e.pageY<80?[!1,!1]:(e.pageX<F?a=-1:e.pageX>L-F&&(a=1),[0!==a,R(a,!t.TF)])},y=e=>{const{scale:t}=S.current;if(1===t)switch(e.key){case"Left":case"ArrowLeft":R(-1);break;case"Right":case"ArrowRight":R(1)}},b=function(e){let{x:t,y:n,scale:a}=e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=v.current;if(!r)return[{x:t,y:n,scale:a},!0,!0];let i=!0,s=!0;const l=(L-L*a)/2,c=(x-x*a)/2,d=Math.max(-r.left*a,l),u=L-r.right*a;i=ws(t,u,d),t=vs(t,u,d);const m=Math.max(-r.top*a+o,c),p=x-r.bottom*a;return s=ws(n,p,m),n=vs(n,p,m),[{x:t,y:n,scale:a},i,s]},E=t=>{if(w.current)return void(w.current=!1);"mouseup"===t.type&&k(!1);const i=S.current,{y:l,scale:u}=i;let m=i.x;const p=Math.abs(m),f=Math.abs(l);if(D(),u<1)return e={x:0,y:0,scale:1},void(BN=(0,c.Hd)({from:[m,l,u],to:[0,0,1],duration:AN,timing:TN,onUpdate:e=>C({x:e[0],y:e[1],scale:e[2]})}));if(u>1){const r=Math.min(u,4),i=r/u;let s=m*i+(a.x-i*a.x),p=l*i+(a.y-i*a.y);const f=.15;if("wheel"!==t.type&&e.scale===u){const e=Math.abs(n.x)/(Date.now()-d),t=Math.abs(n.y)/(Date.now()-d);s-=Math.abs(n.x)*e*f*o.x,p-=Math.abs(n.y)*t*f*o.y}return[e]=b({x:s,y:p,scale:r}),void(BN=(0,c.Hd)({from:[m,l,u],to:[e.x,e.y,e.scale],duration:AN,timing:TN,onUpdate:e=>C({x:e[0],y:e[1],scale:e[2]})}))}if(e={x:m,y:l,scale:u},f>=50)return void s();if(f>0)return void(BN=(0,c.Hd)({from:l,to:0,duration:AN,timing:TN,onUpdate:e=>C({x:0,y:e,scale:u})}));const h=m<0?1:-1,g=r(I.current,m<0?1:-1),v=o.x<0?-1:1;void 0!==g&&p>=50&&h===v&&(m+=(L+SN)*h,T(g),P(g)),BN=(0,c.Hd)({from:m,to:0,duration:AN,timing:TN,onUpdate:e=>C({y:0,x:e,scale:null!=u?u:1})})},N=Ss(u.current,{isNotPassive:!0,withNativeDrag:!0,excludedClosestSelector:`${tN}, .${iN}`,minZoom:1,maxZoom:4,doubleTapZoom:3,withWheelDrag:!0,onCapture:e=>{const{x:t,y:n,scale:a}=S.current;if("mousedown"!==e.type||(k(!0),1===a)){if(d=Date.now(),0===t&&0===n&&1===a){if(!m.current)return;if(i=m.current.querySelector("img, video"),!i)return;v.current=i.getBoundingClientRect()}}else e.preventDefault()},onDrag:(a,r,i,s)=>{let{dragOffsetX:l,dragOffsetY:c}=i;if(w.current)return;if(t.pz&&"touchstart"===r.type){const{pageX:e}=r.touches[0];if(e<=20||e>=L-20)return}BN&&(BN(),BN=void 0),o.x=n.x-l,o.y=n.y-c,n.x=l,n.y=c;const d=Math.abs(l),u=Math.abs(c),{x:m,y:f,scale:h}=S.current;if(p(),1===h){if("mousemove"!==a.type){if(g.current!==CN.Vertical&&(g.current===CN.Horizontal||Math.abs(m)>10||d/u>1.5)){g.current=CN.Horizontal;const e=L+SN,t=vs(l,-e,e);return C({x:t,y:0,scale:h}),void("wheel"===a.type&&Math.abs(t)>100&&(E(a),w.current=!0))}if(g.current===CN.Vertical||Math.abs(f)>10||u/d>1.5){g.current=CN.Vertical;const e=vs(c,-x,x);C({x:0,y:e,scale:h}),"wheel"===a.type&&Math.abs(e)>100&&(E(a),w.current=!0)}}}else{const t=e.x+l,n=e.y+c;if(["wheel","mousemove"].includes(a.type)){const[e,a,o]=b({x:t,y:n,scale:h});return s&&s(!a,!o),void C(e)}"touches"in a&&1===a.touches.length&&C({x:t,y:n,scale:h})}},onZoom:(t,n)=>{let{zoom:o,zoomFactor:r,initialCenterX:i,initialCenterY:s,dragOffsetX:l,dragOffsetY:c,currentCenterX:d,currentCenterY:u}=n;BN&&BN(),i=i||L/2,s=s||x/2,d=d||L/2,u=u||x/2;const m=null!=o?o:vs(e.scale*r,.5,12),p=m/e.scale,f=Math.abs(Math.min(e.x,0)),h=Math.abs(Math.min(e.y,0));a.x=d,a.y=u;const g=f+i,v=h+s,w=g-p*g,y=v-p*v,[E]=b({x:e.x+w+l,y:e.y+y+c,scale:m});C(E)},onClick(n){k(!1);const[a,o]=f(n);if(a){if(n.preventDefault(),n.stopPropagation(),t.TF)return;o||s()}else 1!==e.scale||t.TF||s()},onDoubleClick(n,a){let{centerX:o,centerY:r}=a;const[i]=f(n);if(i)return n.preventDefault(),void n.stopPropagation();if(!t.TF&&"wheel"!==n.type)return;const{x:s,y:l,scale:d}=S.current;if(1===d){if(0!==s||0!==l)return;e=b({x:o-3*o,y:r-3*r,scale:3})[0]}else e={x:0,y:0,scale:1};BN=(0,c.Hd)({from:[s,l,d],to:[e.x,e.y,e.scale],duration:AN,timing:TN,onUpdate:e=>{const t={x:e[0],y:e[1],scale:e[2]};C(t)}})},onRelease:E});return document.addEventListener("keydown",y,!1),()=>{N(),document.removeEventListener("keydown",y,!1)}}),[s,C,r,L,x,F,P,D,i,k,S,T,I,R]),se((()=>{const e=y(),t=void 0!==b.current&&b.current!==e;if(!u.current||!t)return;b.current=e;const{scale:n}=S.current,a=e>0?-1:1;let o=100,r=0;n<=.6&&a>0||n>=12&&a<0||(1===n&&a>0&&(o=20),_N&&_N(),_N=(0,c.Hd)({from:a,to:a*o,duration:AN,timing:IN,onUpdate:e=>{if(!u.current)return;const t=ys(e-r,2);r=e;const n=new WheelEvent("wheel",{deltaY:t,ctrlKey:!0});u.current.dispatchEvent(n)}}))}),[y,S]),void 0===_)return null;const W=r(_,1),H=r(_,-1),$=void 0!==H,V=void 0!==W,z=E&&B;return fe.createElement("div",{className:"X2XelzZ1",ref:u},fe.createElement("div",{className:aN,ref:p},$&&!B&&!O&&fe.createElement(NN,{mediaId:H})),fe.createElement("div",{className:ji(aN,oN,z&&"NMBicc6s"),ref:m},fe.createElement(NN,{mediaId:_})),fe.createElement("div",{className:aN,ref:f},V&&!B&&!O&&fe.createElement(NN,{mediaId:W})),$&&!B&&!t.TF&&fe.createElement("button",{type:"button",onClick:U,className:ji(sN,"Mx1XT28C"),"aria-label":d("Previous"),dir:d.isRtl?"rtl":void 0}),V&&!B&&!t.TF&&fe.createElement("button",{type:"button",onClick:M,className:ji(sN,"FmNwnO3_"),"aria-label":d("Next"),dir:d.isRtl?"rtl":void 0}))}));function LN(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return`translate3d(${(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0).toFixed(3)}px, ${e.toFixed(3)}px, 0px) scale(${t.toFixed(3)})`}const ON=me(He((e=>{var t;const{mediaId:n,mediaType:a=Zt.Nft,txId:o,hiddenNfts:r,noGhostAnimation:i}=e.mediaViewer||{},s=null===(t=e.settings)||void 0===t?void 0:t.animationLevel,l=Je(e);let c,d,u=Tg,m=Tg;if(a===Zt.Nft){var p;const{orderedAddresses:e,byAddress:t}=(null==l?void 0:l.nfts)||{},{blacklistedNftAddresses:a}=l||{},o=null==t?void 0:t[n];c=!(null!=o&&null!==(p=o.metadata)&&void 0!==p&&p.lottie)&&(null==o?void 0:o.image)||(null==o?void 0:o.thumbnail),u=e||Tg,d=t,null!=a&&a.length&&(m=a)}return{mediaId:n,txId:o,hiddenNfts:r,noGhostAnimation:i,mediaIds:u,mediaType:a,mediaUrl:c,mediaByIds:d,blacklistedIds:m,withAnimation:s>0}}))((function(n){let{mediaId:a,mediaIds:o,mediaType:r,mediaUrl:i,withAnimation:s,mediaByIds:l,blacklistedIds:d,txId:u,hiddenNfts:m,noGhostAnimation:p}=n;const{closeMediaViewer:f,openMediaViewer:h}=Ue(),g=Boolean(a),v=Qi(),w=sl(a),y=sl(u),b=sl(m),k=sl(p),N=s?"slideFade":"none",C=s&&g&&!w&&!p,S=s&&!g&&!!w&&!k,A=Cr((()=>f())),T=ce((()=>o.filter((e=>{const t=null==l?void 0:l[e];return t&&!t.isHidden&&!d.includes(e)}))),[d,l,o]),I=T.indexOf(a),_=Cr(((e,t)=>{if(void 0===e)return;const n=T.indexOf(e);return-1===t&&n>0||1===t&&n<T.length-1?T[n+t]:void 0})),x=Cr((e=>{h({mediaType:r,mediaId:e})}));return le((()=>{document.body.classList.toggle("is-media-viewer-open",g)}),[g]),se((()=>g?Xf(A):void 0),[A,g]),se((()=>{C&&(B(uN+e.xB5),function(n,a,o,r,i){const{image:s}=pN(n,a,r,i);s&&o&&(0,E.RK)((async()=>{document.body.classList.add("ghost-animating");const{width:a,height:r}=Kn(),{width:i,height:l}=await async function(e){const t=new Image;return t.src=e,await new Promise((e=>{t.onload=e})),{width:t.width,height:t.height}}(o),d=r-mN,u=(a<=e.c2m?8:7)*t.$,{width:m,height:p}=function(e,t,n,a){const o=a/n,r=Math.min(n,e);return Math.round(r*o)>t?{width:Math.round(t/o),height:t}:{width:r,height:Math.round(r*o)}}(a,d,i,l),f=(a-m)/2,h=u+(d-p)/2,{top:g,left:v,width:w,height:y}=s.getBoundingClientRect(),b=v+w/2-(f+m/2),k=g+y/2-(h+p/2),N=w/m,C=y/p;(0,E.RK)((()=>{const t=fN(s);hN(t,n,!0),(0,c.ZM)(t,{top:`${h}px`,left:`${f}px`,width:`${m}px`,height:`${p}px`,transform:`translate3d(${b}px, ${k}px, 0) scale(${N}, ${C})`}),document.body.appendChild(t),(0,E.RK)((()=>{t.style.transform="",function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t===Zt.Nft&&e.classList.remove(n?cN:dN)}(t,n,!0),setTimeout((()=>{(0,E.RK)((()=>{document.body.contains(t)&&document.body.removeChild(t),document.body.classList.remove("ghost-animating")}))}),uN+e.xB5)}))}))}))}(r,a,i,u,m)),S&&(B(uN+e.xB5),function(t,n,a,o){const{container:r,image:i}=pN(t,n,a,o),s=document.querySelector(`.${oN} img, .${oN} canvas`);if(!s||!i)return;const{top:l,left:d,width:u,height:m}=s.getBoundingClientRect(),{top:p,left:f,width:h,height:g}=i.getBoundingClientRect();let v=p;if(!function(e){if("none"===e.style.display)return!1;const t=e.getBoundingClientRect(),{height:n}=Kn();return t.top<=n&&t.top+t.height>=0}(i)){const{height:e}=Kn();v=p<l?-g:e}const w=d+u/2-(f+h/2),y=l+m/2-(v+g/2),b=u/h,k=m/g,N=document.querySelector(`.${lN}`),C=N||fN(s);let S;if(N){const{top:e,left:t,width:n,height:a}=N.getBoundingClientRect();S={transition:"none",top:`${v}px`,left:`${f}px`,transformOrigin:"top left",transform:`translate3d(${t-f}px, ${e-v}px, 0) scale(${n/h}, ${a/g})`,width:`${h}px`,height:`${g}px`}}else S={top:`${v}px`,left:`${f}px`,width:`${h}px`,height:`${g}px`,transform:`translate3d(${w}px, ${y}px, 0) scale(${b}, ${k})`};(0,E.RK)((()=>{hN(C,t),(0,c.ZM)(C,S),N||document.body.appendChild(C),document.body.classList.add("ghost-animating"),r&&r.classList.add("ghost-target"),(0,E.RK)((()=>{N&&(N.style.transition=""),C.style.transform="",setTimeout((()=>{(0,E.RK)((()=>{document.body.contains(C)&&document.body.removeChild(C),document.body.classList.remove("ghost-animating"),r&&r.classList.remove("ghost-target")}))}),uN+e.xB5)}))}))}(r,w,y,b))}),[C,S,a,r,i,w,u,y,m,b]),fe.createElement(gN,{className:ji("A0PipQQQ","opacity-transition","slow"),isOpen:g,shouldAnimateFirstRender:!0,isCustom:!0},fe.createElement("div",{className:tN,dir:v.isRtl?"rtl":void 0},fe.createElement(Km,{activeKey:I,name:N,className:"lDJDJyJx"},fe.createElement(wN,{mediaId:a})),fe.createElement(vN,{mediaId:a,onClose:A})),fe.createElement(xN,{isOpen:g,mediaId:a,getMediaId:_,selectMedia:x,withAnimation:s,onClose:A}))}))),PN="egsZTzXN",DN=me(He((e=>{const t=Ye(e)||{},n=Je(e),a=Object.keys(t).length>1;return{currentAccountId:e.currentAccountId,hasManyAccounts:a,accounts:t,accountStates:e.byAccountId,isBackupRequired:null==n?void 0:n.isBackupRequired}}))((function(n){let{isOpen:a,currentAccountId:o,hasManyAccounts:r,accounts:i,accountStates:s,isBackupRequired:l,onClose:c}=n;const{signOut:d,switchAccount:u}=Ue(),m=Qi(),[p,f]=re(e.TI6),h=ce((()=>r?Object.entries(i).reduce(((e,t)=>{var n;let[a,{title:r,addressByChain:i}]=t;return a!==o&&null!==(n=s[a])&&void 0!==n&&n.isBackupRequired&&e.push({id:a,title:r||Wr(i.ton)}),e}),[]):[]),[i,s,o,r]);se((()=>{a&&f(e.TI6)}),[a]);const g=Cr((()=>{c(!p&&r),d({level:e.TI6?"all":p?"network":"account"})})),v=Cr((()=>{c(!1)}));const w=p&&h.length>0,y=l&&!w,b=ji(bc.button,t.ZH&&bc.shortButton);return fe.createElement(Sc,{isOpen:a,isCompact:!0,title:t.ZH?m("Remove Wallet"):m("Log Out"),onClose:v},fe.createElement("p",{className:ji(bc.text,bc.text_noExtraMargin)},qo(m("$logout_warning","12/24"))),!e.TI6&&r&&fe.createElement(Ef,{id:"logount_all_accounts",className:"B2lzpHP0",checked:p,onChange:f},qo(m("$logout_confirm"))),y&&fe.createElement("p",{className:bc.text},fe.createElement("b",{className:PN},m("Warning!"))," ",m("$logout_without_backup_warning")),w&&fe.createElement("p",{className:bc.text},fe.createElement("b",{className:PN},m("Warning!"))," ",m("$logout_accounts_without_backup_warning",{links:fe.createElement(fe.Fragment,null,h.map((function(e,t){const{id:n,title:a}=e,o=ji("mSBmBqo6",t+2===h.length&&"T7L1H3Tm");return fe.createElement("span",{className:o},fe.createElement("a",{key:n,href:"#",className:"FsSJDg8c",onClick:e=>{var t;e.preventDefault(),t=n,c(!1),u({accountId:t})}},a))})))})),fe.createElement("div",{className:bc.buttons},fe.createElement(Ll,{className:b,onClick:v},m("Cancel")),fe.createElement(Ll,{isDestructive:!0,onClick:g,className:bc.button},t.ZH?m("Remove Wallet"):m("Exit"))))}))),FN=me((function(e){let{id:t,name:n,value:a,label:o,checked:r=!1,className:i,onChange:s,onCheck:l,shouldStopPropagation:c}=e;return fe.createElement("label",{className:ji("pDx55knh",i),title:o,"aria-label":o,onClick:c?e=>e.stopPropagation():void 0,tabIndex:0,role:"button"},fe.createElement("input",{type:"checkbox",id:t,name:n,value:a,checked:r,className:"cLbaNjJ_",onChange:function(e){null==s||s(e),null==l||l(e.currentTarget.checked)}}),fe.createElement("span",{className:"tiLjiStY"}))})),RN="v8rRtn7B",MN="CC8Q5sJb",UN="bQ7CA6_X",WN="TI5caump",HN=me((function(t){let{isOpen:n,isLoading:a,isInsideModal:o,state:r,error:i,onClose:s}=t;const{disableBiometrics:l}=Ue(),c=Qi(),{renderingKey:d,nextKey:u,updateNextKey:m}=Mf(r,n),p=Cr(((e,t)=>{l({password:e,isPasswordNumeric:t})}));function f(t,n,o){switch(o){case Wt.TurnOffBiometricConfirmation:return fe.createElement(fe.Fragment,null,fe.createElement(Hp,{title:c("Biometric Confirmation"),onClose:s}),fe.createElement("div",{className:bc.transitionContent},fe.createElement(lm,{tgsUrl:xu.holdTon,previewUrl:xu.holdTonPreview,play:t,size:180,nonInteractive:!0,noLoop:!1,className:MN}),i?fe.createElement("div",{className:"iEiAdwiC"},c(i)):fe.createElement("div",{className:WN},c("Please verify the operation.")),fe.createElement("div",{className:bc.buttons},fe.createElement(Ll,{onClick:s,className:bc.customSubmitButton},c("Cancel")))));case Wt.TurnOffCreatePassword:return fe.createElement(fe.Fragment,null,fe.createElement(Hp,{title:c("Create Password"),onClose:s}),fe.createElement("div",{className:bc.transitionContent},fe.createElement(lm,{tgsUrl:xu.guard,previewUrl:xu.guardPreview,play:t,size:180,nonInteractive:!0,noLoop:!1,className:MN}),fe.createElement(hf,{isActive:t,isLoading:a,formId:"biometrics-create-password",onSubmit:p,onCancel:s})));case Wt.TurnOffComplete:return fe.createElement(fe.Fragment,null,fe.createElement(Hp,{title:c("Biometrics Disabled"),onClose:s}),fe.createElement("div",{className:bc.transitionContent},fe.createElement(lm,{tgsUrl:xu.yeee,previewUrl:xu.yeeePreview,play:t,size:e.reE,nonInteractive:!0,noLoop:!1,className:ji(MN,UN)}),fe.createElement("div",{className:bc.buttons},fe.createElement(Ll,{isPrimary:!0,onClick:s,className:bc.customSubmitButton},c("Done")))))}}return fe.createElement(Sc,{hasCloseButton:!0,isOpen:n,dialogClassName:RN,onClose:s},fe.createElement(Km,{name:Rf(),className:ji(bc.transition,"custom-scroll"),slideClassName:ji(o&&bc.transitionSlide),activeKey:d,nextKey:u,onStop:m},f))})),$N=me((function(e){let{isOpen:t,onClose:n}=e;const{openBiometricsTurnOff:a}=Ue(),o=Qi();return fe.createElement(Sc,{isOpen:t,isCompact:!0,title:o("Turn Off Biometrics"),onClose:n},fe.createElement("p",{className:bc.text},o("If you turn off biometric protection, you will need to create a password.")),fe.createElement("div",{className:ji(bc.buttons,bc.buttonsNoExtraSpace)},fe.createElement(Ll,{className:bc.button,onClick:n},o("Cancel")),fe.createElement(Ll,{isPrimary:!0,className:bc.button,onClick:a},o("Continue"))))})),VN=me((function(n){let{isOpen:a,isLoading:o,isInsideModal:r,state:i,error:s,onClose:l}=n;const{enableBiometrics:c}=Ue(),d=Qi(),[u,m]=re(),{renderingKey:p,nextKey:f,updateNextKey:h}=Mf(i,a),g=Boolean(i!==Wt.TurnOnPasswordConfirmation);se((()=>{a&&m("")}),[a]);const v=Cr((()=>{m(void 0)})),w=Cr((e=>{if(!g)try{c({password:e})}catch(e){m(e.message||"Unknown error.")}}));function y(n,a,r){switch(r){case Wt.TurnOnPasswordConfirmation:return fe.createElement(fe.Fragment,null,fe.createElement(Hp,{title:d("Turn On Biometrics"),onClose:l}),fe.createElement(Mm,{isActive:n,isLoading:o,error:s||u,operationType:"passcode",help:d("Enabling biometric confirmation will reset the password."),submitLabel:d("Continue"),onSubmit:w,onCancel:l,onUpdate:v}));case Wt.TurnOnRegistration:return fe.createElement(fe.Fragment,null,fe.createElement(Hp,{title:d("Biometric Registration"),onClose:l}),fe.createElement("div",{className:bc.transitionContent},fe.createElement(lm,{tgsUrl:xu.holdTon,previewUrl:xu.holdTonPreview,play:n,size:180,nonInteractive:!0,noLoop:!1,className:MN}),fe.createElement("div",{className:WN},d("Step 1 of 2. Registration")),fe.createElement("div",{className:bc.buttons},fe.createElement(Ll,{onClick:l,className:bc.customCancelButton},d("Cancel")))));case Wt.TurnOnVerification:return fe.createElement(fe.Fragment,null,fe.createElement(Hp,{title:d("Biometric Registration"),onClose:l}),fe.createElement("div",{className:bc.transitionContent},fe.createElement(lm,{tgsUrl:xu.holdTon,previewUrl:xu.holdTonPreview,play:n,size:180,nonInteractive:!0,noLoop:!1,className:MN}),fe.createElement("div",{className:WN},d(t.cp?"Verification":"Step 2 of 2. Verification")),fe.createElement("div",{className:bc.buttons},fe.createElement(Ll,{onClick:l,className:bc.customCancelButton},d("Cancel")))));case Wt.TurnOnComplete:return fe.createElement(fe.Fragment,null,fe.createElement(Hp,{title:d("Biometrics Enabled"),onClose:l}),fe.createElement("div",{className:bc.transitionContent},fe.createElement(lm,{tgsUrl:xu.yeee,previewUrl:xu.yeeePreview,play:n,size:e.reE,nonInteractive:!0,noLoop:!1,className:ji(MN,UN)}),fe.createElement("div",{className:bc.buttons},fe.createElement(Ll,{isPrimary:!0,onClick:l,className:bc.customSubmitButton},d("Done")))))}}return fe.createElement(Sc,{hasCloseButton:!0,isOpen:a,dialogClassName:RN,onClose:l},fe.createElement(Km,{name:Rf(),className:ji(bc.transition,"custom-scroll"),slideClassName:ji(r&&bc.transitionSlide),activeKey:p,nextKey:f,onStop:h},y))})),zN=me(He((e=>{const{biometrics:{state:t,error:n}}=e;return{state:t,error:n,isLoading:e.auth.isLoading}}))((function(e){let{state:t,error:n,isLoading:a,isInsideModal:o}=e;const{closeBiometricSettings:r}=Ue(),i=t===Wt.TurnOnPasswordConfirmation||t===Wt.TurnOnRegistration||t===Wt.TurnOnVerification||t===Wt.TurnOnComplete,s=t===Wt.TurnOffBiometricConfirmation||t===Wt.TurnOffCreatePassword||t===Wt.TurnOffComplete,l=t===Wt.TurnOffWarning;return fe.createElement(fe.Fragment,null,fe.createElement(VN,{isOpen:i,isLoading:a,isInsideModal:o,state:t,error:n,onClose:r}),fe.createElement(HN,{isOpen:s,isLoading:a,isInsideModal:o,state:t,error:n,onClose:r}),fe.createElement($N,{isOpen:l,onClose:r}))}))),jN=me(He((e=>{const{nativeBiometricsError:t,isPinAccepted:n}=e;return{isPinAccepted:n,error:t,isNativeBiometricsEnabled:mt(e)}}))((function(t){let{isActive:n,isPinAccepted:a,error:o,isNativeBiometricsEnabled:r,handleBackClick:i}=t;const{enableNativeBiometrics:s,clearNativeBiometricsError:l}=Ue(),c=Qi(),{isSmallHeight:d}=Qa(),[u,m]=re(""),p=u.length!==e.NEx?void 0:a?"success":o?"error":void 0,f=a?"Correct":o&&u.length===e.NEx?o:"Enter your code";Il({isActive:n,onBack:i}),se((()=>{n&&m("")}),[n]),Qs((e=>{let[t]=e;r&&!t&&i()}),[r,i]);const h=Cr((e=>{s({password:e})}));return fe.createElement("div",{className:$p.slide},fe.createElement("div",{className:ji($p.content,$p.contentFullSize)},fe.createElement("div",{className:$p.header},fe.createElement(Ll,{isSimple:!0,isText:!0,onClick:i,className:$p.headerBack},fe.createElement("i",{className:ji($p.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),fe.createElement("span",null,c("Back")))),fe.createElement("div",{className:$p.pinPadHeader},fe.createElement(lm,{play:n,tgsUrl:xu.guard,previewUrl:xu.guardPreview,noLoop:!1,nonInteractive:!0,className:$p.stickerNativeBiometric}),!d&&fe.createElement("div",{className:$p.pinPadTitle},c("Confirm Passcode"))),fe.createElement(Fm,{isActive:n,onClearError:l,title:c(f),type:p,length:e.NEx,value:u,onChange:m,onSubmit:h})))}))),qN=i.p+"theme_dark.5de5fe78d9ef16d3bb16.png",KN=i.p+"theme_light.cf5d5bfba2109dad7231.png",YN=i.p+"theme_system.374b66ee35055adafec5.png",QN=me((function(n){let{isActive:a,theme:o,handleBackClick:r,animationLevel:i,isInsideModal:s,isTrayIconEnabled:l,onTrayIconEnabledToggle:c}=n;const{setTheme:d,setAnimationLevel:u}=Ue(),m=Qi(),p=[{value:"light",name:m("Light"),icon:KN},{value:"system",name:m("System"),icon:YN},{value:"dark",name:m("Dark"),icon:qN}];Il({isActive:a,onBack:r});const{handleScroll:f,isScrolled:h}=Fp(),g=Cr((e=>{document.documentElement.classList.add("no-transitions"),d({theme:e}),zs(e,s),setTimeout((()=>{document.documentElement.classList.remove("no-transitions")}),300)})),v=Cr((()=>{const t=i===e.dnp?e.zP3:e.dnp;u({level:t}),td(t)}));return fe.createElement("div",{className:$p.slide},s?fe.createElement(Hp,{title:m("Appearance"),withNotch:h,onBackButtonClick:r,className:$p.modalHeader}):fe.createElement("div",{className:ji($p.header,"with-notch-on-scroll",h&&"is-scrolled")},fe.createElement(Ll,{isSimple:!0,isText:!0,onClick:r,className:$p.headerBack},fe.createElement("i",{className:ji($p.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),fe.createElement("span",null,m("Back"))),fe.createElement("span",{className:$p.headerTitle},m("Appearance"))),fe.createElement("div",{className:ji($p.content,"custom-scroll"),onScroll:f},fe.createElement("p",{className:$p.blockTitle},m("Theme")),fe.createElement("div",{className:$p.settingsBlock},fe.createElement("div",{className:$p.themeWrapper},p.map((e=>{let{name:t,value:n,icon:a}=e;return fe.createElement("div",{key:n,className:ji($p.theme,n===o&&$p.theme_active),onClick:()=>g(n)},fe.createElement("div",{className:ji($p.themeIcon,n===o&&$p.themeIcon_active)},fe.createElement("img",{src:a,alt:t,className:$p.themeImg})),fe.createElement("span",null,t))})))),fe.createElement("p",{className:$p.blockTitle},m("Other")),fe.createElement("div",{className:$p.settingsBlock},fe.createElement("div",{className:ji($p.item,$p.item_small),onClick:v},m("Enable Animations"),fe.createElement(FN,{className:$p.menuSwitcher,label:m("Enable Animations"),checked:i!==e.dnp})),t.cp&&t.H8&&fe.createElement("div",{className:ji($p.item,$p.item_small),onClick:c},m("Display Tray Icon"),fe.createElement(FN,{className:$p.menuSwitcher,label:m("Display Tray Icon"),checked:l})))))})),GN=me((function(e){let{token:t}=e;const{deleteToken:n}=Ue(),[a,o]=re(!1),r=Qi();ll((()=>{t&&o(!0)}),[t]);const i=Cr((()=>{o(!1)})),s=Cr((()=>{i(),n({slug:t.slug})}));return fe.createElement(Sc,{isOpen:a,isCompact:!0,onClose:i,title:r("Delete Token"),contentClassName:"yflPd0zm"},fe.createElement("p",{className:"KH236kiH"},r("Are you sure you want to delete?",{token:fe.createElement("strong",null,null==t?void 0:t.name)})),fe.createElement("div",{className:bc.buttons},fe.createElement(Ll,{onClick:i,className:bc.button},r("Cancel")),fe.createElement(Ll,{isDestructive:!0,onClick:s,className:bc.button},r("Delete"))))})),XN={x:0,y:0},JN={top:0,bottom:0,left:0,right:0},ZN=150,eC=me((function(e){let{children:n,id:a,onDrag:o,onDragEnd:r,style:i,knobStyle:s,isDisabled:l,offset:c=JN,parentRef:d,scrollRef:u,className:m,onClick:p}=e;const f=Qi(),h=ue(null),g=ue(null),v=ue(),[w,y]=re({isDragging:!1,scrollTop:0,origin:XN,translation:XN}),b=ue({x:0,y:0}),E=()=>{void 0!==v.current&&(cancelAnimationFrame(v.current),v.current=void 0)},k=(e,t)=>{const n=()=>{e.scrollBy(0,t),(()=>{if(!(w.isDragging&&h.current&&null!=d&&d.current&&null!=u&&u.current))return;const e=aC(w,b.current,u.current.scrollTop,h.current,d.current,c);y((t=>({...t,translation:e}))),o(e,a)})(),v.current=requestAnimationFrame(n)};E(),n()},N=e=>{var t,n,a,o;const r=tC(e),i=null!==(t=null==u||null===(n=u.current)||void 0===n?void 0:n.scrollTop)&&void 0!==t?t:0;y({...w,isDragging:!0,origin:r,scrollTop:i,width:null===(a=h.current)||void 0===a?void 0:a.offsetWidth,height:null===(o=h.current)||void 0===o?void 0:o.offsetHeight})},C=Cr((e=>{e.stopPropagation(),e.preventDefault(),N(e),t.bA&&zi.clearScrollPatch()})),S=Cr((e=>{if(!h.current||null==d||!d.current||null==u||!u.current)return;const{x:t,y:n}=tC(e);b.current={x:t,y:n};const r=aC(w,b.current,u.current.scrollTop,h.current,d.current,c),i=u.current.getBoundingClientRect(),s=n-i.top,l=i.bottom-n;s<ZN?k(u.current,-nC((ZN-s)/ZN)):l<ZN?k(u.current,nC((ZN-l)/ZN)):E(),y((e=>({...e,translation:r}))),o(r,a)})),A=Cr((()=>{y((e=>({...e,isDragging:!1,width:void 0,height:void 0}))),t.bA&&zi.applyScrollPatch(),r()})),T=Cr((e=>{w.isDragging||p(e)}));se((()=>{const e=g.current;return e&&e.addEventListener("touchstart",C,{passive:!1}),w.isDragging?(window.addEventListener("touchmove",S),window.addEventListener("mousemove",S),window.addEventListener("touchend",A),window.addEventListener("touchcancel",A),window.addEventListener("mouseup",A)):(E(),window.removeEventListener("touchmove",S),window.removeEventListener("mousemove",S),window.removeEventListener("touchend",A),window.removeEventListener("touchcancel",A),window.removeEventListener("mouseup",A),y((e=>({...e,translation:XN})))),()=>{w.isDragging&&(E(),window.removeEventListener("touchmove",S),window.removeEventListener("mousemove",S),window.removeEventListener("touchend",A),window.removeEventListener("touchcancel",A),window.removeEventListener("mouseup",A),e&&e.removeEventListener("touchstart",C))}}),[S,A,C,w.isDragging,g,l]);const I=ji("kWQHzIMD",m,w.isDragging&&"k0c5WDAy"),B=ce((()=>Vu(w.isDragging&&`transform: translate(${w.translation.x}px, ${w.translation.y}px)`,w.width?`width: ${w.width}px`:void 0,w.height?`height: ${w.height}px`:void 0,i)),[i,w.height,w.isDragging,w.translation.x,w.translation.y,w.width]);return fe.createElement("div",{style:B,className:I,ref:h,onClick:T},!l&&fe.createElement("div",{ref:g,"aria-label":f("i18n_dragToSort"),tabIndex:0,role:"button",className:ji("UpzQzcvs","div-button","draggable-knob"),onMouseDown:e=>{N(e)},style:s},fe.createElement("i",{className:"icon icon-sort","aria-hidden":!0})),n)}));function tC(e){let t,n;return"touches"in e?(t=e.touches[0].clientX,n=e.touches[0].clientY):(t=e.clientX,n=e.clientY),{x:t,y:n}}function nC(e){return 5*e**3+1}function aC(e,t,n,a,o,r){const i={x:t.x-e.origin.x,y:t.y-e.origin.y+n-e.scrollTop},{top:s=0,right:l=0,bottom:c=0,left:d=0}=r,u=o.getBoundingClientRect(),m=a.getBoundingClientRect(),p=-a.offsetLeft+d,f=u.width-m.width-a.offsetLeft+l,h=-a.offsetTop+s,g=u.height-m.height-a.offsetTop+c;return{x:vs(i.x,p,f),y:vs(i.y,h,g)}}function oC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=t.indexOf(e);return rC(-1===n?t.length:n)}function rC(e){return 64*e+48}const iC=me((function(t){var n;let{parentContainer:a,tokens:o,orderedSlugs:r,isSortByValueEnabled:i,baseCurrency:s,withChainIcon:l}=t;const{openSettingsWithState:c,updateOrderedSlugs:d,rebuildOrderedSlugs:u,toggleTokenVisibility:m}=Ue(),p=Qi(),f=nr(s),h=ue(null),g=ue(null),[v,w]=re(),[y,b]=re({orderedTokenSlugs:r,dragOrderTokenSlugs:r,draggedIndex:void 0});Yi((()=>{u()})),se((()=>{(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length===t.length&&e.every(((e,n)=>e===t[n]))})(r,y.orderedTokenSlugs)||b({orderedTokenSlugs:r,dragOrderTokenSlugs:r,draggedIndex:void 0})}),[r,y.orderedTokenSlugs]);const E=Cr((()=>{c({state:Gt.SelectTokenList})})),k=Cr(((e,t)=>{var n,a,o,i;const s=Math.round(e.y/64),l=null!==(n=null===(a=y.orderedTokenSlugs)||void 0===a?void 0:a.indexOf(t))&&void 0!==n?n:0,c=null===(o=y.orderedTokenSlugs)||void 0===o?void 0:o.filter((e=>e!==t));c&&ws(l+s,0,null!==(i=null==r?void 0:r.length)&&void 0!==i?i:0)&&(c.splice(l+s,0,t),b((e=>({...e,draggedIndex:l,dragOrderTokenSlugs:c}))))})),N=Cr((()=>{b((e=>(d({orderedSlugs:e.dragOrderTokenSlugs}),{...e,orderedTokenSlugs:e.dragOrderTokenSlugs,draggedIndex:void 0})))})),C=Cr(((e,t)=>{t.preventDefault(),t.stopPropagation(),m({slug:e.slug,shouldShow:Boolean(e.isDisabled)})})),S=Cr(((e,t)=>{t.stopPropagation(),w(e)}));return fe.createElement(fe.Fragment,null,fe.createElement("p",{className:$p.blockTitle},p("My Tokens")),fe.createElement("div",{className:$p.contentRelative,ref:g},fe.createElement("div",{className:ji($p.settingsBlock,$p.sortableContainer),style:`height: ${64*(null!==(n=null==o?void 0:o.length)&&void 0!==n?n:0)+48}px`,ref:h},fe.createElement("div",{className:ji($p.item,$p.item_small),onClick:E},p("Add Token"),fe.createElement("i",{className:ji($p.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),null==o?void 0:o.map((function(t,n){const{symbol:r,name:s,amount:c,price:d,slug:u,isDisabled:m}=t,g=(0,yn.m1)(c,d),v=y.draggedIndex===n,w=i?rC(n):oC(u,y.orderedTokenSlugs),b=i?rC(n):oC(u,y.dragOrderTokenSlugs),E=`top: ${v?w:b}px;`,A=0n===c&&!e.Fgn.includes(u),T=i||o.length<=1;return fe.createElement(eC,{key:u,id:u,onDrag:k,onDragEnd:N,style:E,knobStyle:"left: 1rem;",isDisabled:T,className:ji($p.item,$p.item_token,!i&&$p.draggable),offset:{top:48},parentRef:h,scrollRef:a,onClick:e=>C(t,e)},fe.createElement(xv,{token:t,withChainIcon:l}),fe.createElement("div",{className:$p.tokenInfo},fe.createElement("div",{className:$p.tokenTitle},s),fe.createElement("div",{className:$p.tokenDescription},fe.createElement(My,{text:Jo((0,vt.nI)(g,t.decimals,!0),f)}),fe.createElement("i",{className:$p.dot,"aria-hidden":!0}),fe.createElement(My,{text:Jo((0,vt.nI)(c,t.decimals),r)}),A&&fe.createElement(fe.Fragment,null,fe.createElement("i",{className:$p.dot,"aria-hidden":!0}),fe.createElement("span",{className:$p.deleteText,onClick:e=>S(t,e)},p("Delete"))))),fe.createElement(FN,{className:$p.menuSwitcher,checked:!m}))})))),fe.createElement(GN,{token:v}))})),sC=me(He((e=>{var t;const{isInvestorViewEnabled:n,isSortByValueEnabled:a,areTinyTransfersHidden:o,areTokensWithNoCostHidden:r,baseCurrency:i}=e.settings,{orderedSlugs:s}=null!==(t=nt(e))&&void 0!==t?t:{},{blacklistedNftAddresses:l=Tg,whitelistedNftAddresses:c=Tg,nfts:{byAddress:d}={}}=Je(e)||{};return{isInvestorViewEnabled:n,isSortByValueEnabled:a,areTinyTransfersHidden:o,areTokensWithNoCostHidden:r,baseCurrency:i,isMultichainAccount:dt(e,e.currentAccountId),tokens:Et(e),orderedSlugs:s,nftsByAddress:d,blacklistedNftAddresses:l,whitelistedNftAddresses:c}}))((function(t){let{isActive:n,isInsideModal:a,isInvestorViewEnabled:o,isSortByValueEnabled:r,areTinyTransfersHidden:i,areTokensWithNoCostHidden:s,baseCurrency:l,isMultichainAccount:c,tokens:d,orderedSlugs:u,nftsByAddress:m,blacklistedNftAddresses:p,whitelistedNftAddresses:f,onBack:h}=t;const{toggleTinyTransfersHidden:g,toggleInvestorView:v,toggleTokensWithNoCost:w,toggleSortByValue:y,changeBaseCurrency:b,setSettingsState:E}=Ue(),k=Qi(),N=ue(null);Il({isActive:n,onBack:h});const{handleScroll:C,isScrolled:S}=Fp(),A=Cr((()=>{g({isEnabled:!i})})),T=Cr((()=>{v({isEnabled:!o})})),I=Cr((()=>{E({state:Gt.HiddenNfts})})),B=Cr((()=>{w({isEnabled:!s})})),_=Cr((()=>{y({isEnabled:!r})})),[x,L]=re(l),O=Cr((e=>{L(e),b({currency:e})})),{shouldRenderHiddenNftsSection:P,hiddenNftsCount:D}=ce((()=>{const e=Object.values(m||{}),t=new Set(p),n=new Set(f);return{shouldRenderHiddenNftsSection:e.some((e=>t.has(e.address)||e.isHidden)),hiddenNftsCount:e.filter((e=>!n.has(e.address)&&(t.has(e.address)||e.isHidden))).length}}),[m,p,f]);return fe.createElement("div",{className:$p.slide},a?fe.createElement(Hp,{title:k("Assets & Activity"),withNotch:S,onBackButtonClick:h,className:$p.modalHeader}):fe.createElement("div",{className:ji($p.header,"with-notch-on-scroll",S&&"is-scrolled")},fe.createElement(Ll,{isSimple:!0,isText:!0,onClick:h,className:$p.headerBack},fe.createElement("i",{className:ji($p.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),fe.createElement("span",null,k("Back"))),fe.createElement("span",{className:$p.headerTitle},k("Assets & Activity"))),fe.createElement("div",{className:ji($p.content,"custom-scroll"),onScroll:C,ref:N},fe.createElement("div",{className:$p.settingsBlock},fe.createElement(sh,{label:k("Base Currency"),items:e.PiQ,selectedValue:null!=l?l:e.wOb,theme:"light",shouldTranslateOptions:!0,className:ji($p.item,$p.item_small),onChange:O,isLoading:x!==l}),fe.createElement("div",{className:ji($p.item,$p.item_small),onClick:T},fe.createElement("div",{className:$p.blockWithTooltip},k("Investor View"),fe.createElement(Xw,{message:k("Focus on asset value rather than current balance"),tooltipClassName:$p.tooltip,iconClassName:$p.iconQuestion})),fe.createElement(FN,{className:$p.menuSwitcher,label:k("Investor View"),checked:o})),fe.createElement("div",{className:ji($p.item,$p.item_small),onClick:A},fe.createElement("div",{className:$p.blockWithTooltip},k("Hide Tiny Transfers"),fe.createElement(Xw,{message:k("$tiny_transfers_help",{value:e.Wvq}),tooltipClassName:ji($p.tooltip,$p.tooltip_wide),iconClassName:$p.iconQuestion})),fe.createElement(FN,{className:$p.menuSwitcher,label:k("Hide Tiny Transfers"),checked:i}))),P&&fe.createElement("div",{className:$p.settingsBlock},fe.createElement("div",{className:ji($p.item,$p.item_small),onClick:I},k("Hidden NFTs"),fe.createElement("div",{className:$p.itemInfo},D,fe.createElement("i",{className:ji($p.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})))),fe.createElement("p",{className:$p.blockTitle},k("Token Settings")),fe.createElement("div",{className:$p.settingsBlock},fe.createElement("div",{className:ji($p.item,$p.item_small),onClick:_},k("Sort By Cost"),fe.createElement(FN,{className:$p.menuSwitcher,label:k("Sort By Cost"),checked:r})),fe.createElement("div",{className:ji($p.item,$p.item_small),onClick:B},fe.createElement("div",{className:$p.blockWithTooltip},k("Hide Tokens With No Cost"),fe.createElement(Xw,{message:k("$hide_tokens_no_cost_help",{value:e.Wvq}),tooltipClassName:ji($p.tooltip,$p.tooltip_wide),iconClassName:$p.iconQuestion})),fe.createElement(FN,{className:$p.menuSwitcher,label:k("Hide Tokens With No Cost"),checked:s}))),fe.createElement(iC,{parentContainer:N,tokens:d,orderedSlugs:u,isSortByValueEnabled:r,baseCurrency:l,withChainIcon:c})))}))),lC="Uez1mztb",cC=me((function(e){let{isOpen:t,dapp:n,onClose:a}=e;const{deleteAllDapps:o,deleteDapp:r}=Ue(),i=Qi(),s=Cr((()=>{o(),a()})),l=Cr((()=>{r({origin:n.origin}),a()})),c=i(n?"Disconnect Dapp":"Disconnect Dapps"),d=n?i("Are you sure you want to disconnect?",{dappname:fe.createElement("strong",null,n.name)}):i("Are you sure you want to disconnect all websites?"),u=n?l:s;return fe.createElement(Sc,{isOpen:t,isCompact:!0,onClose:a,title:c,contentClassName:"ofWxr4DU"},fe.createElement("p",{className:"XlFYElV7"},d),fe.createElement("div",{className:"gixyiSx7"},fe.createElement(Ll,{onClick:a,className:lC},i("Cancel")),fe.createElement(Ll,{isDestructive:!0,onClick:u,className:lC},i("Disconnect"))))})),dC=me((function(t){let{isActive:n,dapps:a,handleBackClick:o,isInsideModal:r}=t;const i=Qi(),[s,l,c]=yd(),[d,u]=re();Il({isActive:n,onBack:o});const{handleScroll:m,isScrolled:p}=Fp(),f=Cr((e=>{const t=a.find((t=>t.origin===e));u(t),l()})),h=Cr((()=>{u(void 0),l()}));function g(e){const{iconUrl:t,name:n,url:a,origin:o}=e;return fe.createElement(yh,{key:o,iconUrl:t,name:n,url:a,origin:o,className:$p.dapp,onDisconnect:f})}const v=0===a.length?fe.createElement("div",{className:$p.emptyList},fe.createElement(lm,{play:n,tgsUrl:xu.noData,previewUrl:xu.noDataPreview,size:e.igk,noLoop:!1,nonInteractive:!0}),fe.createElement("p",{className:$p.emptyListTitle},i("No active connections"))):function(){const t=a.map(g);return fe.createElement("div",{className:$p.dapps},fe.createElement("div",{className:$p.disconnectAllBlock},fe.createElement(Ll,{className:$p.disconnectButton,isSimple:!0,onClick:h},i("Disconnect All Dapps")),fe.createElement("p",{className:$p.blockDescription},i("$dapps-description",{app_name:e.C39}))),fe.createElement("p",{className:$p.blockTitle},i("Logged in with %app_name%",{app_name:e.C39})),fe.createElement("div",{className:$p.block},t))}();return fe.createElement("div",{className:$p.slide},r?fe.createElement(Hp,{title:i("Dapps"),withNotch:p,onBackButtonClick:o,className:$p.modalHeader}):fe.createElement("div",{className:ji($p.header,"with-notch-on-scroll",p&&"is-scrolled")},fe.createElement(Ll,{isSimple:!0,isText:!0,onClick:o,className:$p.headerBack},fe.createElement("i",{className:ji($p.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),fe.createElement("span",null,i("Back"))),fe.createElement("span",{className:$p.headerTitle},i("Dapps"))),fe.createElement("div",{className:ji($p.content,"custom-scroll"),onScroll:m},fe.createElement(Km,{activeKey:0===a.length?0:1,name:"fade"},v)),fe.createElement(cC,{isOpen:s,onClose:c,dapp:d}))}));function uC(){if(e.v5B)return"firefox-extension";if(e.RTV)return"opera-extension";if(e.hL1)return"extension";if(e.UMQ){if(e.gmk){if(t.pz)return"ios-air";if(e.VL7)return"android-air-direct";if(t.Ni)return"android-air"}if(e.VL7)return"android-direct";if(t.Ni)return"android";if(t.pz)return"ios"}var n;return e.tKX?(null===(n=ra())||void 0===n?void 0:n.platform)||"telegram-unknown":t.cp?"electron":"web"}var mC=i(36791);const pC=[{value:"mainnet",name:"Mainnet"},{value:"testnet",name:"Testnet"}],fC=me(He((e=>{var t;return{currentAccountId:e.currentAccountId,accountsById:null===(t=e.accounts)||void 0===t?void 0:t.byId}}))((function(a){let{isOpen:o,onClose:r,isTestnet:i,isCopyStorageEnabled:s,currentAccountId:l,accountsById:c}=a;const{startChangingNetwork:d,copyStorageData:u,showNotification:m}=Ue(),p=Qi(),f=pC[i?1:0].value,h=Cr((e=>{d({network:e}),r()})),g=Cr((async()=>{const a=await async function(a){let{currentAccountId:o,accountsById:r}=a;const i=r&&Object.keys(r).reduce(((e,t)=>{const{addressByChain:n,isHardware:a}=r[t];return e[t]={addressByChain:n,isHardware:a},e}),{}),[s,l,c=[]]=await Promise.all([(0,Fn.ao)(),t.KI?new Promise((e=>{const t=n=>{let{data:a}=n;"logsFromNative"===a.type&&(Lr.removeEventListener("message",t),e(a.logs))};Lr.addEventListener("message",t),Lr.postMessage({type:"getLogsFromNative"})})):Promise.resolve([]),(0,n.p)("getLogs")]);return JSON.stringify({time:new Date,environment:e.Guj,version:e.hl5,platform:(0,mC.u)(),navigatorPlatform:navigator.platform,userAgent:navigator.userAgent,build:uC(),flags:{IS_ANDROID_DIRECT:e.VL7,IS_CAPACITOR:e.UMQ,IS_TELEGRAM_APP:e.tKX,IS_EXTENSION:e.hL1,IS_FIREFOX_EXTENSION:e.v5B,IS_PACKAGED_ELECTRON:e.jht,IS_AIR_APP:e.gmk,IS_ELECTRON:t.cp,IS_OPERA_EXTENSION:e.RTV},currentAccountId:o,accountsInfo:i,logs:[...s.map((e=>({...e,context:"main"}))),...l.map((e=>({...e,context:"bottomSheet"}))),...c.map((e=>({...e,context:"api"})))].sort(((e,t)=>e.time.getTime()-t.time.getTime()))},void 0,2)}({currentAccountId:l,accountsById:c});if(e.hL1)await $o(a),m({message:p("Logs were copied!"),icon:"icon-copy"}),r();else{const n=`${e.TI6?"tonwallet":"mytonwallet"}_logs_${(new Date).toISOString()}.json`;await async function(n,a){if(e.UMQ){const e={path:n,directory:_h.__.Cache},t=await xh.writeFile({...e,data:a,encoding:_h.Wi.UTF8});try{if(await Oh({url:t.uri}))return}finally{xh.deleteFile(e)}}const o=new File([a],n,{type:"application/json"});if(await Ph({files:[o]}))return;const r=URL.createObjectURL(o);try{if(t.pz)window.open(r,"_blank","noreferrer");else{const e=document.createElement("a");e.href=r,e.download=n,e.click()}}finally{URL.revokeObjectURL(r)}}(n,a)}}));return fe.createElement(Sc,{isOpen:o,onClose:r,noBackdropClose:!0,isCompact:!0},fe.createElement("div",{className:$p.developerTitle},p("Developer Options")),fe.createElement("div",{className:$p.settingsBlock},fe.createElement(sh,{label:p("Network"),items:pC,selectedValue:f,theme:"light",arrow:"chevron",className:ji($p.item,$p.item_small),onChange:h})),s&&fe.createElement(fe.Fragment,null,fe.createElement("p",{className:$p.blockTitle},p("Dangerous")),fe.createElement("div",{className:$p.settingsBlock},fe.createElement("div",{className:ji($p.item,$p.item_small),onClick:()=>u()},p("Copy Storage Data"),fe.createElement("i",{className:ji($p.iconChevronRight,"icon-copy"),"aria-hidden":!0})))),fe.createElement("div",{className:ji($p.settingsBlock,$p.logBlock),onClick:g},fe.createElement("div",{className:ji($p.item,$p.item_small)},e.hL1?fe.createElement(fe.Fragment,null,p("Copy Logs"),fe.createElement("i",{className:ji($p.iconChevronRight,"icon-copy"),"aria-hidden":!0})):p("Download Logs"))),fe.createElement(Ll,{className:$p.developerCloseButton,onClick:r},p("Close")))}))),hC=me((function(t){let{isActive:n,handleBackClick:a,isInsideModal:o}=t;const r=Qi();Il({isActive:n,onBack:a});const{handleScroll:i,isScrolled:s}=Fp();return fe.createElement("div",{className:$p.slide},o?fe.createElement(Hp,{title:"",withNotch:s,onBackButtonClick:a}):fe.createElement("div",{className:ji($p.header,"with-notch-on-scroll",s&&"is-scrolled")},fe.createElement(Ll,{isSimple:!0,isText:!0,onClick:a,className:$p.headerBack},fe.createElement("i",{className:ji($p.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),fe.createElement("span",null,r("Back")))),fe.createElement("div",{className:ji($p.content,o&&"custom-scroll",!o&&$p.content_noScroll),onScroll:o?i:void 0},fe.createElement("div",{className:$p.stickerAndTitle},fe.createElement(lm,{play:n,tgsUrl:xu.snitch,previewUrl:xu.snitchPreview,noLoop:!1,nonInteractive:!0,size:e.lWW}),fe.createElement("div",{className:$p.sideTitle},r("Use Responsibly"))),fe.createElement("div",{className:ji($p.blockAbout,!o&&"custom-scroll")},fe.createElement("p",{className:$p.text},qo(r("$auth_responsibly_description1",{app_name:e.C39}))),fe.createElement("p",{className:$p.text},qo(r("$auth_responsibly_description2"))),fe.createElement("p",{className:$p.text},qo(r("$auth_responsibly_description3",{app_name:e.C39}))),fe.createElement("p",{className:$p.text},qo(r("$auth_responsibly_description4"))))))})),gC=me((function(e){let{nft:n}=e;const{openMediaViewer:a,removeNftSpecialStatus:o}=Ue(),r=Qi(),[i,,s]=yd(!0),l=Cr((()=>{o({address:n.address})})),{transitionClassNames:c}=Gi(i,l),{isPortrait:d}=Qa(),u=!d||t.cp||t.KI||t.bA;return ye.createElement("div",{className:ji($p.item,c),onClick:function(){a({mediaId:n.address,mediaType:Zt.Nft,noGhostAnimation:u,hiddenNfts:"user"})},key:n.address,role:"button",tabIndex:0,"data-nft-address":!u&&n.address},ye.createElement("img",{className:$p.nftImage,src:n.image,alt:n.name}),ye.createElement("div",{className:$p.nftPrimaryCell},ye.createElement("span",{className:$p.nftName},n.name||r("Untitled")),n.collectionName&&ye.createElement("span",{className:$p.nftCollection},n.collectionName)),ye.createElement(Ll,{isSmall:!0,isPrimary:!0,isText:!0,className:$p.nftButtonUnhide,onClick:s,shouldStopPropagation:!0},r("Unhide")))})),vC=me((function(e){let{nft:n,isWhitelisted:a}=e;const{openMediaViewer:o,removeNftSpecialStatus:r,openUnhideNftModal:i}=Ue(),s=Qi(),{isPortrait:l}=Qa(),c=!l||t.cp||t.KI||t.bA,d=Cr((()=>{o({mediaId:n.address,mediaType:Zt.Nft,noGhostAnimation:c,hiddenNfts:"scam"})})),u=Cr((e=>{e.stopPropagation(),a?r({address:n.address}):i({address:n.address,name:n.name})}));return ye.createElement("div",{className:$p.item,onClick:d,key:n.address,role:"button",tabIndex:0,"data-nft-address":!c&&n.address},ye.createElement("img",{className:$p.nftImage,src:n.image,alt:n.name}),ye.createElement("div",{className:$p.nftPrimaryCell},ye.createElement("span",{className:$p.nftName},n.name),n.collectionName&&ye.createElement("span",{className:$p.nftCollection},n.collectionName)),ye.createElement(FN,{className:$p.menuSwitcher,label:s("Show"),checked:a,onChange:u,shouldStopPropagation:!0}))})),wC=me(He((e=>{var t,n,a;const{blacklistedNftAddresses:o,whitelistedNftAddresses:r}=null!==(t=Je(e))&&void 0!==t?t:{},{orderedAddresses:i,byAddress:s}=null!==(n=null===(a=Je(e))||void 0===a?void 0:a.nfts)&&void 0!==n?n:{};return{blacklistedNftAddresses:o,whitelistedNftAddresses:r,orderedAddresses:i,byAddress:s}}))((function(e){let{isActive:n,handleBackClick:a,isInsideModal:o,blacklistedNftAddresses:r,whitelistedNftAddresses:i,orderedAddresses:s,byAddress:l}=e;const c=Qi();Il({isActive:n,onBack:a});const{isScrolled:d,handleScroll:u}=Fp(),m=ce((()=>{if(s&&l)return s.map((e=>l[e])).filter(Boolean)}),[l,s]),p=ce((()=>{const e=new Set(r);return null==m?void 0:m.filter((t=>e.has(t.address)))}),[m,r]),f=ce((()=>null==m?void 0:m.filter((e=>e.isHidden))),[m]),h=ce((()=>new Set(i)),[i]),{isPortrait:g}=Qa(),v=!g||t.cp||t.KI||t.bA;return fe.createElement("div",{className:$p.slide},o?fe.createElement(Hp,{title:c("Hidden NFTs"),withNotch:d,onBackButtonClick:a,className:$p.modalHeader}):fe.createElement("div",{className:ji($p.header,"with-notch-on-scroll",d&&"is-scrolled")},fe.createElement(Ll,{isSimple:!0,isText:!0,onClick:a,className:$p.headerBack},fe.createElement("i",{className:ji($p.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),fe.createElement("span",null,c("Back"))),fe.createElement("span",{className:$p.headerTitle},c("Hidden NFTs"))),fe.createElement("div",{className:ji($p.content,"custom-scroll"),onScroll:u},Boolean(null==p?void 0:p.length)&&fe.createElement(fe.Fragment,null,fe.createElement("p",{className:$p.blockTitle},c("Hidden By Me")),fe.createElement("div",{className:ji($p.block,!v&&"hidden-nfts-user")},p.map((e=>fe.createElement(gC,{key:e.address,nft:e}))))),Boolean(null==f?void 0:f.length)&&fe.createElement(fe.Fragment,null,fe.createElement("p",{className:$p.blockTitle},c("Probably Scam")),fe.createElement("div",{className:ji($p.block,$p.settingsBlockWithDescription,!v&&"hidden-nfts-scam")},f.map((e=>fe.createElement(vC,{key:e.address,nft:e,isWhitelisted:h.has(e.address)})))),fe.createElement("p",{className:$p.blockDescription},c("$settings_nft_probably_scam_description")))))}))),yC=i.p+"settings_checkmark.4c62604cbc9fd263c110.svg",bC=me((function(t){let{isActive:n,langCode:a,handleBackClick:o,isInsideModal:r}=t;const{changeLanguage:i}=Ue(),s=Qi();Il({isActive:n,onBack:o});const l=Cr((e=>{hr(e,(()=>{i({langCode:e})}))}));return fe.createElement("div",{className:$p.slide},r?fe.createElement(Hp,{title:s("Language"),onBackButtonClick:o,className:ji($p.modalHeader,$p.languageHeader)}):fe.createElement("div",{className:$p.header},fe.createElement(Ll,{isSimple:!0,isText:!0,onClick:o,className:$p.headerBack},fe.createElement("i",{className:ji($p.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),fe.createElement("span",null,s("Back"))),fe.createElement("span",{className:$p.headerTitle},s("Language"))),fe.createElement("div",{className:ji($p.content,"custom-scroll")},fe.createElement("div",{className:$p.block},e.gSB.map((e=>{let{name:t,nativeName:n,langCode:o}=e;return fe.createElement("div",{key:o,className:ji($p.item,$p.item_lang),onClick:()=>l(o)},fe.createElement("div",{className:$p.languageInfo},fe.createElement("span",{className:$p.languageMain},t),fe.createElement("span",{className:$p.languageNative},n)),a===o&&fe.createElement("img",{src:yC,alt:t}))})))))})),EC=me(He((e=>({accounts:Ye(e),canPlaySounds:e.settings.canPlaySounds,pushNotifications:e.pushNotifications,settingsByAccountId:e.settings.byAccountId})))((function(t){let{isActive:n,handleBackClick:a,accounts:o,canPlaySounds:r,pushNotifications:{enabledAccounts:i,isAvailable:s},isInsideModal:l,settingsByAccountId:c}=t;const d=Qi(),{toggleNotifications:u,toggleNotificationAccount:m,toggleCanPlaySounds:p}=Ue(),f=ce((()=>Object.entries(o||{})),[o]),h=Boolean(Object.keys(i).length),g=d(s?"Notifications & Sounds":"Sounds"),v=Cr((()=>{u({isEnabled:!h})})),w=Cr((()=>{p({isEnabled:!r})}));Il({isActive:n,onBack:a});const{handleScroll:y,isScrolled:b}=Fp();return fe.createElement("div",{className:$p.slide},l?fe.createElement(Hp,{title:g,withNotch:b,onBackButtonClick:a,className:$p.modalHeader}):fe.createElement("div",{className:ji($p.header,"with-notch-on-scroll",b&&"is-scrolled")},fe.createElement(Ll,{isSimple:!0,isText:!0,onClick:a,className:$p.headerBack},fe.createElement("i",{className:ji($p.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),fe.createElement("span",null,d("Back"))),fe.createElement("span",{className:$p.headerTitle},g)),fe.createElement("div",{className:ji($p.content,"custom-scroll"),onScroll:y},s&&fe.createElement(fe.Fragment,null,fe.createElement("div",{className:$p.settingsBlock},fe.createElement("div",{className:ji($p.item,$p.item_small),onClick:v},d("Push Notifications"),fe.createElement(FN,{className:$p.menuSwitcher,label:d("Push Notifications"),checked:h}))),fe.createElement("p",{className:$p.blockTitle},d("Select up to %count% wallets for notifications",{count:e.vdF})),fe.createElement(qf,{accountLength:f.length,className:$p.settingsBlock},f.map((t=>{let[n,{title:a,addressByChain:o,isHardware:r}]=t;return function(t,n,a,o){const{cardBackgroundNft:r}=(null==c?void 0:c[t])||{},s=i&&!i[t]&&Object.keys(i).length>=e.vdF;return fe.createElement(jf,{className:ji($p.account,s?$p.accountDisabled:void 0),key:t,accountId:t,address:n,title:a,ariaLabel:d("Switch Account"),isHardware:o,withCheckbox:!0,isLoading:s,isActive:Boolean(i&&i[t]),onClick:()=>{m({accountId:t})},cardBackgroundNft:r})}(n,o.ton,a,r)})))),fe.createElement("div",{className:$p.settingsBlock},fe.createElement("div",{className:ji($p.item,$p.item_small),onClick:w},d("Play Sounds"),fe.createElement(FN,{className:$p.menuSwitcher,label:d("Play Sounds"),checked:r})))))})));var kC,NC;!function(e){e.Accessibility="accessibility",e.Account="account",e.AirplaneMode="airplane_mode",e.Apn="apn",e.ApplicationDetails="application_details",e.ApplicationDevelopment="application_development",e.Application="application",e.AppNotification="app_notification",e.BatteryOptimization="battery_optimization",e.Bluetooth="bluetooth",e.Captioning="captioning",e.Cast="cast",e.DataRoaming="data_roaming",e.Date="date",e.Display="display",e.Dream="dream",e.Home="home",e.Keyboard="keyboard",e.KeyboardSubType="keyboard_subtype",e.Locale="locale",e.Location="location",e.ManageApplications="manage_applications",e.ManageAllApplications="manage_all_applications",e.MemoryCard="memory_card",e.Network="network",e.NfcSharing="nfcsharing",e.NfcPayment="nfc_payment",e.NfcSettings="nfc_settings",e.Print="print",e.Privacy="privacy",e.QuickLaunch="quick_launch",e.Search="search",e.Security="security",e.Settings="settings",e.ShowRegulatoryInfo="show_regulatory_info",e.Sound="sound",e.Storage="storage",e.Sync="sync",e.Usage="usage",e.UserDictionary="user_dictionary",e.VoiceInput="voice_input",e.Wifi="wifi",e.WifiIp="wifi_ip",e.Wireless="wireless"}(kC||(kC={})),function(e){e.About="about",e.App="app",e.AutoLock="autoLock",e.Bluetooth="bluetooth",e.DateTime="dateTime",e.FaceTime="facetime",e.General="general",e.Keyboard="keyboard",e.ICloud="iCloud",e.ICloudStorageBackup="iCloudStorageBackup",e.International="international",e.LocationServices="locationServices",e.Music="music",e.Notes="notes",e.Notifications="notifications",e.Phone="phone",e.Photos="photos",e.ManagedConfigurationList="managedConfigurationList",e.Reset="reset",e.Ringtone="ringtone",e.Sounds="sounds",e.SoftwareUpdate="softwareUpdate",e.Store="store",e.Tracking="tracking",e.Wallpaper="wallpaper",e.WiFi="wifi",e.Tethering="tethering",e.DoNotDisturb="doNotDisturb",e.TouchIdPasscode="touchIdPasscode",e.ScreenTime="screenTime",e.Accessibility="accessibility"}(NC||(NC={}));const CC=(0,On.F3)("NativeSettings",{web:()=>i.e(988).then(i.bind(i,91988)).then((e=>new e.NativeSettingsWeb))}),SC="open",AC=me((function(e){let{children:t,isShown:n}=e;const a=ue(null),o=ue(n),[r,i]=re(n),s=sl(n),l=ue();function c(){a.current&&(a.current.classList.toggle(SC),o.current=!o.current)}void 0!==s&&s!==n&&(n&&!o.current?(i(!0),l.current&&window.clearTimeout(l.current),setTimeout((()=>(0,E.RK)(c)),200)):((0,E.RK)(c),l.current=window.setTimeout((()=>{i(!1)}),200)));const d=fe.createElement("div",{className:"content"},t);return fe.createElement("div",{ref:a,className:ji("collapsible",n&&"shown",o.current&&SC)},r?d:void 0)})),TC=i.p+"settings_private-key.5db3564e144d742b44ca.svg",IC=i.p+"settings_secret-words.594687182868e734ac8f.svg",BC=me((function(e){let{isActive:t,isInsideModal:n,isMultichainAccount:a,hasMnemonicWallet:o,onBackClick:r,onOpenSecretWordsSafetyRules:i,onOpenPrivateKeySafetyRules:s,openSettingsSlide:l}=e;const c=Qi();Il({isActive:t,onBack:r});const{handleScroll:d,isScrolled:u}=Fp();return fe.createElement("div",{className:$p.slide},n?fe.createElement(Hp,{onBackButtonClick:l,className:$p.modalHeader,withNotch:u,title:c("$back_up_security")}):fe.createElement("div",{className:$p.header},fe.createElement(Ll,{isSimple:!0,isText:!0,onClick:l,className:$p.headerBack},fe.createElement("i",{className:ji($p.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),fe.createElement("span",null,c("Back"))),fe.createElement("span",{className:$p.headerTitle},c("$back_up_security"))),fe.createElement("div",{className:ji($p.content,"custom-scroll"),onScroll:d},o&&fe.createElement(fe.Fragment,null,fe.createElement("div",{className:ji($p.block,$p.settingsBlockWithDescription)},fe.createElement("div",{className:ji($p.item),onClick:i},fe.createElement("img",{className:$p.menuIcon,src:IC,alt:c("View Secret Words")}),c("View Secret Words"),fe.createElement("i",{className:ji($p.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),a&&fe.createElement("p",{className:$p.blockDescription},c("Can be imported to any multichain wallet supporting TON."))),(a||!o)&&fe.createElement(fe.Fragment,null,fe.createElement("div",{className:ji($p.block,$p.settingsBlockWithDescription)},fe.createElement("div",{className:ji($p.item),onClick:s},fe.createElement("img",{className:$p.menuIcon,src:TC,alt:c("View TON Private Key")}),c("View TON Private Key"),fe.createElement("i",{className:ji($p.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),fe.createElement("p",{className:$p.blockDescription},c("Can be imported to non-multichain wallets for TON.")))))})),_C=me((function(t){let{isActive:n,privateKey:a,onSubmit:o,buttonText:r}=t;const i=Qi();return fe.createElement(fe.Fragment,null,fe.createElement(lm,{tgsUrl:xu.bill,previewUrl:xu.billPreview,size:e.lWW,play:n,nonInteractive:!0,noLoop:!1,className:Gp}),fe.createElement("p",{className:ji(Zp,tf)},qo(i("$private_key_description"))),fe.createElement("p",{className:ef},qo(i("$mnemonic_warning"))),fe.createElement(Hh,{noExplorer:!0,text:a,copyNotification:i("Your private key was copied!")}),fe.createElement("div",{className:Xp},fe.createElement(Ll,{isPrimary:!0,className:Jp,onClick:o},r)))})),xC="gDO3tqgH",LC=me((function(e){let{isActive:t,currentAccountId:a,enteredPassword:o,isBackupSlideActive:r,isInsideModal:i,onBackClick:s,onSubmit:l}=e;const c=Qi(),[d,u]=re(void 0);se((()=>{!async function(){if(r&&o){const e=await(0,n.p)("fetchPrivateKey",a,o);u(e)}else u(void 0)}()}),[a,o,r]),Il({isActive:t,onBack:s});const{handleScroll:m,isScrolled:p}=Fp();return fe.createElement("div",{className:$p.slide},i?fe.createElement(Hp,{title:c("Private Key"),withNotch:p,onBackButtonClick:s,className:$p.modalHeader}):fe.createElement("div",{className:ji($p.header,"with-notch-on-scroll",p&&"is-scrolled")},fe.createElement(Ll,{isSimple:!0,isText:!0,onClick:s,className:$p.headerBack},fe.createElement("i",{className:ji($p.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),fe.createElement("span",null,c("Back"))),fe.createElement("span",{className:$p.headerTitle},c("Private Key"))),fe.createElement("div",{className:ji($p.content,xC),onScroll:m},fe.createElement(_C,{isActive:t,privateKey:d,buttonText:c("Close"),onSubmit:l})))})),OC=me((function(e){let{isActive:t,onBackClick:n,isInsideModal:a,onSubmit:o,backupType:r}=e;const i=Qi(),[s,l]=re(!1),[c,d]=re(!1),[u,m]=re(!1),p=Cr((()=>{l(!1),d(!1),m(!1),n()}));Il({isActive:t,onBack:n});const{handleScroll:f,isScrolled:h}=Fp();return fe.createElement("div",{className:$p.slide},a?fe.createElement(Hp,{title:i("Safety Rules"),withNotch:h,onBackButtonClick:p,className:$p.modalHeader}):fe.createElement("div",{className:ji($p.header,"with-notch-on-scroll",h&&"is-scrolled")},fe.createElement(Ll,{isSimple:!0,isText:!0,onClick:p,className:$p.headerBack},fe.createElement("i",{className:ji($p.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),fe.createElement("span",null,i("Back"))),fe.createElement("span",{className:$p.headerTitle},i("Safety Rules"))),fe.createElement("div",{className:ji($p.content,xC),onScroll:f},fe.createElement(Bf,{isActive:t,isFullSizeButton:!0,textFirst:i("key"===r?"$safety_rules_private_key_one":"$safety_rules_one"),textSecond:i("key"===r?"$safety_rules_private_key_two":"$safety_rules_two"),textThird:i("key"===r?"$safety_rules_private_key_three":"$safety_rules_three"),isFirstCheckboxSelected:s,onFirstCheckboxClick:l,isSecondCheckboxSelected:c,onSecondCheckboxClick:d,isThirdCheckboxSelected:u,onThirdCheckboxClick:m,onSubmit:o})))})),PC=me((function(e){let{isActive:t,currentAccountId:a,enteredPassword:o,isBackupSlideActive:r,isInsideModal:i,onBackClick:s,onSubmit:l}=e;const c=Qi(),[d,u]=re(void 0),m=(null==d?void 0:d.length)||0;se((()=>{!async function(){if(r&&o){const e=await(0,n.p)("fetchMnemonic",a,o);u(e)}else u(void 0)}()}),[a,o,r]),Il({isActive:t,onBack:s});const{handleScroll:p,isScrolled:f}=Fp();return fe.createElement("div",{className:$p.slide},i?fe.createElement(Hp,{title:c("%1$d Secret Words",m),withNotch:f,className:$p.modalHeader,onBackButtonClick:s}):fe.createElement("div",{className:ji($p.header,"with-notch-on-scroll",f&&"is-scrolled")},fe.createElement(Ll,{isSimple:!0,isText:!0,className:$p.headerBack,onClick:s},fe.createElement("i",{className:ji($p.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),fe.createElement("span",null,c("Back"))),fe.createElement("span",{className:$p.headerTitle},c("%1$d Secret Words",m))),fe.createElement("div",{className:ji($p.content,xC),onScroll:p},fe.createElement(Lf,{isActive:t,mnemonic:d,onSubmit:l,buttonText:c("Close")})))})),DC=me(He((e=>({isBiometricAuthEnabled:mt(e)})))((function(e){let{isBiometricAuthEnabled:n,onEnable:a}=e;const{disableNativeBiometrics:o}=Ue(),r=xo()||!_o()&&t.pz,i=Lo(),s=Qi(),[l,c,d]=yd(),u=r?"Face ID":i?"Touch ID":s("Biometric Authentication"),m=r?"Turn Off Face ID":i?"Turn Off Touch ID":"Turn Off Biometrics",p=r?"Are you sure you want to disable Face ID?":i?"Are you sure you want to disable Touch ID?":"Are you sure you want to disable biometrics?",f=r?mf:uf,h=Cr((()=>{d(),o()}));ll((()=>{t.bA&&l&&ug.confirm({title:s(m),message:s(p),okButtonTitle:s("Yes"),cancelButtonTitle:s("Cancel")}).then((e=>{let{value:t}=e;t&&h()})).finally(d)}),[h,l,s,p,m]);const g=Cr((()=>{var e;oa()?null===(e=ra())||void 0===e||e.BiometricManager.openSettings():n?c():a()}));return fe.createElement(fe.Fragment,null,fe.createElement("div",{className:ji($p.block,$p.settingsBlockWithDescription)},fe.createElement("div",{className:$p.item,onClick:g},fe.createElement("img",{className:$p.menuIcon,src:f,alt:""}),u,fe.createElement(FN,{className:$p.menuSwitcher,label:u,checked:n})),function(){if(!t.bA)return fe.createElement(Sc,{isCompact:!0,isOpen:l,title:s(m),onClose:d,dialogClassName:$p.stakingSafeDialog},fe.createElement("p",{className:bc.text},qo(s(p))),fe.createElement("div",{className:bc.buttons},fe.createElement(Ll,{onClick:d},s("Cancel")),fe.createElement(Ll,{onClick:h},s("Yes"))))}()),fe.createElement("p",{className:$p.blockDescription},s("To avoid entering the passcode every time, you can use biometrics.")))}))),FC=i.p+"settings_install-app.4e741ffc81f5e067f545.svg";let RC=function(e){return e[e.password=0]="password",e[e.settings=1]="settings",e[e.newPassword=2]="newPassword",e[e.createNewPin=3]="createNewPin",e[e.confirmNewPin=4]="confirmNewPin",e[e.passwordChanged=5]="passwordChanged",e[e.backup=6]="backup",e[e.safetyRules=7]="safetyRules",e[e.privateKey=8]="privateKey",e[e.secretWords=9]="secretWords",e}({});const MC=Oo()?RC.createNewPin:RC.newPassword,UC="never",WC=me(He((e=>{const{isPasswordNumeric:t,autolockValue:n,isAppLockEnabled:a}=e.settings,o=ut(e),r=mt(e),i=function(e){return!!et(e)}(e);return{isBiometricAuthEnabled:o,isNativeBiometricAuthEnabled:r,isMultichainAccount:dt(e,e.currentAccountId),isPasswordNumeric:t,isPasswordPresent:i,isAppLockEnabled:a,autolockValue:n,isLoading:e.auth.isLoading,currentAccountId:e.currentAccountId}}))((function(a){let{isActive:o,handleBackClick:r,isInsideModal:i,isBiometricAuthEnabled:s,isNativeBiometricAuthEnabled:c,isPasswordNumeric:d,isPasswordPresent:u,isMultichainAccount:m,isAppLockEnabled:p,autolockValue:f=UC,isAutoUpdateEnabled:h,currentAccountId:g,onSettingsClose:v,onAutoUpdateEnabledToggle:w,isLoading:y}=a;const{setIsPinAccepted:b,clearIsPinAccepted:E,disableNativeBiometrics:k,enableNativeBiometrics:N,openBiometricsTurnOffWarning:C,openBiometricsTurnOn:S,setSettingsState:A,setAppLockValue:T,setIsAuthLoading:I}=Ue(),B=Qi(),{isScrolled:_,handleScroll:x}=Fp(),[L,O]=re(RC.password),P=sl(L),[D,F]=re(RC.settings),[R,M]=re(),[U,W]=re(),[H,$]=re(void 0),[V,z]=re(!1),[j,q]=re(""),[K,Y]=re(""),Q=Cr((()=>{M(void 0)})),G=Cr((e=>{e||W(void 0),q(""),Y(""),Q(),E()})),X=Cr((()=>{r(),G()})),J=Cr((()=>{O(RC.confirmNewPin),F(RC.settings)})),Z=Cr((()=>{O(RC.settings),F(void 0),G(!0)})),ee=Cr((()=>{m?(O(RC.backup),F(RC.safetyRules)):Z()})),te=Cr((()=>{O(MC),F(RC.settings)})),ne=Cr((()=>{O(RC.passwordChanged),F(RC.settings)}));le((()=>{void 0===U&&o?O(RC.password):o||G()}),[U,o]),Il({isActive:o,onBack:X});const ae=Cr((async e=>{if(!await(0,n.p)("verifyPassword",e))return void M("Wrong password, please try again.");const t=await(0,n.p)("fetchMnemonic",g,e);z(Boolean(t&&!zo(t))),Oo()&&(b(),await Wo(!0)),Z(),W(e)})),oe=Cr((async e=>{await(0,n.p)("changePassword",U,e),I({isLoading:!0}),W(e),c&&(k(),await N({password:e})),Oo()?Z():ne(),I({isLoading:void 0})})),ie=Cr((async e=>{q(e),await Wo(!0),await(0,l.v7)(500),J()})),se=Cr((async e=>{e===j?(M(B("New code set successfully")),await(0,l.v7)(1500),await oe(e)):(M(B("Codes don’t match")),await(0,l.v7)(1500),G(!0),O(RC.createNewPin))})),ce=Cr((()=>{F(MC),te()})),de=Cr((()=>{$("key"),O(RC.safetyRules),F(RC.privateKey)})),ue=Cr((()=>{$("words"),O(RC.safetyRules),F(RC.secretWords)})),me=Cr((()=>{m?(O(RC.backup),F(void 0)):V?ue():de()})),pe=Cr((()=>{O(RC.privateKey),F(RC.backup)})),he=Cr((()=>{O(RC.secretWords),F(RC.backup)})),ge=Cr((()=>{T({value:f,isEnabled:!p})})),ve=Cr((e=>{T({value:e,isEnabled:!0})})),we=Cr((()=>{s?C():S()})),ye=Cr((async()=>{if(_o())return void A({state:Gt.NativeBiometricsTurnOn});const e=t.pz?"To use this feature, first enable Face ID in your phone settings.":"To use this feature, first enable biometrics in your phone settings.",{value:n}=await ug.confirm({title:B("Warning!"),message:B(e),okButtonTitle:B("Open Settings"),cancelButtonTitle:B("Cancel")});n&&await CC.open({optionAndroid:kC.ApplicationDetails,optionIOS:NC.App})})),be=u&&(_o()||t.ZH||oa()),Ee=i&&Oo();function ke(n,a,r){switch(r){case RC.settings:return fe.createElement("div",{className:$p.slide},i?fe.createElement(Hp,{title:B("Security"),withNotch:_,onBackButtonClick:X,className:$p.modalHeader}):fe.createElement("div",{className:ji($p.header,"with-notch-on-scroll",_&&"is-scrolled")},fe.createElement(Ll,{isSimple:!0,isText:!0,onClick:X,className:$p.headerBack},fe.createElement("i",{className:ji($p.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),fe.createElement("span",null,B("Back"))),fe.createElement("span",{className:$p.headerTitle},B("Security"))),fe.createElement("div",{className:ji($p.content,"custom-scroll"),onScroll:x},fe.createElement("div",{className:$p.settingsBlock},fe.createElement("div",{className:ji($p.item),onClick:me},fe.createElement("img",{className:$p.menuIcon,src:FC,alt:B("$back_up_security")}),B("$back_up_security"),fe.createElement("i",{className:ji($p.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),be&&fe.createElement(DC,{onEnable:ye}),u&&t.uh&&fe.createElement(fe.Fragment,null,fe.createElement("div",{className:ji($p.block,$p.settingsBlockWithDescription)},fe.createElement("div",{className:$p.item,onClick:we},fe.createElement("img",{className:$p.menuIcon,src:uf,alt:B("Biometric Authentication")}),B("Biometric Authentication"),fe.createElement(FN,{className:$p.menuSwitcher,label:B("Biometric Authentication"),checked:s}))),fe.createElement("p",{className:$p.blockDescription},B("To avoid entering the passcode every time, you can use biometrics."))),!(s&&!c)&&fe.createElement(fe.Fragment,null,fe.createElement("div",{className:ji($p.block,$p.settingsBlockWithDescription)},fe.createElement(Ll,{className:$p.changePasswordButton,isSimple:!0,onClick:ce},B(d?"Change Passcode":"Change Password"))),fe.createElement("p",{className:$p.blockDescription},B("The passcode will be changed for all your wallets."))),u&&fe.createElement(fe.Fragment,null,fe.createElement("div",{className:ji($p.block,$p.settingsBlockWithDescription)},fe.createElement("div",{className:ji($p.item,$p.itemSmall),onClick:ge},B("App Lock"),fe.createElement(FN,{className:$p.menuSwitcher,label:B("Allow App Lock"),checked:p})),fe.createElement(AC,{isShown:!!p},fe.createElement(sh,{label:B("Auto-Lock"),items:e.zTb,selectedValue:f,theme:"light",shouldTranslateOptions:!0,className:ji($p.item,$p.item_small),onChange:ve}))),fe.createElement("p",{className:$p.blockDescription},B("$app_lock_description",{app_name:e.C39}))),t.cp&&fe.createElement(fe.Fragment,null,fe.createElement("div",{className:ji($p.block,$p.settingsBlockWithDescription)},fe.createElement("div",{className:ji($p.item,$p.item_small),onClick:w},B("Auto-Updates"),fe.createElement(FN,{className:$p.menuSwitcher,label:B("Auto-Updates"),checked:h}))),fe.createElement("p",{className:$p.blockDescription},B("Turn this off so you can manually download updates and verify signatures.")))));case RC.password:return fe.createElement(fe.Fragment,null,i?fe.createElement(Hp,{title:B(d?"Confirm Passcode":"Confirm Password"),onBackButtonClick:X,className:$p.modalHeader}):fe.createElement("div",{className:$p.header},fe.createElement(Ll,{isSimple:!0,isText:!0,onClick:X,className:$p.headerBack},fe.createElement("i",{className:ji($p.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),fe.createElement("span",null,B("Back"))),fe.createElement("span",{className:$p.headerTitle},B("Enter Password"))),fe.createElement(Mm,{isActive:n&&o,error:R,containerClassName:e.UMQ?$p.passwordFormContent:$p.passwordFormContentInModal,forceBiometricsInMain:!i,placeholder:B("Enter your current password"),submitLabel:B("Continue"),onCancel:X,onSubmit:ae,onUpdate:Q}));case RC.newPassword:return fe.createElement(fe.Fragment,null,i?fe.createElement(Hp,{title:B("Change Password"),onBackButtonClick:Z,className:$p.modalHeader}):fe.createElement("div",{className:$p.header},fe.createElement(Ll,{isSimple:!0,isText:!0,onClick:Z,className:$p.headerBack},fe.createElement("i",{className:ji($p.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),fe.createElement("span",null,B("Back"))),fe.createElement("span",{className:$p.headerTitle},B("Change Password"))),fe.createElement("div",{className:ji(bc.transitionContent,$p.content)},fe.createElement(lm,{tgsUrl:xu.guard,previewUrl:xu.guardPreview,play:n,size:e.igk,nonInteractive:!0,noLoop:!1,className:$p.sticker}),fe.createElement(hf,{isActive:n,isLoading:y,onSubmit:oe,onCancel:Z,formId:"auth-create-password"})));case RC.createNewPin:return fe.createElement(fe.Fragment,null,i?fe.createElement(Hp,{onBackButtonClick:Z,className:$p.modalHeader,title:Ee&&B("Change Passcode")}):fe.createElement("div",{className:$p.header},fe.createElement(Ll,{isSimple:!0,isText:!0,onClick:Z,className:$p.headerBack},fe.createElement("i",{className:ji($p.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),fe.createElement("span",null,B("Back")))),fe.createElement("div",{className:ji($p.pinPadHeader,Ee&&$p.pinPadHeaderMinified)},fe.createElement(lm,{play:o,tgsUrl:xu.guard,previewUrl:xu.guardPreview,noLoop:!1,size:Ee?e.jzp:e.reE,nonInteractive:!0}),!Ee&&fe.createElement("div",{className:$p.pinPadTitle},B("Change Passcode"))),fe.createElement(Fm,{isActive:o,title:B("Enter your new code"),length:e.NEx,value:j,onChange:q,onSubmit:ie,isMinified:Ee}));case RC.confirmNewPin:return fe.createElement(fe.Fragment,null,i?fe.createElement(Hp,{onBackButtonClick:Z,className:$p.modalHeader,title:Ee&&B(R&&j===K?"Passcode Changed!":"Change Passcode")}):fe.createElement("div",{className:$p.header},fe.createElement(Ll,{isSimple:!0,isText:!0,onClick:Z,className:$p.headerBack},fe.createElement("i",{className:ji($p.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),fe.createElement("span",null,B("Back")))),fe.createElement("div",{className:ji($p.pinPadHeader,Ee&&$p.pinPadHeaderMinified)},fe.createElement(lm,{play:o,tgsUrl:xu.guard,previewUrl:xu.guardPreview,noLoop:!1,size:Ee?e.jzp:e.reE,nonInteractive:!0}),!Ee&&fe.createElement("div",{className:$p.pinPadTitle},B(R&&j===K?"Passcode Changed!":"Change Passcode"))),fe.createElement(Fm,{isActive:o,title:R||B("Re-enter your new code"),type:R?j===K?"success":"error":void 0,length:e.NEx,value:K,onChange:Y,onSubmit:se,isMinified:Ee}));case RC.passwordChanged:return fe.createElement(fe.Fragment,null,i?fe.createElement(Hp,{title:B("Password Changed!"),className:$p.modalHeader}):fe.createElement("div",{className:ji($p.header,$p.onlyTextHeader)},fe.createElement("span",{className:$p.headerTitle},B("Password Changed!"))),fe.createElement("div",{className:$p.content},fe.createElement(lm,{tgsUrl:xu.yeee,previewUrl:xu.yeeePreview,play:o,size:e.reE,nonInteractive:!0,noLoop:!1,className:ji($p.sticker,$p.stickerHuge)}),fe.createElement("div",{className:bc.buttons},fe.createElement(Ll,{isPrimary:!0,onClick:Z,className:bc.customSubmitButton},B("Done")))));case RC.backup:return fe.createElement(BC,{isActive:o&&n,isMultichainAccount:m,openSettingsSlide:Z,isInsideModal:i,onOpenPrivateKeySafetyRules:de,onOpenSecretWordsSafetyRules:ue,onBackClick:X,hasMnemonicWallet:V});case RC.safetyRules:return fe.createElement(OC,{isActive:o&&n,isInsideModal:i,backupType:H,onBackClick:ee,onSubmit:"key"===H?pe:he});case RC.secretWords:return fe.createElement(PC,{isActive:o&&n,isBackupSlideActive:r===RC.secretWords||r===RC.safetyRules,isInsideModal:i,enteredPassword:U,currentAccountId:g,onBackClick:ee,onSubmit:v});case RC.privateKey:return fe.createElement(LC,{isActive:o&&n,isBackupSlideActive:r===RC.privateKey||r===RC.safetyRules,isInsideModal:i,enteredPassword:U,currentAccountId:g,onBackClick:ee,onSubmit:v})}}return fe.createElement(Km,{direction:P===RC.password&&L===RC.settings?1:"auto",name:Rf(),className:ji(bc.transition,"custom-scroll"),slideClassName:ji($p.slide,i&&bc.transitionSlide),activeKey:L,nextKey:D,shouldCleanup:!0},ke)}))),HC={tokenSelectInputWrapper:"oCuiJXQ_",tokenSelectSearchIcon:"zftr1vD0",tokenSelectSearchResetWrapper:"Ss4Pd7B2",tokenSelectSearchReset:"oDrN01CP",tokenSelectSearchResetIcon:"ok_5nHql",tokenSelectInput:"fDjHi6pe",tokenSelectContent:"LodBlyss",tokenGroupContainer:"MbjJDq0G",tokenGroupHeader:"RpUAt2yS",tokenGroupTitle:"WhzSaV_6",tokenGroupAdditionalTitle:"FdHSpaSV",tokenContainer:"eUkSUO8W",tokenContainerDisabled:"tHJSsGRH",tokenLogoContainer:"nsViIoST",logoContainer:"adBlSlrG",tokenLogoSkeleton:"cGf45x9B",tokenLogoSymbol:"PSK73bRe",tokenLogo:"xiUmZwCy",tokenLogoDisabled:"OwvlXRrn",tokenNetworkLogoSkeleton:"MO1xaZfl",nameContainer:"ZPTo397c",tokenPriceContainer:"qGxMTfbW",tokenName:"Wgp2h4bc",tokenAmount:"QWmp5WQP",tokenNetwork:"gBNLwjjP",tokenValue:"S1V0VVx3",tokenNameSkeleton:"GkqdgXVp",tokenValueSkeleton:"AhEbK2G0",tokenNotFound:"zp0dyh68",tokenNotFoundTitle:"R7aa_jfY",tokenNotFoundDesc:"XlzS0_qG",tokenTextDisabled:"lotwVvdo"};var $C=function(e){return e[e.Initial=0]="Initial",e[e.Search=1]="Search",e[e.Loading=2]="Loading",e[e.Token=3]="Token",e[e.Empty=4]="Empty",e}($C||{});const VC=[],zC={},jC=me(He((e=>{var t,n,a;const{baseCurrency:o}=e.settings,{isLoading:r,token:i}=null!==(t=e.settings.importToken)&&void 0!==t?t:{},{pairs:s,tokenInSlug:l}=null!==(n=e.currentSwap)&&void 0!==n?n:{},c=function(e){var t,n;const a=null===(t=Je(e))||void 0===t||null===(t=t.balances)||void 0===t?void 0:t.bySlug;if(!a||!e.tokenInfo||!e.swapTokenInfo)return;const o=null!==(n=nt(e))&&void 0!==n?n:{},{areTokensWithNoCostHidden:r,isSortByValueEnabled:i}=e.settings;return fn(e.currentAccountId)(a,e.tokenInfo,e.swapTokenInfo,o,i,r)}(e),d=function(e){var t;const n=null===(t=Je(e))||void 0===t||null===(t=t.balances)||void 0===t?void 0:t.bySlug;if(n&&e.swapTokenInfo)return mn(e.currentAccountId)(n,e.swapTokenInfo)}(e),u=hn(e),m=dt(e,e.currentAccountId),p=null===(a=Ge(e))||void 0===a?void 0:a.addressByChain;return{baseCurrency:o,isLoading:r,token:i,pairsBySlug:null==s?void 0:s.bySlug,tokenInSlug:l,userTokens:c,popularTokens:d,swapTokens:u,isMultichain:m,availableChains:p}}))((function(t){let{token:n,userTokens:a=VC,swapTokens:o=VC,popularTokens:r=VC,header:i,shouldFilter:s,isInsideSettings:l,baseCurrency:c,tokenInSlug:d,pairsBySlug:u,isActive:m,isLoading:p,shouldHideMyTokens:f,shouldHideNotSupportedTokens:h=!1,isMultichain:g,availableChains:v=zC,onBack:w,onClose:y}=t;const{importToken:b,resetImportToken:E,openSettingsWithState:k,setSwapTokenIn:N,setSwapTokenOut:C,addToken:S,addSwapToken:A}=Ue(),T=Qi(),I=nr(c),B=ue(null),_=ue(null);Il({isActive:m,onBack:w}),se((()=>{if(m)return Ls(),Os}),[m]),Lu(_,!m);const{handleScroll:x}=Fp(),[L,O]=re(""),[P,D]=re(!1),[F,R]=re($C.Initial),[M,U]=re([]),W=de((e=>function(e,t,n,a){return e.length&&n?e.map((e=>{var o;const r=null==a||null===(o=a[n])||void 0===o?void 0:o[e.slug],i=Boolean(t?r:r&&!r.isMultichain);return{...e,canSwap:i}})).sort(((e,t)=>Number(t.canSwap)-Number(e.canSwap))):[]}(e,g,d,u)),[u,d,g]),H=ce((()=>qC(o,v,h)),[o,h,v]),$=ce((()=>qC(r,v,h)),[r,h,v]),{userTokensWithFilter:V,popularTokensWithFilter:z,swapTokensWithFilter:j}=ce((()=>s?{userTokensWithFilter:W(a),popularTokensWithFilter:W($),swapTokensWithFilter:W(o)}:{userTokensWithFilter:a,popularTokensWithFilter:$,swapTokensWithFilter:o}),[W,$,s,o,a]),q=ce((()=>{var t;const n=l?H:j,a=L.toLowerCase(),o=a.trim();if(a.length&&!o.length)return[];const r=null!==(t=n.filter((e=>{let{name:t,symbol:n,keywords:a,isDisabled:r}=e;if(r)return!1;const i=t.toLowerCase().includes(o),s=n.toLowerCase().includes(o),l=null==a?void 0:a.some((e=>e.toLowerCase().includes(o)));return i||s||l})))&&void 0!==t?t:[],i=r.reduce(((t,n)=>{const a={tickerExactMatch:0,tickerMatchLength:0,nameMatchLength:0,specialOrder:0},r=n.symbol.toLowerCase(),i=n.name.toLowerCase();return r===o&&(a.tickerExactMatch=1),r.includes(o)&&(a.tickerMatchLength=o.length),i.includes(o)&&(a.nameMatchLength=o.length),n.slug===e.rUK&&(a.specialOrder=2),n.slug!==e.QSz&&n.slug!==e.vsz||(a.specialOrder=1),t[n.slug]=a,t}),{});return r.sort(((e,t)=>{const n=function(e,t){return e.specialOrder!==t.specialOrder?t.specialOrder-e.specialOrder:e.tickerExactMatch!==t.tickerExactMatch?t.tickerExactMatch-e.tickerExactMatch:e.tickerMatchLength!==t.tickerMatchLength?t.tickerMatchLength-e.tickerMatchLength:t.nameMatchLength-e.nameMatchLength}(i[e.slug],i[t.slug]);return 0!==n?n:Number(t.amount-e.amount)}))}),[H,l,L,j]),K=()=>{O("")};ll((()=>{D(Boolean(L.length));const e=Cn(L,"ton");let t=$C.Initial;p&&e?t=$C.Loading:n&&e?t=$C.Token:L.length&&0!==q.length?t=$C.Search:0===q.length&&(t=$C.Empty),R(t),t!==$C.Initial&&U(q)}),[M.length,p,L,n,q]),se((()=>{Cn(L,"ton")?(b({address:L,isSwap:!0}),R($C.Loading)):E()}),[L]),le((()=>{m&&B.current&&(B.current.scrollTop=0)}),[m]);const Y=Cr((e=>{var t;null===(t=_.current)||void 0===t||t.blur(),l?S({token:e}):(A({token:e}),(s?C:N)({tokenSlug:e.slug})),K(),w()})),Q=Cr((()=>{y(),k({state:Gt.Assets})}));function G(e){const t=!s||e.canSwap,n=t?Nk(e.chain):T("Unavailable"),a=t?()=>Y(e):void 0,o=0===e.price?T("No Price"):Jo(e.price,I,void 0,!0);return fe.createElement("div",{key:e.slug,className:ji(HC.tokenContainer,!t&&HC.tokenContainerDisabled),onClick:a},fe.createElement("div",{className:HC.tokenLogoContainer},fe.createElement(xv,{token:e,withChainIcon:!0,className:ji(HC.tokenLogo,!t&&HC.tokenLogoDisabled)}),fe.createElement("div",{className:HC.nameContainer},fe.createElement("span",{className:ji(HC.tokenName,!t&&HC.tokenTextDisabled)},e.name),fe.createElement("span",{className:ji(HC.tokenNetwork,!t&&HC.tokenTextDisabled)},n))),fe.createElement("div",{className:HC.tokenPriceContainer},fe.createElement("span",{className:ji(HC.tokenAmount,!t&&HC.tokenTextDisabled)},Jo((0,vt.nI)(e.amount,null==e?void 0:e.decimals),e.symbol)),fe.createElement("span",{className:ji(HC.tokenValue,!t&&HC.tokenTextDisabled)},o)))}function X(e,t,n){return fe.createElement("div",{className:HC.tokenGroupContainer},fe.createElement("div",{className:HC.tokenGroupHeader},fe.createElement("span",{className:HC.tokenGroupTitle},t),n&&fe.createElement("span",{className:HC.tokenGroupAdditionalTitle,onClick:Q},T("Settings"))),e.map(G))}function J(){return fe.createElement("div",{className:ji(HC.tokenContainer,HC.tokenContainerDisabled)},fe.createElement("div",{className:HC.tokenLogoContainer},fe.createElement("div",{className:HC.logoContainer},fe.createElement("div",{className:HC.tokenLogoSkeleton}),fe.createElement("div",{className:HC.tokenNetworkLogoSkeleton})),fe.createElement("div",{className:HC.nameContainer},fe.createElement("span",{className:HC.tokenNameSkeleton}),fe.createElement("span",{className:HC.tokenValueSkeleton}))),fe.createElement("div",{className:HC.tokenPriceContainer},fe.createElement("span",{className:ji(HC.tokenNameSkeleton,HC.rotateSkeleton)}),fe.createElement("span",{className:HC.tokenValueSkeleton})))}function Z(e){return e?fe.createElement("div",{className:HC.tokenGroupContainer},G(e)):fe.createElement(fe.Fragment,null,J(),J(),J(),J(),J())}function ee(t,a,o){switch(o){case $C.Initial:return fe.createElement(fe.Fragment,null,!f&&X(V,T("MY"),!0),X(z,T("POPULAR")));case $C.Loading:return Z();case $C.Search:return fe.createElement("div",{className:HC.tokenGroupContainer},M.map(G));case $C.Token:return Z(n);case $C.Empty:return fe.createElement("div",{className:HC.tokenNotFound},fe.createElement(lm,{play:t,tgsUrl:xu.noData,previewUrl:xu.noDataPreview,size:e.lWW,noLoop:!1,nonInteractive:!0}),fe.createElement("span",{className:HC.tokenNotFoundTitle},T("Not Found")),fe.createElement("span",{className:HC.tokenNotFoundDesc},T("Try another keyword or address.")))}}return fe.createElement(fe.Fragment,null,i||fe.createElement(Hp,{title:T("Select Token"),onBackButtonClick:w,onClose:y}),fe.createElement("div",{className:HC.tokenSelectInputWrapper},fe.createElement("i",{className:ji(HC.tokenSelectSearchIcon,"icon-search"),"aria-hidden":!0}),fe.createElement("input",{ref:_,name:"token-search-modal",className:HC.tokenSelectInput,onChange:e=>O(e.target.value),placeholder:T("Name or Address..."),value:L}),fe.createElement(Km,{name:"fade",activeKey:P?0:1,className:HC.tokenSelectSearchResetWrapper},P&&fe.createElement("button",{type:"button",className:HC.tokenSelectSearchReset,"aria-label":T("Clear"),onClick:K},fe.createElement("i",{className:ji(HC.tokenSelectSearchResetIcon,"icon-close"),"aria-hidden":!0})))),fe.createElement("div",{ref:B,className:ji(HC.tokenSelectContent,"custom-scroll"),onScroll:x},fe.createElement(Km,{name:"fade",activeKey:F},ee)))})));function qC(e,t,n){return n?e.filter((e=>e.chain in t)):e}const KC=me((function(e){let{isActive:t,isInsideModal:n,handleBackClick:a}=e;const o=Qi();return Il({isActive:t,onBack:a}),fe.createElement("div",{className:ji($p.slide,$p.withTopSpace)},fe.createElement(jC,{isActive:t,isInsideSettings:!0,shouldHideMyTokens:!0,shouldHideNotSupportedTokens:!0,header:fe.createElement("div",{className:ji($p.header,n&&$p.headerInsideModal)},fe.createElement(Ll,{isSimple:!0,isText:!0,className:ji($p.headerBack,n&&$p.isInsideModal),onClick:a},fe.createElement("i",{className:ji($p.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),fe.createElement("span",null,o("Back"))),fe.createElement("span",{className:$p.headerTitle},o("Select Token"))),onBack:a,onClose:a}))})),YC=me((function(e){let{isActive:t,handleBackClick:n,isInsideModal:a,currentVersion:o,wallets:r}=e;const{closeSettings:i,importAccountByVersion:s}=Ue(),l=Qi();Il({isActive:t,onBack:n});const{handleScroll:c,isScrolled:d}=Fp(),u=Cr((e=>{i(),s({version:e})}));return fe.createElement("div",{className:$p.slide},a?fe.createElement(Hp,{title:l("Wallet Versions"),withNotch:d,onBackButtonClick:n,className:$p.modalHeader}):fe.createElement("div",{className:ji($p.header,"with-notch-on-scroll",d&&"is-scrolled")},fe.createElement(Ll,{isSimple:!0,isText:!0,onClick:n,className:$p.headerBack},fe.createElement("i",{className:ji($p.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),fe.createElement("span",null,l("Back"))),fe.createElement("span",{className:$p.headerTitle},l("Wallet Versions"))),fe.createElement("div",{className:ji($p.content,"custom-scroll"),onScroll:c},fe.createElement("div",{className:$p.blockWalletVersionText},fe.createElement("span",null,l("$current_wallet_version",{version:fe.createElement("strong",null,o)})),fe.createElement("span",null,l("You have tokens on other versions of your wallet. You can import them from here."))),fe.createElement("div",{className:$p.block},null==r?void 0:r.map((e=>fe.createElement("div",{key:e.address,className:ji($p.item,$p.item_wallet_version),onClick:()=>u(e.version)},fe.createElement("div",{className:$p.walletVersionInfo},fe.createElement("span",{className:$p.walletVersionTitle},e.version),fe.createElement("span",{className:$p.walletVersionAddress},Wr(e.address))),fe.createElement("div",{className:$p.walletVersionInfoRight},fe.createElement("span",{className:$p.walletVersionTokens},e.tokens.join(", ")),fe.createElement("span",{className:$p.walletVersionAmount},"≈ ",e.totalBalance)),fe.createElement("i",{className:ji($p.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))))),fe.createElement("div",{className:$p.blockWalletVersionReadMore},l("$read_more_about_wallet_version",{ton_link:fe.createElement("a",{href:"https://docs.ton.org/participate/wallets/contracts",target:"_blank",rel:"noreferrer"},"ton.org")}))))})),QC=i.p+"settings_about.595108a2131c96b2a073.svg",GC=i.p+"settings_appearance.2b14c893329172079cde.svg",XC=i.p+"settings_assets-activity.1ad5da85234bf09fece1.svg",JC=i.p+"settings_connected-dapps.2040e629b6b7c8322782.svg",ZC=i.p+"settings_disclaimer.253b4de147ec357601d1.svg",eS=i.p+"settings_exit.32a8c2a0aa15b32cbe18.svg",tS=i.p+"settings_helpcenter.c1b63b9a0edfbe3ca57a.svg",nS=i.p+"settings_install-desktop.f9ff2be3a8a645314652.svg",aS=i.p+"settings_install-mobile.9a3f10a7012a857e2ba2.svg",oS=i.p+"settings_language.5082638742f18ab7aea8.svg",rS=i.p+"settings_ledger.d4d0de11ad8edd55b0ca.svg",iS=i.p+"settings_mtw-cards.aa09d8a35d4b36e090c8.svg",sS=i.p+"settings_mytonwallet.0bfa3bfd3fb936194997.svg",lS=i.p+"settings_notifications.20cf46edde7f154d46e3.svg",cS=i.p+"settings_security.a5617ce7a598d672dc6d.svg",dS=i.p+"settings_support.de2a6e66d58407937014.svg",uS=i.p+"settings_telegram-menu.48b7177fffab504e301c.svg",mS=i.p+"settings_tips.4f95b86d29d530790adb.svg",pS=i.p+"settings_ton-links.d9f0da8222e4a54c9332.svg",fS=i.p+"settings_ton-magic.bc2fb1d30938a1154b6c.svg",hS=i.p+"settings_ton-proxy.21c95b346710c5a73217.svg",gS=i.p+"settings_wallet-version.651cf56eff6ca7827bf6.svg",vS=1,wS=me(He((e=>{var t;const n=at(e),a=Ye(e),{isCopyStorageEnabled:o,supportAccountsCount:r=1}=e.restrictions,{currentVersion:i,byId:s}=null!==(t=e.walletVersions)&&void 0!==t?t:{},l=null==s?void 0:s[e.currentAccountId],{dapps:c=Tg}=Je(e)||{},{hardwareWallets:d,hardwareState:u,isLedgerConnected:m,isTonAppConnected:p,isRemoteTab:f}=e.hardware;return{settings:e.settings,dapps:c,isOpen:e.areSettingsOpen,tokens:Et(e),isHardwareAccount:n,currentVersion:i,versions:l,isCopyStorageEnabled:o,supportAccountsCount:r,hardwareState:u,isLedgerConnected:m,isTonAppConnected:p,isRemoteTab:f,hardwareWallets:d,accounts:a,arePushNotificationsAvailable:e.pushNotifications.isAvailable}}))((function(n){let{settings:{state:a,theme:o,animationLevel:r,isTestnet:i,langCode:s,isTonProxyEnabled:l,isTonMagicEnabled:c,isDeeplinkHookEnabled:d,baseCurrency:u},dapps:m,isActive:p,isOpen:f=!1,tokens:h,isInsideModal:g,isHardwareAccount:v,currentVersion:w,versions:y,isCopyStorageEnabled:b,supportAccountsCount:E=vS,accounts:k,hardwareWallets:N,hardwareState:C,isLedgerConnected:S,isTonAppConnected:A,isRemoteTab:T,arePushNotificationsAvailable:I}=n;const{setSettingsState:B,openSettingsHardwareWallet:_,closeSettings:x,toggleDeeplinkHook:L,toggleTonProxy:O,toggleTonMagic:P,getDapps:D,clearIsPinAccepted:F,afterSelectHardwareWallets:R}=Ue(),M=Qi(),{isPortrait:U}=Qa(),W=ue(null),{renderingKey:H}=Mf(a,f),[$,V]=re(i?5:0),z=Nr(Eg(H)),[j,q,K]=yd(),[Y,Q,G]=yd(),X=H===Gt.Initial,J=ce((()=>e.gSB.find((e=>e.langCode===s))),[s]),Z=nr(u),ee=ce((()=>null==h?void 0:h.find((t=>{let{slug:n}=t;return n===e.Tu9.slug}))),[h]),te=ce((()=>{var e;return null!==(e=null==y?void 0:y.map((e=>{var t,n;const a=Jo((0,vt.nI)(e.balance),null!==(t=null==ee?void 0:ee.symbol)&&void 0!==t?t:""),o=Jo((0,vt.CF)(e.balance).mul(null!==(n=null==ee?void 0:ee.price)&&void 0!==n?n:0).round(null==ee?void 0:ee.decimals),Z),r=[a];return{address:e.address,version:e.version,totalBalance:o,tokens:r}})))&&void 0!==e?e:[]}),[Z,ee,y]),{transitionClassNames:ne,shouldRender:ae}=Gi(c),{handleScroll:oe,isScrolled:ie}=Fp(),le=Cr((()=>{z.current===Gt.NativeBiometricsTurnOn&&F()})),de=Cr((()=>{x(void 0,{forceOnHeavyAnimation:!0})}));Il({isActive:p&&X,onBack:de,shouldIgnoreForTelegram:g}),$u(f&&!X);const me=Cr((()=>{K(),e.TI6&&de()})),pe=Cr((()=>{D(),B({state:Gt.Dapps})}));function he(){B({state:Gt.Appearance})}function ge(){B({state:Gt.PushNotifications})}function ve(){B({state:Gt.Security})}function we(){B({state:Gt.Assets})}function ye(){B({state:Gt.Language})}function be(){B({state:Gt.About})}function Ee(){B({state:Gt.Disclaimer})}const ke=Cr((()=>{B({state:Gt.Initial})})),Ne=Cr((()=>{B({state:Gt.Assets})})),Ce=Cr((()=>{B({state:Gt.WalletVersion})})),Se=Cr((()=>{L({isEnabled:!d})})),Ae=Cr((()=>{O({isEnabled:!l})})),Te=Cr((()=>{P({isEnabled:!c})}));function Ie(){Ma("https://mytonwallet.io/get",{isExternal:!0})}function Be(){Ma("https://mytonwallet.io/get/desktop",{isExternal:!0})}function _e(){Ma("https://mytonwallet.io/get/mobile",{isExternal:!0})}const xe=Cr((()=>{R({hardwareSelectedIndices:[N[0].index]}),de()})),Le=Cr((e=>{e?xe():B({state:Gt.LedgerSelectWallets})})),[Oe,Pe]=re(!1);se((()=>{var e;null===(e=window.electron)||void 0===e||e.getIsTrayIconEnabled().then(Pe)}),[]);const De=Cr((()=>{var e;Pe(!Oe),null===(e=window.electron)||void 0===e||e.setIsTrayIconEnabled(!Oe)})),[Fe,Re]=re(!1);se((()=>{var e;null===(e=window.electron)||void 0===e||e.getIsAutoUpdateEnabled().then(Re)}),[]);const Me=Cr((()=>{var e;Re(!Fe),null===(e=window.electron)||void 0===e||e.setIsAutoUpdateEnabled(!Fe)})),We=Cr((()=>{X?g&&de():ke()})),He=Cr((e=>{G(),e&&de()}));function $e(){_()}const Ve=()=>{$+1>=5?q():V($+1)};function ze(){return fe.createElement("div",{className:$p.item,onClick:Se},fe.createElement("img",{className:$p.menuIcon,src:pS,alt:M("Handle ton:// links")}),M("Handle ton:// links"),fe.createElement(FN,{className:$p.menuSwitcher,label:M("Handle ton:// links"),checked:d}))}function je(n,a,d){switch(d){case Gt.Initial:return fe.createElement("div",{className:$p.slide},g?fe.createElement(Hp,{title:M("Settings"),withNotch:ie,onClose:U?void 0:de,className:$p.modalHeader}):fe.createElement("div",{className:ji($p.header,"with-notch-on-scroll",ie&&"is-scrolled")},fe.createElement(Ll,{isSimple:!0,isText:!0,onClick:de,className:ji($p.headerBack,U&&$p.hidden)},fe.createElement("i",{className:ji($p.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),fe.createElement("span",null,M("Back"))),fe.createElement("span",{className:$p.headerTitle},M("Settings"))),fe.createElement("div",{className:ji($p.content,"custom-scroll",$p.withBottomSpace),onScroll:oe},e.TI6&&fe.createElement("div",{className:$p.block},fe.createElement("div",{className:$p.item,onClick:Ie},fe.createElement("img",{className:$p.menuIcon,src:sS,alt:M("Upgrade to MyTonWallet")}),M("Upgrade to MyTonWallet"),fe.createElement("i",{className:ji($p.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),!e.TI6&&t.u2&&fe.createElement("div",{className:$p.block},fe.createElement("div",{className:$p.item,onClick:Ie},fe.createElement("img",{className:$p.menuIcon,src:FC,alt:M("Install App")}),M("Install App"),fe.createElement("i",{className:ji($p.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),e.hL1&&fe.createElement("div",{className:$p.block},e.hnd&&fe.createElement("div",{className:$p.item,onClick:Ae},fe.createElement("img",{className:$p.menuIcon,src:hS,alt:M("TON Proxy")}),M("TON Proxy"),fe.createElement(FN,{className:$p.menuSwitcher,label:M("Toggle TON Proxy"),checked:l})),fe.createElement("div",{className:$p.item,onClick:Te},fe.createElement("img",{className:$p.menuIcon,src:fS,alt:M("TON Magic")}),M("TON Magic"),fe.createElement(FN,{className:$p.menuSwitcher,label:M("Toggle TON Magic"),checked:c})),ae&&fe.createElement("div",{className:ji($p.item,ne),onClick:yS},fe.createElement("img",{className:$p.menuIcon,src:uS,alt:M("Open Telegram Web")}),M("Open Telegram Web"),fe.createElement("i",{className:ji($p.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),ze()),t.cp&&fe.createElement("div",{className:$p.block},ze()),fe.createElement("div",{className:$p.block},fe.createElement("div",{className:$p.item,onClick:ge},fe.createElement("img",{className:$p.menuIcon,src:lS,alt:M(I?"Notifications & Sounds":"Sounds")}),M(I?"Notifications & Sounds":"Sounds"),fe.createElement("i",{className:ji($p.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),fe.createElement("div",{className:$p.item,onClick:he},fe.createElement("img",{className:$p.menuIcon,src:GC,alt:M("Appearance")}),M("Appearance"),fe.createElement("i",{className:ji($p.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),!e.K_I&&fe.createElement("div",{className:$p.item,onClick:we},fe.createElement("img",{className:$p.menuIcon,src:XC,alt:M("Assets & Activity")}),M("Assets & Activity"),fe.createElement("i",{className:ji($p.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),!v&&fe.createElement("div",{className:$p.item,onClick:ve},fe.createElement("img",{className:$p.menuIcon,src:cS,alt:M("Security")}),M("Security"),fe.createElement("i",{className:ji($p.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),t.ED&&fe.createElement("div",{className:$p.item,onClick:pe},fe.createElement("img",{className:$p.menuIcon,src:JC,alt:M("Connected Dapps")}),M("Connected Dapps"),fe.createElement("div",{className:$p.itemInfo},m.length?m.length:"",fe.createElement("i",{className:ji($p.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),!e.TI6&&fe.createElement("div",{className:$p.item,onClick:ye},fe.createElement("img",{className:$p.menuIcon,src:oS,alt:M("Language")}),M("Language"),fe.createElement("div",{className:$p.itemInfo},null==J?void 0:J.name,fe.createElement("i",{className:ji($p.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})))),(!(null==y||!y.length)||t.sC)&&fe.createElement("div",{className:$p.block},!(null==y||!y.length)&&fe.createElement("div",{className:$p.item,onClick:Ce},fe.createElement("img",{className:$p.menuIcon,src:gS,alt:M("Wallet Versions")}),M("Wallet Versions"),fe.createElement("div",{className:$p.itemInfo},w,fe.createElement("i",{className:ji($p.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),t.sC&&fe.createElement("div",{className:$p.item,onClick:$e},fe.createElement("img",{className:$p.menuIcon,src:rS,alt:M("Connect Ledger")}),M("Connect Ledger"),fe.createElement("i",{className:ji($p.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),!e.TI6&&fe.createElement(fe.Fragment,null,fe.createElement("div",{className:$p.block},fe.createElement("a",{href:"https://cards.mytonwallet.io",target:"_blank",rel:"noopener noreferrer",className:$p.item},fe.createElement("img",{className:$p.menuIcon,src:iS,alt:M("MyTonWallet Cards NFT")}),M("MyTonWallet Cards NFT"),fe.createElement("i",{className:ji($p.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),fe.createElement("div",{className:$p.block},fe.createElement("a",{href:`https://t.me/${null!==(u=e.AIK[s])&&void 0!==u?u:e.AIK.en}`,target:"_blank",rel:"noopener noreferrer",className:$p.item},fe.createElement("img",{className:$p.menuIcon,src:mS,alt:M("MyTonWallet Tips")}),M("MyTonWallet Tips"),fe.createElement("i",{className:ji($p.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),fe.createElement("a",{href:null!==(f=e.nrE[s])&&void 0!==f?f:e.nrE.en,target:"_blank",rel:"noopener noreferrer",className:$p.item},fe.createElement("img",{className:$p.menuIcon,src:tS,alt:M("Help Center")}),M("Help Center"),fe.createElement("i",{className:ji($p.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),E>0&&fe.createElement("a",{href:`https://t.me/${e.Fkn}`,target:"_blank",rel:"noopener noreferrer",className:$p.item},fe.createElement("img",{className:$p.menuIcon,src:dS,alt:M("Get Support")}),M("Get Support"),fe.createElement("div",{className:$p.itemInfo},fe.createElement("span",{className:$p.small},"@",e.Fkn),fe.createElement("i",{className:ji($p.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))))),fe.createElement("div",{className:$p.block},fe.createElement("div",{className:$p.item,onClick:Ee},fe.createElement("img",{className:$p.menuIcon,src:ZC,alt:M("Use Responsibly")}),M("Use Responsibly"),fe.createElement("i",{className:ji($p.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),!e.TI6&&e.UMQ&&fe.createElement("div",{className:$p.block},fe.createElement("div",{className:$p.item,onClick:Be},fe.createElement("img",{className:$p.menuIcon,src:nS,alt:M("Install on Desktop")}),M("Install on Desktop"),fe.createElement("i",{className:ji($p.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),!e.TI6&&t.cp&&fe.createElement("div",{className:$p.block},fe.createElement("div",{className:$p.item,onClick:_e},fe.createElement("img",{className:$p.menuIcon,src:aS,alt:M("Install on Mobile")}),M("Install on Mobile"),fe.createElement("i",{className:ji($p.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),!e.TI6&&fe.createElement("div",{className:$p.block},!e.TI6&&e.hL1&&fe.createElement("div",{className:$p.item,onClick:Ie},fe.createElement("img",{className:$p.menuIcon,src:FC,alt:M("Install App")}),M("Install App"),fe.createElement("i",{className:ji($p.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),!e.TI6&&fe.createElement("div",{className:$p.item,onClick:be},fe.createElement("img",{className:$p.menuIcon,src:QC,alt:""}),M("About %app_name%",{app_name:e.C39}),fe.createElement("i",{className:ji($p.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),fe.createElement("div",{className:$p.block},fe.createElement("div",{className:ji($p.item,$p.item_red),onClick:Q},fe.createElement("img",{className:$p.menuIcon,src:eS,alt:M("Exit")}),M("Exit"),fe.createElement("i",{className:ji($p.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),fe.createElement("div",{className:$p.version,onClick:Ve},e.C39," ",e.hl5," ",e.vOV)),fe.createElement(fC,{isOpen:j,isTestnet:i,isCopyStorageEnabled:b,onClose:me}));case Gt.PushNotifications:return fe.createElement(EC,{isActive:n,handleBackClick:ke,isInsideModal:g});case Gt.Appearance:return fe.createElement(QN,{isActive:n,theme:o,animationLevel:r,handleBackClick:ke,isInsideModal:g,isTrayIconEnabled:Oe,onTrayIconEnabledToggle:De});case Gt.Assets:return fe.createElement(sC,{isActive:n,isInsideModal:g,onBack:ke});case Gt.Security:return fe.createElement(WC,{isActive:p&&n,handleBackClick:ke,isInsideModal:g,isAutoUpdateEnabled:Fe,onAutoUpdateEnabledToggle:Me,onSettingsClose:de});case Gt.Dapps:return fe.createElement(dC,{isActive:n,dapps:m,handleBackClick:ke,isInsideModal:g});case Gt.Language:return fe.createElement(bC,{isActive:n,langCode:s,handleBackClick:ke,isInsideModal:g});case Gt.About:return fe.createElement(Vp,{isActive:n,handleBackClick:ke,isInsideModal:g,theme:o});case Gt.Disclaimer:return fe.createElement(hC,{isActive:n,handleBackClick:ke,isInsideModal:g});case Gt.NativeBiometricsTurnOn:return fe.createElement(jN,{isActive:n,handleBackClick:ke});case Gt.SelectTokenList:return fe.createElement(KC,{isActive:n,isInsideModal:g,handleBackClick:Ne});case Gt.WalletVersion:return fe.createElement(YC,{isActive:n,currentVersion:w,handleBackClick:ke,isInsideModal:g,wallets:te});case Gt.LedgerConnectHardware:return fe.createElement("div",{className:$p.slide},fe.createElement(vh,{isActive:n,isStatic:!g,shouldDelegateToNative:t.KI&&!g,state:C,isLedgerConnected:S,isTonAppConnected:A,isRemoteTab:T,className:$p.nestedTransition,onBackButtonClick:ke,onConnected:Le,onClose:We}));case Gt.LedgerSelectWallets:return fe.createElement("div",{className:$p.slide},fe.createElement($g,{isActive:n,isStatic:!g,accounts:k,hardwareWallets:N,onBackButtonClick:ke,onClose:We}));case Gt.HiddenNfts:return fe.createElement(wC,{isActive:n,handleBackClick:Ne,isInsideModal:g})}var u,f}return se((()=>Xf(g?We:ke)),[g]),se((()=>{if(t.TF)return Im(W.current,{onSwipeRightStart:t.bA?ke:We,onCancel:()=>{B({state:z.current})}})}),[z]),fe.createElement("div",{className:$p.wrapper},fe.createElement(Km,{ref:W,name:Rf(),className:ji(g?bc.transition:$p.transitionContainer,"custom-scroll"),activeKey:H,slideClassName:ji(g&&bc.transitionSlide),withSwipeControl:!0,onStop:Oo()?le:void 0},je),fe.createElement(DN,{isOpen:Y,onClose:He}),t.uh&&fe.createElement(zN,{isInsideModal:g}))})));function yS(){window.open(e.h4K,"_blank","noopener")}const bS=me(He((e=>({isMediaViewerOpen:Boolean(e.mediaViewer.mediaId)})))((function(n){let{children:a,isOpen:o,onClose:r,isMediaViewerOpen:i}=n;const s=ji($p.modalDialog,!(t.cp||e.hL1)&&$p.modalDialogWeb);return fe.createElement(Sc,{hasCloseButton:!0,isOpen:o&&!i,dialogClassName:s,contentClassName:$p.modalContent,nativeBottomSheetKey:"settings",forceFullNative:!0,onClose:r},a)}))),ES=me((function(a){let{isActive:o,swapType:r,toAddress:i="",tokenIn:s,tokenOut:l}=a;const{cancelSwap:c,setSwapCexAddress:d,showNotification:u,setSwapScreen:m,requestOpenQrScanner:p}=Ue(),f=Qi(),{isPortrait:h}=Qa(),g=ue(null),[v,w]=re(t.Et),[y,b,E]=yd(),[k,N]=re(!1),[C,S]=re(r!==jt.CrosschainFromWallet),A=iy(),T=v&&""===i,I=i.length>28?Wr(i,14)||"":i,B=Cr((()=>{N(!1),S(!1),m({state:h?$t.Initial:$t.None})}));Il({isActive:o,onBack:B});const _=Cr((()=>{const e=g.current;requestAnimationFrame((()=>{const t=e.selectionStart;b(),requestAnimationFrame((()=>{const n=t<=17?t:Math.max(0,e.value.length-(I.length-t));e.setSelectionRange(n,n),n>28&&(e.scrollLeft=e.scrollWidth-e.clientWidth)}))}))})),x=Cr((async e=>{if(!e.length)return N(!1),void S(!1);const t=await(0,n.p)("swapCexValidateAddress",{slug:null==l?void 0:l.slug,address:e});if(!t)return N(!1),void S(!1);N(!t.result),S(t.result)})),L=Cr((()=>{E()})),O=Cr((e=>{d({toAddress:e.trim()})})),P=Cr((async()=>{try{const{type:e,text:t}=await Vo();"text/plain"===e&&(d({toAddress:t.trim()}),await x(t.trim()))}catch(e){u({message:f("Error reading clipboard")}),w(!1)}}));se((()=>{x(i)}),[i,x]);const D=Cr((()=>{Mo(),m({state:$t.Password})})),F=Cr((()=>{p(),c()})),R=f("$swap_from_to",{from:null==s?void 0:s.symbol,icon:fe.createElement("i",{className:ji("icon-arrow-right","yFebB6BA"),"aria-hidden":!0}),to:null==l?void 0:l.symbol});return fe.createElement(fe.Fragment,null,fe.createElement(Hp,{title:R,onClose:c}),fe.createElement("div",{className:ji(iw,ww,"custom-scroll")},fe.createElement(lm,{play:o,noLoop:!1,nonInteractive:!0,tgsUrl:xu.bill,previewUrl:xu.billPreview,size:e.igk}),function(){if(r===jt.CrosschainFromWallet)return fe.createElement(fe.Fragment,null,fe.createElement("div",{className:"b7EwDSEo"},fe.createElement(wm,{ref:g,isRequired:!0,placeholder:f("Your address on another blockchain"),value:y?i:I,onInput:O,onFocus:_,onBlur:L,wrapperClassName:"DTAq0std"},A&&fe.createElement(Ll,{isSimple:!0,className:ji(bw,T&&"xDE5m07O"),onClick:F,ariaLabel:f("Scan QR Code")},fe.createElement("i",{className:"icon-qr-scanner-alt","aria-hidden":!0})),T&&fe.createElement(Ll,{isSimple:!0,className:bw,onClick:P,ariaLabel:f("Paste")},fe.createElement("i",{className:"icon-paste","aria-hidden":!0})))),function(){const e=k?f("Incorrect address."):f("Please provide an address of your wallet in %blockchain% blockchain to receive bought tokens.",{blockchain:Nk(null==l?void 0:l.chain)});return fe.createElement(Km,{name:"fade",activeKey:k?0:1,slideClassName:"ywkeppF2"},fe.createElement("span",{className:ji("CBP3_LjF",k&&"t2EtyAQD")},e))}())}(),fe.createElement("div",{className:ji("pQ9YM0ta",bc.footerButtons)},fe.createElement(Ll,{onClick:B,className:bc.buttonHalfWidth},f("Close")),fe.createElement(Ll,{isPrimary:!0,isDisabled:!C,className:bc.buttonHalfWidth,onClick:D},f("Continue")))))})),kS="e8xjMuq6",NS="n91WXWIY",CS="nOPyXt4f",SS=me(He((e=>{var t;return{addressByChain:null===(t=Ge(e))||void 0===t?void 0:t.addressByChain}}))((function(e){let{tokenIn:t,tokenOut:n,amountIn:a,amountOut:o,playAnimation:r,firstButtonText:i,secondButtonText:s,swapType:l,toAddress:c="",addressByChain:d,onFirstButtonClick:u,onSecondButtonClick:m}=e;const p=Qi(),f=Dt({from:t,to:n,toAddress:c,addressByChain:d}),h=ce((()=>Boolean(c&&Object.values(null!=d?d:{}).some((e=>e===c)))),[d,c]);return fe.createElement(fe.Fragment,null,function(){if(l!==jt.CrosschainFromWallet||f)return fe.createElement(lm,{play:r,noLoop:!1,nonInteractive:!0,className:"TY_nyPoa",tgsUrl:xu.thumbUp,previewUrl:xu.thumbUpPreview})}(),fe.createElement(Tk,{tokenIn:t,amountIn:a,tokenOut:n,amountOut:o}),l!==jt.OnChain&&fe.createElement("div",{className:NS},fe.createElement("span",{className:CS},p("Please note that it may take up to a few hours for tokens to appear in your wallet."))),function(){if(l!==jt.CrosschainFromWallet||h)return;const e=Pt(null==n?void 0:n.chain)?n.chain:void 0;return fe.createElement("div",{className:NS},fe.createElement("span",{className:CS},p("$swap_changelly_from_ton_description",{blockchain:fe.createElement("span",{className:"bTumpDcM"},Nk(null==n?void 0:n.chain))})),fe.createElement(Hh,{chain:e,address:c,copyNotification:p("Address was copied!"),noSavedAddress:!0,noExplorer:!0,className:"qcMvwyr2"}))}(),function(){if(i||s)return fe.createElement("div",{className:"JuY14PzG"},i&&fe.createElement(Ll,{className:kS,onClick:u},i),s&&fe.createElement(Ll,{className:kS,onClick:m},s))}())}))),AS=me((function(e){let{isActive:t,tokenIn:n,tokenOut:a,amountIn:o,amountOut:r,swapType:i,toAddress:s,onInfoClick:l,onStartSwap:c,onClose:d}=e;const u=Qi();return Il({isActive:t,onBack:d}),fe.createElement(fe.Fragment,null,fe.createElement(Hp,{title:u("Swap Placed"),onClose:d}),fe.createElement("div",{className:ji(iw,"custom-scroll")},fe.createElement(SS,{tokenIn:n,amountIn:o,tokenOut:a,amountOut:r,swapType:i,toAddress:s,playAnimation:t,firstButtonText:u("Details"),secondButtonText:u("Repeat"),onFirstButtonClick:l,onSecondButtonClick:c}),fe.createElement("div",{className:bc.buttons},fe.createElement(Ll,{onClick:d,isPrimary:!0},u("Close")))))})),TS=me((function(t){let{isActive:n,isLoading:a,error:o,children:r,onSubmit:i,onBack:s}=t;const{cancelSwap:l,clearSwapError:c}=Ue(),d=Qi();return Il({isActive:n,onBack:s}),fe.createElement(fe.Fragment,null,!Oo()&&fe.createElement(Hp,{title:d("Confirm Swap"),onClose:l}),fe.createElement(Mm,{isActive:n,isLoading:a,withCloseButton:e.UMQ,error:o,operationType:"swap",submitLabel:d("Send"),cancelLabel:d("Back"),onSubmit:i,onCancel:s,onUpdate:c},r))})),IS=me((function(t){let{isActive:n,tokenIn:a,tokenOut:o,amountIn:r,amountOut:i,payinAddress:s,payoutAddress:l,payinExtraId:c,activity:d,addressByChain:u,onClose:m}=t;const p=Qi(),[f,h]=re(!1),g=ce((()=>Date.now()),[]),{qrCodeRef:v,isInitialized:w}=Cv({address:s,isActive:n,hiddenClassName:Cw,hideLogo:!0}),y=!c,b=Dt({from:a,to:o,toAddress:l,addressByChain:u});Il({isActive:n,onBack:m});const E=Cr((()=>{h(!0)}));return fe.createElement(fe.Fragment,null,fe.createElement(Hp,{title:p(f?"Swap Expired":b?"Swapping":"Waiting for Payment"),onClose:m}),fe.createElement("div",{className:ji(iw,ww,"custom-scroll")},fe.createElement(Tk,{tokenIn:a,amountIn:r,tokenOut:o,amountOut:i}),fe.createElement(Km,{name:"fade",activeKey:f?1:0},function(){var t;if(f){var n;const t=d&&"cex"in d?null===(n=d.cex)||void 0===n?void 0:n.transactionId:void 0;return fe.createElement("div",{className:Ew},fe.createElement("span",{className:"M_DwJtlB"},p("The time for sending coins is over.")),fe.createElement("span",{className:yw},p("$swap_changelly_support",{livechat:fe.createElement("a",{href:e.o$d,target:"_blank",rel:"noreferrer",className:Nw},p("Changelly Live Chat")),email:fe.createElement("span",{className:Nw},e.HWN)})),t&&fe.createElement(Hh,{text:t,copyNotification:p("Transaction ID was copied!"),noSavedAddress:!0,noExplorer:!0,className:kw}))}if(b)return fe.createElement("div",{className:Ew},fe.createElement("span",{className:yw},p("Please note that it may take up to a few hours for tokens to appear in your wallet.")));const o=Pt(null==a?void 0:a.chain)?a.chain:void 0;return fe.createElement("div",{className:Ew},fe.createElement("span",{className:yw},p("$swap_changelly_to_ton_description1",{value:fe.createElement("span",{className:Nw},Zo(Number(r),null!==(t=null==a?void 0:a.symbol)&&void 0!==t?t:"",!0)),blockchain:fe.createElement("span",{className:Nw},Nk(null==a?void 0:a.chain)),time:fe.createElement(Sk,{timestamp:g,deadline:e.JWy,onCompleted:E})})),fe.createElement(Hh,{chain:o,address:s,copyNotification:p("Address was copied!"),noSavedAddress:!0,noExplorer:!0,className:kw}),function(){if(c)return fe.createElement("div",{className:"VR4c3lOH"},fe.createElement("span",{className:"ak6Vmppj"},p("Memo")),fe.createElement(Hh,{chain:"ton",address:c,copyNotification:p("Memo was copied!"),noSavedAddress:!0,noExplorer:!0,className:kw}))}(),y&&fe.createElement("div",{className:ji("MuLyFrfU",!w&&Cw),ref:v}),fe.createElement("span",{className:yw},p("Please note that it may take up to a few hours for tokens to appear in your wallet.")))}()),fe.createElement("div",{className:bc.buttons},fe.createElement(Ll,{isPrimary:!0,onClick:m},p("Close")))))})),BS=[$t.Password,$t.SelectTokenFrom,$t.SelectTokenTo],_S=me(He((e=>{var t;const n=Je(e),a=Ge(e),o=null==n||null===(t=n.activities)||void 0===t?void 0:t.byId;return{currentSwap:e.currentSwap,swapType:wn(e),swapTokens:hn(e),activityById:o,addressByChain:null==a?void 0:a.addressByChain}}))((function(e){let{currentSwap:{state:t,tokenInSlug:n,tokenOutSlug:a,amountIn:o="0",amountOut:r="0",isLoading:i,error:s,activityId:l,toAddress:c,payinAddress:d,payoutAddress:u,payinExtraId:m,shouldResetOnClose:p},swapType:f,swapTokens:h,activityById:g,addressByChain:v}=e;const{startSwap:w,cancelSwap:y,setSwapScreen:b,submitSwap:E,showActivityInfo:k,submitSwapCex:N}=Ue(),C=Qi(),{isPortrait:S}=Qa(),A=t!==$t.None,{renderingKey:T,nextKey:I,updateNextKey:B}=Mf(t,A),_=ce((()=>null==h?void 0:h.find((e=>e.slug===n))),[n,h]),x=ce((()=>null==h?void 0:h.find((e=>e.slug===a))),[h,a]),[L,O]=re(f),[P,D]=re(o),[F,R]=re(r),[M,U]=re(_),[W,H]=re(x),[$,V]=re();se((()=>{if(!A||!l||null==g||!g[l])return void V(void 0);const e=g[l];if(V(e),"swap"===e.kind&&f===jt.CrosschainToWallet){var t;const n=null===(t=e.cex)||void 0===t?void 0:t.status;"exchanging"!==n&&"confirming"!==n||b({state:$t.Complete})}}),[g,l,A,f]);const z=Cr((e=>{D(o),R(r),U(_),H(x),O(f),f!==jt.OnChain?N({password:e}):E({password:e})})),j=Cr((()=>{t!==$t.Password?(t!==$t.SelectTokenTo&&t!==$t.SelectTokenFrom||b({state:S?$t.Initial:$t.None}),t===$t.Blockchain&&b({state:S?$t.Initial:$t.None})):f===jt.CrosschainFromWallet?b({state:$t.Blockchain}):b({state:S?$t.Initial:$t.None})})),q=Cr((()=>{y({shouldReset:!0}),k({id:l})})),K=Cr((()=>{y({shouldReset:S||p}),B()})),Y=Cr((()=>{y({shouldReset:!0})})),Q=Cr((()=>{w({amountIn:P,tokenInSlug:null==M?void 0:M.slug,tokenOutSlug:null==W?void 0:W.slug})}));function G(e,t,n){switch(n){case $t.Initial:return fe.createElement(fe.Fragment,null,fe.createElement(Hp,{title:C("SwapTitle"),onClose:y}),fe.createElement(ay,{isActive:e}));case $t.Blockchain:return fe.createElement(ES,{isActive:e,toAddress:c,tokenIn:_,tokenOut:x,swapType:f});case $t.WaitTokens:return fe.createElement(IS,{isActive:e,tokenIn:M,tokenOut:W,amountIn:P,amountOut:F,payinAddress:d,payoutAddress:u,payinExtraId:m,addressByChain:v,activity:$,onClose:Y});case $t.Password:return fe.createElement(TS,{isActive:e,isLoading:i,error:s,onSubmit:z,onBack:j},function(){var e,t;if(_&&x&&o&&r)return fe.createElement(Ov,{tokenIn:_,withChainIcon:!0,tokenOut:x,text:Zo(o,null!==(e=_.symbol)&&void 0!==e?e:"",!0),secondText:Zo(r,null!==(t=x.symbol)&&void 0!==t?t:"",!0),className:Oo()?void 0:"T1jLnRBM"})}());case $t.Complete:return fe.createElement(AS,{isActive:e,tokenIn:M,tokenOut:W,amountIn:P,amountOut:F,swapType:L,toAddress:c,onClose:Y,onInfoClick:q,onStartSwap:Q});case $t.SelectTokenFrom:case $t.SelectTokenTo:return fe.createElement(jC,{isActive:e,shouldFilter:n===$t.SelectTokenTo,onBack:j,onClose:Y})}}const X=BS.includes(T)||T===$t.Complete&&L!==jt.OnChain;return fe.createElement(Sc,{isOpen:A,onClose:y,noBackdropClose:!0,dialogClassName:"tGUq61Uw",nativeBottomSheetKey:"swap",forceFullNative:X,hasCloseButton:!0,onCloseAnimationEnd:K},fe.createElement(Km,{name:Rf(),className:ji(bc.transition,"custom-scroll"),slideClassName:bc.transitionSlide,activeKey:T,nextKey:I,onStop:B},G))}))),xS=me((function(e){let{isActive:t,amount:n,symbol:a,txId:o,tokenSlug:r,toAddress:i,comment:s,decimals:l,nfts:c,onInfoClick:d,onClose:u}=e;const{startTransfer:m}=Ue(),p=Qi(),{isPortrait:f}=Qa(),h=Boolean(null==c?void 0:c.length);Il({isActive:t,onBack:u}),se((()=>t?Is({onEnter:u}):void 0),[t,u]);const g=Cr((()=>{m({isPortrait:f,tokenSlug:r,toAddress:i,amount:n,comment:s})}));return fe.createElement(fe.Fragment,null,fe.createElement(Hp,{title:p(h?"NFT has been sent!":"Coins have been sent!"),onClose:u}),fe.createElement("div",{className:bc.transitionContent},h?fe.createElement(fe.Fragment,null,fe.createElement(lm,{play:t,noLoop:!1,nonInteractive:!0,className:Pv.sticker,tgsUrl:xu.thumbUp,previewUrl:xu.thumbUpPreview}),1===c.length?fe.createElement(Bh,{nft:c[0]}):fe.createElement(sy,{nfts:c}),Boolean(o)&&fe.createElement("div",{className:ji(Pv.buttons,Pv.buttonsAfterNft)},fe.createElement(Ll,{className:Pv.button,onClick:d},p("Details")))):fe.createElement(Dv,{playAnimation:t,amount:n?-n:void 0,tokenSymbol:a,firstButtonText:o?p("Details"):void 0,secondButtonText:p("Repeat"),onFirstButtonClick:d,onSecondButtonClick:g,decimals:l}),fe.createElement("div",{className:bc.buttons},fe.createElement(Ll,{onClick:u,isPrimary:!0},p("Close")))))})),LS=me(He((e=>({currentTransfer:e.currentTransfer})))((function(t){let{currentTransfer:{tokenSlug:n,amount:a,toAddress:o,resolvedAddress:r,fee:i,realFee:s,comment:l,shouldEncrypt:c,promiseId:d,isLoading:u,toAddressName:m,isToNewAddress:p,isScam:f,binPayload:h,nfts:g,isGaslessWithStars:v,diesel:w,stateInit:y},token:b,isActive:E,savedAddresses:k,onBack:N,onClose:C}=t;const{submitTransferConfirm:S}=Ue(),A=Qi(),T=Boolean(null==g?void 0:g.length);T&&(n=e.Tu9.slug);const I=cn(n),B=ce((()=>{var e;return o&&(null==k||null===(e=k.find((e=>e.address===o&&e.chain===I)))||void 0===e?void 0:e.name)}),[o,I,k])||m,_=r===e.pV9,x=r===e.WVU[0],L=bn({fee:i,realFee:s,diesel:w,tokenSlug:n});Il({isActive:E,onBack:N});const O=Cr((()=>{Mo(),S()})),P=null!=g&&g.length?Math.ceil(g.length/e.gR8)*e.WHY/60:void 0,D=A(_||x?"Burn NFT":v?"Pay fee with %stars_symbol%":"Confirm",v?{stars_symbol:e.xFF}:void 0);return fe.createElement(fe.Fragment,null,fe.createElement(Hp,{title:A("Is it all ok?"),onClose:C}),fe.createElement("div",{className:bc.transitionContent},T?1===g.length?fe.createElement(Bh,{nft:g[0]}):fe.createElement(sy,{nfts:g}):fe.createElement(lm,{size:e.jzp,play:E,noLoop:!1,nonInteractive:!0,className:ji("ZDG5rllO","ol7Kgi48"),tgsUrl:xu.bill,previewUrl:xu.billPreview}),fe.createElement("div",{className:cy},A("Receiving Address"),p&&fe.createElement(Xw,{emoji:"⚠️",message:A("This address is new and never received transfers before."),tooltipClassName:"lcmy9IMt"})),fe.createElement(Hh,{chain:I,address:r,addressName:B,isScam:f,copyNotification:A("Address was copied!"),className:uy}),function(){var e;if(!L.realFee||!b)return;const t=fe.createElement(Kh,{terms:L.realFee.terms,precision:L.realFee.precision,token:b,symbolClassName:"aNzt5kkC"});return T?fe.createElement(fe.Fragment,null,fe.createElement("div",{className:cy},A("Fee")),fe.createElement("div",{className:my},t)):fe.createElement(Qk,{label:A("Amount"),amount:(0,vt.nI)(null!=a?a:0n,null==b?void 0:b.decimals),symbol:null!==(e=null==b?void 0:b.symbol)&&void 0!==e?e:"",feeText:t})}(),h||y?fe.createElement(fe.Fragment,null,h&&fe.createElement(fe.Fragment,null,fe.createElement("div",{className:cy},A("Signing Data")),fe.createElement(Hh,{text:h,copyNotification:A("Data was copied!"),className:uy})),y&&fe.createElement(fe.Fragment,null,fe.createElement("div",{className:cy},A("Contract Initialization Data")),fe.createElement(Hh,{text:y,copyNotification:A("Data was copied!"),className:uy})),fe.createElement("div",{className:gy},qo(A("$signature_warning")))):l?fe.createElement(fe.Fragment,null,fe.createElement("div",{className:cy},A(c?"Encrypted Message":"Comment or Memo")),fe.createElement("div",{className:ji(my,"NH87E1kW",py)},l)):void 0,g&&(_||x&&(null==g?void 0:g.length)>1)&&fe.createElement("div",{className:"CWZdgy5e"},1===(null==g?void 0:g.length)?qo(A("Are you sure you want to burn this NFT? It will be lost forever.")):[qo(A("$multi_burn_nft_warning",{amount:g.length}))," ",qo(A("$multi_send_nft_warning",{duration:P}))]),fe.createElement("div",{className:ji(bc.buttons,bc.buttonsInsideContentWithScroll)},fe.createElement(Ll,{className:bc.button,onClick:d?C:N},A(d?"Cancel":"Edit")),fe.createElement(Ll,{isPrimary:!0,isLoading:u,isDestructive:_||f,className:bc.button,onClick:O},D))))}))),OS=me((function(t){let{nfts:n,sentNftsCount:a=0,toAddress:o,onClose:r}=t;const i=Qi(),s=a<n.length,l=o===e.pV9,c=o===e.WVU[0],d=s?i((l||c?"Burning":"Sending")+": %n% of %m% NFTs...",{n:a,m:n.length}):i("Sent"),u=Math.ceil(n.length/e.gR8)*e.WHY/60;return fe.createElement(fe.Fragment,null,fe.createElement(Hp,{title:d}),fe.createElement("div",{className:bc.transitionContent},s&&fe.createElement(fe.Fragment,null,fe.createElement(oh,{className:"gigiDFmZ"}),fe.createElement("div",{className:"vKJsXVsk"},i("$multi_send_nft_warning",{duration:u}))),1===n.length?fe.createElement(Bh,{nft:n[0]}):fe.createElement(sy,{nfts:n}),!s&&fe.createElement("div",{className:bc.buttons},fe.createElement(Ll,{onClick:r,isPrimary:!0},i("Close")))))})),PS=me((function(t){let{isActive:n,isLoading:a,isBurning:o,error:r,children:i,onSubmit:s,onCancel:l,isGaslessWithStars:c}=t;const{cancelTransfer:d,clearTransferError:u}=Ue(),m=Qi();Il({isActive:n,onBack:l});const p=o?"Confirm Burning":"Confirm Sending",f=c?m("Pay fee with %stars_symbol%",{stars_symbol:e.xFF}):m("Send");return fe.createElement(fe.Fragment,null,!Oo()&&fe.createElement(Hp,{title:m(p),onClose:d}),fe.createElement(Mm,{isActive:n,isLoading:a,withCloseButton:Boolean(i),operationType:"transfer",error:r,submitLabel:f,cancelLabel:m("Back"),onSubmit:s,onCancel:l,onUpdate:u},i))})),DS=me(He((e=>{const t=Je(e),{hardwareState:n,isLedgerConnected:a,isTonAppConnected:o}=e.hardware;return{currentTransfer:e.currentTransfer,tokens:Et(e),savedAddresses:null==t?void 0:t.savedAddresses,hardwareState:n,isLedgerConnected:a,isTonAppConnected:o,isMediaViewerOpen:Boolean(e.mediaViewer.mediaId),isMultichainAccount:dt(e,e.currentAccountId)}}))((function(t){let{currentTransfer:{state:n,amount:a,toAddress:o,comment:r,error:i,isLoading:s,txId:l,tokenSlug:c,nfts:d,sentNftsCount:u,diesel:m},tokens:p,savedAddresses:f,hardwareState:h,isLedgerConnected:g,isTonAppConnected:v,isMediaViewerOpen:w,isMultichainAccount:y}=t;const{submitTransferConfirm:b,submitTransferPassword:E,submitTransferHardware:k,setTransferScreen:N,cancelTransfer:C,showActivityInfo:S}=Ue(),A=Qi(),{isPortrait:T}=Qa(),I=n!==Ht.None,{screenHeight:B}=Kv(),_=ce((()=>null==p?void 0:p.find((e=>e.slug===c))),[c,p]),x=null==_?void 0:_.decimals,L=sl(a,!0),O=(null==_?void 0:_.symbol)||"",P=Boolean(null==d?void 0:d.length),D=o===e.pV9,{renderingKey:F,nextKey:R,updateNextKey:M}=Mf(n,I);se((()=>n===Ht.Confirm?Is({onEnter:()=>b()}):void 0),[n,b]);const U=Cr((e=>{E({password:e})})),W=Cr((()=>{n===Ht.Confirm&&N({state:Ht.Initial}),n===Ht.Password&&N({state:Ht.Confirm})})),H=Cr((()=>{C({shouldReset:!0}),S({id:l})})),$=Cr((()=>{C({shouldReset:T}),M()})),V=Cr((()=>{C({shouldReset:!0})})),z=Cr((()=>{k()}));function j(t,n,p){var w,b;switch(p){case Ht.Initial:return fe.createElement(fe.Fragment,null,fe.createElement(Hp,{title:A(P?"Send NFT":"Send"),onClose:V}),fe.createElement(Ny,null));case Ht.Confirm:return fe.createElement(LS,{isActive:t,token:_,savedAddresses:f,onBack:T?W:$,onClose:V});case Ht.Password:return fe.createElement(PS,{isActive:t,isLoading:s,isBurning:D,error:i,onSubmit:U,onCancel:V,isGaslessWithStars:"stars-fee"===(null==m?void 0:m.status)},fe.createElement(Ov,{tokenIn:_,imageUrl:null==d||null===(w=d[0])||void 0===w?void 0:w.thumbnail,withChainIcon:y,text:P?d.length>1?A("%amount% NFTs",{amount:d.length}):(null===(b=d[0])||void 0===b?void 0:b.name)||"NFT":Jo((0,vt.nI)(a,x),O),className:Oo()?void 0:"Pxmu6Hot",secondText:Wr(o)}));case Ht.ConnectHardware:return fe.createElement(vh,{isActive:t,state:h,isLedgerConnected:g,isTonAppConnected:v,onConnected:z,onClose:V});case Ht.ConfirmHardware:return fe.createElement(Qf,{text:A("Please confirm transaction on your Ledger"),error:i,onClose:V,onTryAgain:k});case Ht.Complete:return((null==d?void 0:d.length)||0)<=e.gR8?fe.createElement(xS,{isActive:t,nfts:d,amount:L,symbol:O,txId:l,tokenSlug:c,toAddress:o,comment:r,onInfoClick:H,onClose:V,decimals:x}):fe.createElement(OS,{nfts:d,sentNftsCount:u,toAddress:o,onClose:V})}}return fe.createElement(Sc,{isOpen:I&&!w,noBackdropClose:!0,dialogClassName:"NvbEOoOC",nativeBottomSheetKey:"transfer",forceFullNative:B<=762||F===Ht.Password,onClose:V,onCloseAnimationEnd:$},fe.createElement(Km,{name:Rf(),className:ji(bc.transition,"custom-scroll"),slideClassName:bc.transitionSlide,activeKey:F,nextKey:R,onStop:M},j))}))),FS=["#E8BC2C","#D0049E","#02CBFE","#5723FD","#FE8C27","#6CB859"],RS=me(He((e=>({lastRequestedAt:e.confettiRequestedAt})))((function(e){let{lastRequestedAt:t}=e;const n=ue(null),a=ue([]),o=ue(!1),r=Kv(),i=he(),{isPortrait:s}=Qa(),l=s?50:100,c=Cr(((e,t)=>{!function(e,t,n,a){for(let o=0;o<a;o++){const a=o%2,r={x:t*(a?-.1:1.1),y:.75*n},i=Math.random()*t*1.5,s={x:a?i:-1*i,y:-n/2-Math.random()*n},l=FS[Math.floor(Math.random()*FS.length)],c=10;e.current.push({pos:r,size:c,color:l,velocity:s,flicker:c,flickerFrequency:.2*Math.random(),rotation:0,lastDrawnAt:Date.now(),frameCount:0})}}(a,e,t,l)})),d=Cr((()=>{if(!n.current||!o.current)return;const e=n.current,t=e.getContext("2d");if(!t)return;const{width:r,height:i}=e;t.clearRect(0,0,r,i);const s=new Set([]);a.current.forEach(((e,n)=>{const{pos:o,velocity:r,size:l,color:c,flicker:d,flickerFrequency:u,rotation:m,lastDrawnAt:p,frameCount:f}=e,h=(Date.now()-p)/1e3,g={x:o.x+r.x*h,y:o.y+r.y*h},v={x:.98*r.x,y:r.y+=1e3*h},w=l*Math.abs(Math.sin(f*u)),y=5*f*u*(Math.PI/180),b=f+1,E=Date.now();g.y>i+e.size?s.add(e):(a.current[n]={...e,pos:g,velocity:v,flicker:w,rotation:y,lastDrawnAt:E,frameCount:b},t.fillStyle=c,t.beginPath(),t.ellipse(o.x,o.y,l,d,m,0,2*Math.PI),t.fill())})),a.current=a.current.filter((e=>!s.has(e))),a.current.length?(0,E.YS)(d):o.current=!1}));if(ll((e=>{let n,[a]=e;return t&&a!==t&&(c(r.width,r.height),n=window.setTimeout(i,1e4),o.current||(o.current=!0,(0,E.YS)(d))),()=>{window.clearTimeout(n)}}),[t,i,d]),t&&!(Date.now()-t>1e4))return fe.createElement("div",{id:"Confetti",className:"NEu40vNs"},fe.createElement("canvas",{ref:n,width:r.width,height:r.height}))}))),MS=me(He((e=>{var t;const n=void 0!==(null===(t=e.dappConnectRequest)||void 0===t?void 0:t.state)||e.currentDappTransfer.state!==Ht.None;return{isOpen:e.isLoadingOverlayOpen&&!n}}))((function(e){let{isOpen:t}=e;const{closeLoadingOverlay:n}=Ue(),{shouldRender:a,transitionClassNames:o}=Gi(t);if(a)return fe.createElement(yc,null,fe.createElement("div",{className:ji("JqqCZr7K",o),onClick:()=>n()},fe.createElement(oh,{color:"white"})))}))),US="xYgMXl3B",WS=new Set([Mt.Main,Mt.Settings,Mt.Explore]),HS=t.cp&&!t.ig||e.VL7?5*Mn.pY:void 0;let $S=0;const VS=Object.keys(Mt).length/2,zS=me(He((e=>{var t;return{appState:e.appState,accountId:e.currentAccountId,isBackupWalletModalOpen:e.isBackupWalletModalOpen,isHardwareModalOpen:e.isHardwareModalOpen,isExploreOpen:e.isExploreOpen,areSettingsOpen:e.areSettingsOpen,isQrScannerOpen:e.isQrScannerOpen,isFullscreen:Boolean(e.isFullscreen),theme:e.settings.theme,accentColorIndex:null===(t=nt(e))||void 0===t?void 0:t.accentColorIndex}}))((function(a){let{appState:o,accountId:r,isBackupWalletModalOpen:i,isHardwareModalOpen:s,isQrScannerOpen:l,isExploreOpen:c,isFullscreen:d,areSettingsOpen:u,theme:m,accentColorIndex:p}=a;const{closeBackupWalletModal:f,closeHardwareWalletModal:h,closeSettings:g,cancelCaching:v,closeQrScanner:w,checkAppVersion:y}=Ue(),{isPortrait:b}=Qa(),E=!b,[k,N]=yd(!1),[C,S]=yd(),A=k?Mt.Inactive:u&&!E?Mt.Settings:c&&b?Mt.Explore:o,T=b&&WS.has(A),I=T?"semiFade":b?t.Ni?"slideFadeAndroid":t.pz?"slideLayers":"slideFade":"semiFade";function B(e,t,n){switch(n){case Mt.Auth:return fe.createElement(Ff,null);case Mt.Main:{const t=ji(US,"BY5oYr5T","custom-scroll","app-slide-content");return fe.createElement(Km,{name:"semiFade",activeKey:$S,shouldCleanup:!0,nextKey:A===Mt.Auth&&C?$S+1:void 0,slideClassName:t},fe.createElement(nk,{key:$S,isActive:e}))}case Mt.Explore:return fe.createElement(Hg,{isActive:e});case Mt.Settings:return fe.createElement(wS,{isActive:e});case Mt.Ledger:return fe.createElement(zg,{isOpen:!0,onClose:jS});case Mt.Inactive:return fe.createElement(Pp,null)}}return _p(S,A!==Mt.Auth||C?void 0:1200),Bp(y,HS),se((()=>{document.documentElement.classList.toggle("with-bottombar",T)}),[T]),se((()=>{jn(),Tp=()=>{document.title=`${e.C39} ${e.LaL}`,N(),g(),v()}}),[N]),_r((()=>{(0,n.p)("setIsAppFocused",!1)}),(()=>{(0,n.p)("setIsAppFocused",!0)})),le((()=>{document.documentElement.classList.add("is-rendered"),Wa()}),[]),le((()=>{document.documentElement.classList.toggle("is-fullscreen",d),requestAnimationFrame(jn)}),[d]),ll((()=>{r&&($S+=1)}),[r]),md("body",wd(m),p),fe.createElement(fe.Fragment,null,t.cp&&!t.ig&&fe.createElement(yg,{withTitle:!0}),fe.createElement(Km,{name:I,activeKey:A,renderCount:VS,shouldCleanup:!T,className:"XDsN0suQ",slideClassName:ji(US,T&&"cumlVCAy","custom-scroll")},B),E&&fe.createElement(bS,{isOpen:u,onClose:g},fe.createElement(wS,{isActive:!!u,isInsideModal:!0})),fe.createElement(op,null),fe.createElement(ON,null),!k&&fe.createElement(fe.Fragment,null,fe.createElement(zg,{isOpen:s,onClose:h}),fe.createElement(pk,{isOpen:i,onClose:f}),fe.createElement(DS,null),!e.TI6&&fe.createElement(_S,null),fe.createElement(Ek,null),fe.createElement(Xk,null),fe.createElement(jk,null),fe.createElement(Eh,null),fe.createElement(dg,null),fe.createElement(sk,null),fe.createElement(fk,null),fe.createElement(Jk,null),!t.bA&&fe.createElement(eN,null),e.UMQ&&fe.createElement(yk,{isOpen:l,onClose:w}),!t.bA&&fe.createElement(mg,null),!t.bA&&fe.createElement(RS,null),e.UMQ&&!t.bA&&fe.createElement(ss,null),!t.bA&&fe.createElement(MS,null)),T&&fe.createElement(Hu,null))})));async function jS(){const e=await chrome.tabs.getCurrent();null!=e&&e.id&&await chrome.tabs.remove(e.id)}var qS,KS,YS;e.Oig&&console.log(">>> INIT"),e.rkj&&(0,yp.Z3)(),e.UMQ&&async function(){var e,n;n=On.Ii.getPlatform(),vo=n,Sa.getStatusBarHeight().then((e=>{let{statusBarHeight:t}=e;To=t,document.documentElement.style.setProperty("--status-bar-height",`${t}px`)})),Sa.getSafeAreaInsets().then((e=>{let{insets:{bottom:t}}=e;document.documentElement.style.setProperty("--safe-area-bottom",`${t}px`)})),t.bA?Ca.hide({fadeOutDuration:0}):("ios"===wo()&&setTimeout((()=>{Ca.hide({fadeOutDuration:600})}),500),Na.addListener("appUrlOpen",(e=>{Za(e.url)})),Na.addListener("backButton",(e=>{let{canGoBack:t}=e;t?window.history.back():Na.exitApp()})),Io(await Sa.getSafeAreaInsets()),await Sa.addListener("safeAreaChanged",(e=>{Io(e)})),No=null===(e=await Na.getLaunchUrl())||void 0===e?void 0:e.url,No&&Za(No))}(),t.cp&&(null===(qS=window.electron)||void 0===qS||qS.on(kp.DEEPLINK,(e=>{let{url:t}=e;Za(t)}))),e.tKX&&(Zn=null===(KS=window.Telegram)||void 0===KS?void 0:KS.WebApp,Zn?(Zn.enableVerticalSwipes(),Zn.lockOrientation(),Zn.MainButton.hide(),Zn.SecondaryButton.hide(),Zn.BackButton.hide(),Zn.SettingsButton.hide(),Zn.expand(),(0,t.v3)()&&(Zn.onEvent("safeAreaChanged",sa),Zn.onEvent("contentSafeAreaChanged",sa)),Zn.onEvent("viewportChanged",(function(e){let{isStateStable:t}=e;t&&jn()})),sa(),function(){var e;const t=null===(e=Zn)||void 0===e?void 0:e.BiometricManager;t&&!ea&&(ea=!0,t.init((()=>{const{isBiometricAvailable:e,biometricType:n,isAccessGranted:a,isAccessRequested:o}=t;ta=e&&(a||!o),"ios"===Zn.platform&&(na="face"===n,aa="finger"===n)})))}(),Zn.ready()):(0,Fn.SJ)("[telegram] Can't initialize Telegram Mini-App")),t.KI?Pr({noPubGlobal:!0}):t.bA&&Pr(),e.UMQ?(YS=()=>{Np.install(),Cp()},Vn.push(YS),i.e(408).then(i.bind(i,408)).then((e=>{let{Keyboard:t}=e;t.addListener("keyboardWillHide",Np.uninstall)}))):(t.pz||t.Ni)&&window.visualViewport&&function(){const{visualViewport:e}=window;let t=e.height;e.addEventListener("resize",(function(){const n=e.height,a=document.activeElement;n<t&&a&&function(e){const t=e.tagName.toLowerCase();return"input"===t||"textarea"===t||"select"===t||e.hasAttribute("contenteditable")}(a)?(Np.install(),Cp()):n>t&&Np.uninstall(),t=n}))}(),(async n=>{t.ZH&&await async function(){await fo.init();const t=Boolean(window.localStorage.getItem(e.pge)),n=Boolean(await fo.capacitorStorageGetItem("accounts"));t&&!n&&window.localStorage.clear(),!t&&n&&await fo.capacitorStorageClear()}(),await(null===(n=window.electron)||void 0===n?void 0:n.restoreStorage()),Ue().init(),Ue().initApi(),e.Oig&&console.log(">>> START INITIAL RENDER"),(0,E.RK)((()=>{wc(fe.createElement(zS,null),document.getElementById("root")),function(){const e=document.createElement("div");e.textContent="₽",e.classList.add("visually-hidden"),document.body.appendChild(e),(0,E.RK)((()=>{document.body.removeChild(e)}))}(),function(){if(!t.pz)return;let e,n=Date.now();function a(){e||bp||(e=window.setInterval(Ep,5e3))}window.addEventListener("focus",(()=>{const e=Date.now();e-n<100||(n=e,a(),Ep())})),window.addEventListener("blur",(()=>{clearInterval(e),e=void 0})),document.hasFocus()&&(a(),Ep())}()})),e.Oig&&console.log(">>> FINISH INITIAL RENDER"),document.addEventListener("dblclick",(()=>{console.warn("GLOBAL STATE",Re())})),window.top===window&&(0,Fn.ef)()})()})()})();
//# sourceMappingURL=main.a814f9613cbb98498743.js.map